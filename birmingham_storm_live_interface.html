
<!DOCTYPE html>
<html>
<head>
    <title>Birmingham Storm Command - Live Interface</title>
    <style>
        body { background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 50%, #16213e 100%); color: white; font-family: 'Courier New', monospace; }
        .command-panel { background: rgba(0, 212, 255, 0.1); border: 1px solid #00d4ff; border-radius: 15px; padding: 20px; margin: 10px; }
        .status-live { color: #00ff88; text-shadow: 0 0 10px #00ff88; }
        .coordinates { color: #00d4ff; font-weight: bold; }
        .auto-button { background: linear-gradient(45deg, #00d4ff, #0066ff); border: none; border-radius: 5px; padding: 10px 20px; color: white; cursor: pointer; }
    </style>
</head>
<body>
    <h1>ğŸŒªï¸ BIRMINGHAM STORM COMMAND - LIVE AUTOMATION</h1>
    
    <div class="command-panel">
        <h2>ğŸ¯ ONE-CLICK AUTOMATION TEST</h2>
        <div class="status-live">âœ… COORDINATES: 33.5186, -86.8104</div>
        <div class="status-live">âœ… CESIUM TOKEN: AUTHENTICATED</div>
        <div class="status-live">âœ… GOOGLE 3D TILES: STREAMING LIVE</div>
        <button class="auto-button" onclick="executeQuickTest()">ğŸ¤– ZERO-CLICK BIRMINGHAM AUTOMATION</button>
        <div id="test-status" class="status-live">ZERO manual interaction - watch automation work</div>
    </div>
    
    <div class="command-panel">
        <h2>âš¡ LIVE STORM DATA</h2>
        <div id="weather-data" class="status-live">â³ Connecting to Birmingham weather services...</div>
        <div id="storm-status" class="status-live">ğŸ“¡ Real-time updates every 30 seconds</div>
    </div>
    
    <div class="command-panel">
        <h2>ğŸ¤– AGENT COORDINATION</h2>
        <div class="status-live">ğŸ‘ï¸ Clay-I Vision: MONITORING UE5 INTERFACE</div>
        <div class="status-live">ğŸ¯ Pathsassin: COMPETITIVE INTELLIGENCE ACTIVE</div>
        <div class="status-live">ğŸ—ï¸ GPT Birmingham Architect: BUILDING ASSETS READY</div>
    </div>
    
    <script>
        function executeQuickTest() {
            executeZeroClickAutomation();
        }
        
        function executeZeroClickAutomation() {
            document.getElementById('test-status').innerHTML = 'ğŸš€ Executing ZERO-CLICK Birmingham automation...';
            
            // Call automation server
            fetch('http://localhost:9999/trigger-birmingham-automation', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' }
            })
            .then(response => response.json())
            .then(data => {
                if (data.status === 'success') {
                    document.getElementById('test-status').innerHTML = 
                        'âœ… BIRMINGHAM AUTOMATION COMPLETE - Storm visualization ready!';
                } else {
                    document.getElementById('test-status').innerHTML = 
                        `âŒ Automation failed: ${data.message}`;
                }
            })
            .catch(error => {
                document.getElementById('test-status').innerHTML = 
                    'âš ï¸ Starting automation server...';
                    
                // Try to start the server automatically
                fetch('/start-automation-server', { method: 'POST' });
            });
        }
        
        function originalExecuteQuickTest() {
            document.getElementById('test-status').innerHTML = 'ğŸ”„ Executing one-click Birmingham setup...';
            
            // Method 1: Copy command to clipboard for UE5 console
            const command = 'BP_BirminghamQuickTest.OneClickBirminghamSetup';
            
            navigator.clipboard.writeText(command).then(() => {
                document.getElementById('test-status').innerHTML = 
                    'ğŸ“‹ Command copied to clipboard - Paste into UE5 Console (~)';
            }).catch(() => {
                document.getElementById('test-status').innerHTML = 
                    'âš ï¸ Manual mode: Type "BP_BirminghamQuickTest.OneClickBirminghamSetup" in UE5 Console';
            });
            
            // Method 2: Try UE5 Remote Control if enabled
            fetch('http://localhost:6766/remote/object/call', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({
                    "objectPath": "/Game/BP_BirminghamQuickTest",
                    "functionName": "OneClickBirminghamSetup"
                })
            }).then(response => {
                if (response.ok) {
                    document.getElementById('test-status').innerHTML = 
                        'âœ… UE5 Automation executed successfully via Remote Control';
                }
            }).catch(() => {
                // Remote control not available, clipboard method is primary
            });
        }
        
        function executeAutoNavigation() {
            // Legacy function - redirects to quick test
            executeQuickTest();
        }
        
        // Real-time updates every 30 seconds
        setInterval(() => {
            updateWeatherData();
            updateStormStatus();
        }, 30000);
        
        function updateWeatherData() {
            // Live Birmingham weather integration
            fetch('/api/birmingham-weather')
                .then(response => response.json())
                .then(data => {
                    document.getElementById('weather-data').innerHTML = 
                        `ğŸŒ¡ï¸ ${data.temperature}Â°F | ğŸ’¨ ${data.wind_speed}mph | â˜” ${data.precipitation}%`;
                });
        }
    </script>
</body>
</html>
        