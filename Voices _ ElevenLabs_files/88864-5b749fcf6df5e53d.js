try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="b2b51973-9988-49fc-a367-60a5cd3b2cac",e._sentryDebugIdIdentifier="sentry-dbid-b2b51973-9988-49fc-a367-60a5cd3b2cac")}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[88864,82710],{65660:function(){},2986:function(e,t,a){"use strict";a.d(t,{T0:function(){return o},a5:function(){return c},f1:function(){return d},xD:function(){return l}});var i=a(97918),s=a(4322),n=a(96162),r=a(30487);let l=async e=>{let{pageSize:t,category:a,gender:i,age:s,accent:r,language:l,useCases:o,search:c,sort:d,page:u,featured:h=!1,owner_id:m,minNoticePeriod:p,includeCustomRates:v}=e,x=new URLSearchParams({page_size:t.toString()});a&&x.append("category",a),i&&x.append("gender",i),s&&x.append("age",s),l&&x.append("language",l),r&&x.append("accent",r),void 0!==v&&x.append("include_custom_rates",v.toString()),null==o||o.forEach(e=>{x.append("use_cases",e)}),c&&x.append("search",c),d&&x.append("sort",d),u&&x.append("page",u.toString()),h&&x.append("featured","true"),m&&x.append("owner_id",m),p&&x.append("min_notice_period_days",p);let f=await (0,n.hP)(),g={"Content-Type":"application/json"};f&&(g.Authorization="Bearer ".concat(f));let b=await fetch("".concat(n.LB,"/v1/shared-voices?").concat(x.toString()),{method:"GET",headers:g});return await b.json()},o=async e=>{let t=new FormData;return t.append("audio_file",e),await (0,r.hho)({headers:{"Content-Type":"multipart/form-data"},body:t})},c=async e=>s.hi.post("/v1/similar-voices-by-id",e),d=function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return(0,i.useQuery)({queryKey:["similar-library-voices-by-id",e],queryFn:()=>c(e),retry:0,enabled:t})}},83359:function(e,t,a){"use strict";a.d(t,{B_:function(){return k},H8:function(){return S},OR:function(){return C},S2:function(){return E},fL:function(){return N},oc:function(){return D},sz:function(){return P}});var i=a(68088),s=a(81999),n=a(9506),r=a(34161),l=a(1851),o=a(55205),c=a(97751),d=a(23636),u=a(4735),h=a(74346),m=a(11521),p=a(84106),v=a(96162),x=a(63415),f=a(85753),g=a(70554),b=a(60189),y=a(54389),j=a(60493),w=a(97204),_=a(73276);let k="xi:generator-text",N=(0,j.t)("undefined"==typeof localStorage?"":localStorage.getItem(k)||""),C=(0,j.t)("undefined"==typeof localStorage?[]:(0,_.hB)()),S=e=>{var t,a;if("text-to-speech"===e&&(0,_.CY)(null===(t=l.selectedModelTts.value)||void 0===t?void 0:t.model_id))return;let s=(0,w.g2)(l.selectedModelTts.value,l.selectedVoice.value,null===(a=l.models.value)||void 0===a?void 0:a.filter(t=>"text-to-speech"===e?t.can_do_text_to_speech:t.can_do_voice_conversion));s&&(0,p.toast)("Model Recommendation",{id:"model-recommendation",description:"We recommend switching to ".concat(s.name," to get the best quality for the selected voice."),action:(0,i.jsx)(P,{model:s,onSwitch:()=>{(0,x.eN)(f.B_.speech_synthesis_new_tts_switch_model,{model:null==s?void 0:s.name})}}),closeButton:!0,duration:1e4})},P=(0,s.Pi)(e=>{let{model:t,onSwitch:a}=e,[s,r]=(0,n.useState)(!1);return(0,i.jsx)(u.Button,{size:"sm",onClick:()=>{l.selectedModelTts.value=t,null==a||a(),r(!0)},onPointerDownCapture:e=>e.stopPropagation(),disabled:s,className:"w-32 text-background bg-secondary/10 hover:bg-secondary/20 opacity-100 disabled:opacity-50 transition-all duration-150 ease-out",children:s?"Switched!":"Switch"})}),E=e=>{let{children:t="Drag and drop a file",className:a,onChange:s,accept:n=[],maxSize:l,multiple:o=!0,inputRef:c,actionDisabled:d=!1,tabIndex:u=0}=e,h={};return n.forEach(e=>{h[e]=[]}),(0,i.jsx)(r.ZP,{onDrop:(e,t,a)=>{s({files:e,rejectedFiles:t,event:a})},maxSize:l?1048576*l:void 0,accept:h,multiple:o,disabled:d,children:e=>{let{getRootProps:s,getInputProps:n,isDragActive:r}=e,l=n();return(0,i.jsxs)("div",{className:(0,b.cn)("p-3 cursor-pointer center rounded-lg transition-colors",r&&"bg-gray-alpha-100",a),...s(),tabIndex:u,children:[(0,i.jsx)("input",{...l}),(0,i.jsx)("div",{className:"center h-full w-full",children:t})]})}})},D=e=>{let{onChange:t,maxSize:a,minDuration:s=0,maxDuration:r=1/0,allowRecording:l=!0,accept:p=y.AP,actionDisabled:x=!1}=e,[f,b]=(0,n.useState)("upload");return(0,i.jsxs)("div",{className:"h-full",children:["upload"===f&&(0,i.jsx)(E,{className:"h-full",actionDisabled:x,onChange:e=>{let{files:i,rejectedFiles:n}=e,l=i[0];l&&(0,g.eM)(l).then(e=>{e?e<s?(0,d.default)("File does not meet the minimum required duration of ".concat(s," seconds.")):e>r?(0,d.default)("File exceeds the duration limit of ".concat(r," seconds.")):t(l,e):(0,d.default)("Could not extract file duration.")}),n.forEach(e=>{e.errors.forEach(e=>{"file-too-large"===e.code?(0,d.default)("File exceeds the ".concat(a,"mb limit.")):"file-invalid-type"===e.code?(0,d.default)("File is not one of the supported types: "+p.map(e=>v.W$[e]||e)):(0,d.default)(e.message)})})},maxSize:a,accept:p,children:(0,i.jsxs)("div",{className:"center gap-3",children:[(0,i.jsx)("div",{className:"p-1.5 bg-gray-alpha-100 rounded-full",children:(0,i.jsx)("div",{className:"p-1 bg-gray-alpha-200 rounded-full",children:(0,i.jsx)(h.Z,{size:"md",color:"subtle",children:(0,i.jsx)(o.lJ,{})})})}),(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)(m.x,{size:"sm",color:"subtle",children:"Drag and drop an audio file"}),r<1/0&&(0,i.jsxs)(m.x,{size:"xs",color:"subtle",children:["Audio file up to ",a,"mb"]})]}),(0,i.jsxs)("div",{className:"hstack gap-2",children:[(0,i.jsx)(u.Button,{size:"sm",className:"w-28",disabled:x,children:x?"Uploading...":"Upload audio"}),l&&(0,i.jsx)(u.Button,{size:"sm",className:"w-28",disabled:x,onClick:e=>{e.stopPropagation(),b("record")},children:"Record audio"})]})]})}),"record"===f&&(0,i.jsx)("div",{className:"h-full center",children:(0,i.jsx)(c.A,{setFile:e=>{(0,g.eM)(e).then(a=>{a?a>r?(0,d.default)("File exceeds the duration limit of ".concat(r," seconds.")):t(e,a):(0,d.default)("Could not extract file duration.")})},maxDurationSecs:r-.1,showMaxDuration:!1,showToastOnMaxDuration:!1})})]})}},90211:function(e,t,a){"use strict";a.d(t,{t:function(){return n}});var i=a(68088),s=a(40534);let n=(0,a(9506).forwardRef)((e,t)=>(0,i.jsx)(s.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{opacity:{duration:.15},layout:{duration:.5,type:"spring",bounce:.15}},ref:t,...e}));n.displayName="FadeInOut"},9039:function(e,t,a){"use strict";a.d(t,{Ax:function(){return j},Cm:function(){return V},IF:function(){return v},Mm:function(){return C},P3:function(){return p},V1:function(){return _},Vu:function(){return y},a2:function(){return k},aT:function(){return P},eu:function(){return w},jx:function(){return A},kO:function(){return N},k_:function(){return S},v_:function(){return D},vh:function(){return E}});var i=a(68088),s=a(83336),n=a.n(s),r=a(2231),l=a(7048);a(9506);var o=a(7114),c=a(1851),d=a(92234),u=a(84106),h=a(54752),m=a(73276);let p=[{name:"Any",key:""},{name:"Male",key:"male"},{name:"Female",key:"female"},{name:"Neutral",key:"neutral"}],v=[{name:"Any",key:""},{name:"Young",key:"young"},{name:"Middle Aged",key:"middle_aged"},{name:"Old",key:"old"}],x=[{name:"Any",key:""},{name:"30 days",shortName:"30d",key:"30"},{name:"90 days",shortName:"90d",key:"90"},{name:"180 days",shortName:"180d",key:"180"},{name:"1 year",shortName:"1y",key:"365"},{name:"2 years",shortName:"2y",key:"730"}],f=e=>e?[{name:"Exclude",key:""},{name:"Include",key:"true"}]:[{name:"Include",key:""},{name:"Exclude",key:"false"}],g=[{name:"Include",key:""},{name:"Exclude",key:"false"}],b=[{name:"Trending",key:"trending"},{name:"Latest",key:"created_date"},{name:"Most users",key:"cloned_by_count"},{name:"Character usage",key:"usage_character_count_1y"}],y=[{key:"anxious",name:"Anxious"},{key:"calm",name:"Calm"},{key:"casual",name:"Casual"},{key:"chill",name:"Chill"},{key:"classy",name:"Classy"},{key:"confident",name:"Confident"},{key:"crisp",name:"Crisp"},{key:"cute",name:"Cute"},{key:"deep",name:"Deep"},{key:"excited",name:"Excited"},{key:"formal",name:"Formal"},{key:"gentle",name:"Gentle"},{key:"grumpy",name:"Grumpy"},{key:"hyped",name:"Hyped"},{key:"husky",name:"Husky"},{key:"intense",name:"Intense"},{key:"mature",name:"Mature"},{key:"meditative",name:"Meditative"},{key:"modulated",name:"Modulated"},{key:"neutral",name:"Neutral"},{key:"pleasant",name:"Pleasant"},{key:"professional",name:"Professional"},{key:"raspy",name:"Raspy"},{key:"relaxed",name:"Relaxed"},{key:"robotic",name:"Robotic"},{key:"rough",name:"Rough"},{key:"sad",name:"Sad"},{key:"sassy",name:"Sassy"},{key:"serious",name:"Serious"},{key:"soft",name:"Soft"},{key:"upbeat",name:"Upbeat"},{key:"whispery",name:"Whispery"},{key:"wise",name:"Wise"}],j=[{name:"Any",key:""},...h.CD.map(e=>({name:e.name,key:e.code,sort:e.sort})).sort((e,t)=>e.name.localeCompare(t.name)).sort((e,t)=>Number("Standard"===t.name)-Number("Standard"===e.name))],w=[{name:"Any",key:""},...h.Q4.map(e=>({key:e.languageCode,flagCode:e.flagCode,name:e.name})).sort((e,t)=>e.name.localeCompare(t.name))],_=[{name:"Any",key:""},...h.sj.map(e=>({key:e.languageCode,flagCode:e.flagCode,name:e.name})).sort((e,t)=>e.name.localeCompare(t.name))],k=[{name:"Narrative & Story",key:"narrative_story"},{name:"Conversational",key:"conversational"},{name:"Characters & Animation",key:"characters_animation"},{name:"Social Media",key:"social_media"},{name:"Entertainment & TV",key:"entertainment_tv"},{name:"Advertisement",key:"advertisement"},{name:"Informative & Educational",key:"informative_educational"}],N=n()(k.filter(e=>e.key),"key"),C=n()(y.filter(e=>e.key),"key"),S=n()(_.filter(e=>e.key),"key"),P=n()(j.filter(e=>e.key),"key"),E=n()(p.filter(e=>e.key),"key"),D=n()(v.filter(e=>e.key),"key"),A=n()(x.filter(e=>e.key),"key"),T=[{name:"Any",key:""},{name:"High-Quality",key:"high_quality"}],V=(e,t)=>{let a={filters:{language:{title:"Language",options:(0,m.MM)(c.models.value)?_:w,type:"select",renderValue:(e,t)=>{let a=_.find(t=>t.key===e);return a?(0,i.jsxs)("span",{className:"hstack items-center gap-1",children:["flagCode"in a?(0,i.jsx)(o.Z,{countryCode:a.flagCode,svg:!0,style:{width:"0.9rem",height:"0.9rem"},"aria-hidden":!0,className:"rounded-full w-4 h-4 object-cover text-xl"}):(0,i.jsx)("div",{className:"w-4 h-4 stack justify-center",children:(0,i.jsx)("div",{className:"w-full h-1 bg-gray-alpha-200 rounded-full"})}),(0,i.jsx)("span",{children:a.name})]}):e}},accent:{title:"Accent",options:j,triggerTooltip:e=>0===e.length?"Select a language first":void 0,renderValue:(e,t)=>{var a;return(null===(a=P[t.language+"-"+String(e)])||void 0===a?void 0:a.name)||e},filterOptions:e=>e.language?j.filter(t=>t.key.startsWith(e.language)||""===t.key):[],type:"select"},use_cases:{title:"Category",multiple:!0,options:k},descriptives:{title:"Description",multiple:!0,options:y,hidden:!0},category:{title:"Quality",options:T},gender:{title:"Gender",options:p,renderValue:e=>"string"==typeof e&&E[e]?(0,i.jsxs)("span",{className:"hstack items-center gap-1",children:["male"===e&&(0,i.jsx)(r.Z,{className:"w-4 h-4"}),"female"===e&&(0,i.jsx)(l.Z,{className:"w-4 h-4"}),(0,i.jsx)("span",{children:E[e].name})]}):"Any"},age:{title:"Age",options:v},featured:{title:"Featured",hidden:!0},sort:{title:"Sort",options:b,hidden:!0},min_notice_period_days:{title:"Notice period",options:x},include_custom_rates:{title:"Custom rates",options:f(t)},include_live_moderated:{title:"Live moderation enabled",options:g},voiceId:{title:"Voice",hidden:!0},voice:{title:"Voice",hidden:!0,renderValue:e=>{if("string"!=typeof e)return;let[t,a,s]=e.split(":")||[];return(0,i.jsxs)("span",{className:"hstack items-center gap-1",children:[(0,i.jsx)(d.v,{voice:{voice_id:t,name:s,category:null},size:"0.9rem"})," ",s]})}}},sideEffect:e=>{let t={...e};(!t.language&&t.accent||t.language&&t.accent&&!P[t.language+"-"+t.accent])&&delete t.accent;let a={...e};return delete a.search,a.voice&&Object.keys(a).length>1&&(u.toast.warning("Filters are not supported with similar voice search. The similar voice search was reset."),delete t.voice),t}};return e&&delete a.filters.include_custom_rates,a}},43479:function(e,t,a){"use strict";a.d(t,{qu:function(){return tp},RG:function(){return tc},Vh:function(){return tm},Uf:function(){return tv},Fz:function(){return td}});var i=a(68088),s=a(4111),n=a(40534),r=a(21782),l=a(18743),o=a(30395),c=a(81999),d=a(93281),u=a(9506),h=a(1851),m=a(89219),p=a(3030),v=a(11521),x=a(63415),f=a(85753),g=a(60189),b=a(64903),y=a(2544),j=a(82986),w=a(17466),_=a(28798),k=a(17024),N=a(64883),C=a(6496),S=a(4035),P=a(72120),E=a(81777),D=a(55673),A=a(41087),T=a.n(A),V=a(77513),I=a(89008),M=a(26336),L=a(94809),z=a(21368),R=a(46887),F=a(19835),B=a(80533),Z=a(97968),O=a(2713),U=a(1960),q=a(41236),H=a(5479),G=a(16176),W=a(50276),Y=a(82374),K=a(4322),X=a(23636),Q=a(96162);let J=async(e,t,a,i,s)=>{let n={"Content-Type":"application/json"},r=await (0,Q.hP)();r&&(n.Authorization="Bearer ".concat(r));let l=await fetch("".concat(Q.LB,"/v1/text-to-voice/create-voice-from-preview"),{method:"POST",headers:n,body:JSON.stringify({voice_name:e,voice_description:t,generated_voice_id:a,played_not_selected_voice_ids:i,labels:s})});if(!l.ok){let{detail:e,...t}=await l.json();throw e.length&&e.map(e=>{let{loc:t,msg:a,type:i}=e;return(0,X.default)("".concat(a[0].toUpperCase()+a.slice(1),": ").concat(t.join(".")))}),e}};var $=a(30487),ee=a(42032),et=a(4735),ea=a(46547),ei=a(96474),es=a(50113),en=a(82528),er=a(65204),el=a(84106),eo=a(25933),ec=a(29554),ed=a(54389),eu=a(39255),eh=a(77095),em=a(15750),ep=a(326),ev=a(21147),ex=a(64172),ef=a(43941),eg=a(22869),eb=a(64108);let ey=e=>{let{disabled:t,onReset:a}=e,s=(0,u.useId)();return(0,i.jsxs)("div",{className:"stack gap-2",children:[(0,i.jsx)(ei.Label,{htmlFor:s,className:"w-fit underline decoration-dotted underline-offset-2 decoration-gray-alpha-400 select-none",tooltip:"Controls the volume level of the generated voice.",onDoubleClick:()=>!t&&(null==a?void 0:a()),children:"Loudness"}),(0,i.jsxs)("div",{className:"hstack justify-between",children:[(0,i.jsx)(ei.Label,{size:"xs",color:"subtle",weight:"normal",children:"Quiet"}),(0,i.jsx)(ei.Label,{size:"xs",color:"subtle",weight:"normal",children:"Loud"})]}),(0,i.jsx)(W.Qr,{name:"loudness",render:e=>{let{field:n}=e;return(0,i.jsx)(eg.i,{id:s,"aria-label":"Loudness",min:0,max:100,formatter:e=>"".concat(e.toFixed(0),"%"),value:(0,eb.KK)(n.value,[-1,1],[0,100]),onValueChange:e=>n.onChange((0,eb.KK)(e,[0,100],[-1,1])),onThumbDoubleClick:a,disabled:t,step:1})}})]})},ej=e=>{let{disabled:t,onReset:a}=e,s=(0,u.useId)();return(0,i.jsxs)("div",{className:"stack gap-2",children:[(0,i.jsx)(ei.Label,{htmlFor:s,className:"w-fit underline decoration-dotted underline-offset-2 decoration-gray-alpha-400 select-none",tooltip:"Controls how closely the AI follows the prompt. Lower numbers give the AI more freedom to be creative, while higher numbers force it to stick more to the prompt.",onDoubleClick:()=>!t&&(null==a?void 0:a()),children:"Guidance Scale"}),(0,i.jsxs)("div",{className:"hstack justify-between",children:[(0,i.jsx)(ei.Label,{size:"xs",color:"subtle",weight:"normal",children:"Low"}),(0,i.jsx)(ei.Label,{size:"xs",color:"subtle",weight:"normal",children:"High"})]}),(0,i.jsx)(W.Qr,{name:"guidanceScale",render:e=>{let{field:n}=e;return(0,i.jsx)(eg.i,{id:s,"aria-label":"Guidance Scale",min:0,max:100,formatter:e=>"".concat(e.toFixed(0),"%"),value:(0,eb.KK)(n.value,[2,10],[0,100]),onValueChange:e=>n.onChange((0,eb.KK)(e,[0,100],[2,10])),onThumbDoubleClick:a,disabled:t,step:1})}})]})},ew=e=>{let{disabled:t,onReset:a}=e;return(0,i.jsxs)("fieldset",{children:[(0,i.jsx)("legend",{className:"sr-only",children:"Lower values will use more of the prompt, higher values will use more of the voice reference"}),(0,i.jsxs)("div",{className:(0,g.cn)("mb-2 flex justify-between items-center transition-opacity duration-100",{"opacity-50":t}),children:[(0,i.jsx)(v.x,{color:"subtle",size:"xs",weight:"medium",children:"More prompt"}),(0,i.jsx)(v.x,{color:"subtle",size:"xs",weight:"medium",children:"More voice"})]}),(0,i.jsx)(W.Qr,{name:"promptStrength",render:e=>{let{field:s}=e;return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(eg.i,{"aria-label":"Prompt strength",className:"transition-opacity duration-100",disabled:t,value:1-s.value,onValueChange:e=>s.onChange(1-e),min:0,max:1,step:.01,ref:s.ref,onBlur:s.onBlur,formatter:eg.$.percentage,onThumbDoubleClick:a})})}})]})},e_=e=>{let{disabled:t}=e,a=(0,u.useId)(),{register:s,setValue:n,resetField:r}=(0,W.Gc)();return(0,i.jsxs)("fieldset",{className:"stack gap-6",disabled:t,children:[(0,i.jsx)("legend",{className:"sr-only",children:"Settings"}),(0,i.jsxs)("div",{className:"stack gap-2",children:[(0,i.jsx)(ei.Label,{htmlFor:a,className:"w-fit underline decoration-dotted underline-offset-2 decoration-gray-alpha-400",tooltip:"Random number that controls the voice generation. Same seed with same inputs produces same voice.",children:"Seed"}),(0,i.jsxs)("div",{className:"flex",children:[(0,i.jsx)(ea.I,{id:a,type:"number",min:"0",max:"2147483647",step:"1",placeholder:"Auto-generated",className:"relative rounded-lg rounded-r-none bg-background h-8 focus:z-10",...s("seed",{setValueAs:e=>""===e?void 0:+e,min:0,max:2147483647})}),(0,i.jsx)(et.Button,{className:"relative -ml-px rounded-l-none bg-background focus:z-10",size:"sm",type:"button","aria-label":"Generate random seed",onClick:()=>n("seed",ek()),children:"Randomize"})]})]}),(0,i.jsx)(ey,{disabled:t,onReset:()=>r("loudness")}),(0,i.jsx)(ej,{disabled:t,onReset:()=>r("guidanceScale")})]})},ek=()=>Math.floor(1e6*Math.random());var eN=a(7484),eC=a(38869),eS=a(68606),eP=a(10389),eE=a(96202),eD=a(90206),eA=a(59509),eT=a(56742),eV=a(85456),eI=a(73276);let eM=eA.NB.create({name:"paragraph",priority:1e3,group:"block",content:"inline*",parseHTML:()=>[{tag:"p"}],renderHTML(e){let{HTMLAttributes:t}=e;return["p",t,0]}}),eL=e=>e.getText({blockSeparator:"\n"});var ez=e=>{let{value:t,onChange:a,id:s,placeholder:n="",className:r,classes:l,disabled:o,...c}=e,d=(0,eT.jE)({extensions:[eN.Z,eM,eE.Z,eC.Z,eV.Z.configure({audioTagClassName:(0,g.cn)("text-sm p-0 border-none rounded-none",null==l?void 0:l.audioTags)}),eP.Z.configure({placeholder:n,emptyNodeClass:(0,g.cn)("before:content-[attr(data-placeholder)] before:float-left before:text-muted-foreground before:pointer-events-none before:h-0",null==l?void 0:l.placeholder)}),eS.Z],editable:!o,immediatelyRender:!1,editorProps:{attributes:{"aria-disabled":o?"true":"false",class:(0,g.cn)(er.i,"block outline-none aria-disabled:cursor-not-allowed aria-disabled:opacity-50",r)},transformPasted:e=>new eD.p2(e.content,Math.max(e.openStart,1),Math.max(e.openEnd,1))},onUpdate:e=>{let{editor:t}=e;a(eL(t))}});return(0,u.useEffect)(()=>{if(!d||eL(d)===t)return;let e=(0,eI.Y7)(t);d.chain().setContent({type:"doc",content:e}).scrollIntoView().setTextSelection(d.state.selection).run()},[d,t]),(0,i.jsx)(eT.kg,{id:s,editor:d,className:null==l?void 0:l.wrapper,...c})},eR=a(78350),eF=a(52816),eB=a(34161),eZ=a(49317),eO=a(8020),eU=a(20308),eq=a(72752),eH=a(91105),eG=a(70554),eW=a(77491),eY=a(90211);let eK=(0,c.Pi)(e=>{let{file:t}=e,{togglePlay:a,isPlaying:s}=(0,ex.kY)(t);return(0,i.jsxs)(et.Button,{size:"sm",className:"group bg-background max-w-full overflow-hidden rounded-r-none focus-visible:z-10",type:"button",leftIcon:s?(0,i.jsx)(S.Z,{className:"!w-3.5 !h-3.5 shrink-0"}):(0,i.jsx)("span",{className:"inline-flex items-center justify-center !w-3.5 !h-3.5 shrink-0",children:(0,i.jsx)(ev.JF,{className:"w-3 h-3"})}),onClick:a,children:[(0,i.jsx)("span",{className:"truncate min-w-0",children:t.name}),(0,i.jsx)("span",{className:"inline-flex items-center justify-center ml-1 shrink-0 text-subtle font-medium group-disabled:text-inherit transition-colors duration-75",children:(0,eW.LU)(t.duration/1e3)})]})}),eX=e=>{let{minDuration:t=0,maxDuration:a=1/0,onChange:s}=e,r=(0,u.useRef)(),{isRecording:o,durationMs:c,startRecording:d}=(0,eq.Y$)(),{selectedMicId:h,setSelectedMicId:m,micDevices:x}=(0,eq.Uv)(),{requestMic:f}=(0,eq.s8)(),{startAnalysing:b,waveformData:y}=(0,eq.CJ)({waveformBars:3}),j=async()=>{var e;let t;let i=!1;null===(e=r.current)||void 0===e||e.call(r),r.current=()=>{i=!0};let s=await f({deviceId:h});if(!s)return;if(i){(0,eq.aP)(s);return}let n=await d(s,{formatFileName:()=>"Recording",playSfx:!0});if(i){n();return}let l=b(s);a<1/0&&(t=window.setTimeout(_,a)),r.current=async e=>(i=!0,void 0!==t&&clearTimeout(t),l(),r.current=void 0,await n(e))},{isLoading:w,mutate:_}=(0,D.useMutation)({mutationFn:async()=>{if(!r.current)return;let e=await r.current({playSfx:!0});if(!e)return;let a=await (0,eG.eM)(e)*1e3;if(a<t){eZ.toast.error("Recording is too short. Please record at least ".concat(t/1e3,"s of audio."));return}s(e,{duration:a})}});return(0,u.useEffect)(()=>()=>{var e;null===(e=r.current)||void 0===e||e.call(r)},[]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(p.h,{size:"sm","aria-label":o?"Stop recording":"Start recording",tooltip:o?"Stop recording":"Start recording",className:"bg-background shrink-0",type:"button",loading:w,onClick:()=>{o?_():j()},children:(0,i.jsx)("div",{className:(0,g.cn)("w-2.5 h-2.5 bg-red-500 transition-all duration-200",o?"rounded":"rounded-xl")})}),(0,i.jsx)(l.M,{mode:"wait",initial:!1,children:o||w?(0,i.jsxs)(eY.t,{className:"flex items-center gap-2",children:[(0,i.jsxs)(v.x,{weight:"medium",className:"tabular-nums",children:[(0,eW.LU)(c/1e3)," /"," ",(0,eW.LU)(a/1e3)]}),(0,i.jsx)("div",{className:"flex gap-0.5 items-center",children:y.map((e,t)=>(0,i.jsx)(n.E.div,{className:"w-[3px] h-[3px] bg-foreground rounded-full max-h-5",animate:{height:Math.abs(50*e)+3}},t))})]},"recording-duration"):(0,i.jsx)(eY.t,{children:(0,i.jsxs)(eH.Select,{value:h,onValueChange:m,children:[(0,i.jsx)(eH.SelectTrigger,{asChild:!0,className:"w-48 h-8 bg-background rounded-lg [&>span]:inline-block [&>span]:truncate [&>span]:mr-auto [&>span]:text-xs",children:(0,i.jsxs)(et.Button,{size:"sm",type:"button",children:[(0,i.jsx)(eR.Z,{className:"text-gray-500 w-3.5 h-3.5 shrink-0 -ml-1 mr-0.5"}),(0,i.jsx)(eH.SelectValue,{})]})}),(0,i.jsx)(eH.SelectContent,{className:"duration-200",children:null==x?void 0:x.map(e=>(0,i.jsx)(eH.SelectItem,{value:e.deviceId,children:e.label},e.deviceId))})]})},"mic-devices")})]})},eQ=(0,i.jsx)("div",{className:"h-8 flex items-center justify-center text-center text-gray-alpha-500",children:(0,i.jsx)(v.x,{size:"sm",weight:"medium",children:"Drop your audio file here"})});var eJ=e=>{let{disabled:t}=e,{formState:{isSubmitting:a},control:s,resetField:r,watch:c}=(0,W.Gc)(),{field:d}=(0,W.bc)({name:"referenceVoice",control:s}),m=c("referenceVoice"),{mutate:x,isLoading:f}=(0,D.useMutation)(async e=>{let t=await ex.rf.create(e);if(t.duration<3e3){eZ.toast.error("Audio file is too short. Please upload a file with at least ".concat(3,"s of audio."));return}if(t.duration>3e5){eZ.toast.error("Audio file is too long. Please upload a file with at most ".concat(300,"s of audio."));return}d.onChange(t),k(!1)}),{open:b,isDragActive:y,getInputProps:j,getRootProps:w}=(0,eB.uI)({noClick:!0,accept:Object.fromEntries(ed.ug.map(e=>[e,[]])),multiple:!1,maxSize:20971520,onDrop:async(e,t)=>{(0,eq.ak)(t,{maxFileSize:20}),0!==e.length&&x(e[0])}}),[_,k]=(0,u.useState)(!1),{requestMic:N,error:C}=(0,eq.s8)(),S=async()=>{let e=await N();e&&((0,eq.aP)(e),k(!0))};return(0,u.useEffect)(()=>{if(C&&("NotAllowedError"===C.name||"PermissionDeniedError"===C.name)){let e=eZ.toast.error("Microphone access denied. Please enable it in your browser settings.");return()=>{eZ.toast.dismiss(e)}}},[C]),(0,u.useEffect)(()=>{a&&k(!1)},[a,k]),(0,i.jsxs)("div",{className:"stack gap-2",...w(),children:[(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)(ei.Label,{children:"Voice reference"}),(0,i.jsx)(v.x,{color:"subtle",weight:"medium",children:"Optional"})]}),(0,i.jsx)("input",{...j()}),(0,i.jsx)(n.E.div,{className:(0,g.cn)("bg-gray-alpha-50 rounded-xl border border-subtle flex justify-center items-center relative overflow-hidden transition-colors duration-75",{"border-gray-alpha-300":y&&!a}),layout:!0,children:(0,i.jsx)(l.M,{initial:!1,mode:"wait",children:_?(0,i.jsxs)(eY.t,{className:"w-full p-3 flex items-center gap-2",layout:"position",children:[(0,i.jsx)(eX,{minDuration:3e3,maxDuration:3e5,onChange:e=>x(e)}),(0,i.jsx)(p.h,{"aria-label":"Close recorder",size:"sm",className:"ml-auto bg-background shrink-0",type:"button",onClick:()=>{d.onChange(void 0),k(!1)},children:(0,i.jsx)(o.Z,{})})]},"recorder"):void 0!==m?(0,i.jsxs)(eY.t,{className:"stack w-full",layout:"position",children:[(0,i.jsx)(l.M,{initial:!1,mode:"wait",children:y?(0,i.jsx)(eY.t,{className:"p-3",children:eQ},"drag-active"):(0,i.jsxs)(eY.t,{className:"p-3 self-center flex justify-center items-center overflow-hidden max-w-full",children:[m instanceof ex.rf?(0,i.jsx)(eK,{file:m}):(0,i.jsx)(eO.Q,{filterFn:e=>!!e.is_owner,disabled:t,value:m,onValueChange:d.onChange,formStylingSize:"sm",buttonClassName:"w-auto bg-background px-2 rounded-r-none focus-visible:z-10",popoverContentClassName:"ml-8",hideFindMoreVoices:!0}),(0,i.jsx)(p.h,{"aria-label":"Remove voice reference",size:"sm",className:"bg-background shrink-0 rounded-l-none border-l-0 focus-visible:border-l",type:"button",onClick:()=>d.onChange(void 0),children:(0,i.jsx)(o.Z,{})})]},"voice-reference-asset")}),(0,i.jsx)("div",{className:"px-5 pt-3.5 pb-4 bg-background border-t border-subtle",children:(0,i.jsx)(ew,{disabled:t,onReset:()=>r("promptStrength")})})]},"voice-reference"):y?(0,i.jsx)(eY.t,{className:"p-3",children:eQ},"drag-active"):(0,i.jsx)(eY.t,{layout:"position",className:"m-3",children:(0,i.jsxs)(eU.h_,{children:[(0,i.jsx)(eU.$F,{disabled:t,asChild:!0,children:(0,i.jsxs)(et.Button,{variant:"ghost",className:"static group h-8 hover:bg-transparent active:bg-transparent radix-state-open:bg-transparent disabled:bg-transparent",type:"button",leftIcon:(0,i.jsx)(eF.Z,{}),tooltip:"Use an audio/voice sample to guide generation",tooltipProps:{openDelay:500,isDisabled:f},loading:f,children:[(0,i.jsx)("div",{className:"absolute inset-0 rounded-[10px] group-hover:bg-gray-alpha-100 group-active:bg-gray-alpha-200 group-disabled:bg-transparent transition-colors duration-200","aria-hidden":!0}),"Attach voice reference"]})}),(0,i.jsxs)(eU.AW,{className:"duration-200 w-[156px]",children:[(0,i.jsx)(eU.Xi,{onSelect:b,children:"Choose audio file"}),(0,i.jsx)(eU.Xi,{onSelect:S,children:"Record your voice"}),(0,i.jsx)(eU.Xi,{onClick:()=>{var e;let t=null===(e=h.voices.value)||void 0===e?void 0:e.find(e=>!0===e.is_owner);d.onChange(t)},children:"Voices you created"})]})]})},"add-reference-audio")})})]})};let e$=[{label:"Evil Ogre",prompt:"A deep, booming male voice of a massive evil ogre in his middle years. Thick, gravelly tone with a resonant, theatrical quality that's both menacing and absurdly silly. Speaking at a quick, excited pace with erratic bursts of maniacal energy. Perfect audio quality.",previewText:"Your weapons are but toothpicks to me. [laughs] Surrender now and I may grant you a swift end. I've toppled kingdoms and devoured armies. What hope do you have against me?"},{label:"Little Mouse",prompt:"A tiny, high-pitched female voice of a mouse with an adorable, squeaky timbre. Light and airy tone with a playful, mischievous energy. Speaking at a quick, excited pace with frequent giggles and animated inflections. Has a slight lisp that adds to the cuteness factor. The voice is sweet but with a hint of sassy confidence, like a cartoon character. Perfect audio quality.",previewText:"I may be small, but my attitude is anything but! [giggles] Watch it, big feet, or I'll give your toes a nibble you won't forget!"},{label:"Southern Woman",prompt:"An older woman with a thick Southern accent. She is sweet and sarcastic.",previewText:"Well sugar, if all we ever do is chase titles and trophies, we’re gonna miss the whole darn point. [light chuckle] I’d rather build somethin’ that makes folks’ lives easier—and if I can do it in heels with a smile and a touch of sass, even better."},{label:"Movie Trailer voice",prompt:"Dramatic voice, used to build anticipation in movie trailers, typically associated with action or thrillers",previewText:"In a world on the brink of chaos, one hero will rise. Prepare yourself for a story of epic proportions, coming soon to the big screen."},{label:"British CEO",prompt:"Excellent audio quality. A woman in her 30s to early 40s with a thick British accent speaking at a natural pace like she's talking excitedly and candidly to a friend.",previewText:"So I’m pitching to this investor, and you’ll never guess what they asked me? [laughs] They wanted to see a REVENUE graph! Mate, come on. We’ll monetise later! Can’t you see our signup graph is shaped like a cricket bat – [gasp] Did I say cricket bat? [hurriedly] Forget I said that! It is NOT linear. It's definitely exponential. [clears throat] God, this is awkward."},{label:"Angry Pirate",prompt:'A gruff, weathered male pirate in his 60s with a deep voice roughened by years at sea. Thick, booming tone with a harsh quality from shouting over ocean winds. Speaking at a moderate pace but with explosive bursts of anger and dramatic emphasis. Heavy nautical accent with rolled R\'s and dropped consonants - "ye scurvy dogs" delivery. Voice carries the weight of authority and decades of command, alternating between menacing growls and thunderous bellows. Perfect audio quality.',previewText:"I've faced storms that would turn your hair white and sea monsters that would make your knees quake. You think you can cross Captain Blackheart and live to tell the tale?"},{label:"New York accent",prompt:"Deep, gravelly thick New York accent, tough and world-weary, often cynical",previewText:"I've been walking these streets longer than you can imagine, kid. There's nothing you can say or do that'll surprise me anymore."}],e0={seed:void 0,loudness:.5,guidanceScale:5,promptStrength:.25},e1=e=>"voice_description:".concat(e.voice_description,",text:").concat(e.text,",loudness:").concat(e.loudness,",guidance_scale:").concat(e.guidance_scale),e2=new Map(e$.map(e=>[e1({voice_description:e.prompt,text:e.previewText,loudness:e0.loudness,guidance_scale:e0.guidanceScale}),0])),e5=e=>{let t=e1(e),a=e2.get(t);return[a,()=>{e2.set(t,(a||0)+1)}]};function e3(){let e=(0,N._)(["","%"]);return e3=function(){return e},e}let e4=()=>null===h.workspaceData.value?null:(0,eh.RF)()?{used:h.workspaceData.value.subscription.character_count}:{remaining:h.workspaceData.value.subscription.character_limit-h.workspaceData.value.subscription.character_count,usedPercent:h.workspaceData.value.subscription.character_count/h.workspaceData.value.subscription.character_limit*100};class e6{get playingVoiceId(){return this.paused?null:this.activeVoiceId}loadDataSource(e,t){this.audio&&(this.audio.src="data:audio/mpeg;base64,".concat(t),this.audio.autoplay=!0,this.audio.currentTime=0,this.activeVoiceId=e)}toggle(){this.audio&&(this.paused?this.audio.play():this.audio.pause())}kill(){this.audio&&(this.audio.src="",this.audio.currentTime=0,this.activeVoiceId=null)}constructor(){(0,k._)(this,"audio",new Audio),(0,k._)(this,"activeVoiceId",null),(0,k._)(this,"paused",!0),this.audio&&(this.audio.addEventListener("pause",()=>{this.paused=!0}),this.audio.addEventListener("play",()=>{this.paused=!1})),(0,H.rC)(this,{activeVoiceId:H.LO,paused:H.LO,playingVoiceId:H.Fl})}}let e8=new e6,e7=()=>{let[e,t]=(0,u.useState)(0);return(0,u.useEffect)(()=>{let e=window.setInterval(()=>{e8.audio&&!e8.audio.paused&&t(e8.audio.currentTime/e8.audio.duration*100)},25);return()=>window.clearInterval(e)},[]),(0,i.jsxs)(E.fC,{className:"py-1 relative group flex items-center",value:[e],onValueChange:e=>{let[a]=e;if(!e8.audio)return;t(a);let i=a/100*e8.audio.duration;Number.isFinite(i)&&(e8.audio.currentTime=i)},children:[(0,i.jsx)(E.fQ,{className:"block h-px w-full bg-gray-200 rounded-full relative",children:(0,i.jsx)(E.e6,{className:"block h-full bg-gray-alpha-950 rounded-full absolute"})}),(0,i.jsx)(E.bU,{className:"block w-2.5 h-2.5 bg-gray-950 border border-gray-alpha-950 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200"})]})},e9=()=>{let{container:e}=(0,en.vO)(),t=(0,en.KL)({axis:"x"});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(en.w5,{amount:"5rem",className:"[--background:var(--gray-50)]"}),(0,i.jsx)("div",{className:"sticky left-[-1px] min-h-full w-0 z-10 flex items-center","aria-hidden":!0,children:(0,i.jsx)(l.M,{children:!t&&(0,i.jsx)(n.E.div,{role:"button",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},tabIndex:-1,className:"py-4 pr-2",onClick:()=>{var t;null===(t=e.current)||void 0===t||t.scrollTo({left:e.current.scrollLeft-200,behavior:"smooth"})},children:(0,i.jsx)(L.Z,{className:"text-gray-alpha-950 w-3 h-3 shrink-0",strokeWidth:3})})})})]})},te=()=>{let{container:e}=(0,en.vO)(),t=(0,en.EH)({axis:"x"});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(en.EX,{amount:"6rem",className:"[--background:var(--gray-50)]"}),(0,i.jsx)("div",{className:"sticky left-[calc(100%-20px)] min-h-full w-0 z-10 flex items-center","aria-hidden":!0,children:(0,i.jsx)(l.M,{children:!t&&(0,i.jsx)(n.E.div,{role:"button",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"py-4 pl-2 inline-flex justify-end",tabIndex:-1,onClick:()=>{var t;null===(t=e.current)||void 0===t||t.scrollTo({left:e.current.scrollLeft+200,behavior:"smooth"})},children:(0,i.jsx)(z.Z,{className:"text-gray-alpha-950 w-3 h-3 shrink-0",strokeWidth:3})})})})]})},tt=(0,c.Pi)(e=>{let{disabled:t}=e,[a,s]=(0,u.useState)(0),r=(0,u.useId)(),{control:l,setValue:o,trigger:c}=(0,W.Gc)(),{field:d,fieldState:{error:h}}=(0,W.bc)({control:l,name:"voiceDescription",rules:{required:{message:"Voice prompt is required",value:!0},minLength:{message:"Voice prompt should be at least 20 characters long",value:20},maxLength:{message:"Voice prompt should be less than 1000 characters",value:1e3}}}),m=e=>{d.onChange(e.prompt),o("previewText",e.previewText)};return(0,i.jsxs)("div",{className:"stack gap-2",children:[(0,i.jsxs)(n.E.div,{layout:"position",className:"flex items-end justify-between",children:[(0,i.jsx)(ei.Label,{htmlFor:r,children:"Prompt"}),(0,i.jsxs)(es.Un,{href:"https://elevenlabs.io/docs/product-guides/voices/voice-design#prompting-guide",target:"_blank",className:"inline-flex items-center gap-0.5 text-sm",children:["Best practices",(0,i.jsx)(R.Z,{className:"w-4 h-4 shrink-0"})]})]}),(0,i.jsx)(n.E.div,{layout:"position",children:(0,i.jsxs)("div",{className:"relative rounded-lg border border-subtle [&:has(textarea:focus-visible)]:border-foreground [&:has(textarea:focus-visible)]:ring-[0.5px] ring-foreground transition duration-100 overflow-hidden",children:[(0,i.jsx)(er.g,{id:r,rows:5,placeholder:"e.g. old British man. Calm, clear and relaxing.",className:"rounded-lg scroll-pb-2 max-h-44 border-none !ring-0",...d,onChange:e=>{d.onChange(e),h&&c("voiceDescription")}}),(0,i.jsxs)("div",{className:"pl-2 flex items-center gap-0.5 bg-gray-alpha-50 border-t border-subtle",children:[(0,i.jsx)(p.h,{type:"button",size:"xs",className:"bg-background rounded-full shrink-0 relative z-20","aria-label":"Randomize prompt",tooltip:"Choose a random prompt",onClick:function(){let e=(a+1)%e$.length;m(e$[e]),s(e)},children:(0,i.jsx)(F.Z,{})}),(0,i.jsxs)(en.l$,{className:"flex no-scrollbar",children:[(0,i.jsx)(e9,{}),(0,i.jsx)(te,{}),(0,i.jsx)("div",{className:"flex gap-1.5 p-2 pl-1",children:e$.map(e=>(0,i.jsx)(et.Button,{type:"button",size:"xs",className:"bg-background rounded-full shrink-0",onClick:()=>m(e),leftIcon:(0,i.jsx)("div",{className:(0,g.cn)("!w-auto !h-auto transition-opacity duration-100",{"opacity-50":t}),children:(0,i.jsx)(ee.qE,{id:e.label,name:e.label,size:"1rem",imgSize:32})}),children:e.label},e.label))})]})]})]})}),(0,i.jsx)(ef.du,{layout:"position",children:(null==h?void 0:h.type)==="blocked_generation"?(0,i.jsxs)(i.Fragment,{children:["Sorry, it looks like the prompt may violate our"," ",(0,i.jsx)("a",{href:"https://elevenlabs.io/use-policy",target:"_blank",rel:"noopener noreferrer",className:"underline",children:"Prohibited Use Policy"})," ","and has been blocked. You were not charged for this request."]}):null==h?void 0:h.message})]})}),ta=new Set,ti=e=>1/(1+Math.exp(-e)),ts=(e,t)=>2*(ti(6*Math.min(e/t,1))-.5)*99,tn=e=>{let{isGenerating:t,previewTextLength:a}=e,[s,r]=(0,u.useState)(!1),l=(0,V.c)(0),o=(0,u.useRef)(null),c=.05*a+15;return(0,u.useEffect)(()=>{if(!t){(0,I.j)(l,100,{duration:.2}),r(!1),o.current&&(clearInterval(o.current),o.current=null);return}r(!0),l.jump(0),o.current&&clearInterval(o.current);let e=Date.now();return o.current=window.setInterval(()=>{let t=ts((Date.now()-e)/1e3,c);l.set(t),t>=98.9&&(clearInterval(o.current),o.current=null)},10),()=>{o.current&&(window.clearInterval(o.current),o.current=null)}},[t,a,l,c]),(0,i.jsx)(n.E.div,{className:"absolute inset-y-0 left-0 w-1/3 bg-gray-alpha-100",style:{width:(0,M.Y)(e3(),l)},animate:{opacity:s?1:0},transition:{opacity:{duration:.2}}})},tr=(0,c.Pi)(e=>{var t,a,s,r,c,d;let{generatedVoices:h,selectedVoiceId:p,showAdvancedSettings:b,onGenerateVoice:y,onSelectVoice:j,onToggleAdvancedSettings:w,onCopyShareLink:_,onNext:k}=e,N=(0,u.useId)(),E=(0,eu.bs)("lg"),{formState:{isSubmitting:D,errors:A,defaultValues:T},register:V,watch:I,getValues:M,setValue:L,setError:z,trigger:R,handleSubmit:F}=(0,W.Gc)(),H=I("previewText"),{field:{onChange:Y}}=(0,W.bc)({name:"previewText",rules:{required:{message:"Please provide sample text to preview your generated voice",value:!0},validate:e=>"string"==typeof e&&er(e)||"Please provide some text between ".concat(ea.min.formatted," and ").concat(ea.max.formatted," characters.")}}),K=(0,u.useRef)(null),{data:X}=(0,$.SCz)({}),{isLoading:Q,mutate:J}=(0,$.YcF)({onMutate(){var e;null===(e=K.current)||void 0===e||e.loadingStart()},async onSuccess(e){var t;let a=e.text;(0,x.eN)(f.B_.voice_lab_ttv_preview_text_generated,{prompt:M("voiceDescription"),previewText:a}),await (null===(t=K.current)||void 0===t?void 0:t.start(()=>{L("previewText",a)}))},onError(e){var t;null===(t=K.current)||void 0===t||t.loadingEnd(),"status"in e?z("voiceDescription",{type:e.errorType,message:e.message}):el.toast.error("We are sorry, something went wrong.",{description:e.message})}}),ee=async e=>{await R("voiceDescription")&&J({body:{voice_description:e,model_id:"eleven_ttv_v3"}})};(0,u.useEffect)(()=>{let e=window.setTimeout(async()=>{!(null==T?void 0:T.voiceDescription)||M("previewText")||ee(T.voiceDescription)},1);return()=>window.clearTimeout(e)},[]);let ea={min:{value:null!==(a=null==X?void 0:X.minimum_characters)&&void 0!==a?a:0,formatted:null!==(s=null==X?void 0:X.minimum_characters.toLocaleString())&&void 0!==s?s:""},max:{value:null!==(r=null==X?void 0:X.maximum_characters)&&void 0!==r?r:0,formatted:null!==(c=null==X?void 0:X.maximum_characters.toLocaleString())&&void 0!==c?c:""}},es=e4(),en=(null==es?void 0:es.remaining)?"".concat(es.remaining.toLocaleString()," credits remaining"):(null==es?void 0:es.used)?"".concat(es.used.toLocaleString()," credits used"):"",er=e=>ea.min.value<=e.trim().length&&e.trim().length<=ea.max.value,ec=D||Q;return(0,i.jsx)("form",{onSubmit:F(async e=>{(0,x.eN)(f.B_.voice_lab_ttv_voices_generate,{prompt:e.voiceDescription,previewText:e.previewText,seed:e.seed,loudness:e.loudness,guidanceScale:e.guidanceScale}),await y(e)}),children:(0,i.jsxs)("div",{className:"relative flex flex-col lg:flex-row sm:-mt-28 sm:-mb-8",children:[(0,i.jsxs)("div",{className:"relative lg:w-14u sm:pt-28 sm:pb-8",children:[(0,i.jsx)(m.GG,{className:"hidden sm:block absolute z-10 -right-3 top-5 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus-ring disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground","aria-label":"Close",children:(0,i.jsx)(o.Z,{className:"h-4 w-4"})}),(0,i.jsxs)("fieldset",{className:"contents",disabled:ec,children:[(0,i.jsx)(n.E.div,{layout:"position",children:(0,i.jsx)(tt,{disabled:ec})}),G.ZP.isFeatureEnabled("voice-remix")&&(0,i.jsx)(n.E.div,{layout:"position",className:"mt-8",children:(0,i.jsx)(eJ,{disabled:ec})}),(0,i.jsxs)(n.E.div,{layout:"position",className:"mt-8 stack gap-2",children:[(0,i.jsxs)("div",{className:"flex items-end justify-between",children:[(0,i.jsx)(ei.Label,{id:N,children:"Text to preview"}),(0,i.jsx)(et.Button,{size:"xs",leftIcon:(0,i.jsx)(B.Z,{}),type:"button",loading:Q,disabled:!I("voiceDescription"),onClick:()=>{ee(M("voiceDescription"))},children:"Auto-generate"})]}),(0,i.jsxs)("div",{className:"rounded-lg border border-subtle focus-within:border-foreground focus-within:ring-[0.5px] ring-foreground transition duration-100 aria-disabled:opacity-50","aria-disabled":ec,children:[(0,i.jsx)(ep.f1,{ref:K,children:(0,i.jsx)(ez,{value:H,onChange:e=>Y(e),className:"scroll-pb-2 h-[7.25rem] overflow-y-auto border-none !ring-0 aria-disabled:opacity-100",classes:{wrapper:"h-[7.25rem] rounded-md overflow-hidden"},disabled:ec,"aria-labelledby":N})}),(0,i.jsxs)("div",{className:"border-t border-subtle pt-2.5 pb-3 px-4 flex items-center justify-between",children:[(0,i.jsx)(eo.Tooltip,{label:"Should be between ".concat(ea.min.formatted," and ").concat(ea.max.formatted," characters"),children:(0,i.jsxs)(v.x,{as:"div",className:(0,g.cn)("inline-block pointer-events-auto transition-colors duration-150",er(H)||Q?"text-gray-500":"text-error",0===ea.max.value?"invisible":"visible"),size:"xs",children:[H.trim().length.toLocaleString(),"/",ea.max.formatted]})}),(0,i.jsxs)("div",{className:"flex items-center gap-1.5",children:[(null==es?void 0:es.remaining)&&(0,i.jsx)(C.D,{thickness:"10px",color:"black",size:"0.875rem",className:"mt-px",value:es.usedPercent}),(0,i.jsx)(v.x,{as:"span",size:"xs",className:!(0,eh.RF)()&&(null!==(d=null==es?void 0:es.remaining)&&void 0!==d?d:0)<I("voiceDescription").length?"text-error":"text-gray-500",children:en})]})]})]}),(0,i.jsx)(l.M,{initial:!1,mode:"wait",children:(0,i.jsx)(n.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.1},children:A.previewText?(0,i.jsx)(v.x,{className:"text-error",size:"sm",children:null===(t=A.previewText)||void 0===t?void 0:t.message}):(0,i.jsx)(v.x,{color:"subtle",size:"xs",className:(0,g.cn)("mt-1 text-center transition-opacity duration-100",{"opacity-50":ec}),children:"For better results, use long and relevant preview text"})},A.previewText?"error":"help-text")})]})]}),!E&&(0,i.jsxs)("div",{className:"mt-3",children:[(0,i.jsxs)("button",{type:"button",className:"py-2 mb-2 w-full flex items-center justify-between rounded-md focus-ring","aria-expanded":b,"aria-controls":"advanced-settings",onClick:w,children:[(0,i.jsxs)("span",{className:"text-sm font-medium",children:[b?"Hide":"Show"," Settings"]}),(0,i.jsx)(Z.Z,{className:(0,g.cn)("w-4 h-4 duration-150",{"rotate-180":b})})]}),(0,i.jsx)("div",{id:"advanced-settings",children:(0,i.jsx)(l.M,{initial:!1,children:b&&(0,i.jsx)(n.E.div,{className:"pb-2",initial:{opacity:0},animate:{opacity:1,transition:{delay:.2}},exit:{opacity:0},children:(0,i.jsx)(e_,{disabled:D})})})})]}),(0,i.jsxs)(n.E.div,{layout:"position",className:"mt-5 flex gap-2",children:[(0,i.jsxs)(et.Button,{type:"submit",className:"w-full bg-background overflow-hidden disabled:text-gray-400",disabled:D||Q,children:[(0,i.jsx)(tn,{isGenerating:D,previewTextLength:H.length}),(0,i.jsx)("span",{className:"relative",children:D?"Generating voice...":"Generate voice"})]}),(0,i.jsx)(et.Button,{type:"button",className:"shrink-0 bg-background hidden lg:flex","aria-expanded":b,"aria-controls":"advanced-settings",onClick:w,leftIcon:b?(0,i.jsx)(O.Z,{className:"!w-3.5 !h-3.5"}):(0,i.jsx)(U.Z,{className:"!w-3.5 !h-3.5"}),children:"Settings"})]}),(0,i.jsx)(l.M,{mode:"wait",initial:!1,children:!D&&h&&"previews"in h&&(0,i.jsxs)(n.E.div,{layout:"position",initial:{opacity:0},animate:{opacity:1,transition:{delay:.3}},exit:{opacity:0},ref:e=>{null==e||e.scrollIntoView({behavior:"smooth"})},children:[(0,i.jsx)("div",{className:"my-5",children:(0,i.jsx)(e7,{})}),(0,i.jsx)(P.fC,{className:"grid grid-cols-1 sm:grid-cols-3 gap-1.5",value:p,onValueChange:e=>{j(e);let t=h.previews.find(t=>t.generated_voice_id===e);t&&(ta.add(e),e8.loadDataSource(t.generated_voice_id,t.audio_base_64))},children:h.previews.map((e,t)=>(0,i.jsxs)(P.ck,{value:e.generated_voice_id,className:"group flex items-center gap-2 py-3.5 px-3.5 data-[state=checked]:bg-gray-alpha-50 rounded-lg data-[state=checked]:shadow-xs border border-gray-200 focus-visible:border-gray-alpha-950 focus:outline-none",onClick:()=>{e8.activeVoiceId!==e.generated_voice_id?(ta.add(e.generated_voice_id),e8.loadDataSource(e.generated_voice_id,e.audio_base_64)):e8.toggle()},children:[e8.playingVoiceId===e.generated_voice_id?(0,i.jsx)(S.Z,{className:"w-3.5 h-3.5"}):(0,i.jsx)("span",{className:"w-3.5 h-3.5 inline-flex items-center justify-center",children:(0,i.jsx)(ev.JF,{className:"w-3 h-3"})}),(0,i.jsxs)(v.x,{size:"sm",weight:"medium",children:["Voice ",t+1]}),(0,i.jsx)(q.Z,{className:"w-4 h-4 hidden ml-auto group-data-[state=checked]:block"})]},e.generated_voice_id))}),(0,i.jsxs)(m.cN,{className:"mt-6 sm:justify-between",children:[(0,i.jsx)(et.Button,{type:"button",onClick:_,children:"Copy share link"}),(0,i.jsx)(et.Button,{type:"button",variant:"primary",disabled:!p,onClick:()=>{e8.kill(),(0,x.eN)(f.B_.voice_lab_ttv_voice_select,{generated_audio_id:p}),k()},children:"Select voice"})]})]},"generated-voices")})]}),E&&(0,i.jsx)("div",{id:"advanced-settings",className:"relative -mr-8 pl-8",children:(0,i.jsx)(l.M,{mode:"popLayout",initial:!1,children:b&&(0,i.jsx)(n.E.div,{className:"h-full hidden lg:block w-80 border-l pt-28 pb-8 px-8 bg-gray-alpha-50",layout:!0,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,i.jsx)(n.E.div,{layout:"position",className:"mt-2",children:(0,i.jsx)(e_,{disabled:D})})})})})]})})}),tl=e=>{var t,a;let{onBack:s,onNext:r}=e,l={voiceName:(0,u.useId)(),description:(0,u.useId)()},{formState:{errors:c,isSubmitting:d},register:h,handleSubmit:p}=(0,W.Gc)(),v=(0,em.XE)(),{addRecentlyUsedVoice:g}=(0,ec.Z)(),{mutateAsync:b}=(0,D.useMutation)({mutationFn:async e=>{var t,a,i,s;let{voiceName:n,description:r,voiceId:l,labels:o}=e,c=Object.fromEntries(o.map(e=>[e.label,e.value])),d=Array.from(ta).filter(e=>e!==l);ta.clear(),await J(n,r,l,d,c),v(),g(l),(0,x.eN)(f.B_.voice_lab_ttv_voice_created,{generated_audio_id:l,name:n,description:r,labels:c,language:null===(t=o.find(e=>{let{label:t}=e;return"language"===t}))||void 0===t?void 0:t.value,age:null===(a=o.find(e=>{let{label:t}=e;return"age"===t}))||void 0===a?void 0:a.value,gender:null===(i=o.find(e=>{let{label:t}=e;return"gender"===t}))||void 0===i?void 0:i.value,accent:null===(s=o.find(e=>{let{label:t}=e;return"accent"===t}))||void 0===s?void 0:s.value})},onSuccess(){r()},onError(e){e instanceof Error&&el.toast.error("We are sorry, something went wrong.",{description:e.message})},retry:(e,t)=>"invalid_generated_voice_id"===t.status?e<30:e<3,retryDelay:2e3});return(0,i.jsxs)("div",{className:"relative sm:pt-28 sm:pb-8 sm:-mt-28 sm:-mb-8",children:[(0,i.jsx)(m.GG,{className:"hidden sm:block absolute z-10 -right-3 top-5 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus-ring disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground","aria-label":"Close",children:(0,i.jsx)(o.Z,{className:"h-4 w-4"})}),(0,i.jsxs)("form",{onSubmit:p(e=>b(e)),children:[(0,i.jsxs)("fieldset",{disabled:d,className:"stack gap-8 lg:w-14u",children:[(0,i.jsxs)(n.E.div,{layout:"position",className:"stack gap-2",children:[(0,i.jsx)(ei.Label,{htmlFor:l.voiceName,children:"Name"}),(0,i.jsx)(ea.I,{id:l.voiceName,placeholder:"e.g. old British man",className:"rounded-lg",...h("voiceName",{validate:e=>0!==e.trim().length||"Please give your voice a name"})}),(0,i.jsx)(ef.du,{children:null===(t=c.voiceName)||void 0===t?void 0:t.message})]}),(0,i.jsx)(ef.nH,{}),(0,i.jsxs)(n.E.div,{layout:"position",className:"stack gap-2",children:[(0,i.jsx)(ei.Label,{htmlFor:l.description,children:"Description"}),(0,i.jsx)(er.g,{id:l.description,rows:4,className:"rounded-lg max-h-44",...h("description",{required:{value:!0,message:"Description is required"},maxLength:{value:500,message:"Description should be less than 500 characters"},minLength:{value:20,message:"Description should have at least 20 characters"}})}),(0,i.jsx)(ef.du,{children:null===(a=c.description)||void 0===a?void 0:a.message})]})]}),(0,i.jsx)(n.E.div,{layout:"position",className:"mt-6",children:(0,i.jsxs)(m.cN,{className:"gap-3 sm:justify-between",children:[(0,i.jsx)(et.Button,{type:"button",onClick:s,disabled:d,children:"Back"}),(0,i.jsx)(et.Button,{type:"submit",variant:"primary",disabled:d,loading:d,children:"Save voice"})]})})]})]})},to=e=>{var t,a,s,r,o,c;let d,{onComplete:h,initialValues:m}=e,[p,v]=(0,u.useState)("generate"),[g,b]=(0,u.useState)(!1),j=(0,W.cI)({defaultValues:{voiceDescription:null!==(t=null==m?void 0:m.voiceDescription)&&void 0!==t?t:e$[0].prompt,previewText:(null==m?void 0:m.voiceDescription)?null!==(a=m.previewText)&&void 0!==a?a:"":e$[0].previewText,seed:null!==(s=null==m?void 0:m.seed)&&void 0!==s?s:e0.seed,loudness:null!==(r=null==m?void 0:m.loudness)&&void 0!==r?r:e0.loudness,guidanceScale:null!==(o=null==m?void 0:m.guidanceScale)&&void 0!==o?o:e0.guidanceScale,promptStrength:null!==(c=null==m?void 0:m.promptStrength)&&void 0!==c?c:e0.promptStrength}}),w=(0,Y.tm)(),_=(0,W.cI)({defaultValues:{voiceId:"",voiceName:"",labels:[{label:"language",value:""}],description:""}}),{mutateAsync:k,data:N,variables:C}=(0,D.useMutation)({mutationFn:async e=>{let t={model_id:"eleven_ttv_v3",voice_description:e.voice_description,text:e.text,auto_generate_text:e.auto_generate_text,seed:e.seed,loudness:e.loudness,guidance_scale:e.guidance_scale};if(e.reference_audio&&!(e.reference_audio instanceof ex.rf))return(0,$.a$h)({pathParams:{voiceId:e.reference_audio.voice_id},body:{...t,prompt_strength:e.prompt_strength}});{let[a,i]=e5(t);return 0===a&&void 0===j.getValues("seed")&&(t.seed=1,i()),(0,$.gI6)({body:{...t,...e.reference_audio?{reference_audio_base64:await (0,ed.sT)(await e.reference_audio.file()),prompt_strength:e.prompt_strength}:void 0}})}},onSuccess(e){if(!e)return;let t=e.previews[0];t&&(_.setValue("voiceId",t.generated_voice_id),w()&&(ta.add(t.generated_voice_id),e8.loadDataSource(t.generated_voice_id,t.audio_base_64)))},onError(e){e instanceof K.oo&&j.setError("voiceDescription",{type:e.errorType,message:e.message})}}),[S]=(0,y.F7)();switch((0,u.useEffect)(()=>()=>{e8.kill()},[]),p){case"generate":d=(0,i.jsx)(W.RV,{...j,children:(0,i.jsx)(tr,{generatedVoices:N,selectedVoiceId:_.watch("voiceId"),showAdvancedSettings:g,onGenerateVoice:async e=>{var t;e8.kill(),await k({voice_description:e.voiceDescription,text:e.previewText,auto_generate_text:!1,seed:null!==(t=e.seed)&&void 0!==t?t:ek(),loudness:e.loudness,guidance_scale:e.guidanceScale,prompt_strength:e.referenceVoice?e.promptStrength:void 0,reference_audio:e.referenceVoice})},onSelectVoice:e=>_.setValue("voiceId",e),onToggleAdvancedSettings:()=>b(e=>!e),onCopyShareLink:()=>{if(!C)return;let e={prompt:C.voice_description,previewText:C.text,seed:C.seed,loudness:C.loudness,guidanceScale:C.guidance_scale};(0,x.eN)(f.B_.voice_lab_ttv_share_link_copied,e),T()(S(e)),el.toast.success("Shareable link copied to clipboard")},onNext:()=>{v("save"),_.setValue("description",j.getValues("voiceDescription"))}})});break;case"save":d=(0,i.jsx)(W.RV,{..._,children:(0,i.jsx)(tl,{onBack:()=>v("generate"),onNext:h})})}return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(tc,{title:"Voice Design",icon:(0,i.jsx)(ev.K0,{className:"w-7 h-7"})}),(0,i.jsx)(l.M,{initial:!1,mode:"wait",children:(0,i.jsx)(n.E.div,{className:"mt-3",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:d},p)})]})},tc=e=>{let{icon:t,title:a,className:s,hideClose:r}=e;return(0,i.jsxs)(n.E.div,{layout:"position",className:(0,g.cn)("flex text-center sm:text-left flex-row space-y-0 items-center gap-4",s),children:[t&&(0,i.jsx)("div",{className:"w-12 h-12 shadow-natural-xs rounded-xl flex items-center justify-center",children:t}),(0,i.jsx)(m.$N,{className:"font-waldenburg-ht font-medium text-xl",children:a}),!r&&(0,i.jsx)(m.GG,{className:"self-start ml-auto -mr-2 relative -top-2 sm:hidden",asChild:!0,children:(0,i.jsx)(p.h,{variant:"ghost",size:"sm","aria-label":"Close Dialog",children:(0,i.jsx)(o.Z,{className:"!w-5 !h-5"})})})]})},td={canUseIVC(){var e;return null===(e=h.workspaceData.value)||void 0===e?void 0:e.subscription.can_use_instant_voice_cloning},canUsePVC:()=>!!h.workspaceData.value&&h.workspaceData.value.get_professional_voice_limit()>0},tu=["voiceDesign","cloneVoice","professionalVoiceClone","chooseVoiceType"],th=(e,t)=>{switch(e){case"voiceDesign":return t;case"cloneVoice":return td.canUseIVC();case"professionalVoiceClone":return td.canUsePVC();case"chooseVoiceType":return!0}},tm=(0,c.Pi)(e=>{let t,{open:a,onOpenChange:c,type:d,onTypeChange:h,trigger:p,initialStep:g="chooseVoiceType",initialValues:y,includeVoiceLibraryOption:k=!0}=e,N=(0,u.useRef)(null),C=(0,b.AY)(),S=void 0===C;if(S||!1!==th(d,C)||h("chooseVoiceType"),S)t=(0,i.jsxs)("div",{className:"flex items-center justify-center gap-3 w-[28rem] max-w-full h-40",children:[(0,i.jsx)(s.$,{size:"sm"}),(0,i.jsx)(v.x,{weight:"medium",size:"md",children:"Loading"})]});else switch(d){case"chooseVoiceType":t=(0,i.jsx)(j.L,{onSelect:e=>{h(e)},closeDialog:()=>c(!1),includeVoiceLibraryOption:k});break;case"voiceDesign":t=(0,i.jsx)(to,{onComplete:()=>c(!1),initialValues:null==y?void 0:y.voiceDesign});break;case"cloneVoice":case"professionalVoiceClone":t=void 0}let P=e=>{c(e),e?h(g):(setTimeout(()=>{h("chooseVoiceType")},1e3),(0,x.eN)(f.B_.add_new_voice_closed,{type:d}))};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(m.Vq,{open:a&&void 0!==t,onOpenChange:P,children:[p&&(0,i.jsx)(m.hg,{asChild:!0,children:p}),(0,i.jsx)(r.S,{children:(0,i.jsx)(m.cZ,{asChild:!0,hideCloseButton:!0,className:"h-full max-h-screen sm:h-auto sm:p-8 lg:max-w-none lg:w-max overflow-x-hidden",onPointerDownOutside:e=>"voiceDesign"===d?e.preventDefault():null,children:(0,i.jsxs)(n.E.div,{ref:N,className:"max-sm:!rounded-none",layout:!0,transformTemplate:(e,t)=>"translate(-50%, -50%) ".concat(t),style:{borderRadius:24,transitionDuration:"0s"},onLayoutAnimationStart:()=>{N.current&&(N.current.style.overflowY="hidden")},onLayoutAnimationComplete:()=>{N.current&&(N.current.style.overflowY="auto")},children:[(0,i.jsx)(l.M,{initial:!1,mode:"wait",children:(0,i.jsxs)(n.E.div,{layout:"position",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"stack gap-5 min-w-0",children:[(0,i.jsx)(m.Be,{className:"sr-only",children:"Add voice dialog"}),t]},d)}),"voiceDesign"!==d&&(0,i.jsx)(m.GG,{asChild:!0,className:"hidden sm:block absolute right-5 top-5 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus-ring disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:(0,i.jsx)(n.E.button,{layout:"position","aria-label":"Close",children:(0,i.jsx)(o.Z,{className:"h-4 w-4"})})})]})})})]}),void 0===t&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(w.Th,{open:a&&"cloneVoice"===d,onOpenChange:P}),(0,i.jsx)(_.i,{open:a&&"professionalVoiceClone"===d,onOpenChange:P})]})]})}),tp=e=>{let[t,a]=(0,u.useState)(!1),[s,n]=(0,u.useState)("chooseVoiceType");return(0,i.jsx)(tm,{...e,open:t,onOpenChange:a,type:s,onTypeChange:n})},tv=e=>{var t,a,s,n,r;let{initialValues:l,...o}=e,[c,u]=(0,y.tT)(),[h,m]=(0,d.v1)("creationType",(0,d.km)(tu).withDefault("chooseVoiceType").withOptions({history:"push"})),[,p]=(0,y.F7)(),v=p();return(0,i.jsx)(tm,{open:"create"===c,onOpenChange:e=>u(e?"create":"none"),type:h,onTypeChange:m,initialValues:{voiceDesign:{voiceDescription:null!==(t=v.prompt)&&void 0!==t?t:void 0,previewText:null!==(a=v.previewText)&&void 0!==a?a:void 0,seed:null!==(s=v.seed)&&void 0!==s?s:void 0,loudness:null!==(n=v.loudness)&&void 0!==n?n:void 0,guidanceScale:null!==(r=v.guidanceScale)&&void 0!==r?r:void 0},...l},...o})}},82986:function(e,t,a){"use strict";a.d(t,{L:function(){return A},p:function(){return D}});var i=a(68088),s=a(6496),n=a(95978),r=a(81999),l=a(73862),o=a(9506),c=a(30487),d=a(1851),u=a(60358),h=a(55205),m=a(81158),p=a(72228),v=a(4735),x=a(50113),f=a(11521),g=a(25933),b=a(70297),y=a(63415),j=a(85753),w=a(60189),_=a(64903),k=a(8871),N=a(43479),C=a(21147),S=a(66895);let P=e=>{let{disabled:t,children:a}=e;return(0,i.jsxs)("div",{className:"relative -m-0.5",role:"none",children:[(0,i.jsxs)("div",{className:(0,w.cn)("absolute inset-0 bg-background overflow-hidden rounded-2xl",{hidden:t}),"aria-hidden":!0,children:[(0,i.jsx)("div",{className:"absolute top-0 left-0 w-[125%] translate-x-[-12%] translate-y-[-40%]",style:{aspectRatio:"1"},children:(0,i.jsx)("div",{"aria-hidden":!0,className:"absolute inset-0 transition animate-spin pointer-events-none",style:{backgroundImage:"linear-gradient(140deg, transparent 50%, #66fdffaa 60%, #de4bf2aa 70%, #fe6301 80%)",animationDuration:"12s"}})}),(0,i.jsx)("div",{"aria-hidden":!0,className:"absolute inset-0 mix-blend-color-dodge invert",style:{backgroundImage:"url(/public_app_assets/image/noise.png)",backgroundSize:"75%"}})]}),(0,i.jsx)("div",{className:"relative bg-background/95 backdrop-blur-lg m-[3px] rounded-[13px]",role:"none",children:a})]})},E=e=>{let{title:t,description:a,icon:s,badges:n,href:r,className:c,disabled:d,disabledReason:h,showSubscribeLink:m,onClick:p,onSubscribeClick:x,requiredPermission:g}=e,y=(0,b.Y)(g),j=(0,o.useId)(),_=r&&!d?l.default:"button",N=y?d?h:null:null===y?null:(0,k.zR)(g);return(0,i.jsxs)("li",{className:(0,w.cn)("border border-gray-200 rounded-2xl",c),children:[(0,i.jsxs)(_,{href:null!=r?r:"",className:"w-full p-5 stack gap-2 items-start group rounded-[inherit] focus:outline-gray-alpha-950 transition-colors duration-200 hover:bg-gray-alpha-50 disabled:hover:bg-transparent",disabled:d||!y,onClick:p,"aria-labelledby":j,children:[(0,i.jsxs)("div",{className:"w-full flex items-center gap-1.5 text-sm font-medium group-disabled:text-gray-500",children:[(0,i.jsx)("span",{className:"flex-shrink-0",children:s}),(0,i.jsx)("h3",{id:j,className:"text-left flex-1",children:t})]}),(0,i.jsx)(f.x,{size:"xs",className:"leading-normal text-gray-500 text-left",children:a}),n&&(0,i.jsx)("div",{className:"flex items-center gap-1.5 flex-wrap",children:n})]}),N&&(0,i.jsxs)("div",{className:"flex items-center gap-3 px-5 py-3.5 bg-gray-alpha-50 border-t border-gray-200 rounded-b-[inherit]",children:[(0,i.jsx)(C._V,{className:"w-5 h-5 shrink-0 text-gray-500 hidden sm:block"}),(0,i.jsx)(f.x,{size:"xs",children:N}),m&&y&&(0,i.jsx)(v.Button,{asChild:!0,size:"xs",className:"ml-auto bg-background",onClick:x,children:(0,i.jsx)(l.default,{href:u.VP.subscription,children:"Subscribe"})})]})]})},D=()=>{var e,t;let{data:a,isLoading:s}=(0,c.DS0)({},{refetchOnWindowFocus:!1}),{data:n}=(0,S.M_)(),r=null!==(e=null==n?void 0:n.length)&&void 0!==e?e:0;if(null===d.workspaceData.value||s)return{isLoading:!0};if(!N.Fz.canUsePVC())return{disabledReason:"You need to be on at least the Creator plan to use Professional Voice Cloning"};let l=null!==(t=null==a?void 0:a.professional_voice_slots_used)&&void 0!==t?t:0,o=d.workspaceData.value.get_professional_voice_limit(),u=l>=o,h=N.Fz.canUsePVC(),m="Voice limit of ".concat(o," reached");return["creator","pro","growing_business"].includes(d.workspaceData.value.subscription.tier)?(m="Voice limit of ".concat(o," reached. Upgrade to Business tier to unlock two additional slots"),h=!0):"scale_2024_08_10"===d.workspaceData.value.subscription.tier&&(m=(0,i.jsxs)(i.Fragment,{children:["Voice limit of ",o," reached."," ",(0,i.jsx)(x.Un,{href:"https://elevenlabs.io/contact-sales",target:"_blank",children:"Contact our sales team"})," ","to unlock more"]}),h=!1),{limit:o,totalCount:l,availableCount:Math.max(o-l,0),disabledReason:u?m:void 0,showSubscribeLink:h,draftsCount:r}},A=(0,r.Pi)(e=>{let{onSelect:t,includeVoiceLibraryOption:a,closeDialog:r}=e,l=D(),o=(0,_.AY)();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(N.RG,{title:"Add a new voice",icon:(0,i.jsx)(C.Ky,{className:"w-7 h-7"})}),(0,i.jsxs)("ul",{className:"stack gap-3 max-w-md",children:[(0,i.jsx)(P,{children:(0,i.jsx)(E,{className:"border-none ring-1 ring-gray-alpha-200 rounded-[13px]",title:(0,i.jsxs)("span",{className:"flex items-center justify-between",children:["Voice Design",(0,i.jsxs)(p.Ct,{variant:"secondary","aria-label":"New for v3",children:["New for ",(0,i.jsx)(h.Mp,{className:"h-3.5 -mr-1 ml-1"})]})]}),description:"Design an entirely new voice from a text prompt.",icon:(0,i.jsx)(C.K0,{className:"w-5 h-5"}),badges:[(0,i.jsx)(p.Ct,{variant:"secondary",children:"Less than a minute"},"duration")],onClick:()=>{(0,y.eN)(j.B_.add_new_voice_choose_type,{type:"textToVoice"}),t("voiceDesign")},disabled:!o,disabledReason:"You’ve used all of your custom voice slots. Upgrade to unlock more",showSubscribeLink:!o,onSubscribeClick:()=>{(0,y.eN)(j.B_.add_new_voice_subscribe,{type:"textToVoice"})}})}),(0,i.jsx)(E,{title:"Instant Voice Clone",description:"Clone your voice with only 10 seconds of audio.",icon:(0,i.jsx)(C.Eu,{className:"w-5 h-5"}),badges:[(0,i.jsx)(p.Ct,{variant:"secondary",children:"2 minutes"},"duration")],requiredPermission:"create_instant_voice_clone",onClick:()=>{(0,y.eN)(j.B_.add_new_voice_choose_type,{type:"cloneVoice"}),t("cloneVoice")},disabled:!d.workspaceData.value||!N.Fz.canUseIVC(),disabledReason:"You need to be on at least the Starter plan to use Instant Voice Cloning",showSubscribeLink:!N.Fz.canUseIVC(),onSubscribeClick:()=>{(0,y.eN)(j.B_.add_new_voice_subscribe,{type:"cloneVoice"})}}),(0,i.jsx)(E,{title:(0,i.jsxs)("span",{className:"flex items-center gap-1.5",children:["Professional Voice Clone",(0,i.jsx)(g.Tooltip,{label:(0,i.jsxs)("div",{className:"stack gap-4",children:[(0,i.jsx)("p",{children:"Professional Voice Cloning offers highly accurate voice reproduction but requires more training data than Instant Voice Cloning. Available on Creator+ plans, it allows you to clone your own voice, while Enterprise customers can clone any voice with written permission."}),(0,i.jsx)("p",{children:"If you downgrade, your Pro Voice will be deactivated but can be restored by upgrading. Training typically takes 6 hours, and you'll be notified when it's ready."})]}),children:(0,i.jsx)("span",{"aria-hidden":!0,children:(0,i.jsx)(n.Z,{className:"w-3.5 h-3.5"})})})]}),description:"Create the most realistic digital replica of your voice. Requires at least 30 minutes of clean audio.",icon:(0,i.jsx)(C.Tg,{className:"w-5 h-5"}),badges:[(0,i.jsx)(p.Ct,{variant:"secondary",children:"5 minutes"},"duration"),...void 0!==l.availableCount&&void 0!==l.totalCount&&void 0!==l.limit?[(0,i.jsxs)(p.Ct,{variant:"secondary",className:"gap-1",children:[(0,i.jsx)(s.D,{value:l.totalCount,max:l.limit,color:"black",trackColor:"#E5E7EB",size:"12px",capIsRound:!0,className:"-ml-1"}),0===l.availableCount?"No slots available":"".concat((0,m.W)(l.availableCount)," ").concat(1===l.availableCount?"slot":"slots"," available")]},"slots-available"),l.draftsCount&&l.draftsCount>0?(0,i.jsx)(g.Tooltip,{label:"You have ".concat(l.draftsCount," draft voice ").concat(1===l.draftsCount?"clone":"clones",". Edit or delete ").concat(1===l.draftsCount?"it":"them"," to create a new voice clone."),children:(0,i.jsxs)(p.Ct,{variant:"secondary",children:[l.draftsCount," draft"," ",1===l.draftsCount?"voice":"voices"]})},"draft-voices"):void 0].filter(Boolean):[]],requiredPermission:"create_professional_voice_clone",onClick:()=>{(0,y.eN)(j.B_.add_new_voice_choose_type,{type:"professionalVoiceClone"}),t("professionalVoiceClone")},disabled:l.isLoading||!!l.disabledReason,disabledReason:l.disabledReason,showSubscribeLink:l.showSubscribeLink,onSubscribeClick:()=>{(0,y.eN)(j.B_.add_new_voice_subscribe,{type:"professionalVoiceClone"})}}),a&&(0,i.jsx)(E,{title:"Voice Library",description:"Choose from thousands of high quality voices across different ages, accents, and styles.",icon:(0,i.jsx)(C.Zl,{className:"w-5 h-5"}),href:u.VP.voiceLibrary,requiredPermission:"add_voice_from_voice_library",onClick:()=>{(0,y.eN)(j.B_.add_new_voice_choose_type,{type:"voiceLibrary"}),r()},onSubscribeClick:()=>{(0,y.eN)(j.B_.add_new_voice_subscribe,{type:"voiceLibrary"})}})]})]})})},17466:function(e,t,a){"use strict";a.d(t,{Th:function(){return eT},Ne:function(){return eM},gz:function(){return ez}});var i=a(68088),s=a(18743),n=a(81999),r=a(9506),l=a(50276),o=a(69201),c=a(81398),d=a(93062),u=a(40333),h=a(43479),m=a(21147),p=a(17024),v=a(6496),x=a(5132),f=a(4035),g=a(94814),b=a(55673),y=a(40534),j=a(21782),w=a(91011),_=a(690),k=a(78350),N=a(6056),C=a(98780),S=a(89652),P=a(47607),E=a(5479),D=a(30487),A=a(4735),T=a(12567),V=a(3030),I=a(96474),M=a(32689),L=a(72752),z=a(11521),R=a(84106),F=a(63415),B=a(85753),Z=a(60189),O=a(77491),U=a(64172),q=a(6526);let H=()=>{let[e,t]=(0,r.useState)(!1);return(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsxs)(y.E.div,{className:"stack gap-4 md:grid md:grid-cols-3 md:gap-2.5 [--height:120px] md:[--height:auto] overflow-y-hidden",initial:{height:e?"auto":"var(--height)"},animate:{height:e?"auto":"var(--height)"},transition:{duration:.3,type:"spring"},children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"flex gap-2 items-center md:stack md:items-start",children:[(0,i.jsx)(w.Z,{className:"w-4 h-4 shrink-0"}),(0,i.jsx)(z.x,{color:"foreground",weight:"medium",size:"sm",children:"Avoid noisy environments"})]}),(0,i.jsx)(z.x,{color:"subtle",size:"sm",className:"mt-1",children:"Background sounds interfere with recording quality results."})]}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"flex gap-2 items-center md:stack md:items-start",children:[(0,i.jsx)(_.Z,{className:"w-4 h-4 shrink-0"}),(0,i.jsx)(z.x,{color:"foreground",weight:"medium",size:"sm",children:"Check microphone quality"})]}),(0,i.jsx)(z.x,{color:"subtle",size:"sm",className:"mt-1",children:"Try external units or headphone mics for better audio capture."})]}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"flex gap-2 items-center md:stack md:items-start",children:[(0,i.jsx)(k.Z,{className:"w-4 h-4 shrink-0 scale-[1.125] origin-top-left"}),(0,i.jsx)(z.x,{color:"foreground",weight:"medium",size:"sm",children:"Use consistent equipment"})]}),(0,i.jsx)(z.x,{color:"subtle",size:"sm",className:"mt-1",children:"Don’t change recording equipment between samples."})]})]}),(0,i.jsx)(s.M,{initial:!1,children:!e&&(0,i.jsx)(o.t,{className:"absolute bottom-0 inset-x-0 flex justify-center bg-gradient-to-t from-background from-[8px] pt-8 to-transparent md:hidden",transition:{duration:.3},children:(0,i.jsx)(A.Button,{className:"bg-background",size:"sm",onClick:()=>t(!0),children:"View all instructions"})})})]})},G=(0,n.Pi)(e=>{let{file:t,disableRemove:a,onRemove:s}=e,{isLoading:n,isPlaying:r,togglePlay:l}=(0,U.kY)(t);return(0,i.jsxs)(M.HC,{className:"px-0 py-1.5","aria-label":t.name,children:[(0,i.jsxs)(M.Ek,{children:[(0,i.jsx)(z.x,{size:"sm",weight:"medium",className:"truncate",children:t.name}),(0,i.jsx)(z.x,{size:"sm",color:"subtle",children:t.duration&&(0,L.LU)(t.duration)})]}),(0,i.jsxs)(M.cT,{className:"gap-1",children:[(0,i.jsx)(V.h,{"aria-label":r?"Pause audio":"Play audio",variant:"ghost",loading:n,onClick:l,children:r?(0,i.jsx)(f.Z,{className:"!w-3.5 !h-3.5"}):(0,i.jsx)(m.JF,{className:"!w-3 !h-3"})}),(0,i.jsx)(V.h,{"aria-label":"Remove audio",variant:"ghost",disabled:a,onClick:s,children:(0,i.jsx)(N.Z,{className:"!w-3.5 !h-3.5"})})]})]})});class W extends d.h8{get label(){return this.editVoice?"Edit Audio":"Upload Audio"}get isComplete(){let e=this.files.value.length<=25;return this.files.isAllOriginalRemoteFiles?e:e&&1e4<=this.allFilesDuration&&this.allFilesDuration<27e5}get allFilesDuration(){return this.files.localFiles.reduce((e,t)=>e+t.duration,0)}get isDirty(){return this.files.isDirty||this.removeNoise.isDirty}flushFields(){this.files.flush(),this.removeNoise.flush()}setVoiceToEdit(e){var t,a,i;this.editVoice=e,this.voicePreview={voice_id:e.voice_id,preview:{type:"url",url:null!==(a=e.preview_url)&&void 0!==a?a:""}},this.files.value=null!==(i=null===(t=e.samples)||void 0===t?void 0:t.map(t=>U.tY.create(t,e.voice_id)))&&void 0!==i?i:[],this.files.flush()}constructor(e){super(e),(0,p._)(this,"files",(0,U.Cd)()),(0,p._)(this,"removeNoise",(0,q.M)(!0)),(0,p._)(this,"numRecordings",0),(0,p._)(this,"editVoice",void 0),(0,p._)(this,"voicePreview",void 0),(0,p._)(this,"Content",(0,n.Pi)(()=>{let{mutateAsync:e,isLoading:t}=(0,b.useMutation)(async()=>{let e=await Promise.all(this.files.localFiles.map(e=>e.file()));return this.editVoice?(0,D.F3x)({pathParams:{voiceId:this.editVoice.voice_id},body:{files:e,sample_ids_to_remove:this.files.changes.toRemove.map(e=>e.id),remove_background_noise:this.removeNoise.value},headers:{"Content-Type":"multipart/form-data"}}):(0,D.Cdk)({body:{files:e,remove_background_noise:this.removeNoise.value},headers:{"Content-Type":"multipart/form-data"}})}),a=async()=>{try{if(this.isDirty){(0,F.eN)(B.B_.voice_lab_instant_voice_cloning_preview_started,{n_samples:this.files.value.length,n_new_samples:this.files.localFiles.length,isolateSamples:this.removeNoise.value});let t=await (0,d.Cl)(this.stepper,e);this.voicePreview={voice_id:t.generated_voice_id,preview:{type:"base64",base64:t.audio_base_64,mediaType:t.media_type}},(0,F.eN)(B.B_.voice_lab_instant_voice_cloning_preview_created,{voice_id:this.voicePreview.voice_id,n_samples:this.files.value.length,n_new_samples:this.files.localFiles.length,isolateSamples:this.removeNoise.value})}this.flushFields(),this.stepper.goToNext()}catch(e){(0,g.Tb)(e),R.toast.errorHttp(e)}};return(0,r.useEffect)(()=>{0===this.files.localFiles.length&&this.flushFields()},[this.files.localFiles.length]),(0,i.jsxs)(j.S,{children:[(0,i.jsx)(H,{}),(0,i.jsx)(L.O3,{maxFileSize:10,disabled:t,recorder:{minDuration:5e3,maxDuration:3e4,formatFileName:()=>"Recording ".concat(this.numRecordings+1)},className:"mt-6",onAddFiles:async(e,t)=>{"record"===t&&this.numRecordings++;let a=await Promise.all(e.map(e=>U.rf.create(e)));a=a.filter(e=>{if(e.duration<5e3){let t='File "'.concat(e.name,'" is too short. Please choose a file with at least ').concat(5,"s of audio.");return R.toast.error(t,{duration:6e3}),!1}return!0}),this.files.concat(a)}}),(0,i.jsx)(s.M,{initial:!1,children:this.files.value.length>0&&(0,i.jsxs)(o.t,{className:"mt-6 mb-2",children:[(0,i.jsx)(M.aV,{children:(0,i.jsx)(s.M,{initial:!1,children:this.files.value.map(e=>(0,i.jsx)(y.E.div,{role:"none",initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0,transition:{opacity:{duration:.1}}},className:"px-1 -mx-1 overflow-hidden",children:(0,i.jsx)(G,{file:e,disableRemove:t,onRemove:()=>this.files.remove(e)})},e.id))})}),(0,i.jsx)(s.M,{children:this.files.localFiles.length>0&&(0,i.jsx)(o.t,{className:"mt-4",children:(0,i.jsxs)(I.Label,{className:"flex w-fit items-center gap-2 cursor-pointer disabled:cursor-not-allowed",disabled:t,children:[(0,i.jsx)(T.X,{checked:this.removeNoise.value,disabled:t,onCheckedChange:e=>{this.removeNoise.value=!!e}}),(0,i.jsx)("span",{children:"Remove background noise from audio recordings"})]})})})]})}),(0,i.jsxs)(y.E.div,{className:"sticky bg-background/70 backdrop-blur md:bg-transparent md:backdrop-blur-none -bottom-6 -mx-6 px-6 pb-6 pt-4 md:mx-0 md:mb-28 md:px-0 md:pb-0 md:static [mask:var(--mask)] md:[mask:none] flex items-center justify-between gap-4",layout:"position",style:{"--mask":"linear-gradient(to bottom, transparent, white 12px)"},"aria-live":"polite",children:[(0,i.jsx)(s.M,{mode:"wait",initial:!1,children:this.allFilesDuration>=27e5?(0,i.jsxs)(o.t,{className:"flex items-center gap-2",children:[(0,i.jsx)(C.Z,{className:"w-5 h-5 text-error shrink-0"}),(0,i.jsxs)(z.x,{className:"text-error",size:"sm",weight:"medium",children:["Recordings must be less than"," ",45," minutes long"]})]},"uploads-max-duration-exceeded"):this.files.value.length>25?(0,i.jsxs)(o.t,{className:"flex items-center gap-2",children:[(0,i.jsx)(C.Z,{className:"w-5 h-5 text-error shrink-0"}),(0,i.jsxs)(z.x,{className:"text-error",size:"sm",weight:"medium",children:["You can only upload ",25," recordings"]})]},"uploads-max-samples-per-voice-exceeded"):this.allFilesDuration>=18e4&&this.isComplete?(0,i.jsxs)(o.t,{className:"flex items-center gap-2",children:[(0,i.jsx)(S.Z,{className:"w-5 h-5 text-green-500"}),(0,i.jsx)(z.x,{weight:"medium",size:"sm",children:"Perfect!"})]},"uploads-perfect"):(0,i.jsxs)(o.t,{className:"flex items-center gap-2",children:[(0,i.jsx)(v.D,{value:this.files.isAllOriginalRemoteFiles?18e4:this.allFilesDuration,max:18e4,color:this.isComplete?"rgb(34,197,94)":"black",trackColor:"#E5E7EB",size:"20px",capIsRound:!0,children:(0,i.jsx)(s.M,{children:this.isComplete&&(0,i.jsx)(x.i,{as:o.t,children:(0,i.jsx)(P.Z,{className:"inline text-green-500 w-2 h-2",strokeWidth:4.5})})})}),(0,i.jsx)(s.M,{mode:"wait",children:this.isComplete?(0,i.jsxs)(o.t,{className:"h-6",children:[(0,i.jsx)(z.x,{size:"sm",weight:"medium",children:"Ready"}),(0,i.jsx)(z.x,{size:"xs",color:"subtle",className:"col-start-2",style:{textWrap:"balance"},children:"Continue to add recordings for a better clone"})]},"uploads-ready"):(0,i.jsx)(o.t,{children:(0,i.jsxs)(z.x,{size:"sm",weight:"medium",className:(0,Z.cn)("transition-colors duration-150",{"text-error":this.allFilesDuration>0}),children:[10," seconds of audio required"]})},"uploads-progress-text")})]},"uploads-duration-progress")}),(0,i.jsx)(A.Button,{variant:"primary",size:"lg",loading:t,disabled:!this.isComplete,tooltip:!this.files.isAllOriginalRemoteFiles&&this.allFilesDuration<1e4?"At least ".concat((0,O.GK)(10)," of audio is required"):void 0,onClick:a,children:"Next"})]})]})})),(0,E.rC)(this,{voicePreview:E.LO.ref,allFilesDuration:E.Fl,isDirty:E.Fl,flushFields:E.aD,setVoiceToEdit:E.aD})}}class Y extends W{get isComplete(){return!0}get isDisabled(){return!0}}var K=a(4111),X=a(42454),Q=a(73063),J=a(38028),$=a(19803),ee=a(73862),et=a(23431),ea=a(74508),ei=a(82069),es=a(4322),en=a(2986),er=a(10258),el=a(1851),eo=a(60358),ec=a(26090),ed=a(92234),eu=a(20807),eh=a(54389),em=a(15750),ep={src:"/app_assets/_next/static/media/conv-ai.80031e15.png"},ev={src:"/app_assets/_next/static/media/projects.ed27cca6.png"},ex={src:"/app_assets/_next/static/media/text-to-speech.12f5ca49.png"};let ef=e=>{let{title:t="Voice verification attempt failed",message:a,showControls:s,onPlay:n,onRetry:r}=e;return(0,i.jsxs)("div",{className:"stack items-center text-center",children:[(0,i.jsx)(C.Z,{className:"w-5 h-5 text-red-600"}),(0,i.jsx)(z.x,{className:"mt-1.5",weight:"medium",children:t}),a&&(0,i.jsx)(z.x,{className:"mt-1 text-balance",children:a}),s&&(0,i.jsxs)("div",{className:"mt-2.5 flex gap-2.5",children:[(0,i.jsx)(A.Button,{onClick:n,children:"Play recording"}),(0,i.jsx)(A.Button,{onClick:r,children:"Try again"})]})]})},eg=(0,n.Pi)(e=>{let{voice:t,clonedVoice:a}=e,s=(0,et.useRouter)(),n=(0,er.XM)(),{mutate:r,isLoading:l}=(0,b.useMutation)({mutationFn:()=>n(t.public_owner_id,t.voice_id,t.name),onSuccess:async()=>{el.models.value=await (0,ei.f)()},onError:e=>{(0,R.toast)((null==e?void 0:e.message)||"Failed to add voice to my voices.")}}),o=ec.yA.value&&!!ec.Qu.value&&ec.Qu.value.id===t.preview_url,c=async()=>{if(t.is_added_by_user){let e=await (0,D.EzY)({pathParams:{voiceId:t.voice_id}});el.selectedVoice.value=e,s.push(eo.VP.speechSynthesis)}(0,F.eN)(B.B_.voice_lab_instant_voice_cloning_captcha_alternative_voice_used,{voice:a,alternative_voice:t})};return(0,i.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,i.jsx)("div",{className:"shrink-0",children:(0,i.jsx)(ed.v,{voice:t,hideIndicator:!0,showPreview:!1,size:"1.25rem"})}),(0,i.jsx)(z.x,{weight:"medium",className:"truncate",children:t.name}),(0,i.jsxs)("div",{className:"ml-auto flex gap-1.5",children:[(0,i.jsx)(V.h,{"aria-label":"Play voice",size:"sm",onClick:()=>{o?(0,ec.pt)():((0,er.d4)(t.preview_url,t.name,t.voice_id),(0,F.eN)(B.B_.voice_lab_instant_voice_cloning_captcha_alternative_voice_played,{voice:a,alternative_voice:t}))},children:o?(0,i.jsx)(f.Z,{className:"!w-3 !h-3"}):(0,i.jsx)(m.JF,{className:"!w-2.5 !h-2.5"})}),t.is_added_by_user?(0,i.jsx)(V.h,{"aria-label":"Use voice",tooltip:"Use voice",size:"sm",onClick:c,children:(0,i.jsx)(P.Z,{className:"!w-3.5 !h-3.5"})}):(0,i.jsx)(V.h,{"aria-label":"Add voice",tooltip:"Add voice",size:"sm",onClick:()=>r(),loading:l,children:(0,i.jsx)(X.Z,{className:"!w-3.5 !h-3.5"})})]})]})});class eb extends d.h8{get label(){return this.verified?"Finish up":"Verification"}get voice(){return void 0!==this.voiceToVerify?this.voiceToVerify:this.prev.voiceSaved}set voice(e){this.voiceToVerify=e}get isDisabled(){var e;return this.forceDisable||!this.voice||(null===(e=this.prev)||void 0===e?void 0:e.isDisabled)||Reflect.get(d.h8.prototype,"isDisabled",this)}set isDisabled(e){this.forceDisable=e}get isComplete(){return this.showFinishUp}reset(){this.verified=!0,this.showFinishUp=!1,this.verification.reset(),this.similarVoices.reset()}constructor(e){super(e),(0,p._)(this,"verified",!0),(0,p._)(this,"showFinishUp",!1),(0,p._)(this,"voiceToVerify",void 0),(0,p._)(this,"forceDisable",!0),(0,p._)(this,"similarVoices",(0,q.u)({fetchFn:async()=>{var e,t,a;let i=this.voice;if(!i)return;let s=this.stepper.steps[0],n=await (null!==(a=null===(e=s.files.localFiles.at(0))||void 0===e?void 0:e.file())&&void 0!==a?a:null===(t=s.files.value.at(0))||void 0===t?void 0:t.file());if(!n)return;let r=(await (0,en.T0)(n)).voices.slice(0,4);return r.length>0&&(0,F.eN)(B.B_.voice_lab_instant_voice_cloning_captcha_show_alternative_voices,{voice:i,alternative_voice_ids:r.map(e=>e.voice_id)}),r}})),(0,p._)(this,"verification",(0,q.u)({fetchFn:async e=>{let t=this.voice;t&&(await (0,d.Cl)(this.stepper,()=>(0,er.kk)(t.voice_id,e)),this.verified=!0,(0,F.eN)(B.B_.voice_lab_instant_voice_cloning_captcha_succeeded,{voice_id:t.voice_id,name:t.name}),(0,F.eN)(B.B_.voice_lab_instant_voice_cloning_created,{voice_id:t.voice_id,name:t.name}))},onError:e=>{let t=this.voice;t&&(this.similarVoices.data||this.similarVoices.fetch(),(0,F.eN)(B.B_.voice_lab_instant_voice_cloning_captcha_failed,{voice_id:t.voice_id,name:t.name,reason:e.message}))}})),(0,p._)(this,"Content",(0,n.Pi)(e=>{var t;let{onComplete:a}=e,n=this.voice;if(!n)throw Error("Unreachable: IVC Verify and Finish step render without a voice clone");let[l,c]=(0,r.useState)(!1);(0,r.useEffect)(()=>{if(this.isComplete)return this.stepper.disabled=!0,()=>{this.stepper.disabled=!1}},[this.isComplete]);let{mutate:d,isLoading:u,error:h,data:m,reset:p}=(0,b.useMutation)({mutationFn:()=>(0,er.Jp)(n.voice_id),onError:e=>{e instanceof es.oo&&"already_verified"===e.errorType&&(this.verified=!0,this.showFinishUp=!0)}}),v=(0,em.XE)(),{fetch:x,isLoading:f,error:g,variables:j,reset:w}=this.verification;return(0,i.jsx)(s.M,{initial:!1,mode:"wait",children:this.showFinishUp?(0,i.jsxs)(o.t,{children:[(0,i.jsx)(eu.X,{size:"lg",children:this.verified?"Try out your new clone":"Voice verification skipped"}),(0,i.jsx)(z.x,{className:"mt-1",children:this.verified?"Your voice is now ready to be used throughout the product.":"Once you’ve verified your voice, you’ll be able to use it throughout the product."}),(0,i.jsxs)("div",{className:"mt-5 stack gap-3",children:[(0,i.jsxs)(ee.default,{href:eo.VP.speechSynthesis,onClick:()=>{this.verified&&(el.selectedVoice.value=n),(0,F.eN)(B.B_.voice_lab_instant_voice_cloning_finish_product_clicked,{product:"text-to-speech",voice:n}),null==a||a()},className:"flex items-center p-1.5 pr-6 border border-gray-alpha-200 rounded-[18px] gap-4 outline-gray-alpha-950 hover:bg-gray-alpha-50 transition duration-200",children:[(0,i.jsx)($.default,{src:ex.src,alt:"",width:70,height:70,className:"aspect-1 object-cover rounded-xl shrink-0"}),(0,i.jsxs)("div",{className:"grow",children:[(0,i.jsx)(eu.X,{children:"Generate speech"}),(0,i.jsx)(z.x,{children:"Take your new clone for a test drive with Text to Speech."})]}),(0,i.jsx)("div",{className:"shrink-0 text-gray-alpha-500",children:(0,i.jsx)(J.Z,{className:"w-5 h-5"})})]}),(0,i.jsxs)(ee.default,{href:eo.VP.conversationalAi,className:"flex items-center p-1.5 pr-6 border border-gray-alpha-200 rounded-[18px] gap-4 outline-gray-alpha-950 hover:bg-gray-alpha-50 transition duration-200",onClick:()=>{(0,F.eN)(B.B_.voice_lab_instant_voice_cloning_finish_product_clicked,{product:"conversational-ai",voice:n,verified:this.verified}),null==a||a()},children:[(0,i.jsx)($.default,{src:ep.src,alt:"",width:70,height:70,className:"aspect-1 object-cover rounded-xl shrink-0"}),(0,i.jsxs)("div",{className:"grow",children:[(0,i.jsx)(eu.X,{children:"Speak with yourself"}),(0,i.jsxs)(z.x,{children:[(0,i.jsx)("span",{className:"md:hidden",children:"By creating a Conversational AI agent."}),(0,i.jsx)("span",{className:"hidden md:inline",children:"Speak with your own clone by creating a Conversational AI agent."})]})]}),(0,i.jsx)("div",{className:"shrink-0 text-gray-alpha-500",children:(0,i.jsx)(J.Z,{className:"w-5 h-5"})})]}),(0,i.jsxs)(ee.default,{href:eo.VP.studio,className:"flex items-center p-1.5 pr-6 border border-gray-alpha-200 rounded-[18px] gap-4 outline-gray-alpha-950 hover:bg-gray-alpha-50 transition duration-200",onClick:()=>{(0,F.eN)(B.B_.voice_lab_instant_voice_cloning_finish_product_clicked,{product:"projects",voice:n,verified:this.verified}),null==a||a()},children:[(0,i.jsx)($.default,{src:ev.src,alt:"",width:70,height:70,className:"aspect-1 object-cover rounded-xl shrink-0"}),(0,i.jsxs)("div",{className:"grow",children:[(0,i.jsx)(eu.X,{children:"Narrate a story"}),(0,i.jsx)(z.x,{children:"Create a story, narrated by you using Studio."})]}),(0,i.jsx)("div",{className:"shrink-0 text-gray-alpha-500",children:(0,i.jsx)(J.Z,{className:"w-5 h-5"})})]})]}),(0,i.jsx)("div",{className:"mt-5 flex gap-2.5 justify-end",children:(0,i.jsx)(A.Button,{size:"lg",variant:"primary",onClick:()=>{(0,F.eN)(B.B_.voice_lab_instant_voice_cloning_finish_skipped,{voice:n,verified:this.verified}),null==a||a()},children:this.verified?"Skip":"Continue"})})]},"finish-up"):(0,i.jsxs)(o.t,{children:[(0,i.jsx)(eu.X,{size:"lg",children:"Verification required"}),(0,i.jsx)(z.x,{className:"mt-1",children:"In order to use this voice, you will need to complete a voice verification."}),(0,i.jsxs)("div",{className:"mt-4",children:[(0,i.jsx)("div",{className:"border border-subtle rounded-t-3xl flex items-center justify-center min-h-[250px] px-6 md:px-12 py-10",children:(0,i.jsx)(s.M,{mode:"wait",initial:!1,children:g||h?(0,i.jsx)(o.t,{children:h instanceof es.oo&&"max_verification_attempts_reached"===h.errorType?(0,i.jsx)(ef,{title:"Maximum voice verification attempts reached.",message:"If you believe this is a mistake, you can delete the voice clone and try again by creating new one."}):(0,i.jsx)(ef,{message:(null==g?void 0:g.message)||(null==h?void 0:h.message),showControls:!!g,onPlay:async()=>{if(!j)return;let e=await (0,eh.sT)(j);(0,ec.GM)(e,{id:(0,ea.k$)(),autoStart:!0,fileName:null,name:j.name,type:"other",isFirstRequest:!0,player:{title:"Voice verification recording"}})},onRetry:()=>{p(),w(),c(!1)}})},"verification-error"):this.verified?(0,i.jsxs)(o.t,{className:"stack items-center text-center",children:[(0,i.jsx)(S.Z,{className:"w-5 h-5 text-green-500"}),(0,i.jsx)(z.x,{className:"mt-1.5",weight:"medium",children:"Voice Verification Complete"}),(0,i.jsx)(z.x,{className:"mt-1",children:"Thank you for verifying this voice. The spoken audio matched the samples that were uploaded, and you can now use this voice in the product."})]},"verification-success"):m?(0,i.jsx)(o.t,{children:u||f?(0,i.jsx)(K.$,{}):l?(0,i.jsx)("img",{src:m,className:"md:scale-75 dark:invert"}):(0,i.jsx)(z.x,{className:"text-center",size:"md",weight:"medium",children:"Get ready to speak..."})},"verification-captcha"):(0,i.jsx)(o.t,{children:(0,i.jsx)(z.x,{className:"text-center",size:"md",weight:"medium",children:"Record yourself speaking the text that will be displayed on screen, ensuring that the recording quality is consistent with the voice sample recordings."})},"verification-info")})}),(0,i.jsx)("div",{className:"border border-t-0 border-subtle rounded-b-3xl",children:(0,i.jsx)(L.KN,{className:"h-56 -mt-8 md:h-40 md:mt-0",maxDuration:15e3,disabled:!!h||!!g||this.verified||f,stopButton:(0,i.jsx)(A.Button,{variant:"primary",leftIcon:(0,i.jsx)(Q.Z,{}),children:"Submit recording"}),onChange:async e=>{try{await x(e),v()}catch(e){}c(!1)},onRecordingStart:()=>{var e;d(),setTimeout(()=>{c(!0)},3e3),(null===(e=this.similarVoices.data)||void 0===e?void 0:e.length)?(0,F.eN)(B.B_.voice_lab_instant_voice_cloning_captcha_with_alternative_voices,{voice:n}):(0,F.eN)(B.B_.voice_lab_instant_voice_cloning_captcha_without_alternative_voices,{voice:n})}})})]}),(0,i.jsx)(s.M,{children:!!(null===(t=this.similarVoices.data)||void 0===t?void 0:t.length)&&!this.verified&&(0,i.jsxs)(o.t,{className:"mt-6 mb-8",children:[(0,i.jsx)(eu.X,{size:"lg",children:"Or try similar voices from the Library"}),(0,i.jsx)("div",{className:"mt-3 grid grid-cols-2 gap-x-8 gap-y-2.5",children:this.similarVoices.data.map(e=>(0,i.jsx)(eg,{voice:e,clonedVoice:n},e.voice_id))})]})}),(0,i.jsx)(y.E.div,{layout:"position",className:"mt-5 flex gap-2.5 justify-end",children:this.verified?(0,i.jsx)(A.Button,{size:"lg",variant:"primary",onClick:()=>{this.showFinishUp=!0},children:"Finish up"}):(0,i.jsx)(A.Button,{size:"lg",variant:"ghost",onClick:()=>{this.showFinishUp=!0,(0,F.eN)(B.B_.voice_lab_instant_voice_cloning_captcha_skip,{voice:n})},children:"Skip for now"})})]},"voice-verification")})})),(0,E.rC)(this,{verified:E.LO,showFinishUp:E.LO,label:E.Fl,reset:E.aD})}}var ey=a(89775),ej=a(94809),ew=a(42032),e_=a(46547),ek=a(65204),eN=a(29554),eC=a(39255),eS=a(26897),eP=a(43941);class eE extends d.h8{get voicePreview(){return this.prev.voicePreview}get isDisabled(){let e=this.prev;return!this.voicePreview||e.isDirty||Reflect.get(d.h8.prototype,"isDisabled",this)}get isComplete(){return void 0!==this.voiceSaved}constructor(e){super(e),(0,p._)(this,"label","Voice Information"),(0,p._)(this,"voiceSaved",void 0),(0,p._)(this,"refetchVoiceSaved",async()=>{var e,t;if(null===(e=this.voicePreview)||void 0===e?void 0:e.voice_id)try{return this.voiceSaved=await (0,D.EzY)({pathParams:{voiceId:null===(t=this.voicePreview)||void 0===t?void 0:t.voice_id}}),this.voiceSaved}catch(e){}}),(0,p._)(this,"Content",(0,n.Pi)(e=>{var t,a,s,n,o;let{onComplete:c}=e,u={voiceName:(0,r.useId)(),description:(0,r.useId)(),acceptTerms:(0,r.useId)()},h=(0,eC.bs)("md"),p=!this.voicePreview||"url"===this.voicePreview.preview.type&&!this.voicePreview.preview.url,v=this.prev,x=(0,em.XE)(),{formState:{errors:f,isSubmitting:g},register:b,getValues:w,resetField:_,handleSubmit:k}=(0,l.Gc)(),[N,C]=(0,r.useState)(w().voiceName),[S]=(0,r.useState)(v&&!v.files.isAllUploaded);(0,r.useEffect)(()=>{(null==v?void 0:v.files.isDirty)&&!(null==v?void 0:v.files.isAllUploaded)&&_("agreeToTerms")},[null==v?void 0:v.files.isDirty,null==v?void 0:v.files.isAllUploaded]),(0,r.useEffect)(()=>{var e;(null===(e=this.voicePreview)||void 0===e?void 0:e.voice_id)&&this.refetchVoiceSaved()},[null===(t=this.voicePreview)||void 0===t?void 0:t.voice_id]);let{addRecentlyUsedVoice:P}=(0,eN.Z)([]),E=async e=>{let t=this.voicePreview;if(!t)return;let a=this.next,i=Object.fromEntries(e.labels.map(e=>[e.label,e.value]));null==a||a.reset();let s=null==v?void 0:v.files.value.length,n=null==v?void 0:v.files.changes,r=null==n?void 0:n.toAdd.length;try{var l,o,u,h,m;let p;this.voiceSaved?(p=this.voiceSaved,p=await (0,d.Cl)(this.stepper,async()=>{var t,a;await Promise.all(null!==(t=null==n?void 0:n.toRemove.map(e=>(0,er.sb)(p.voice_id,e.id)))&&void 0!==t?t:[]);let s=await Promise.all(null!==(a=null==n?void 0:n.toAdd.map(e=>e.file()))&&void 0!==a?a:[]);return await (0,er.IM)({...p,name:e.voiceName,description:e.description,labels:i},s.map(e=>({file:e})),null==v?void 0:v.removeNoise.value),null==v||v.files.commitChanges(),x(),await this.refetchVoiceSaved()}),(0,F.eN)(B.B_.voice_lab_edit_voice,{voice_id:p.voice_id,name:e.voiceName,description:e.description,labels:i,n_samples:s,n_new_samples:r,isolateSamples:null==v?void 0:v.removeNoise.value})):(p=await (0,d.Cl)(this.stepper,async()=>(this.voiceSaved=await (0,D.ZHZ)({body:{cloned_voice_preview_id:t.voice_id,voice_name:e.voiceName,voice_description:e.description,labels:i}}),null==v||v.files.commitChanges(),x(),this.voiceSaved)),(0,F.eN)(B.B_.voice_lab_instant_voice_cloning_started,{voice_id:p.voice_id,requires_verification:null===(l=p.voice_verification)||void 0===l?void 0:l.requires_verification,name:e.voiceName,description:e.description,labels:i,n_samples:s,isolateSamples:null==v?void 0:v.removeNoise.value}),(null===(o=p.voice_verification)||void 0===o?void 0:o.requires_verification)||((0,F.eN)(B.B_.voice_lab_instant_voice_cloning_created,{voice_id:p.voice_id,requires_verification:null===(u=p.voice_verification)||void 0===u?void 0:u.requires_verification,name:e.voiceName,description:e.description,labels:i,n_samples:s,isolateSamples:null==v?void 0:v.removeNoise.value}),P(p.voice_id))),a&&(a.isDisabled=!1,a.verified=!(null===(h=p.voice_verification)||void 0===h?void 0:h.requires_verification),a.showFinishUp=!(null===(m=p.voice_verification)||void 0===m?void 0:m.requires_verification)),this.next&&!this.next.isDisabled&&this.stepper.goToNext(),null==c||c()}catch(t){(0,ey.$e)(a=>{var n,l,o;a.setTag("step","ivc-save");let c=null!==(o=null===(n=this.voiceSaved)||void 0===n?void 0:n.voice_id)&&void 0!==o?o:null===(l=this.voicePreview)||void 0===l?void 0:l.voice_id;c&&a.setTag("voice_id",c),a.setContext("values",{name:e.voiceName,description:e.description,labels:i,isolateSamples:null==v?void 0:v.removeNoise.value,n_samples:s,n_new_samples:r}),a.captureException(t)}),R.toast.errorHttp(t)}};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"flex items-center gap-4",children:[(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)(ew.Yx,{id:null===(a=this.voicePreview)||void 0===a?void 0:a.voice_id,name:N,size:h?"4.5rem":"3rem",imgSize:144}),(0,i.jsx)(eS.G7,{category:"cloned",size:h?"2rem":"1.6rem"})]}),(0,i.jsx)(A.Button,{leftIcon:(0,i.jsx)(m.JF,{className:"!w-3 !h-3 !-ml-0.5"}),disabled:p,onClick:()=>{var e;this.voicePreview&&((0,F.eN)(B.B_.voice_lab_instant_voice_cloning_preview_voice_clicked,{voice_id:this.voicePreview.voice_id,preview:this.voicePreview.preview}),"base64"===this.voicePreview.preview.type?(0,ec.GM)("data:".concat(this.voicePreview.preview.mediaType,";base64,").concat(this.voicePreview.preview.base64),{fileName:"voice-preview.mp3",id:this.voicePreview.voice_id,name:"voice-preview.mp3",isFirstRequest:!0,autoStart:!0,type:"other",player:{title:"Instant Voice Clone Preview",voice_id:this.voicePreview.voice_id}}):"url"===this.voicePreview.preview.type&&this.voicePreview.preview.url&&(null===(e=this.voiceSaved)||void 0===e?void 0:e.voice_id)===this.voicePreview.voice_id&&(0,er.d4)(this.voicePreview.preview.url,this.voiceSaved.name,this.voicePreview.voice_id))},children:p?"Preview unavailable":"Preview voice"})]}),(0,i.jsx)(j.S,{children:(0,i.jsx)("form",{className:"mt-8",onSubmit:k(E),children:(0,i.jsxs)("fieldset",{className:"stack gap-8",disabled:g,children:[(0,i.jsxs)(y.E.div,{layout:"position",className:"stack gap-2",children:[(0,i.jsx)(I.Label,{htmlFor:u.voiceName,children:"Name"}),(0,i.jsx)(e_.I,{id:u.voiceName,placeholder:"e.g. old British man",className:"rounded-lg",...b("voiceName",{validate:e=>0!==e.trim().length||"Please give your voice a name",onBlur:()=>C(w().voiceName)})}),(0,i.jsx)(eP.du,{children:null===(s=f.voiceName)||void 0===s?void 0:s.message})]}),(0,i.jsx)(eP.nH,{}),(0,i.jsxs)(y.E.div,{layout:"position",className:"stack gap-2",children:[(0,i.jsx)(I.Label,{htmlFor:u.description,children:"Description"}),(0,i.jsx)(ek.g,{id:u.description,rows:3,className:"rounded-lg max-h-44",...b("description",{maxLength:{value:500,message:"Description should be less than 500 characters"}})}),(0,i.jsx)(eP.du,{children:null===(n=f.description)||void 0===n?void 0:n.message})]}),S&&(0,i.jsxs)(y.E.div,{layout:"position",className:"flex gap-3",children:[(0,i.jsx)(l.Qr,{name:"agreeToTerms",rules:{required:{value:!0,message:"Please agree to the terms"}},render:e=>{let{field:{value:t,onChange:a,...s}}=e;return(0,i.jsx)(T.X,{id:u.acceptTerms,className:"rounded-lg",checked:t,onCheckedChange:a,...s})}}),(0,i.jsxs)("div",{className:"stack gap-2",children:[(0,i.jsx)(z.x,{as:"div",size:"sm",color:"subtle",children:(0,i.jsxs)("label",{htmlFor:u.acceptTerms,children:["I hereby confirm that I have all necessary rights or consents to upload and clone these voice samples and that I will not use the platform-generated content for any illegal, fraudulent, or harmful purpose. I reaffirm my obligation to abide by ElevenLabs’"," ",(0,i.jsx)("a",{href:"https://elevenlabs.io/terms-of-use",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-gray-700 transition-colors duration-150",children:"Terms of Service"}),","," ",(0,i.jsx)("a",{href:"https://elevenlabs.io/use-policy",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-gray-700 transition-colors duration-150",children:"Prohibited Content and Uses Policy"})," ","and"," ",(0,i.jsx)("a",{href:"https://elevenlabs.io/privacy-policy",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-gray-700 transition-colors duration-150",children:"Privacy Policy"}),"."]})}),(0,i.jsx)(eP.du,{children:null===(o=f.agreeToTerms)||void 0===o?void 0:o.message})]})]}),(0,i.jsxs)(y.E.div,{layout:"position",className:"sticky bg-background/70 backdrop-blur md:bg-transparent md:backdrop-blur-none -bottom-6 -mx-6 px-6 pb-6 pt-5 md:mx-0 md:mb-28 md:px-0 md:pb-0 md:static [mask:var(--mask)] md:[mask:none] flex gap-2.5 justify-between xl:justify-end",style:{"--mask":"linear-gradient(to bottom, transparent, white 12px)"},children:[!this.prev||this.prev instanceof Y?(0,i.jsx)("div",{}):(0,i.jsxs)(A.Button,{size:"lg",type:"button",className:"bg-background",onClick:()=>this.stepper.goToPrev(),leftIcon:(0,i.jsx)(ej.Z,{className:"xl:hidden !w-3.5 !h-3.5 !mr-1"}),children:[(0,i.jsx)("span",{className:"xl:hidden",children:this.prev.label}),(0,i.jsx)("span",{className:"hidden xl:inline",children:"Back"})]}),(0,i.jsx)(A.Button,{variant:"primary",size:"lg",type:"submit",loading:g,children:"Save voice"})]})]})})})]})})),(0,E.rC)(this,{voicePreview:E.Fl,voiceSaved:E.LO})}}class eD extends eE{get isComplete(){return!0}get isDisabled(){return!0}}let eA=(0,n.Pi)(e=>{let{onComplete:t}=e,a=(0,l.cI)({defaultValues:{voiceName:"",labels:[{label:"language",value:""}],description:"",agreeToTerms:!1}}),n=(0,r.useMemo)(()=>new d.vF([W,eE,eb]),[]);return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(d.jE,{stepper:n,title:"Instant Voice Clone",icon:(0,i.jsx)("div",{className:"w-10 h-10 rounded-[10px] shadow-sm ring-1 ring-gray-alpha-200 flex items-center justify-center",children:(0,i.jsx)(m.Eu,{className:"w-5 h-5"})}),classes:{container:"max-w-2xl"},stepsActions:(0,i.jsx)("div",{className:"mt-6",children:(0,i.jsx)(c.o,{source:"instant-voice-clone-create"})}),children:[(0,i.jsx)(h.RG,{title:"Instant Voice Clone",icon:(0,i.jsx)(m.Eu,{className:"w-7 h-7"}),className:"mb-8 md:hidden",hideClose:!0}),(0,i.jsx)(s.M,{mode:"wait",initial:!1,children:(0,i.jsx)(o.t,{children:n.activeStep instanceof eE?(0,i.jsx)(l.RV,{...a,children:(0,i.jsx)(n.activeStep.Content,{})}):n.activeStep instanceof eb?(0,i.jsx)(n.activeStep.Content,{onComplete:t}):(0,i.jsx)(n.activeStep.Content,{})},n.activeStep.id)})]})})}),eT=e=>{let{open:t,onOpenChange:a}=e;return(0,i.jsx)(u.jW,{open:t,onOpenChange:a,children:(0,i.jsx)(u._2,{onEscapeKeyDown:e=>e.preventDefault(),children:(0,i.jsx)(eA,{onComplete:()=>a(!1)})})})};var eV=a(2544);let eI=(0,n.Pi)(e=>{var t;let{onComplete:a,voice:n}=e,u=(0,l.cI)({defaultValues:{voiceName:n.name,labels:(0,eP.OI)(Object.entries({language:"",...n.labels}).filter(e=>{let[t]=e;return eP.B6.has(t)}).map(e=>{let[t,a]=e;return{label:t,value:a}})),description:null!==(t=n.description)&&void 0!==t?t:void 0,agreeToTerms:!1}}),p=(0,r.useMemo)(()=>{let e=new d.vF([W,eE,eb]),t=e.steps[0],a=e.steps[1];return t.setVoiceToEdit(n),e.setActiveStepId(a.isDisabled?t.id:a.id),e},[]);return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(d.jE,{stepper:p,title:"Instant Voice Clone",icon:(0,i.jsx)("div",{className:"w-10 h-10 rounded-[10px] shadow-sm ring-1 ring-gray-alpha-200 flex items-center justify-center",children:(0,i.jsx)(m.Eu,{className:"w-5 h-5"})}),classes:{container:"max-w-2xl"},stepsActions:(0,i.jsx)("div",{className:"mt-6",children:(0,i.jsx)(c.o,{source:"instant-voice-clone-edit"})}),children:[(0,i.jsx)(h.RG,{title:"Instant Voice Clone",icon:(0,i.jsx)(m.Eu,{className:"w-7 h-7"}),className:"mb-8 md:hidden",hideClose:!0}),(0,i.jsx)(s.M,{mode:"wait",initial:!1,children:(0,i.jsx)(o.t,{children:p.activeStep instanceof eE?(0,i.jsx)(l.RV,{...u,children:(0,i.jsx)(p.activeStep.Content,{})}):p.activeStep instanceof eb?(0,i.jsx)(p.activeStep.Content,{onComplete:a}):(0,i.jsx)(p.activeStep.Content,{})},p.activeStep.id)})]})})}),eM=e=>{let{voice:t,children:a,shouldOpen:s,onOpenChange:n}=e,[r,l]=(0,eV.tT)();return(0,i.jsxs)(u.jW,{open:"boolean"==typeof s?s&&"edit"===r:"edit"===r,onOpenChange:e=>{l(e?"edit":"none"),null==n||n(e)},children:[a&&(0,i.jsx)(u.q8,{asChild:!0,children:a}),(0,i.jsx)(u._2,{onEscapeKeyDown:e=>e.preventDefault(),children:(0,i.jsx)(eI,{onComplete:()=>l("none"),voice:t})})]})},eL=(0,n.Pi)(e=>{let{onComplete:t,voice:a}=e,s=(0,r.useMemo)(()=>{let e=new d.vF([Y,eD,eb]),t=e.steps[2];t.isDisabled=!1;let i=(0,em.Gp)(a,el.userData.value);return t.verified=!i,t.showFinishUp=!i,t.voice=a,e.setActiveStepId(t.id),e},[]);return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(d.jE,{stepper:s,title:"Instant Voice Clone",icon:(0,i.jsx)("div",{className:"w-10 h-10 rounded-[10px] shadow-sm ring-1 ring-gray-alpha-200 flex items-center justify-center",children:(0,i.jsx)(m.Eu,{className:"w-5 h-5"})}),classes:{container:"max-w-2xl"},stepsActions:(0,i.jsx)("div",{className:"mt-6",children:(0,i.jsx)(c.o,{source:"instant-voice-clone-verification"})}),children:[(0,i.jsx)(h.RG,{title:"Instant Voice Clone",icon:(0,i.jsx)(m.Eu,{className:"w-7 h-7"}),className:"mb-8 md:hidden",hideClose:!0}),(0,i.jsx)(s.activeStep.Content,{onComplete:t})]})})}),ez=(0,n.Pi)(e=>{let{voice:t,children:a,shouldOpen:s,onOpenChange:n}=e,[l,o]=(0,eV.tT)();return(0,r.useEffect)(()=>{let e=(0,em.Gp)(t,el.userData.value);"verify"!==l||e||o("none")},[]),(0,i.jsxs)(u.jW,{open:"boolean"==typeof s?s&&"verify"===l:"verify"===l,onOpenChange:e=>{o(e?"verify":"none"),null==n||n(e)},children:[a&&(0,i.jsx)(u.q8,{asChild:!0,children:a}),(0,i.jsx)(u._2,{onEscapeKeyDown:e=>e.preventDefault(),children:(0,i.jsx)(eL,{onComplete:()=>o("none"),voice:t})})]})})},66895:function(e,t,a){"use strict";a.d(t,{Ht:function(){return W},IP:function(){return H},M_:function(){return G},ZP:function(){return Y}});var i=a(17024),s=a(68088),n=a(47368),r=a(94814),l=a(97918),o=a(84909),c=a(18743),d=a(40534),u=a(92858),h=a(97968),m=a(5479),p=a(81999),v=a(73862),x=a(93281),f=a(9506),g=a(30487),b=a(45301),y=a(36474),j=a(69201),w=a(60358),_=a(92234),k=a(93062),N=a(4735),C=a(81069),S=a(20807),P=a(11521),E=a(84106),D=a(64197),A=a(58987),T=a(63415),V=a(85753),I=a(39255),M=a(15750),L=a(2544),z=a(52389),R=a(82986);let F=(0,f.createContext)(null),B=e=>{var t;let{value:a,defaultValue:i,onValueChange:r,...l}=e,[o,c]=(0,f.useState)(null!==(t=null!=a?a:i)&&void 0!==t?t:"");return(0,s.jsx)(F.Provider,{value:{value:o,setValue:c},children:(0,s.jsx)(n.fC,{value:o,onValueChange:e=>{c(e),null==r||r(e)},...l})})},Z=()=>{let e=(0,f.useContext)(F);if(!e)throw Error("Accordions must be wrapped within <AccordionRoot />");return e},O=e=>{let{title:t,description:a,value:i}=e,{value:r}=Z(),l=Array.isArray(r)?r.includes(i):r===i;return(0,s.jsxs)(n.ck,{value:i,className:"border border-gray-alpha-200 rounded-xl",children:[(0,s.jsxs)(n.xz,{className:"px-5 py-4 group text-sm font-semibold flex text-left items-center w-full rounded-xl focus-ring",children:[(0,s.jsx)("span",{className:"block w-full",children:t}),(0,s.jsx)(h.Z,{className:"w-4 h-4 text-gray-alpha-400 transition-transform duration-200 group-data-[state=open]:rotate-180","aria-hidden":!0})]}),(0,s.jsx)(c.M,{initial:!1,children:l&&(0,s.jsx)(n.VY,{asChild:!0,forceMount:!0,children:(0,s.jsxs)(d.E.div,{className:"px-5 overflow-y-hidden",initial:{opacity:0,height:0,marginTop:0},animate:{opacity:1,height:"auto",marginTop:-16},exit:{opacity:0,height:0,marginTop:0},transition:{opacity:{duration:.2},height:{type:"spring",duration:.5,bounce:.15},marginTop:{type:"spring",duration:.5,bounce:.15}},children:[(0,s.jsx)("div",{className:"h-1.5"}),(0,s.jsx)(P.x,{color:"subtle",children:a}),(0,s.jsx)("div",{className:"h-4"})]})})})]})},U=e=>(0,s.jsx)(d.E.div,{variants:{initial:{y:40,opacity:0},animate:{y:0,opacity:1,transition:{duration:1,type:"tween",ease:"easeInOut"}}},...e}),q=e=>{let{title:t,description:a}=e;return(0,s.jsx)(U,{role:"none",children:(0,s.jsxs)("li",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute top-0 -left-12 w-8 h-8 rounded-full border border-gray-alpha-200 hidden md:flex items-center justify-center after:w-2.5 after:h-2.5 after:bg-foreground after:rounded-full"}),(0,s.jsx)(P.x,{weight:"semi-bold",className:"md:text-md",children:t}),(0,s.jsx)(P.x,{color:"subtle",className:"md:text-md",children:a})]})})},H=e=>{let{open:t,onOpenChange:a,children:i,showCreateCloneButton:n,onCreateClone:r,autoPlayVideo:l}=e,o="https://storage.googleapis.com/eleven-public-cdn/video/pvc/pvc-guide.mp4";return(0,s.jsxs)(C.dy,{open:t,onOpenChange:a,children:[i&&(0,s.jsx)(C.Qz,{asChild:!0,children:i}),l&&(0,s.jsx)("video",{src:o,className:"hidden"}),(0,s.jsx)(C.sc,{className:"max-w-3xl mx-auto max-h-[90%] overflow-hidden",hideHandle:!0,children:(0,s.jsxs)("div",{className:"flex-1 overflow-y-auto p-2 lg:p-4 pb-8",children:[(0,s.jsxs)(C.OX,{className:"gap-0.5",children:[(0,s.jsxs)(C.iI,{className:"text-md",children:[(0,s.jsx)("span",{className:"hidden md:inline",children:"Tips for making a great Professional Voice Clone"}),(0,s.jsx)("span",{className:"md:hidden",children:"Tips for making a great clone"})]}),(0,s.jsx)(C.u6,{children:"Here’s a 4 minute guide to get the best results"}),(0,s.jsx)(C.$m,{})]}),(0,s.jsxs)("div",{className:"px-4 pt-2 pb-4",children:[(0,s.jsx)(D.Z,{className:"rounded-xl",autoPlay:l,poster:"https://storage.googleapis.com/eleven-public-cdn/images/pvc/pvc-guide-thumbnail.jpg",src:o}),(0,s.jsxs)(B,{type:"single",collapsible:!0,defaultValue:"professional-recording-equipment",className:"mt-5 flex flex-col gap-4",children:[(0,s.jsx)(O,{title:"Use professional recording equipment",description:"Use high-quality recording equipment for optimal results as the AI will clone everything about the audio. High-quality input = high-quality output. Any microphone will work, but an XLR mic going into a dedicated audio interface would be our recommendation. A few general recommendations on low-end would be something like an Audio Technica AT2020 or a Rode NT1 going into a Focusrite interface or similar.",value:"professional-recording-equipment"}),(0,s.jsx)(O,{title:"Use a Pop filter",description:"Using a pop-filter when recording will minimize plosives when recording.",value:"pop-filter"}),(0,s.jsx)(O,{title:"Keep the recording noise free",description:"Ensure that the audio input doesn't have any interference, like background music or noise. The AI cloning works best with clean, uncluttered audio.",value:"recording-noise-free"}),(0,s.jsx)(O,{title:"Record in acoustically-treated room",description:"Preferably, record in an acoustically-treated room. This reduces unwanted echoes and background noises, leading to clearer audio input for the AI. You can make something temporary using a thick duvet or quilt to dampen the recording space.",value:"acoustically-treated-room"}),(0,s.jsx)(O,{title:"Audio pre-processing",description:'Consider editing your audio beforehand if you\'re aiming for a specific sound output. For instance, if you want a polished podcast-like output, pre-process your audio to match that quality, of if you have long pauses or many "uhm"s and "ahm"s between words as the AI will mimic those as well.',value:"audio-pre-processing"}),(0,s.jsx)(O,{title:"Volume control",description:"Maintain a consistent volume that's loud enough to be clear but not so loud that it causes distortion. The goal is to achieve a balanced and steady audio level. The ideal would be between -23dB and -18dB RMS with a true peak of -3dB.",value:"volume-control"}),(0,s.jsx)(O,{title:"Sufficient Audio Length",description:"Provide at least 30 minutes of high-quality audio that follows the above guidelines for best results - preferably closer to 3 hours of audio. The more quality data you can feed into the AI, the better the voice clone will be. The number of samples is irrelevant; the total runtime is what matters. However, if you plan to upload multiple hours of audio, it is better to split it into multiple ~30-minute samples. This makes it easier to upload.",value:"sufficient-audio-length"}),(0,s.jsx)(O,{title:"Verify Your Voice",description:"Once everything is recorded and uploaded, you will be asked to verify your voice. To ensure a smooth experience, please try to verify your voice using the same or similar equipment used to record the samples and in a tone and delivery that is similar to what was present in the samples. If you do not have access to the same equipment, try verifying the best you can. If it fails, you will have to reach out to support.",value:"verify-your-voice"})]})]}),n&&(0,s.jsx)(C.ze,{className:"flex flex-row justify-end items-center sticky -bottom-8 lg:-bottom-4 mt-auto bg-background/70 backdrop-blur",children:(0,s.jsx)(C.uh,{asChild:!0,children:(0,s.jsx)(N.Button,{variant:"primary",type:"submit",size:"lg",onClick:r,children:"Create new clone"})})})]})})]})},G=()=>{let e=async(e,t)=>{let a;let i=[];for(;!a||a.has_more;){(null==a?void 0:a.next_page_token)&&e.queryParams&&(e.queryParams.next_page_token=a.next_page_token),a=await (0,g.K5f)(e);let s=t?t(a.voices):a.voices;i.push(...s)}return i};return(0,l.useQuery)({queryKey:["voices-v2","pvc-sessions"],queryFn:async()=>(await Promise.all([e({queryParams:{sort:"created_at_unix",sort_direction:"desc",voice_type:"personal",category:"professional",fine_tuning_state:"draft",include_total_count:!1,page_size:100}}),e({queryParams:{sort:"created_at_unix",sort_direction:"desc",voice_type:"personal",category:"professional",fine_tuning_state:"not_verified",include_total_count:!1,page_size:100}}),e({queryParams:{sort:"created_at_unix",sort_direction:"desc",voice_type:"personal",category:"professional",fine_tuning_state:"not_started",include_total_count:!1,page_size:100}},e=>e.filter(e=>(0,z.nJ)(e)))])).flat().filter(e=>e.is_owner).sort((e,t)=>{var a,i;return(null!==(a=t.created_at_unix)&&void 0!==a?a:0)-(null!==(i=e.created_at_unix)&&void 0!==i?i:0)}),refetchOnWindowFocus:!1})},W="createdVoiceId";class Y extends k.h8{constructor(e){super(e),(0,i._)(this,"label","Introduction"),(0,i._)(this,"animate",!0),(0,i._)(this,"createdVoiceId",void 0),(0,i._)(this,"Content",(0,p.Pi)(e=>{let{resetSteps:t,onEditVoice:a}=e,i=(0,u.hO)(),[n,l]=(0,f.useState)(!1),h=(0,I.bs)("md"),[,m]=(0,x.v1)(W,x.Oi),[p]=(0,L.tT)(),k=(0,R.p)(),C=(0,o.useQueryClient)(),{queryKeyFn:D}=(0,b.H)(),z=e=>{this.createdVoiceId=e,"create"===p&&m(e)},{data:F,isLoading:B}=G(),{isLoading:Z,mutateAsync:O}=(0,g.PsM)({onSuccess:(e,a)=>{let{voice_id:i}=e,{body:{name:s,language:n}}=a;z(i),t({voiceName:s,language:n}),(0,T.eN)(V.B_.voice_lab_professional_voice_cloning_draft_created,{voiceId:i,name:s,language:n}),C.invalidateQueries(D({path:"/v1/user/subscription",operationId:"getUserSubscriptionInfoV1UserSubscriptionGet",variables:{}}))},onError:e=>{(0,r.Tb)(e),E.toast.errorHttp(e,"Could not create a new voice due to some error")}}),Y=(0,M.XE)(),K=async()=>{try{await O({body:{name:"Untitled voice",language:"en",labels:{language:"en"}}}),this.setComplete(!0),this.stepper.goToNext(),Y()}catch(e){}},X=e=>{z(e.voice_id),a(e),this.setComplete(!0)};return(0,s.jsx)(c.M,{initial:!0,children:(0,s.jsxs)(d.E.div,{className:"flex flex-col justify-center items-center min-h-full pt-14",initial:this.animate?"initial":"animate",animate:B?"initial":"animate",onAnimationComplete:()=>{B||(this.animate=!1)},children:[(0,s.jsxs)(d.E.div,{className:"mt-auto relative origin-bottom saturate-150 [--size-from:120px] [--size-to:76px] md:[--size-from:160px] md:[--size-to:96px]",variants:{initial:{width:"var(--size-from)",height:"var(--size-from)"},animate:{width:"var(--size-to)",height:"var(--size-to)",transition:{duration:1,delay:1.5,type:"tween",ease:"easeInOut"}}},children:[(0,s.jsx)(A.tl,{className:"absolute -inset-5 blur-lg",delay:500,initial:{opacity:0},animate:{opacity:1},transition:{duration:2.5,delay:.5},children:(0,s.jsx)(y.default,{colors:["#ffd4e9","#ebf4ff"],resizeDebounce:0,seed:1})}),(0,s.jsx)("div",{className:"relative w-full h-full",children:(0,s.jsx)(y.default,{colors:["#ffd4e9","#ebf4ff"],resizeDebounce:0,seed:1})})]}),(0,s.jsx)(S.X,{as:"h2",className:"text-3xl md:text-4xl mt-11 text-center px-5 text-balance",children:"Create a Professional Voice Clone"}),(0,s.jsx)(P.x,{color:"subtle",className:"md:text-md mt-4 text-center px-5",children:"The most expressive way to replicate your voice"}),(0,s.jsxs)(d.E.div,{className:"mt-14 w-full px-5",variants:{initial:{height:0,overflow:"hidden"},animate:{height:"auto",transition:{type:"tween",ease:"easeInOut",delay:1.5,delayChildren:1.5,duration:1,staggerChildren:.2},transitionEnd:{overflow:"visible"}}},children:[F&&F.length>0?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"text-center",children:(0,s.jsx)(P.x,{weight:"semi-bold",className:"md:text-md",children:"Return to a session"})}),(0,s.jsx)("ul",{className:"mt-4 max-w-2xl mx-auto stack gap-4 min-h-[30vh]",children:F.map(e=>(0,s.jsx)(U,{role:"none",children:(0,s.jsxs)("li",{className:"relative w-full rounded-2xl border px-4 py-5 flex items-center gap-4 overflow-hidden",children:[(0,s.jsx)("div",{className:"self-start",children:(0,s.jsx)(_.v,{voice:e,size:"2rem",hideIndicator:!0})}),(0,s.jsxs)("div",{children:[(0,s.jsx)(P.x,{weight:"medium",className:"md:text-md",children:(0,s.jsxs)("button",{className:"text-left focus-ring group rounded",disabled:h,onClick:()=>X(e),children:[(0,s.jsx)("span",{className:"absolute inset-0 transition-colors duration-200 group-enabled:hover:bg-gray-alpha-50 group-enabled:group-active:bg-gray-alpha-100"}),e.name]})}),e.created_at_unix&&(0,s.jsxs)(P.x,{color:"subtle",children:["Started"," ",new Date(1e3*e.created_at_unix).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0})]})]}),(0,s.jsx)(N.Button,{className:"max-md:hidden ml-auto",variant:"ghost","aria-label":"Continue editing ".concat(e.name),onClick:()=>X(e),children:"Continue editing"})]})},e.voice_id))})]}):(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("ul",{className:"max-w-2xl mx-auto stack gap-8 lg:pl-4",children:[(0,s.jsx)(q,{title:"Noise-free recordings work best",description:"While we can help with post-processing, for the best results consider a quiet environment or recordings where there isn’t much background noise."}),(0,s.jsx)(q,{title:"Start with high quality recordings",description:"For the best results, we’ll need at least 30 minutes of recorded audio with up to two hours as a recommendation, you can provide audio and video files or record live."}),(0,s.jsx)(q,{title:"Verify and start using",description:"Once you’ve provided samples, you will be asked to verify your voice with a live recording, once that passes our moderation checks, your voice clone will be prepared for use."})]})}),(0,s.jsx)("div",{className:"h-24","aria-hidden":!0})]}),(0,s.jsx)("footer",{className:"mt-auto p-5 border-t border-gray-alpha-200 w-full sticky z-10 bottom-0 bg-background/70 backdrop-blur",children:(0,s.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,s.jsx)(c.M,{initial:!1,mode:"wait",children:k.disabledReason?(0,s.jsxs)(j.t,{className:"flex flex-col gap-4 md:flex-row md:justify-between md:items-center",children:[(0,s.jsx)(P.x,{weight:"medium",className:"text-center md:text-left text-balance",children:k.disabledReason}),k.showSubscribeLink?(0,s.jsx)(N.Button,{asChild:!0,variant:"primary",size:h?"lg":"md",onClick:()=>{(0,T.eN)(V.B_.voice_lab_professional_voice_cloning_subscribe)},children:(0,s.jsx)(v.default,{href:w.VP.subscription,children:"Subscribe"})}):(0,s.jsx)(N.Button,{variant:"primary",size:h?"lg":"md",disabled:!0,children:"Create new clone"})]},"subscribe"):(0,s.jsxs)(j.t,{className:"flex flex-col gap-2 md:flex-row md:justify-between md:items-center",children:[(0,s.jsx)(H,{autoPlayVideo:!0,children:(0,s.jsx)(N.Button,{className:"bg-background",size:h?"lg":"md",onClick:()=>l(!0),children:"Tips for the best results"})}),(0,s.jsx)(H,{showCreateCloneButton:!0,onCreateClone:()=>K(),children:(0,s.jsx)(N.Button,{variant:"primary",size:h?"lg":"md",disabled:!i||k.isLoading,loading:Z,onClick:e=>{n?(e.preventDefault(),K()):l(!0)},children:"Create new clone"})})]},"create-pvc")})})})]})})})),(0,m.rC)(this,{animate:m.LO}),(0,m.EH)(()=>{this.isComplete&&(this.animate=!1)})}}},55681:function(e,t,a){"use strict";var i=a(68088),s=a(77513),n=a(89008),r=a(40534),l=a(18743),o=a(85961),c=a.n(o),d=a(9506),u=a(36474),h=a(58987),m=a(60189),p=a(64108);function v(e,t,a){return 25<e&&e<195&&(a/=1.05,t/=1.25),"hsl(".concat(e,", ").concat(t,"%, ").concat(a,"%)")}let x=(0,d.memo)(e=>{let{className:t,primaryHue:a,secondaryHue:o,motionStrength:x,colorStrength:f,shadow:g=!0}=e,b=(0,s.c)(0);(0,d.useEffect)(()=>{let e,t;let a=()=>{let i=Math.random()*x;t=(0,n.j)(b,i,{type:"tween",duration:i}),e=window.setTimeout(a,1e3*i)};return e=window.setTimeout(a,1e3),()=>{window.clearTimeout(e),null==t||t.stop()}},[x,b]);let y=(0,i.jsx)(u.default,{seed:1,resizeDebounce:0,colors:[v((0,p.KK)(f,[0,.5],[c()(a-5,0,360),a]),(0,p.KK)(f,[0,1],[20,80],!1),(0,p.KK)(f,[0,1],[90,80],!1)),v((0,p.KK)(f,[0,1],[c()(o-5,0,360),c()(o+5,0,360)]),(0,p.KK)(f,[0,1],[20,80],!1),(0,p.KK)(f,[0,1],[100,95],!1))],getOutputVolume:()=>b.get()});return(0,i.jsx)("div",{className:(0,m.cn)("flex items-center justify-center",t),children:(0,i.jsxs)(r.E.div,{className:"relative w-full h-full",variants:{inactive:{filter:"blur(8px)",opacity:.5,width:156,height:156,transition:{delay:.375,type:"spring"}},active:{filter:"blur(0)",opacity:1,width:156,height:156}},transition:{duration:.75},children:[(0,i.jsx)(l.M,{children:g&&(0,i.jsx)(h.tl,{className:"absolute -inset-3 blur-lg opacity-70",delay:500,initial:{opacity:0},animate:{opacity:1},transition:{duration:2.5,delay:.5},children:y})}),y]})})});x.displayName="PvcOrb",t.Z=x},30349:function(e,t,a){"use strict";a.d(t,{ZP:function(){return el},_B:function(){return ea},h1:function(){return ei}});var i=a(17024),s=a(68088),n=a(4111),r=a(55673),l=a(11653),o=a(18743),c=a(40534),d=a(92858),u=a(88440),h=a(54114),m=a(6056),p=a(41236),v=a(64173),x=a(98780),f=a(79459),g=a(5479),b=a(81999),y=a(73862),j=a(9506),w=a(34161),_=a(50276),k=a(74508),N=a(4322),C=a(30487),S=a(69201),P=a(1851),E=a(60358),D=a(26090),A=a(81398),T=a(81158),V=a(93062),I=a(4735),M=a(81069),L=a(20807),z=a(74346),R=a(3030),F=a(96474),B=a(50113),Z=a(32689),O=a(11521),U=a(65204),q=a(84106),H=a(63415),G=a(85753),W=a(54389),Y=a(39255),K=a(58397),X=a(15750),Q=a(43941),J=a(6526),$=a(55681),ee=a(69436),et=a(75515);let ea=5,ei=5,es=e=>{var t,a;let{voice:i,onClose:n,onSubmit:r}=e,{control:l,formState:{errors:d,isSubmitting:p},register:v,watch:x,handleSubmit:f}=(0,_.cI)({defaultValues:{files:[],extraText:""}}),{field:g}=(0,_.bc)({name:"files",control:l,rules:{required:"You must provide at least one supporting document.",validate:{maxCount:e=>e.length<=ei||"You can only upload up to ".concat(ei," files."),maxSize:e=>10485760>e.reduce((e,t)=>e+t.file.size,0)||"File(s) are larger than ".concat((0,T.W)(10),"MB.")}}}),{getRootProps:b,getInputProps:y,open:j,isDragActive:N}=(0,w.uI)({noClick:!0,noKeyboard:!0,multiple:!0,disabled:p,accept:{"application/pdf":[".pdf"],"image/jpeg":[".jpg",".jpeg"],"image/png":[".png"]},onDrop:e=>{g.onChange([...g.value,...e.map(e=>({file:e,id:(0,k.k$)()}))])}}),P=async e=>{try{await (0,C.Ak8)({pathParams:{voiceId:i.voice_id},body:{files:e.files.map(e=>e.file),extra_text:e.extraText},headers:{"Content-Type":"multipart/form-data"}}),await r(),q.toast.success("Manual verification request has been sent."),n()}catch(e){q.toast.errorHttp(e)}};return(0,s.jsxs)("div",{className:"stack relative flex-1 overflow-y-auto",...b(),children:[(0,s.jsxs)(M.OX,{className:"pl-5 pr-8 lg:px-7 pt-8 pb-6 text-balance",children:[(0,s.jsxs)(M.iI,{className:"text-md",children:['Manual verification request for "',i.name,'"']}),(0,s.jsx)(M.$m,{})]}),(0,s.jsxs)("form",{className:"stack flex-1",onSubmit:f(P),children:[(0,s.jsx)("input",{...y()}),(0,s.jsxs)("fieldset",{disabled:p,className:"flex-1",children:[(0,s.jsxs)("legend",{className:"sr-only",children:['Manual verification request for "',i.name,'"']}),(0,s.jsxs)("div",{className:"stack gap-6 px-5 lg:px-7",children:[(0,s.jsxs)("div",{className:"stack gap-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(F.Label,{children:"Supporting Documents"}),(0,s.jsx)(O.x,{color:"subtle",children:"Upload documents proving you have the right to clone this voice."})]}),(0,s.jsxs)("button",{className:"w-full h-32 rounded-2xl border flex flex-col items-center justify-center gap-1 focus-ring transition-colors duration-200 hover:bg-gray-alpha-50 active:bg-gray-alpha-100",type:"button",onClick:()=>j(),children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(u.Z,{className:"w-4 h-4"}),(0,s.jsx)(O.x,{as:"span",weight:"medium",children:"Upload files"})]}),(0,s.jsx)(O.x,{as:"span",weight:"normal",color:"subtle",size:"xs",children:"PDF, JPEG, PNG"})]}),(0,s.jsx)(Z.aV,{children:(0,s.jsx)(o.M,{initial:!1,children:x("files").map(e=>(0,s.jsx)(c.E.div,{role:"none",initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0,transition:{opacity:{duration:.1}}},className:"px-1 -mx-1 overflow-hidden",children:(0,s.jsxs)(Z.HC,{className:"px-0",children:[(0,s.jsx)(Z.L9,{children:(0,s.jsx)(z.Z,{className:"text-gray-alpha-900",children:(0,s.jsx)(h.Z,{})})}),(0,s.jsxs)(Z.Ek,{children:[(0,s.jsx)(O.x,{weight:"medium",children:e.file.name}),(0,s.jsx)(O.x,{color:"subtle",size:"xs",className:"mt-0.5",children:(0,K.KS)(e.file.size)})]}),(0,s.jsx)(Z.cT,{children:(0,s.jsx)(R.h,{"aria-label":"Remove document",tooltip:"Remove document",variant:"ghost",type:"button",onClick:()=>{g.onChange(g.value.filter(t=>t.id!==e.id))},children:(0,s.jsx)(m.Z,{className:"!w-3.5 h-3.5"})})})]})},e.id))})}),(0,s.jsx)(Q.du,{children:null===(t=d.files)||void 0===t?void 0:t.message})]}),(0,s.jsxs)("div",{className:"stack gap-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(F.Label,{children:"Supporting Text"}),(0,s.jsx)(O.x,{color:"subtle",children:"If there are any other notes you’d like to add alongside your documents, please do so below."})]}),(0,s.jsx)(U.g,{className:"rounded-2xl h-32 resize-none",...v("extraText",{maxLength:{value:1e3,message:"Supporting Text must be less than ".concat((0,T.W)(1e3)," characters.")}})}),(0,s.jsx)(Q.du,{children:null===(a=d.extraText)||void 0===a?void 0:a.message})]})]})]}),(0,s.jsxs)(M.ze,{className:"flex flex-row justify-between items-center sticky bottom-0 px-5 lg:px-7 py-6 bg-background/70 backdrop-blur",children:[(0,s.jsx)(M.uh,{asChild:!0,children:(0,s.jsx)(I.Button,{type:"button",className:"bg-background",children:"Cancel"})}),(0,s.jsx)(I.Button,{variant:"primary",type:"submit",loading:p,children:"Request verification"})]})]}),(0,s.jsx)(o.M,{children:N&&(0,s.jsx)(S.t,{className:"absolute inset-0 z-30 flex items-center justify-center bg-background/60 backdrop-blur-lg",children:(0,s.jsx)(L.X,{as:"h4",className:"text-4xl",children:"Drop here!"})})})]})},en=e=>{var t;let{voice:a,children:i}=e;return(0,s.jsxs)(M.dy,{children:[(0,s.jsx)(M.Qz,{asChild:!0,children:i}),(0,s.jsx)(M.sc,{className:"max-w-xl mx-auto max-h-[90%] overflow-hidden",hideHandle:!0,children:(0,s.jsxs)("div",{className:"flex-1 overflow-y-auto",children:[(0,s.jsxs)(M.OX,{className:"px-5 lg:px-7 pt-8 pb-6",children:[(0,s.jsx)(M.iI,{className:"text-md",children:"Verification history"}),(0,s.jsx)(M.$m,{})]}),(0,s.jsx)("div",{className:"px-5 lg:px-7 pb-12",children:(0,s.jsx)(Z.aV,{className:"stack gap-6",children:null===(t=a.fine_tuning)||void 0===t?void 0:t.verification_failures.map((e,t)=>{var i,n;return(0,s.jsxs)(Z.HC,{className:"p-0",children:[(0,s.jsx)(Z.L9,{className:"w-auto h-auto bg-transparent",children:(null===(i=a.fine_tuning)||void 0===i?void 0:i.is_allowed_to_fine_tune)&&"None"===e?(0,s.jsx)(p.Z,{className:"text-green-500 h-5 w-5"}):(0,s.jsx)(v.Z,{className:"text-error h-5 w-5"})}),(0,s.jsxs)(Z.Ek,{className:"ml-2",children:[(0,s.jsxs)(O.x,{size:"xs",weight:"medium",children:["Attempt #",t+1]}),(null===(n=a.fine_tuning)||void 0===n?void 0:n.is_allowed_to_fine_tune)&&"None"===e?(0,s.jsx)(O.x,{className:"text-green-500",weight:"medium",children:"Success"}):(0,s.jsx)(O.x,{className:"text-error",weight:"medium",children:"None"!==e?e:"Failed due to an unknown error"})]})]},t)})})})]})})]})},er=e=>{let{title:t="Voice verification attempt failed",message:a,showPlay:i,showRetry:n,showManualVerification:r,manualVerificationRequested:l,onPlay:o,onRetry:c,onManualVerification:d}=e;return(0,s.jsxs)("div",{className:"stack items-center text-center",children:[(0,s.jsx)(x.Z,{className:"w-5 h-5 text-red-600"}),(0,s.jsx)(O.x,{className:"mt-1.5",weight:"medium",children:t}),a&&(0,s.jsx)(O.x,{className:"mt-1 text-balance",children:a}),(n||r||i)&&(0,s.jsxs)("div",{className:"mt-6 flex gap-2.5 flex-wrap justify-center",children:[i&&(0,s.jsx)(I.Button,{onClick:o,children:"Play recording"}),n&&(0,s.jsx)(I.Button,{onClick:c,children:"Try again"}),r&&(0,s.jsx)(I.Button,{onClick:d,disabled:l,children:l?"Manual verification requested":"Manual verification"})]})]})};class el extends V.h8{reset(){this._voiceToVerify=void 0,this.verification.reset()}async refetchVoice(){var e;if(null===(e=this.voice)||void 0===e?void 0:e.voice_id)try{return this.voice=await (0,C.EzY)({pathParams:{voiceId:this.voice.voice_id}}),this.voice}catch(e){}}get voiceDataStep(){return this.stepper.steps.find(e=>e instanceof et.ZP)}get voice(){var e;return void 0!==this._voiceToVerify?this._voiceToVerify:null===(e=this.voiceDataStep)||void 0===e?void 0:e.voiceSaved}set voice(e){this._voiceToVerify=e}get verified(){var e,t;return!!(null===(t=this.voice)||void 0===t?void 0:null===(e=t.fine_tuning)||void 0===e?void 0:e.is_allowed_to_fine_tune)}get isEditLocked(){return!this.prev||this.prev instanceof et.Nu}constructor(e){super(e),(0,i._)(this,"label","Verification"),(0,i._)(this,"_voiceToVerify",void 0),(0,i._)(this,"verification",(0,J.u)({fetchFn:async e=>{let t=this.voice;t&&(await (0,V.Cl)(this.stepper,async()=>{try{await (0,C.yZW)({pathParams:{voiceId:t.voice_id},body:{recording:e},headers:{"Content-Type":"multipart/form-data"}})}finally{await this.refetchVoice()}}),(0,H.eN)(G.B_.voice_lab_professional_voice_cloning_captcha_succeeded,{voice_id:t.voice_id,name:t.name}))},onError:e=>{let t=this.voice;t&&(0,H.eN)(G.B_.voice_lab_professional_voice_cloning_captcha_failed,{voice_id:t.voice_id,name:t.name,reason:e.message})}})),(0,i._)(this,"Content",(0,b.Pi)(e=>{var t,a,i,c,u,h,m,p;let{onSkip:v}=e,x=this.voice;if(!x)throw Error("Unreachable: PVC Verification step rendered without a voice clone");let g=(0,d.hO)(),b=(0,Y.bs)("md"),[w,_]=(0,j.useState)(!1),[T,V]=(0,j.useState)(!1),z=(0,X.XE)(),{mutate:R,isLoading:F,error:Z,data:U,reset:H}=(0,r.useMutation)({mutationFn:async()=>{let e=await (0,C.HcS)({pathParams:{voiceId:x.voice_id}});return URL.createObjectURL(e)},onError:e=>{e instanceof N.oo&&"already_verified"===e.errorType&&(q.toast.success("You have already verified this voice."),this.stepper.goToNext())}});(0,j.useEffect)(()=>{this.verified&&this.stepper.goToNext()},[this.verified]);let{fetch:G,isLoading:K,error:Q,variables:J,reset:et}=this.verification;if(null===(a=P.workspaceData.value)||void 0===a?void 0:null===(t=a.subscription)||void 0===t?void 0:t.can_bypass_voice_captcha)return this.stepper.goToNext(),null;let ei=(null===(i=x.fine_tuning)||void 0===i?void 0:i.max_verification_attempts)||ea,el=(null===(c=x.fine_tuning)||void 0===c?void 0:c.verification_attempts_count)||0,eo=ei-el,ec=null===(u=P.workspaceData.value)||void 0===u?void 0:u.subscription.can_request_manual_pro_voice_verification,ed=(null==x?void 0:null===(h=x.fine_tuning)||void 0===h?void 0:h.manual_verification_requested)||!1,eu=(null===(m=x.fine_tuning)||void 0===m?void 0:m.next_max_verification_attempts_reset_unix_ms)?new Date(x.fine_tuning.next_max_verification_attempts_reset_unix_ms):null,eh=eu&&eu>new Date,em=eh?(0,l.Z)(eu,{addSuffix:!0}):null,ep=eh&&(el>=ei||Z instanceof N.oo&&"max_verification_attempts_reached"===Z.errorType);return(0,s.jsxs)("div",{className:"stack justify-center items-center min-h-full",children:[(0,s.jsxs)("div",{className:"flex-1 stack justify-center items-center pt-14 pb-4",children:[(null===(p=this.voiceDataStep)||void 0===p?void 0:p.orbData.value)&&(0,s.jsx)("div",{className:"w-20 h-20 md:w-40 md:h-40",children:(0,s.jsx)($.Z,{className:"w-full h-full",...this.voiceDataStep.orbData.value})}),(0,s.jsx)(L.X,{as:"h2",className:"text-3xl md:text-4xl mt-6 md:mt-10 text-center px-5 text-balance",children:"Verify your voice"}),(0,s.jsxs)(O.x,{color:"subtle",className:"mt-4 max-w-3xl mx-auto text-center px-5",children:["You hereby confirm that you have all necessary rights or consents to upload and clone these voice samples. You take full responsibility for the accuracy of the files you upload to and generate on the Platform. You reaffirm your obligation to abide by ElevenLabs’"," ",(0,s.jsx)(B.Un,{href:E.ZP.termsofuse,target:"_blank",rel:"noopener noreferrer",children:"Terms of Service"})," ","and"," ",(0,s.jsx)(B.Un,{href:E.ZP.privacyprivacy,target:"_blank",rel:"noopener noreferrer",children:"Privacy Policy"}),"."]}),(0,s.jsx)("div",{className:"mt-8 md:mt-14 w-full lg:w-[780px] mx-auto px-2 lg:px-0",children:(0,s.jsxs)("div",{className:"stack gap-5 w-full border border-subtle rounded-3xl p-3 lg:p-7",children:[(0,s.jsx)("div",{className:"relative flex items-center justify-center min-h-[250px]",children:(0,s.jsx)(o.M,{mode:"wait",initial:!1,children:Q||Z||ep?(0,s.jsx)(S.t,{children:ep?(0,s.jsx)(er,{title:"Maximum voice verification attempts reached.",message:em?"You can try again ".concat(em,"."):(0,s.jsxs)(s.Fragment,{children:["Please reach out to us via"," ",(0,s.jsx)(B.Un,{href:E.ZP.helpCenter,target:"_blank",children:"Help Center"})," ","to reset your voice verification attempts."]}),showManualVerification:ec,manualVerificationRequested:ed,onManualVerification:()=>_(!0)}):(0,s.jsx)(er,{message:(null==Q?void 0:Q.message)?(0,s.jsxs)(s.Fragment,{children:[Q.message,(0,s.jsx)("br",{}),"You have ",eo," ",1===eo?"attempt":"attempts"," ","left."]}):null==Z?void 0:Z.message,showPlay:!0,onPlay:async()=>{if(!J)return;let e=await (0,W.sT)(J);(0,D.GM)(e,{id:(0,k.k$)(),autoStart:!0,fileName:null,name:J.name,type:"other",isFirstRequest:!0,player:{title:"Voice verification recording"}})},showRetry:!!Q,onRetry:()=>{H(),et(),V(!1)},showManualVerification:ec,manualVerificationRequested:ed,onManualVerification:()=>_(!0)})},"verification-error"):U?(0,s.jsx)(S.t,{children:F||K||this.verified?(0,s.jsx)(n.$,{}):T?(0,s.jsx)("img",{src:U,className:"md:scale-75 dark:invert"}):(0,s.jsx)(O.x,{className:"md:text-md text-center text-balance",weight:"medium",children:"Get ready to speak..."})},"verification-captcha"):(0,s.jsxs)(S.t,{children:[(0,s.jsxs)(O.x,{className:"md:text-md text-center text-balance",weight:"medium",children:["When you are ready, click"," ",(0,s.jsx)("strong",{className:"font-semibold",children:"Start Recording"})," ","and record yourself speaking the text that will be displayed on screen."]}),(0,s.jsxs)(O.x,{className:"text-xs md:text-sm absolute inset-x-0 bottom-0 text-center text-balance",color:"subtle",children:["If you are visually or vocally impaired, you can submit a request in the"," ",(0,s.jsx)(y.default,{className:"underline outline-gray-alpha-900",href:"https://help.elevenlabs.io/hc/requests/new",target:"_blank",rel:"noopener noreferrer",children:"Help Center"})," ","to get support."]})]},"verification-info")})}),(0,s.jsx)(ee.IR,{children:(0,s.jsx)(ee.jp,{maxDuration:15e3,stopButtonLabel:"Submit recording",disabled:!!Z||!!Q||ep||this.verified||K,onChange:async e=>{try{await G(await e.file())}finally{z()}V(!1)},onRecordingStart:()=>{R(),setTimeout(()=>{V(!0)},3e3)}})})]})}),(0,s.jsx)(o.M,{children:eo<=3&&eh&&(0,s.jsx)(S.t,{className:"mt-4",children:(0,s.jsx)(en,{voice:x,children:(0,s.jsxs)(I.Button,{variant:"ghost",size:"xs",className:"font-medium text-center text-subtle underline underline-offset-2",children:["You have ",eo," ",1===eo?"attempt":"attempts"," left"]})})})})]}),(0,s.jsxs)("footer",{className:"shrink-0 mt-auto p-5 md:px-8 md:h-20 border-t border-gray-alpha-200 w-full sticky z-10 bottom-0 bg-background/70 backdrop-blur flex items-center gap-3",children:[!this.isEditLocked&&(0,s.jsx)(I.Button,{size:b?"lg":"md",leftIcon:(0,s.jsx)(f.Z,{className:"!w-4 !h-4"}),onClick:()=>this.stepper.goToPrev(),disabled:!g||this.isDisabled,children:"Back"}),(0,s.jsx)("div",{className:"max-md:hidden",children:(0,s.jsx)(A.o,{source:"professional-voice-clone-verifcation",buttonSize:"lg",iconClassName:"!w-4 !h-4"})}),(0,s.jsx)("div",{className:"ml-auto"}),ec&&(0,s.jsx)(I.Button,{size:b?"lg":"md",onClick:()=>_(!0),disabled:this.isDisabled||ed,children:ed?"Manual verification requested":"Manual verification"}),(0,s.jsx)(I.Button,{size:b?"lg":"md",disabled:!g||this.isDisabled,onClick:()=>null==v?void 0:v(),children:this.isEditLocked?"Cancel":"Skip"})]}),(0,s.jsx)(M.dy,{open:w,onOpenChange:_,children:(0,s.jsx)(M.sc,{className:"max-w-xl mx-auto max-h-[90%] overflow-hidden",hideHandle:!0,children:(0,s.jsx)(es,{voice:x,onSubmit:async()=>{await Promise.all([this.refetchVoice(),z()]),this.stepper.goToNext()},onClose:()=>_(!1)})})})]})})),(0,g.rC)(this,{_voiceToVerify:g.LO,voice:g.Fl,verified:g.Fl,isEditLocked:g.Fl,reset:g.aD})}}},75515:function(e,t,a){"use strict";a.d(t,{Nu:function(){return tr},oR:function(){return tt},ZP:function(){return tn}});var i=a(17024),s=a(68088),n=a(89775),r=a(55673),l=a(40534),o=a(18743),c=a(92858),d=a(88440),u=a(79459),h=a(47607),m=a(5479),p=a(81999),v=a(19803),x=a(9506),f=a(34161),g=a(50276),b=a(4322),y=a(30487),j=a(69201),w=a(1851),_=a(42032),k=a(13774),N=a(754),C=a(81398),S=a(29047),P=a(93062),E=a(4735),D=a(20807),A=a(46547),T=a(96474),V=a(32689),I=a(72752),M=a(11521),L=a(65204),z=a(84106),R=a(63415),F=a(85753),B=a(70554),Z=a(60189),O=a(54389),U=a(39255),q=a(54752),H=a(64108),G=a(58397),W=a(15750),Y=a(52389),K=a(43479),X=a(21147),Q=a(43941),J=a(4111),$=a(4035),ee=a(58603),et=a(81777),ea=a(94814),ei=a(98780),es=a(92655),en=a(42910),er=a(54384),el=a(6056),eo=a(33802),ec=a(50339),ed=a(68403),eu=a(89477),eh=a(26090),em=a(22021),ep=a(81069),ev=a(20308),ex=a(74346),ef=a(3030),eg=a(22869),eb=a(29815),ey=a(77491),ej=a(64172),ew=a(43614);let e_=function(e){let{voiceId:t,sampleId:a}=e,i=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return(0,y.Hab)({pathParams:{voiceId:t,sampleId:a}},{enabled:i,refetchInterval:e=>(null==e?void 0:e.status)==="pending"&&5e3,retry:!1,retryDelay:5e3,refetchOnWindowFocus:!1,refetchOnReconnect:!1})},ek=["#5D79DF","#EB534C","#E9CA39","#10B978","#F36F1C","#BD74DC"],eN=(0,p.Pi)(e=>{var t,a;let{file:i}=e,n=(0,x.useId)(),r=(0,x.useMemo)(()=>{var e,t;return(null===(t=i.sample)||void 0===t?void 0:null===(e=t.speaker_separation)||void 0===e?void 0:e.speakers)&&Object.values(i.sample.speaker_separation.speakers)},[null===(a=i.sample)||void 0===a?void 0:null===(t=a.speaker_separation)||void 0===t?void 0:t.speakers]),{control:l,watch:o}=(0,g.Gc)(),c=o("selectedSpeakerIds"),d=o("trim"),u=(0,x.useCallback)(e=>1e3*e.start>=d[0]&&1e3*e.start<=d[1]||1e3*e.end>=d[0]&&1e3*e.end<=d[1],[d]),[m,p,v]=(0,x.useMemo)(()=>{let e=r?r.flatMap(e=>{var t;return null!==(t=e.utterances)&&void 0!==t?t:[]}).filter(u):void 0,t=Math.max(Math.min(...(e=(null==e?void 0:e.length)?e:[{start:0,end:1}]).map(e=>{let{start:t}=e;return t})),d[0]/1e3),a=Math.min(Math.max(...e.map(e=>{let{end:t}=e;return t})),d[1]/1e3);return[t,a,a-t]},[r,u,d]),f=e=>c.includes(e),b=(0,x.useMemo)(()=>{let e=c.length>0&&r?r.filter(e=>f(e.speaker_id)).flatMap(e=>e.utterances).filter(e=>!!e).filter(u).map(e=>({start:Math.max(e.start,m),end:Math.min(e.end,p)})):void 0;return null!=e||(e=[{start:m,end:p}]),e.sort((e,t)=>e.start-t.start),e},[c,r,m,p,u]),[y,j]=(0,x.useState)(m),{isActive:w,isPlaying:_,togglePlay:k,isLoading:N}=(0,ej.kY)(i);(0,x.useEffect)(()=>{let e;if(!_||!eh._m.value)return;let t=eh._m.value,a=()=>{let a=t.currentTime;j(a);let i=b.filter(e=>a<=Math.floor(e.end)),s=i.at(0);if(s&&s.start<=a&&a<=Math.floor(s.end))return;let n=i.at(0);if(n)t.currentTime=n.start;else if(e)(0,eh.pt)(),window.clearInterval(e),e=void 0;else{var r,l;t.currentTime=null!==(l=null===(r=b.at(0))||void 0===r?void 0:r.start)&&void 0!==l?l:0}};return a(),e=window.setInterval(a,25),()=>window.clearInterval(e)},[eh._m.value,b,_,j]);let C=e=>ek[e%ek.length];return(0,s.jsxs)("fieldset",{children:[(0,s.jsx)("legend",{className:"sr-only",children:"Multiple speakers detected."}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(T.Label,{weight:"semi-bold",children:"Multiple speakers detected"}),(0,s.jsx)(M.x,{color:"subtle",className:"text-xs sm:text-sm",children:"Choose your voice in the samples"})]}),(0,s.jsx)(E.Button,{type:"button",size:"sm",loading:N,leftIcon:_?(0,s.jsx)($.Z,{className:"!w-3 !h-3"}):(0,s.jsx)(X.JF,{className:"!w-2.5 !h-2.5"}),onClick:()=>{w?_?(0,eh.pt)():(0,eh.Sk)():k()},children:_?"Pause selection":"Play selection"})]}),null==r?void 0:r.map((e,t)=>(0,s.jsx)(g.Qr,{name:"selectedSpeakerIds",control:l,render:a=>{let{field:i}=a;return(0,s.jsx)("div",{className:"mt-4 stack gap-3",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)(T.Label,{htmlFor:"".concat(n,"-").concat(e.speaker_id),className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-2 h-2 rounded-full bg-red-500",style:{backgroundColor:C(t)}}),(0,s.jsxs)("span",{children:["Speaker ",t+1]})]}),(0,s.jsx)("div",{className:"ml-auto"}),(0,s.jsx)(ee.fC,{id:"".concat(n,"-").concat(e.speaker_id),checked:f(e.speaker_id),onCheckedChange:t=>{t?i.onChange([...i.value,e.speaker_id]):i.onChange(i.value.filter(t=>t!==e.speaker_id))},asChild:!0,children:f(e.speaker_id)?(0,s.jsx)(E.Button,{size:"sm",variant:"primary",leftIcon:(0,s.jsx)(h.Z,{}),type:"button",children:"Selected speaker"}):(0,s.jsx)(E.Button,{size:"sm",type:"button",children:"Choose speaker"})})]})})}},e.speaker_id)),(0,s.jsxs)("div",{className:"w-full mt-8 bg-gray-alpha-50 rounded-[10px] border relative",style:{scrollbarWidth:"thin","--width-per-second":"calc(100% / ".concat(v,")")},children:[(0,s.jsx)("div",{className:"stack w-full divide-y",children:null==r?void 0:r.map((e,t)=>{var a,i;return(0,s.jsx)("div",{className:"relative inline-flex items-center h-6 transition-opacity duration-200",style:{opacity:0===c.length||f(e.speaker_id)?1:.2,width:"calc(".concat(v," * var(--width-per-second))")},children:null===(i=e.utterances)||void 0===i?void 0:null===(a=i.filter(u).map(e=>({start:Math.max(e.start,m),end:Math.min(e.end,p)})))||void 0===a?void 0:a.map(e=>(0,s.jsx)("div",{className:"absolute h-1",style:{backgroundColor:C(t),left:"calc(".concat(e.start-m," * var(--width-per-second))"),width:"calc(".concat(e.end-e.start," * var(--width-per-second))")}},e.start))},e.speaker_id)})}),(0,s.jsxs)(et.fC,{className:"absolute left-0 inset-y-0 [&>span:has(>[role='slider'])]:inset-y-0",min:0,max:v,step:.01,value:[y-m],onValueChange:e=>{let[t]=e;if(!eh._m.value)return;(0,eh.pt)();let a=t+m;eh._m.value.currentTime=a,j(a)},style:{width:"calc(".concat(v," * var(--width-per-second))")},children:[(0,s.jsx)(et.fQ,{className:"absolute inset-0"}),(0,s.jsxs)(et.bU,{className:"w-0.5 stack items-center h-full relative focus:outline-foreground focus:outline-offset-4","aria-valuetext":"".concat((0,ey.zG)(Math.floor(y-m))," of ").concat((0,ey.zG)(Math.floor(v))),"aria-label":"Audio player seek",children:[(0,s.jsx)("div",{className:"-mt-2 relative w-2 h-2 rounded-full bg-background border-2 border-foreground"}),(0,s.jsx)("div",{className:"w-0.5 flex-1 bg-foreground rounded-b-full"})]})]})]}),(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsx)(M.x,{color:"subtle",className:"text-xs sm:text-sm",children:"Any overlapping segments have been removed to get the cleanest audio."})})]})}),eC=(0,s.jsx)("div",{className:"h-full flex items-center justify-center group",children:(0,s.jsx)("div",{className:"w-0.5 h-2 bg-background rounded-full group-hover:h-3 transition-all duration-200"})}),eS=e=>1-Math.cos(e*Math.PI/2),eP=e=>{var t;let{file:a,voiceId:i}=e;if(!a.sample)throw Error("Unreachable: Audio file does not appear to be uploaded");if(void 0===a.duration)throw Error("Unreachable: Audio file does not have duration");let n=a.duration,r=(0,x.useRef)(0),{control:l}=(0,g.Gc)(),{field:c}=(0,g.bc)({control:l,name:"trim"}),d=(0,x.useRef)(null),[u,h]=(0,x.useState)(10);(0,U.yU)(d,()=>{var e,t;h(null!==(t=null===(e=d.current)||void 0===e?void 0:e.clientWidth)&&void 0!==t?t:0)});let m=(0,x.useRef)(null),p=(0,x.useRef)(null),v=(0,x.useRef)(null),[f,b]=(0,x.useState)(0),[w,_]=(0,x.useState)(!1),[k,N]=(0,x.useState)(null),[C,S]=(0,x.useState)(null),{data:P,error:E,isLoading:D}=(0,y.YJu)({pathParams:{voiceId:i,sampleId:a.sample.sample_id}},{refetchOnWindowFocus:!1});(0,x.useEffect)(()=>{let e;if(!P&&!E)return;let t=!1,i=eu.Z.create();return(async()=>{let s={container:m.current,waveColor:"light"===em.themeManager.get()?"#d6d6da":"#494950",progressColor:"light"===em.themeManager.get()?"#0f0f10":"#ffffff",barWidth:2,barHeight:1,normalize:!0,cursorWidth:2,cursorColor:"#ff0000",barRadius:2,height:"auto",dragToSeek:!0,plugins:[i]};P&&P.visual_waveform.length>0&&(s.peaks=[P.visual_waveform],s.duration=n/1e3),a instanceof ew.X4?s.url=await a.signedUrl():s.url=await (0,O.sT)(await a.file()),e=ed.Z.create(s),s.peaks&&0!==s.peaks.length||await e.loadBlob(await a.file());let r=()=>{var t;return _(null!==(t=null==e?void 0:e.isPlaying())&&void 0!==t&&t)};e.on("init",()=>{t?(null==e||e.unAll(),null==e||e.destroy()):(N(e),S(i))}),e.on("play",r),e.on("pause",r),i.on("region-out",()=>{(null==e?void 0:e.isPlaying())&&e.pause()})})(),()=>{t=!0,i.unAll(),i.destroy(),null==e||e.unAll(),null==e||e.destroy()}},[P,E,n,N,S,_]),(0,x.useEffect)(()=>{var e,t;null===(t=v.current)||void 0===t||null===(e=t.resizableElement.current)||void 0===e||e.scrollIntoView({behavior:"instant",block:"nearest"})},[f]),(0,x.useEffect)(()=>{k&&C&&(C.clearRegions(),C.addRegion({start:c.value[0]/1e3,end:c.value[1]/1e3,color:"transparent",drag:!1,resize:!1}))},[c.value,C,k]);let A=c.value,V=u+Math.max((5*(null!==(t=null==P?void 0:P.visual_waveform.length)&&void 0!==t?t:0)||n)-u,0)*eS(f/100);return(0,s.jsx)("fieldset",{className:"contents",children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(T.Label,{weight:"semi-bold",children:"Trim audio"}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(T.Label,{size:"xs",children:"Zoom"}),(0,s.jsx)(eg.i,{value:f,onValueChange:b,className:"w-32","aria-label":"Zoom",disabled:D,formatter:e=>"".concat(e,"%")})]}),w?(0,s.jsx)(ef.h,{"aria-label":"Pause",tooltip:"Pause",type:"button",onClick:()=>null==k?void 0:k.pause(),disabled:D,children:(0,s.jsx)($.Z,{className:"!w-3.5 !h-3.5"})}):(0,s.jsx)(ef.h,{"aria-label":"Play",tooltip:"Play",type:"button",disabled:D,onClick:()=>{let e=null==C?void 0:C.getRegions()[0];null==e||e.play()},children:(0,s.jsx)(X.JF,{className:"!w-3 !h-3"})})]})]}),(0,s.jsx)("div",{className:(0,Z.cn)("mt-4 max-w-full overflow-x-hidden transition-opacity duration-150",{"pointer-events-none opacity-0":D}),style:{width:V},tabIndex:-1,ref:p,children:(0,s.jsxs)("div",{className:"relative h-4",style:{width:V},children:[(0,s.jsx)("div",{className:"absolute top-0 text-xs font-semibold tabular-nums",style:{left:A[0]*V/n},children:(0,ey.zG)(A[0]/1e3)}),(0,s.jsx)("div",{className:"absolute top-0 text-xs font-semibold text-right -translate-x-full tabular-nums",style:{left:A[1]*V/n},children:(0,ey.zG)(A[1]/1e3)})]})}),(0,s.jsx)("div",{className:"w-full bg-gray-alpha-50 rounded-[10px] border overflow-hidden",children:(0,s.jsxs)("div",{className:"relative max-w-full overflow-x-auto py-4",ref:d,style:{scrollbarWidth:"thin"},onScroll:e=>{p.current&&(p.current.scrollLeft=e.currentTarget.scrollLeft)},children:[(0,s.jsx)("div",{ref:m,className:"h-16 [&_::part(region)]:!pointer-events-none",style:{width:V}}),(0,s.jsxs)("div",{className:"absolute left-0 inset-y-0 z-10 pointer-events-none",style:{width:V},children:[(0,s.jsx)(o.M,{initial:!1,children:D&&(0,s.jsxs)(j.t,{className:"absolute inset-0 flex items-center justify-center gap-2",transition:{duration:.15},style:{width:V},children:[(0,s.jsx)(J.$,{size:"sm"}),(0,s.jsx)(M.x,{weight:"medium",children:"Loading waveform"})]})}),(0,s.jsx)("div",{className:(0,Z.cn)("absolute inset-y-0 left-0 bg-gray-alpha-200 pointer-events-none transition-opacity duration-150",D?"opacity-0":"opacity-100"),style:{width:A[0]*V/n+(w?0:6)}}),(0,s.jsx)("div",{className:(0,Z.cn)("absolute inset-y-0 right-0 bg-gray-alpha-200 pointer-events-none transition-opacity duration-150",D?"opacity-0":"opacity-100"),style:{left:A[1]*V/n-(w?0:6)}}),(0,s.jsx)(ec.s,{className:(0,Z.cn)("border-foreground border-y-2 border-x-[6px] rounded-[9px] h-full transition-opacity duration-150 pointer-events-auto",{"pointer-events-none opacity-0":D||w}),ref:v,bounds:"parent",resizeHandleComponent:{left:eC,right:eC},size:{height:"100%",width:(A[1]-A[0])*(V/n)},position:{x:A[0]*(V/n),y:0},minWidth:V/n*1e3,enableResizing:{bottom:!1,bottomLeft:!1,bottomRight:!1,left:!0,right:!0,top:!1,topLeft:!1,topRight:!1},dragAxis:"x",resizeHandleClasses:{left:"!-left-1.5 !w-1.5",right:"!-right-1.5 !w-1.5"},onResizeStart:(e,t)=>{r.current="left"===t?A[0]:A[1]},onResize:(e,t,a,i)=>{"left"===t?c.onChange([Math.round((0,H.uZ)(r.current-i.width*n/V,0,n)),A[1]]):c.onChange([A[0],Math.round((0,H.uZ)(r.current+i.width*n/V,0,n))])},onDrag:(e,t)=>{c.onChange([Math.round((0,H.uZ)(A[0]+t.deltaX*n/V,0,n-(A[1]-A[0]))),Math.round((0,H.uZ)(A[1]+t.deltaX*n/V,A[0],n))])}})]})]})})]})})},eE=e=>{var t;let a="isolated-preview-".concat(e.id),{mutate:i,isLoading:s}=(0,r.useMutation)({mutationFn:e=>{let{sampleId:t,voiceId:a,removeBackgroundNoise:i}=e;return(0,y.Y0R)({pathParams:{sampleId:t,voiceId:a},queryParams:{remove_background_noise:i}})},onSuccess:(t,i)=>{let{removeBackgroundNoise:s}=i,n=s?'Isolated preview of "'.concat(e.name,'"'):'Preview of "'.concat(e.name,'"');(0,eh.GM)("data:audio/mpeg;base64,".concat(t.audio_base_64),{id:a,name:n,autoStart:!0,fileName:n,isFirstRequest:!0,player:{title:n},type:"other"})}}),n=(null===(t=eh.Qu.value)||void 0===t?void 0:t.id)===a,l=eh.yA.value&&n;return(0,x.useEffect)(()=>()=>{var e;(null===(e=eh.Qu.value)||void 0===e?void 0:e.id)===a&&(0,eh.ob)()},[]),{fetchIsolatedPreview:i,isFetchingIsolatedPreview:s,isIsolatedPreviewPlaying:l,isIsolatedPreviewActive:n}},eD=(0,p.Pi)(e=>{var t,a,i,n,r,l,c,d,u,h,m,p,v;let{voiceId:f,file:b,onSave:w}=e;if(!b.sample)throw Error("Unreachable: Audio file does not appear to be uploaded");let _=b.sample.sample_id,k={backgroundNoise:(0,x.useId)(),speakerSelection:(0,x.useId)()},N=(0,g.cI)({defaultValues:{removeBackgroundNoise:null!==(d=null===(t=b.sample)||void 0===t?void 0:t.remove_background_noise)&&void 0!==d&&d,selectedSpeakerIds:null!==(u=null===(i=b.sample)||void 0===i?void 0:null===(a=i.speaker_separation)||void 0===a?void 0:a.selected_speaker_ids)&&void 0!==u?u:[],trim:[null!==(h=null===(n=b.sample)||void 0===n?void 0:n.trim_start)&&void 0!==h?h:0,null!==(p=null===(r=b.sample)||void 0===r?void 0:r.trim_end)&&void 0!==p?p:Math.trunc(null!==(m=b.duration)&&void 0!==m?m:1e3)]}}),{formState:{isSubmitting:C,dirtyFields:S},control:P,watch:D,handleSubmit:A}=N,V=(0,W.XE)(),{mutateAsync:I}=(0,y.gm$)({onSuccess:()=>{V()}}),{fetchIsolatedPreview:L,isFetchingIsolatedPreview:B,isIsolatedPreviewActive:Z,isIsolatedPreviewPlaying:O}=eE(b),{data:U,refetch:q}=e_({voiceId:f,sampleId:_}),{mutate:H,error:G,isLoading:Y}=(0,y.n_u)({onSuccess:()=>q()}),K=Y||(null==U?void 0:U.status)==="pending",Q=!!G||(null==U?void 0:U.status)==="failed",ee=(null===(c=b.sample)||void 0===c?void 0:null===(l=c.speaker_separation)||void 0===l?void 0:l.speakers)&&Object.values(b.sample.speaker_separation.speakers).length,et=async e=>{try{var t,a,i,s,n;await I({pathParams:{voiceId:f,sampleId:_},body:{remove_background_noise:S.removeBackgroundNoise?e.removeBackgroundNoise:void 0,selected_speaker_ids:S.selectedSpeakerIds?e.selectedSpeakerIds:void 0,...b.duration?{trim_start_time:S.trim?null!==(i=e.trim.at(0))&&void 0!==i?i:0:void 0,trim_end_time:S.trim?null!==(s=e.trim.at(1))&&void 0!==s?s:Math.trunc(b.duration):void 0}:void 0}}),b.sample&&(b.sample.remove_background_noise=e.removeBackgroundNoise,b.sample.speaker_separation&&(b.sample.speaker_separation={...b.sample.speaker_separation,selected_speaker_ids:e.selectedSpeakerIds}),b.sample.trim_start=e.trim[0],b.sample.trim_end=e.trim[1]),(0,R.eN)(F.B_.voice_lab_professional_voice_cloning_sample_edited,{voiceId:f,sampleId:_,removeBackgroundNoise:e.removeBackgroundNoise,selectedSpeakerIds:e.selectedSpeakerIds,duration:b.duration,nSpeakers:Object.keys(null!==(n=null===(a=b.sample)||void 0===a?void 0:null===(t=a.speaker_separation)||void 0===t?void 0:t.speakers)&&void 0!==n?n:{}).length,trim_start:e.trim[0],trim_end:e.trim[1]}),w()}catch(e){(0,ea.Tb)(e),z.toast.errorHttp(e,"Could not save audio settings, please try again after some time.")}};return(0,s.jsxs)("div",{className:"stack relative flex-1 overflow-y-auto",children:[(0,s.jsxs)(ep.OX,{className:"px-5 lg:px-7 pt-8 pb-6",children:[(0,s.jsx)(ep.iI,{className:"text-md",children:"Settings"}),(0,s.jsx)(ep.$m,{})]}),(0,s.jsx)(g.RV,{...N,children:(0,s.jsxs)("form",{className:"stack flex-1",onSubmit:A(et),children:[(0,s.jsx)("fieldset",{className:"flex-1 contents",disabled:C,role:"none",children:(0,s.jsxs)("div",{className:"px-5 lg:px-7 stack gap-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(T.Label,{weight:"semi-bold",htmlFor:k.backgroundNoise,children:"Background noise removal"}),(0,s.jsx)(M.x,{color:"subtle",className:"text-xs sm:text-sm",children:"Clean audio files on your behalf"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(g.Qr,{name:"removeBackgroundNoise",control:P,render:e=>{let{field:t}=e;return(0,s.jsx)(eb.r,{id:k.backgroundNoise,checked:t.value,onCheckedChange:e=>{t.onChange(e),Z&&(0,eh.ob)()}})}}),O?(0,s.jsx)(ef.h,{"aria-label":"Pause preview",tooltip:"Pause preview",type:"button",onClick:()=>(0,eh.pt)(),children:(0,s.jsx)($.Z,{className:"!w-3.5 !h-3.5"})}):(0,s.jsx)(ef.h,{"aria-label":"Play preview",tooltip:"Play preview",type:"button",loading:B,onClick:()=>{L({sampleId:_,voiceId:f,removeBackgroundNoise:D("removeBackgroundNoise")})},children:(0,s.jsx)(X.JF,{className:"!w-3 !h-3"})})]})]}),void 0!==b.duration&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("hr",{className:"border-subtle"}),(0,s.jsx)(eP,{file:b,voiceId:f})]}),(0,s.jsx)("hr",{className:"border-subtle"}),(0,s.jsx)(o.M,{mode:"wait",initial:!1,children:ee&&ee>0?(0,s.jsx)(j.t,{children:(0,s.jsx)(eN,{file:b})},"settings-select-speaker"):(0,s.jsxs)(j.t,{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(T.Label,{weight:"semi-bold",children:"Speaker separation"}),(0,s.jsx)(M.x,{color:"subtle",className:"text-xs sm:text-sm",children:"Separate the different speakers in the audio file"})]}),(0,s.jsx)(o.M,{initial:!1,children:0!==ee&&(0,s.jsx)(j.t,{children:(0,s.jsx)(E.Button,{type:"button",disabled:K,onClick:()=>{(0,R.eN)(F.B_.voice_lab_professional_voice_cloning_speaker_separation_started,{voiceId:f,sampleId:_,duration:b.duration}),H({pathParams:{voiceId:f,sampleId:_}})},children:"Start separation"})})})]}),(0,s.jsx)(o.M,{mode:"wait",initial:!1,children:K?(0,s.jsxs)(j.t,{className:"py-8 flex items-center justify-center gap-2",children:[(0,s.jsx)(J.$,{size:"sm"}),(0,s.jsx)(M.x,{weight:"medium",children:"Analyzing audio"})]},"settings-speaker-separation-loading"):0===ee?(0,s.jsx)(j.t,{className:"py-8 text-center",children:(0,s.jsx)(M.x,{color:"subtle",children:"No speakers detected."})},"settings-speaker-separation-empty"):Q?(0,s.jsxs)(j.t,{className:"py-8 flex items-center justify-center gap-2",children:[(0,s.jsx)(ei.Z,{className:"w-5 h-5 text-error"}),(0,s.jsx)(M.x,{weight:"medium",className:"text-error",children:(null==U?void 0:U.status)==="failed"?"Failed to separate speakers":null!==(v=null==G?void 0:G.message)&&void 0!==v?v:"Failed to start speaker separation"})]},"settings-speaker-separation-error"):null})]},"settings-speaker-separation")})]})}),(0,s.jsxs)(ep.ze,{className:"stack items-stretch gap-0 sticky bottom-0 p-0 mt-auto backdrop-blur z-10",children:[(0,s.jsxs)("div",{className:"flex flex-row justify-between items-center px-5 lg:px-7 py-4 bg-background/70",children:[(0,s.jsx)(ep.uh,{asChild:!0,children:(0,s.jsx)(E.Button,{type:"button",className:"bg-background",disabled:C,children:"Cancel"})}),(0,s.jsx)(E.Button,{variant:"primary",type:"submit",loading:C,children:"Save selection"})]}),(0,s.jsx)("div",{className:"border-t px-5 lg:px-7 py-2 bg-gray-50/70",children:(0,s.jsx)(M.x,{className:"text-[10px] text-center",children:"Changes to the audio sample will be applied during voice creation"})})]})]})})]})}),eA=e=>{let{open:t,onOpenChange:a,voiceId:i,file:n}=e;if(!n.sample)throw Error("Unreachable: Audio file does not appear to be uploaded");let r=n.sample.sample_id,l=(0,W.XE)(),{data:o}=e_({voiceId:i,sampleId:r},void 0!==n.sample);return(0,x.useEffect)(()=>{if((null==o?void 0:o.status)==="completed"&&n.sample){var e;(0,R.eN)(F.B_.voice_lab_professional_voice_cloning_speaker_separation_completed,{voiceId:i,sampleId:r,duration:n.duration,nSpeakers:Object.keys(null!==(e=o.speakers)&&void 0!==e?e:{}).length}),n.sample.speaker_separation=o,l()}},[o,l,r,n.sample]),(0,s.jsx)(ep.dy,{open:t,onOpenChange:a,children:(0,s.jsx)(ep.sc,{className:"max-w-xl mx-auto max-h-[90%] overflow-hidden",style:{minHeight:"min(800px, 90%)"},hideHandle:!0,children:(0,s.jsx)(eD,{voiceId:i,file:n,onSave:()=>a(!1)})})})},eT=(0,p.Pi)(e=>{var t,a,i,n;let{voiceId:r,file:l,onReupload:c,onRemove:d}=e,{isLoading:u,isPlaying:h,togglePlay:m}=(0,ej.kY)(l),[p,v]=(0,x.useState)(!1),{mutateAsync:f,isLoading:g}=(0,ej.P0)(l),b=(0,U.bs)("sm"),w=(0,W.XE)(),{mutateAsync:_,isLoading:k}=(0,y.qvn)({onSuccess:()=>{w()}}),N="type"in l&&"recording"===l.type,C=l.sample&&("number"==typeof l.sample.trim_start&&l.sample.trim_start>0||"number"==typeof l.sample.trim_end&&l.duration&&l.sample.trim_end<Math.trunc(l.duration)),S=l.sample&&(l.sample.remove_background_noise||!!(null===(a=l.sample.speaker_separation)||void 0===a?void 0:null===(t=a.selected_speaker_ids)||void 0===t?void 0:t.length)||C),P=async()=>{l.sample&&await _({pathParams:{voiceId:r,sampleId:l.sample.sample_id}}),d(l)},D=(0,s.jsx)(o.M,{initial:!1,children:S&&(0,s.jsx)(j.t,{"aria-hidden":!0,className:"absolute -top-0.5 -right-0.5 w-2 h-2 rounded-full bg-blue-500 ring-2 ring-background"})});return(0,s.jsxs)(V.HC,{className:"px-0 py-4","aria-label":l.name,children:[(0,s.jsx)(V.L9,{children:(0,s.jsx)(ex.Z,{className:"text-gray-alpha-900",children:N?(0,s.jsx)(X.XQ,{}):(0,s.jsx)(es.Z,{})})}),(0,s.jsxs)(V.Ek,{children:[(0,s.jsx)(M.x,{size:"sm",weight:"medium",className:"truncate",children:l.name}),l instanceof ew.EU&&"error"===l.status&&l.error?(0,s.jsxs)("div",{className:"flex items-center gap-2 mt-0.5",children:[(0,s.jsx)(M.x,{size:"sm",weight:"medium",className:"text-error",children:l.error.message}),"warning"===l.error.type&&(0,s.jsx)(E.Button,{size:"xs",variant:"link",className:"underline",onClick:()=>c(l),children:"Upload"}),(0,s.jsx)(E.Button,{size:"xs",variant:"link",className:"underline",onClick:()=>d(l),children:"Remove"})]}):(0,s.jsx)(M.x,{size:"sm",color:"subtle",className:"mt-0.5",children:["number"==typeof(null===(i=l.sample)||void 0===i?void 0:i.trim_start)&&"number"==typeof(null===(n=l.sample)||void 0===n?void 0:n.trim_end)?"".concat((0,I.LU)(l.sample.trim_end-l.sample.trim_start)):l.duration?(0,I.LU)(l.duration):void 0,"size"in l&&"number"==typeof l.size?(0,G.KS)(l.size):void 0,N?"Recording":"File upload"].filter(Boolean).join(" • ")})]}),(0,s.jsxs)(V.cT,{className:"gap-1",children:[(0,s.jsx)(ef.h,{"aria-label":h?"Pause audio":"Play audio",tooltip:h?"Pause audio":"Play audio",loading:u,disabled:k,onClick:m,children:h?(0,s.jsx)($.Z,{className:"!w-3.5 !h-3.5"}):(0,s.jsx)(X.JF,{className:"!w-3 !h-3"})}),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ef.h,{className:"max-sm:hidden","aria-label":"Download file",tooltip:"Download file",loading:g,disabled:k,onClick:()=>f(),children:(0,s.jsx)(en.Z,{})}),l.sample&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ef.h,{className:"relative max-sm:hidden","aria-label":"Audio settings",tooltip:"Audio settings",disabled:k,onClick:()=>{(0,eh.pt)(),v(!0)},children:(0,s.jsxs)("div",{className:"flex items-center justify-center",children:[D,(0,s.jsx)(er.Z,{className:"w-4 h-4"})]})}),(0,s.jsx)(eA,{open:p,onOpenChange:v,voiceId:r,file:l})]}),(0,s.jsx)(ef.h,{className:"max-sm:hidden","aria-label":"Remove audio sample",tooltip:"Remove audio sample",loading:k,onClick:P,children:(0,s.jsx)(el.Z,{className:"!w-3.5 !h-3.5"})})]}),!b&&(0,s.jsxs)(ev.h_,{children:[(0,s.jsx)(ev.$F,{asChild:!0,children:(0,s.jsx)(ef.h,{className:"relative","aria-label":"More options",tooltip:"More options",children:(0,s.jsxs)("div",{children:[D,(0,s.jsx)(eo.Z,{className:"w-4 h-4"})]})})}),(0,s.jsxs)(ev.AW,{children:[(0,s.jsxs)(ev.Xi,{className:"gap-1.5",disabled:k||g,onSelect:e=>{e.preventDefault(),f()},children:[(0,s.jsx)(en.Z,{className:"w-3.5 h-3.5"}),g?"Downloading...":"Download"]}),(0,s.jsxs)(ev.Xi,{className:"gap-1.5",disabled:k,onSelect:()=>{(0,eh.pt)(),v(!0)},children:[(0,s.jsx)(er.Z,{className:"w-3.5 h-3.5"}),"Settings",(0,s.jsx)(o.M,{children:S&&(0,s.jsx)(j.t,{"aria-hidden":!0,className:"ml-auto w-1.5 h-1.5 rounded-full bg-blue-500"})})]}),(0,s.jsxs)(ev.Xi,{className:"gap-1.5",disabled:k,onSelect:e=>{e.preventDefault(),P()},children:[(0,s.jsx)(el.Z,{className:"w-3.5 h-3.5"}),k?"Removing...":"Remove"]})]})]})]})]})}),eV=(0,p.Pi)(e=>{let{file:t}=e;return(0,s.jsxs)(V.HC,{className:"px-0 py-4 animate-pulse",style:{animationDuration:"2s"},children:[(0,s.jsx)(V.L9,{children:(0,s.jsx)(J.$,{size:"sm"})}),(0,s.jsxs)(V.Ek,{children:[(0,s.jsx)(M.x,{size:"sm",weight:"medium",className:"truncate",children:t.name}),(0,s.jsx)(M.x,{size:"sm",color:"subtle",className:"mt-0.5",children:t.loadingText||"Uploading"})]}),(0,s.jsxs)(V.cT,{className:"gap-1",children:[(0,s.jsx)(ef.h,{"aria-label":"Play audio",disabled:!0,children:(0,s.jsx)(X.JF,{className:"!w-3 !h-3"})}),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ef.h,{className:"max-sm:hidden","aria-label":"Download file",disabled:!0,children:(0,s.jsx)(en.Z,{})}),(0,s.jsx)(ef.h,{className:"max-sm:hidden","aria-label":"Audio settings",disabled:!0,children:(0,s.jsx)(er.Z,{})}),(0,s.jsx)(ef.h,{className:"max-sm:hidden","aria-label":"Remove audio",disabled:!0,children:(0,s.jsx)(el.Z,{className:"!w-3.5 !h-3.5"})})]}),(0,s.jsx)(ef.h,{className:"sm:hidden","aria-label":"More options",disabled:!0,children:(0,s.jsx)(eo.Z,{})})]})]})});var eI=a(40882),eM=a(11629),eL=a(75349),ez=a(92879),eR=a(57537);let eF=(0,p.Pi)(e=>{var t;let{files:a}=e,[i,n]=(0,x.useState)(0),{mutate:c,isLoading:d}=(0,r.useMutation)({mutationFn:e=>(0,ej.Ae)(e)}),{mutate:u,isLoading:h}=(0,r.useMutation)({mutationFn:e=>(0,ej.Ae)(e)});(0,x.useEffect)(()=>{if(!eh._m.value)return;let e=eh._m.value,t=()=>n(e.currentTime);return e.addEventListener("timeupdate",t),()=>{e.removeEventListener("timeupdate",t)}},[eh._m.value,n]);let m=a.findIndex(e=>{var t;return e.id===(null===(t=eh.Qu.value)||void 0===t?void 0:t.id)}),p=a.at(m),v=p instanceof ew.EU&&"recording"===p.type,f=(null!==(t=null==p?void 0:p.duration)&&void 0!==t?t:0)/1e3;return(0,s.jsx)(o.M,{children:p&&-1!==m&&(0,s.jsxs)(l.E.div,{className:"stack w-full gap-0.5 justify-between",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.4,ease:"easeOut"},children:[(0,s.jsxs)("div",{className:"grid grid-cols-[auto,auto] lg:grid-cols-3 items-center gap-0.5 pl-5 pr-3 h-20 md:h-auto md:px-2",children:[(0,s.jsxs)("div",{className:"hstack items-center gap-2 min-w-0",children:[(0,s.jsx)("div",{className:"h-8 w-8 center bg-gray-alpha-100 rounded-lg shrink-0",children:(0,s.jsx)(ex.Z,{className:"text-gray-alpha-900",children:v?(0,s.jsx)(X.XQ,{}):(0,s.jsx)(es.Z,{})})}),(0,s.jsx)(M.x,{size:"sm",weight:"medium",className:"block truncate",truncate:!0,children:p.name})]}),(0,s.jsxs)("div",{className:"justify-self-end lg:justify-self-center hstack items-center gap-2",children:[(0,s.jsx)(ef.h,{variant:"ghost",className:"w-9 h-9 p-0 flex rounded-full","aria-label":"Play previous sample",tooltip:"Play previous sample",disabled:0===m||h,loading:d,onClick:()=>{c(a[Math.max(m-1,0)])},children:(0,s.jsx)(eI.Z,{})}),(0,s.jsx)(eL.JM,{}),(0,s.jsx)(ef.h,{variant:"ghost",className:"w-9 h-9 p-0 flex rounded-full","aria-label":"Play next sample",tooltip:"Play next sample",disabled:m===a.length-1||d,loading:h,onClick:()=>{let e=Math.min(m+1,a.length-1);u(a[e])},children:(0,s.jsx)(eM.Z,{})})]})]}),(0,s.jsxs)("div",{className:"hstack grow flex-nowrap gap-2 -mb-3 max-md:absolute max-md:top-0 max-md:left-0 max-md:right-0",children:[(0,s.jsx)(ez.z,{time:i}),(0,s.jsx)(eR.j,{max:f,maxSettable:f,step:.1,value:i||0,onValueChange:e=>{null!==eh._m.value&&(eh._m.value.currentTime=e)},formatter:e=>(0,ey.zG)(e)}),(0,s.jsx)(ez.z,{time:f})]})]})})});var eB=a(22776),eZ=a(47078),eO=a(77513),eU=a(89008);let eq=Math.PI,eH=(0,x.createContext)(null),eG=()=>{let e=(0,x.useContext)(eH);if(!e)throw Error("useCircularProgressContext must be used within CircularProgressProvider");return e},eW=e=>e-eq/2,eY=(0,x.memo)(e=>{let{index:t}=e,{value:a,max:i,numTicks:n,size:r,tickSize:o}=eG(),c=r/2,d=(0,eB.q)((0,eZ.H)(a,e=>{let a=(0,H.KK)(t,[0,n],[0,i]),s=(0,H.KK)(t+1,[0,n],[0,i]);return(0,H.KK)(e,[a,s],[0,1])}),{bounce:.3}),u=(0,eZ.H)(d,e=>o[0]+e*o[1]),h=(0,eZ.H)(d,[0,.1],"light"===em.themeManager.get()?["#d6d6da","#0f0f10"]:["#494950","#ffffff"]),m=eW(t/n*2*eq),p=c+c*Math.cos(m)-o[0]/2,v=(0,eZ.H)(u,e=>c+c*Math.sin(m)-e);return(0,s.jsx)(l.E.div,{className:"rounded-full bg-gray-alpha-300 absolute origin-bottom",style:{width:o[0],height:u,left:p,top:v,backgroundColor:h,transform:"rotate(".concat(m+eq/2,"rad)")}},t)}),eK=e=>{let{value:t,children:a,className:i,offset:n=0}=e,{size:r,max:l,numTicks:o,tickSize:c}=eG(),d=(0,H.KK)(Math.round((0,H.KK)(t,[0,l],[0,o]))-1,[0,o],[0,2*eq]),u=(d=eW(d))>eq/2;return(0,s.jsx)("div",{className:"absolute top-1/2 left-1/2 flex origin-left",style:{width:r/2+c[0]+c[1]+n,transform:"rotate(".concat(d,"rad)")},children:(0,s.jsxs)("div",{className:(0,Z.cn)("absolute left-full flex items-end bottom-0",{"top-0 -scale-y-100":u}),children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 38 10",className:"w-10",children:(0,s.jsx)("path",{className:"stroke-gray-alpha-300",strokeLinecap:"round",d:"m1.423 8.726 20.587-.083a17 17 0 0 0 11.525-4.567L37.077.773"})}),(0,s.jsx)("div",{className:i,style:{transform:"".concat(u?"scaleY(-1) translateY(50%)":"translateY(-50%)"," translateX(-50%) rotate(").concat(-1*d,"rad)")},children:a})]})})},eX=(0,x.memo)(e=>{let{value:t,children:a,size:i,max:n,numTicks:r=75,tickSize:l=[5,15]}=e,o=(0,eO.c)(t);return(0,x.useEffect)(()=>{(0,eU.j)(o,t,{ease:"easeInOut",duration:.5})},[t]),(0,s.jsx)(eH.Provider,{value:{value:o,max:n,size:i,numTicks:r,tickSize:l},children:(0,s.jsxs)("div",{className:"rounded-full relative",style:{width:i,height:i},children:[a,[...Array(r)].map((e,t)=>(0,s.jsx)(eY,{index:t},t))]})})});eX.displayName="CircularProgress";var eQ=a(66895),eJ=a(55681),e$=a(97918),e0=a(89219),e1=a(19208);let e2=(0,p.Pi)(e=>{let{file:t}=e,{isLoading:a,isPlaying:i,togglePlay:n}=(0,ej.kY)(t),{mutateAsync:r,isLoading:l}=(0,ej.P0)(t);return(0,s.jsxs)(V.HC,{className:"px-0 py-1.5 gap-4","aria-label":t.name,value:t.id,children:[(0,s.jsxs)(V.Ek,{children:[(0,s.jsx)(M.x,{size:"sm",weight:"medium",className:"truncate",children:t.name}),(0,s.jsx)(M.x,{size:"sm",color:"subtle",children:t.duration&&(0,I.LU)(t.duration)})]}),(0,s.jsxs)(V.cT,{className:"gap-1",children:[(0,s.jsx)(ef.h,{variant:"ghost","aria-label":i?"Pause audio":"Play audio",loading:a,onClick:n,children:i?(0,s.jsx)($.Z,{className:"!w-3.5 !h-3.5"}):(0,s.jsx)(X.JF,{className:"!w-3 !h-3"})}),(0,s.jsx)(ef.h,{variant:"ghost","aria-label":"Download file",loading:l,onClick:()=>r(),children:(0,s.jsx)(en.Z,{})})]})]})}),e5=e=>{let{onRecordings:t}=e,[a,i]=(0,x.useState)(!1),[n,r]=(0,x.useState)([]),{data:l}=(0,e$.useQuery)({queryKey:["pvc-recording-backup-recovery"],queryFn:async()=>{let e=await e1.M.getMany("pvc");return e.length?(await Promise.allSettled(e.map((e,t)=>{let a=(0,O.IK)(e,"Recording ".concat(t+1));return ej.rf.create(a)}))).filter(e=>"fulfilled"===e.status).map(e=>e.value):[]},cacheTime:0,retry:2,refetchOnWindowFocus:!1,refetchOnReconnect:!1,refetchOnMount:!1});return(0,x.useEffect)(()=>{l&&l.length>0&&i(!0)},[l,i]),(0,s.jsx)(e0.Vq,{open:a,onOpenChange:i,children:(0,s.jsxs)(e0.cZ,{onInteractOutside:e=>e.preventDefault(),onEscapeKeyDown:e=>e.preventDefault(),children:[(0,s.jsxs)(e0.fK,{children:[(0,s.jsx)(e0.$N,{children:"Recover unsaved recording"}),(0,s.jsx)(e0.Be,{children:"Your browser may have crashed during the last recording. You can recover your backed up recordings here."})]}),(0,s.jsx)(V.aV,{className:"stack gap-1",mode:V.tF.Edit,selection:n,onSelectionChange:r,children:null==l?void 0:l.map(e=>(0,s.jsx)(e2,{file:e},e.id))}),(0,s.jsxs)(e0.cN,{children:[(0,s.jsx)(E.Button,{onClick:()=>{i(!1),e1.M.clearMany("pvc")},children:"Skip"}),(0,s.jsx)(E.Button,{variant:"primary",disabled:0===n.length,onClick:async()=>{let e=null==l?void 0:l.filter(e=>n.includes(e.id));if(e&&0!==e.length)try{(0,R.eN)(F.B_.voice_lab_professional_voice_cloning_recording_recovered,{n_backups:l.length,n_recovered:e.length,recovered_duration:e.reduce((e,t)=>e+t.duration,0)}),await t(e),i(!1),e1.M.clearMany("pvc")}catch(e){(0,ea.Tb)(e)}},children:"Add recordings"})]})]})})};var e3=a(78190),e4=a(69436);let e6=e=>{let{title:t,description:a}=e;return(0,s.jsxs)("li",{className:"px-4 py-3 border border-gray-alpha-200 rounded-2xl stack gap-1",children:[(0,s.jsx)(M.x,{as:"div",weight:"semi-bold",children:t}),(0,s.jsx)(M.x,{color:"subtle",children:a})]})},e8=e=>{let{script:t,...a}=e,{recorder:{isRecording:i},speechRecognitionHighlighting:{readWords:n,error:r},audioWaveform:{waveformData:c}}=(0,e4.$4)(),d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ",a=(0,eO.c)(0),[i,s]=(0,x.useState)(0),[n,r]=(0,x.useState)(e),[l,o]=(0,x.useState)(!0);return n===e||(r(e),o(e.startsWith(n)),e.startsWith(n)||s(0)),(0,x.useEffect)(()=>{l||a.jump(0);let i=(0,eU.j)(a,e.split(t).length,{duration:3,ease:"easeOut",onUpdate(e){s(Math.floor(e))}});return()=>i.stop()},[a,l,e]),e.split(t).slice(0,i).join(t)}(n);return(0,s.jsxs)(j.t,{className:"stack flex-1 overflow-y-auto",children:[(0,s.jsxs)(ep.OX,{className:"px-5 lg:px-7 py-8",children:[(0,s.jsx)(ep.iI,{className:"text-md",children:"Record audio samples"}),(0,s.jsx)(ep.$m,{})]}),(0,s.jsx)("div",{className:"flex-1 px-5 lg:px-7 relative",children:(0,s.jsx)(o.M,{initial:!1,mode:"wait",children:void 0!==t?(0,s.jsxs)(j.t,{className:"text-xl/loose md:text-2xl/loose font-medium",children:[(0,s.jsx)(o.M,{children:d.length>0&&!r&&(0,s.jsx)(j.t,{className:"absolute top-0 inset-x-5 lg:inset-x-7 pointer-events-none text-transparent","aria-hidden":!0,children:(0,s.jsx)("span",{className:"inline bg-cyan-100 rounded py-0.5 whitespace-pre-line",children:d})})}),(0,s.jsx)("p",{className:"relative whitespace-pre-line",children:t.text})]},"recorder-script-".concat((0,e3.vp)(t.text))):i?(0,s.jsx)(j.t,{className:"h-full flex gap-1 items-center justify-center",children:c.map((e,t)=>(0,s.jsx)(l.E.div,{className:"w-1 h-1 bg-foreground rounded-full max-h-32",animate:{height:Math.abs(300*e)+4}},t))},"recorder-waveform"):(0,s.jsx)(j.t,{children:(0,s.jsxs)("ul",{className:"stack gap-3",children:[(0,s.jsx)(e6,{title:"Use a pro-grade mic",description:"For the best results we recommend using a professional microphone, a MacBook or Laptop one will not yield the best results."}),(0,s.jsx)(e6,{title:"Avoid noisy environments",description:"For the best results, record in a quiet environment to avoid noise being added to your recordings."}),(0,s.jsx)(e6,{title:"Use a pre-selected script",description:"We have scripts that will help you craft your voice clone depending on the type of clone you’re creating."}),(0,s.jsx)(e6,{title:"Feel free to save smaller recordings if you need to take a break",description:"If you need to take a couple of minutes between reading, just save your recording and create multiple samples."})]})},"recorder-instructions")})}),(0,s.jsx)(ep.ze,{className:"px-5 lg:px-7 py-6 sticky bottom-0 z-10",children:(0,s.jsx)(e4.jp,{showRestart:!0,showScriptSelector:!0,script:t,backupInterval:3e4,...a})})]})},e7=e=>{let{open:t,onOpenChange:a,disabled:i,onChange:n,language:r,...l}=e,[c,d]=(0,x.useState)(),{recorder:{isRecording:u}}=(0,e4.$4)();return(0,x.useEffect)(()=>{t&&d(void 0)},[t,d]),(0,s.jsx)(ep.dy,{open:!i&&t,onOpenChange:a,children:(0,s.jsx)(ep.sc,{className:"max-w-3xl mx-auto max-h-[90%] h-full",classes:{overlay:(0,Z.cn)("!transition !duration-500",{"bg-gray-alpha-800 dark:bg-gray-alpha-300 backdrop-blur":u})},hideHandle:!0,onInteractOutside:e=>{u&&e.preventDefault()},onEscapeKeyDown:e=>{u&&e.preventDefault()},"data-vaul-no-drag":!!u||null,children:(0,s.jsx)(o.M,{initial:!1,mode:"wait",children:(0,s.jsx)(e8,{disabled:i,language:r,script:c,onScriptChange:d,onChange:e=>{(0,R.eN)(F.B_.voice_lab_professional_voice_cloning_recording_created,{duration:e.duration,script:null==c?void 0:c.type,language:r}),n(e),setTimeout(()=>a(!1),400)},...l},"create-recording")})})})};var e9=e=>(0,s.jsx)(e4.IR,{children:(0,s.jsx)(e7,{...e})});let te=q.Q4.map(e=>({key:e.languageCode,name:e.name})),tt=6e5,ta=e=>(0,m.ky)({primaryHue:360*Math.random(),get secondaryHue(){return(this.primaryHue+40+20*(2*Math.random()-1))%360},motionStrength:0,colorStrength:0,get value(){return{primaryHue:this.primaryHue,secondaryHue:this.secondaryHue,motionStrength:e.allFilesHasDuration?(0,H.KK)(e.allFilesDuration,[0,36e5],[0,2.5]):1,colorStrength:e.allFilesHasDuration?(0,H.KK)(e.allFilesDuration,[0,18e5],[0,1]):1}},updateHues(e,t){this.primaryHue=(206+(0,_.r4)(e,t))%360}}),ti=e=>{let{formState:t,watch:a,getValues:i,getFieldState:s,reset:l,trigger:o}=(0,g.Gc)(),c=(0,W.XE)(),{mutateAsync:d,...u}=(0,r.useMutation)({mutationFn:async a=>{let s=a.labels?Object.fromEntries(a.labels.map(e=>[e.label,e.value])):void 0;if(a.language?(null!=s||(s={}),s.language=a.language):s&&(s.language=i("language")),s){var r;null!==(r=a.language)&&void 0!==r||(a.language=s.language)}try{await (0,P.Cl)(e.stepper,async()=>{let{voice_id:t}=await (0,y.OJo)({pathParams:{voiceId:e.voiceId},body:{name:a.voiceName,description:a.description,language:a.language,labels:s}});e.voiceSaved=await (0,y.EzY)({pathParams:{voiceId:t}}),c()}),l({...t.defaultValues,...a},{keepValues:!0,keepErrors:!0,keepDirtyValues:!0})}catch(t){throw(0,n.$e)(i=>{i.setTag("step","pvc-save"),i.setTag("voice_id",e.voiceId),i.setContext("values",{name:a.voiceName,description:a.description,language:a.language,labels:s,n_samples:e.files.length,size_samples:e.allFilesSize}),i.captureException(t)}),z.toast.errorHttp(t,"Could not save changes to the voice due to an internal error."),t}}});return(0,x.useEffect)(()=>{let e;let{unsubscribe:t}=a(async(t,a)=>{let{name:i}=a;window.clearTimeout(e),i&&(i=i.split(".")[0],await o(i)&&("language"!==i||await o("labels"))&&("labels"!==i||await o("language"))&&(e=window.setTimeout(()=>{try{d({[i]:t[i]})}catch(e){}},1e3)))});return()=>{window.clearTimeout(e),t()}},[a,o,s,d]),{triggerSave:d,...u}},ts=async e=>{let t=await Promise.all(e.filter(e=>!(e instanceof ew.X4)).map(e=>e.file())),a=e.filter(e=>"uploaded"===e.status||"uploading"===e.status),i=a.length,s=a.reduce((e,t)=>e+t.size,0);return async function(e){if(e.duration<3e4)return{type:"error",code:"min-duration",file:e,message:"At least ".concat(30,"s of audio is required")};if(a.some(t=>t!==e&&t.language!==e.language))return{type:"error",code:"language-mismatch",file:e,message:"All audio samples must be in the same language"};let n=await e.file(),r=t.filter(e=>e!==n),l="duplicate_file";return!e.skippedWarningCodes.has(l)&&r.some(e=>e.name===n.name&&e.lastModified===n.lastModified&&e.size===n.size&&e.type===n.type)?{type:"warning",code:l,message:"Uploading duplicate files could result in poor clone",file:e}:i>=100?{type:"error",code:"max-samples-per-voice-exceeded",file:e,message:"You can only upload ".concat(100," samples")}:(++i,s+e.size>=15e8)?{type:"error",code:"max-samples-size-exceeded",file:e,message:"Total upload size is exceeding ".concat((0,G.KS)(15e8)," limit per voice")}:(s+=e.size,!0)}};class tn extends P.h8{reset(){this.voiceSaved=void 0,this.files=[],this.numRecordings=0}get isComplete(){return void 0!==this.voiceSaved}get voiceId(){if(this.voiceSaved)return this.voiceSaved.voice_id;let e=this.prev,t=null==e?void 0:e.createdVoiceId;if(!t)throw Error("voiceId is required for VoiceDataStep");return t}get uploadedFiles(){return this.files.filter(e=>"uploaded"===e.status)}get allFilesHasDuration(){return this.uploadedFiles.every(e=>void 0!==e.duration)}get allFilesDuration(){return this.uploadedFiles.reduce((e,t)=>{var a;return t.sample&&"number"==typeof t.sample.trim_start&&"number"==typeof t.sample.trim_end?e+(t.sample.trim_end-t.sample.trim_start):e+(null!==(a=t.duration)&&void 0!==a?a:0)},0)}get allFilesSize(){return this.uploadedFiles.reduce((e,t)=>e+t.size,0)}constructor(e){super(e),(0,i._)(this,"label","Voice Data"),(0,i._)(this,"voiceSaved",void 0),(0,i._)(this,"numRecordings",0),(0,i._)(this,"files",[]),(0,i._)(this,"orbData",ta(this)),(0,i._)(this,"Orb",(0,x.memo)((0,p.Pi)(e=>{let{animateOrbUp:t}=e,a=this.allFilesHasDuration?this.allFilesDuration:0,i=(0,x.useMemo)(()=>[4,15],[]),n=(0,U.bs)("md")?200:164;return(0,s.jsxs)(l.E.div,{layout:"position",className:"max-w-md px-5 lg:px-8 mx-auto",children:[(0,s.jsxs)(l.E.div,{className:"flex w-fit mx-auto relative",initial:t?"active":"inactive",animate:t?"active":"inactive",children:[(0,s.jsx)(l.E.div,{className:"flex items-center justify-center border-2 rounded-full",style:{width:n,height:n},variants:{inactive:{borderColor:"var(--gray-alpha-50)"},active:{borderColor:"rgba(0,0,0,0)"}},transition:{duration:.75},children:(0,s.jsx)(l.E.div,{variants:{inactive:{opacity:0},active:{opacity:1}},transition:{duration:.75},children:(0,s.jsx)(eX,{value:a,max:9e6,size:n,numTicks:60,tickSize:i,children:this.allFilesHasDuration&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(eK,{offset:10,className:"ml-3.5",value:18e5,children:(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsx)("span",{className:"text-xs font-medium",children:"Good"}),(0,s.jsxs)("span",{className:"text-xs text-gray-500 whitespace-nowrap",children:[30," mins"]})]})}),(0,s.jsx)(eK,{offset:10,className:"ml-3.5",value:36e5,children:(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsx)("span",{className:"text-xs font-medium",children:"Better"}),(0,s.jsxs)("span",{className:"text-xs text-gray-500 whitespace-nowrap",children:[1," hr"]})]})}),(0,s.jsx)(eK,{offset:10,className:"ml-3.5",value:72e5,children:(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsx)("span",{className:"text-xs font-medium",children:"Best"}),(0,s.jsxs)("span",{className:"text-xs text-gray-500 whitespace-nowrap",children:[2," hrs"]})]})})]})})})}),(0,s.jsx)(eJ.Z,{className:"absolute inset-0",shadow:!1,...this.orbData.value})]}),(0,s.jsx)("div",{className:"mt-10 text-center",children:(0,s.jsx)(o.M,{mode:"wait",initial:!1,children:0===this.uploadedFiles.length?(0,s.jsx)(j.t,{className:"h-4"},"empty"):this.allFilesDuration>=72e5?(0,s.jsx)(j.t,{children:(0,s.jsx)(M.x,{weight:"medium",size:"xs",children:"Perfect!"})},"uploads-perfect"):this.allFilesHasDuration?this.allFilesDuration>=tt?(0,s.jsxs)(j.t,{children:[(0,s.jsxs)(M.x,{weight:"medium",size:"xs",children:[(0,ew.Wp)(Math.floor(a/1e3))," provided"]}),(0,s.jsx)(M.x,{className:"mt-1",size:"xs",color:"subtle",style:{textWrap:"balance"},children:"Continue to add recordings for a better clone"})]},"uploads-ready"):(0,s.jsx)(j.t,{children:(0,s.jsxs)(M.x,{weight:"medium",size:"xs",children:[(0,ew.Wp)(Math.ceil((tt-a)/1e3))," ","more needed"]})},"uploads-progress-text"):(0,s.jsx)(j.t,{children:(0,s.jsx)(M.x,{weight:"medium",size:"xs",children:"Add recordings for a better clone"})},"uploads-indeterminate")})})]})}))),(0,i._)(this,"Content",(0,p.Pi)(()=>{var e,t,a,i,m;let p=(0,x.useId)(),_={voiceName:(0,x.useId)(),language:(0,x.useId)(),description:(0,x.useId)()},q=(0,c.hO)(),[H,J]=(0,x.useState)(!1),$=(0,U.bs)("md"),ee=(0,U.bs)("lg"),{formState:{errors:et,isDirty:ea,isValid:ei,isSubmitting:es},trigger:en,register:er,watch:el,getValues:eo,handleSubmit:ec}=(0,g.Gc)(),ed=el("language"),{triggerSave:eu,isLoading:eh}=ti(this),em=(0,W.XE)(),{mutate:ep,mutateAsync:ev}=(0,r.useMutation)({mutationFn:async e=>{let t=[];Array.isArray(e)?(t=await Promise.all(e.map(async e=>e instanceof File?ew.EU.create(e,"local",{status:"pending",duration:0,language:eo("language")}):ew.EU.create(await e.file(),"recording",{status:"pending",duration:e.duration,language:eo("language")}))),this.files=[...this.files,...t]):(e.setPending(),this.files=[...this.files],t=[e]),await Promise.all(t.map(async e=>{if("pending"===e.status&&!e.duration)try{let t=await e.file(),a=await (0,B.IJ)(t);(void 0===a||a<0||a===1/0||Number.isNaN(a))&&(a=await (0,B.eM)(t)),e.duration=1e3*a}catch(t){e.setError({code:"indeterminate-duration",message:"Could not determine audio duration, try another file",type:"error"})}}));let a=await ts(this.files),i=await Promise.all(t.map(async e=>{let t=await a(e);return!0!==t&&e.setError({type:t.type,code:t.code,message:t.message}),t})),s=t.filter((e,t)=>!0===i[t]);if(0!==s.length)try{let e=(0,ew.hx)(s);for(let t=0;t<e.length;++t){let a=e[t],i=await Promise.all(a.map(e=>(e.setUploading("Uploading"),e.file())));(await (0,ew.ho)({pathParams:{voiceId:this.voiceId},body:{files:i}},e=>{let t="Processing";a.forEach(a=>{a.loadingText!==t&&a.setUploading("".concat(e,"% uploaded"))}),100===e&&setTimeout(()=>{a.forEach(e=>{"uploading"===e.status&&e.setUploading(t)})},2e3)})).forEach((e,t)=>{var i;let s=a[t];s.setUploaded(e),(0,R.eN)(F.B_.voice_lab_professional_voice_cloning_sample_uploaded,{voice_id:this.voiceId,voice_name:null===(i=this.voiceSaved)||void 0===i?void 0:i.name,sample_id:e.sample_id,duration:e.duration_secs,size:e.size_bytes,type:s.type})}),this.files=[...this.files],await new Promise(e=>setTimeout(e,100))}}catch(e){throw t.forEach(t=>{"type"in t&&"recording"===t.type&&"uploading"===t.status&&(e instanceof b.oo?t.setError({type:"error",code:e.errorType,message:e.message}):t.setError({type:"warning",code:"internal",message:"Upload failed due to an internal error."}))}),e}finally{let e=t.filter(e=>"pending"===e.status||"uploading"===e.status);this.files=this.files.filter(t=>t instanceof ew.X4||!e.some(e=>e.id===t.id))}},onSuccess:async()=>{en("language"),this.voiceSaved=await (0,y.EzY)({pathParams:{voiceId:this.voiceId}}),em()},onError:(e,t)=>{(0,n.$e)(a=>{a.setTag("step","pvc-samples-upload"),a.setTag("voice_id",this.voiceId),a.setContext("values",{n_samples:this.files.length,n_new_samples:Array.isArray(t)?t.length:1,size_samples:this.allFilesSize,size_new_samples:(Array.isArray(t)?t:[t]).reduce((e,t)=>e+("size"in t?t.size:0),0),reupload:t instanceof ew.EU}),a.captureException(e)}),z.toast.errorHttp(e,"Could not upload audio samples due to an internal error.")}}),{getRootProps:ex,getInputProps:ef,isDragActive:eg,open:eb}=(0,f.uI)({noClick:!0,noKeyboard:!0,multiple:!0,accept:Object.fromEntries(O.AP.map(e=>[e,[]])),onDrop:async(e,t)=>{(0,I.ak)(t,{}),ep(e)}}),ey=el("voiceName");(0,x.useEffect)(()=>{this.voiceSaved||this.orbData.updateHues(this.voiceId,ey)},[ey]);let ej=(0,x.useCallback)(e=>{e instanceof ew.EU&&ep(e)},[]),e_=(0,x.useCallback)(e=>{this.files=this.files.filter(t=>t!==e),en("language")},[this.files,en]),ek=(0,x.useMemo)(()=>(0,s.jsx)(g.Qr,{name:"language",rules:{validate:e=>this.files.filter(e=>"uploading"===e.status||"uploaded"===e.status).every(t=>t.language===e)||"All audio samples must be in the same language"},render:e=>{let{field:t}=e;return(0,s.jsx)(Q.mg,{id:_.language,value:t.value,onValueChange:e=>t.onChange(e),options:te})}}),[_.language]),eN=(0,x.useMemo)(()=>[...this.files].reverse(),[this.files]),eC=this.files.length>0;return(0,s.jsxs)("div",{className:"flex flex-col min-h-full lg:max-h-screen lg:overflow-y-hidden",...ex(),children:[(0,s.jsx)("input",{...ef()}),(0,s.jsxs)("div",{className:"flex-1 stack lg:grid lg:grid-cols-[1fr,2.1fr] relative lg:h-full min-h-0",children:[(0,s.jsxs)("div",{className:"p-5 lg:px-8 lg:py-10 lg:border-r lg:border-gray-alpha-200 lg:max-h-full lg:overflow-y-auto",children:[(0,s.jsx)("div",{"aria-hidden":!0,className:"lg:hidden",children:(0,s.jsx)(K.RG,{title:"Professional Voice Clone",icon:(0,s.jsx)(X.Tg,{className:"w-7 h-7"}),hideClose:!0})}),(0,s.jsxs)("div",{className:"gap-3 hidden lg:stack",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-[10px] shadow-sm ring-1 ring-gray-alpha-200 flex items-center justify-center",children:(0,s.jsx)(X.Tg,{className:"w-6 h-6 -mr-0.5"})}),(0,s.jsx)(D.X,{className:"text-xl lg:text-2xl",children:"Professional Voice Clone"})]}),(0,s.jsx)(M.x,{color:"subtle",size:"md",className:"mt-2 hidden lg:block",children:"Upload samples on the right and fill out details below."}),(0,s.jsxs)("form",{id:p,className:"mt-6 lg:mt-8 stack gap-6 lg:gap-8",onSubmit:ec(async e=>{try{if(this.allFilesHasDuration&&this.allFilesDuration<18e5){let{confirmed:e}=await N.y.request({title:"Are you sure you want to continue?",description:"For good professional voice clones, we recommend at least ".concat((0,ew.Wp)(1800)," of audio samples."),confirmWaitSeconds:3});if(!e)return}await (0,P.Cl)(this.stepper,async()=>{await eu(e)});let t=Object.fromEntries(e.labels.map(e=>[e.label,e.value]));(0,R.eN)(this.voiceSaved&&(0,Y.nJ)(this.voiceSaved)?F.B_.voice_lab_professional_voice_cloning_created:F.B_.voice_lab_professional_voice_cloning_edited,{voice_id:this.voiceId,name:e.voiceName,description:e.description,labels:t,n_samples:this.files.filter(e=>"uploaded"===e.status).length}),this.stepper.goToNext()}catch(e){}}),children:[(0,s.jsxs)(l.E.div,{className:"stack gap-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(T.Label,{weight:"semi-bold",htmlFor:_.voiceName,children:"Voice name"}),(0,s.jsx)(M.x,{color:"subtle",className:"text-xs sm:text-sm",children:"This is how your voice will appear in the Voice Library."})]}),(0,s.jsx)(A.I,{id:_.voiceName,placeholder:"Old British man",className:"rounded-lg",...er("voiceName",{validate:e=>0!==e.trim().length||"Please give your voice a name",onBlur:()=>{this.orbData.updateHues(this.voiceId,eo("voiceName"))}})}),(0,s.jsx)(Q.du,{children:null===(e=et.voiceName)||void 0===e?void 0:e.message})]}),(0,s.jsxs)(l.E.div,{layout:"position",className:"stack gap-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(T.Label,{weight:"semi-bold",htmlFor:_.language,children:"Language used in audio samples"}),(0,s.jsx)(M.x,{color:"subtle",className:"text-xs sm:text-sm",children:"This will allow us to process the audio correctly."})]}),ek,(0,s.jsx)(Q.du,{children:null===(t=et.language)||void 0===t?void 0:t.message})]}),(0,s.jsxs)(l.E.div,{layout:"position",className:"stack gap-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(T.Label,{weight:"semi-bold",htmlFor:_.description,children:"Description"}),(0,s.jsx)(M.x,{color:"subtle",className:"text-xs sm:text-sm",children:"How would you describe this voice? This description will show up in the Voice Library if you share your voice."})]}),(0,s.jsx)(L.g,{id:_.description,rows:3,className:"rounded-lg max-h-44",...er("description",{maxLength:{value:500,message:"Description should be less than 500 characters"}})}),(0,s.jsx)(Q.du,{children:null===(a=et.description)||void 0===a?void 0:a.message})]}),(0,s.jsx)(Q.nH,{language:ed,labelClassName:"font-semibold",valueClassName:"font-semibold"})]})]}),(0,s.jsxs)(l.E.div,{className:(0,Z.cn)("w-full self-center py-10 lg:pt-20 lg:max-h-full lg:overflow-y-auto",eC?"h-full":""),layout:!0,transition:ee?{layout:{duration:.75}}:void 0,children:[(0,s.jsx)(this.Orb,{animateOrbUp:eC}),(0,s.jsx)(l.E.div,{layout:"position",className:"mt-11 max-w-md px-5 lg:px-8 mx-auto sticky -top-6 z-10",children:(0,s.jsxs)("div",{className:"flex bg-background/70 backdrop-blur ring-1 ring-gray-alpha-200 p-1 gap-1 rounded-2xl shadow-lg",children:[(0,s.jsx)(E.Button,{variant:"ghost",className:"w-full rounded-xl",leftIcon:(0,s.jsx)(d.Z,{className:"!mr-2"}),onClick:eb,children:"Upload samples"}),(0,s.jsx)(E.Button,{variant:"ghost",className:"w-full rounded-xl",leftIcon:(0,s.jsx)(X.XQ,{className:"!mr-2"}),onClick:async()=>{let e=this.files.some(e=>"type"in e&&"recording"===e.type);if(0===this.files.length||e){J(!0);return}J((await N.y.request({title:"Start a New Recording?",description:(0,s.jsx)("span",{className:"block mb-2",children:"You've uploaded audio samples from your device. For a high-quality clone, keep the audio quality consistent across all samples."}),confirmText:"Record new sample",cancelText:"Cancel"})).confirmed)},children:"Record yourself"}),(0,s.jsx)(e9,{open:H,onOpenChange:J,minDuration:3e4,language:ed,formatFileName:()=>"Recording ".concat(this.numRecordings+1),onChange:e=>ep([e])})]})}),(0,s.jsx)(l.E.div,{className:"mt-8 relative",layout:"position",children:(0,s.jsx)(o.M,{initial:!1,mode:"popLayout",children:0===this.files.length?(0,s.jsxs)(j.t,{className:"px-5 lg:px-8 max-w-md mx-auto stack gap-3",animate:{opacity:1,transition:{delay:.75}},children:[(0,s.jsx)(eQ.IP,{children:(0,s.jsx)("button",{className:"group p-1 ring-1 ring-gray-alpha-200 rounded-2xl text-left focus:outline-black",children:(0,s.jsxs)("div",{className:"py-4 px-3 flex gap-2 items-center rounded-xl transition-colors duration-200 group-hover:bg-gray-alpha-100",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(M.x,{as:"div",weight:"medium",children:"Tips to help you get started"}),(0,s.jsx)(M.x,{as:"div",color:"subtle",className:"mt-1",children:"Click to read through the best way to get an ultra realistic result"})]}),(0,s.jsx)("div",{className:"px-5 md:px-7 shrink-0",children:(0,s.jsxs)("div",{className:"inline-block relative",children:[(0,s.jsx)(v.default,{width:56,height:56,src:k.Z,alt:"",className:"rounded-full",style:{filter:"hue-rotate(50deg) saturate(120%)"}}),(0,s.jsx)("span",{className:"inline-flex items-center justify-center w-7 h-7 rounded-full absolute left-1/2 -translate-x-1/2 top-1/2 -translate-y-1/2 backdrop-blur-lg bg-foreground/10 transition-transform duration-150 group-hover:scale-110",children:(0,s.jsx)(X.JF,{className:"w-3 h-3 text-background"})})]})})]})})}),(0,s.jsxs)("div",{className:"group px-5 py-4 ring-1 ring-gray-alpha-200 rounded-2xl flex gap-2 items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(M.x,{as:"div",weight:"medium",children:"Separate multiple speakers"}),(0,s.jsx)(M.x,{as:"div",color:"subtle",className:"mt-1",children:"Upload your samples and we’ll separate your voice for you!"})]}),(0,s.jsxs)("div",{className:"flex items-center px-5 shrink-0",children:[(0,s.jsx)(v.default,{width:32,height:32,src:k.Z,alt:"",className:"-translate-y-2 translate-x-1.5 rounded-full",style:{filter:"hue-rotate(50deg) saturate(120%)"}}),(0,s.jsx)(v.default,{width:38,height:38,src:k.Z,alt:"",className:"translate-y-2 -translate-x-1.5 rounded-full ring-2 ring-background",style:{filter:"hue-rotate(15deg) saturate(120%)"}})]})]})]},"tips"):(0,s.jsxs)(j.t,{className:"px-5 lg:px-10 max-w-4xl mx-auto",animate:{opacity:1,transition:{delay:.75}},children:[(0,s.jsxs)("div",{className:"flex gap-2 items-baseline",children:[(0,s.jsx)(M.x,{weight:"medium",children:"Your samples"}),this.allFilesSize>0&&(0,s.jsx)(M.x,{color:"subtle",children:(0,G.KS)(this.allFilesSize)})]}),(0,s.jsx)(V.aV,{className:"mt-2",children:(0,s.jsx)(o.M,{initial:!1,children:eN.map(e=>(0,s.jsx)(l.E.div,{role:"none",initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0,transition:{opacity:{duration:.1}}},className:"px-1 -mx-1 overflow-hidden",children:"pending"===e.status||"uploading"===e.status?(0,s.jsx)(eV,{file:e}):(0,s.jsx)(eT,{voiceId:this.voiceId,file:e,onReupload:ej,onRemove:e_})},e.id))})}),(0,s.jsx)("div",{className:"mt-6",children:(0,s.jsx)(S.i,{trainingUse:!(null===(m=w.workspaceData.value)||void 0===m?void 0:null===(i=m.training_opt_out)||void 0===i?void 0:i.training_opt_out)})})]},"recordings")})})]}),(0,s.jsx)(o.M,{children:eg&&(0,s.jsx)(j.t,{className:"absolute inset-0 z-30 flex items-center justify-center bg-background/60 backdrop-blur-lg",children:(0,s.jsx)(D.X,{as:"h4",className:"text-4xl",children:"Drop here!"})})})]}),(0,s.jsxs)("footer",{className:"shrink-0 mt-auto border-t border-gray-alpha-200 w-full sticky z-10 bottom-0 bg-background/70 backdrop-blur",children:[(0,s.jsxs)("div",{className:"p-5 md:h-20 md:py-0 md:px-8 grid grid-cols-[1fr_3fr_1fr] items-center gap-8",children:[(0,s.jsxs)("div",{className:"flex gap-3",children:[this.prev&&(0,s.jsx)(E.Button,{size:$?"lg":"md",leftIcon:(0,s.jsx)(u.Z,{className:"!w-4 !h-4"}),className:"bg-background",disabled:!q||es||this.files.some(e=>"pending"===e.status||"uploading"===e.status),onClick:()=>this.stepper.goToPrev(),children:"Back"}),(0,s.jsx)("div",{className:"max-md:hidden",children:(0,s.jsx)(C.o,{source:"professional-voice-clone-edit",buttonSize:"lg",iconClassName:"!w-4 !h-4"})})]}),(0,s.jsx)("div",{children:$&&(0,s.jsx)(eF,{files:this.files})}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)(o.M,{mode:"wait",initial:!1,children:ea?(0,s.jsx)(j.t,{className:"ml-auto",children:(0,s.jsx)(E.Button,{size:$?"lg":"md",type:"button",disabled:!q||es,loading:eh,onClick:()=>{if(ei)try{eu(eo())}catch(e){}else z.toast.error("Some form fields are invalid, please review them before saving.",{position:"bottom-left"})},children:"Save"})},"save-changes"):(0,s.jsx)(j.t,{className:"ml-auto",children:(0,s.jsx)(E.Button,{size:$?"lg":"md",type:"button",disabled:!0,className:"bg-background",tooltip:"Changes are automatically saved",rightIcon:(0,s.jsx)(h.Z,{className:"!w-3.5 !h-3.5"}),children:"Auto-saved"})},"auto-saved")}),(0,s.jsx)(E.Button,{variant:"primary",size:$?"lg":"md",type:"submit",form:p,tooltip:this.allFilesHasDuration&&this.allFilesDuration<tt?"At least ".concat((0,ew.Wp)(tt/1e3)," of audio samples is required"):"",loading:es,disabled:!q||es||this.allFilesHasDuration&&this.allFilesDuration<tt||this.files.some(e=>"pending"===e.status||"uploading"===e.status),onClick:()=>{ei||z.toast.error("Some form fields are invalid, please review them before saving.",{position:"bottom-left"})},children:"Next"})]})]}),!$&&(0,s.jsx)("div",{className:"relative",children:(0,s.jsx)(eF,{files:this.files})})]}),(0,s.jsx)(e5,{onRecordings:e=>ev(e)})]})})),(0,m.rC)(this,{files:m.LO,voiceSaved:m.LO,voiceId:m.Fl,uploadedFiles:m.Fl,allFilesHasDuration:m.Fl,allFilesDuration:m.Fl,allFilesSize:m.Fl}),(0,m.EH)(()=>{this.voiceSaved&&this.orbData.updateHues(this.voiceSaved.voice_id,this.voiceSaved.name)})}}class tr extends tn{get isComplete(){return!0}get isDisabled(){return!0}constructor(...e){super(...e),(0,i._)(this,"Content",()=>(0,s.jsx)(s.Fragment,{}))}}},28798:function(e,t,a){"use strict";a.d(t,{i:function(){return B},zX:function(){return Z},dC:function(){return O}});var i=a(68088),s=a(4111),n=a(9506),r=a(30487),l=a(40333),o=a(78190),c=a(2544),d=a(66895),u=a(21782),h=a(18743),m=a(81999),p=a(50276),v=a(69201),x=a(93062),f=a(63415),g=a(85753),b=a(43479),y=a(21147),j=a(43941),w=a(17024),_=a(94814),k=a(4322),N=a(60358),C=a(4735),S=a(20807),P=a(50113),E=a(11521),D=a(84106),A=a(15750),T=a(55681),V=a(75515);class I extends x.h8{get voiceDataStep(){return this.stepper.steps.find(e=>e instanceof V.ZP)}constructor(...e){super(...e),(0,w._)(this,"label","Finish"),(0,w._)(this,"Content",(0,m.Pi)(e=>{var t,a,s;let{onComplete:l}=e,[u]=(0,c.tT)(),h=(0,A.XE)();return(0,n.useEffect)(()=>{var e;let t=null===(e=this.voiceDataStep)||void 0===e?void 0:e.voiceId;if(t){(0,o.R9)(d.Ht);try{(0,r.Wjt)({pathParams:{voiceId:t}}).then(()=>{h()})}catch(e){if(e instanceof k.oo&&"fine_tuning_already_queued"===e.errorType)return;(0,_.Tb)(e),D.toast.errorHttp(e,"Failed to start fine tuning")}}},[]),(0,i.jsxs)("div",{className:"flex flex-col justify-center items-center min-h-full pt-14",children:[(null===(t=this.voiceDataStep)||void 0===t?void 0:t.orbData.value)&&(0,i.jsx)("div",{className:"-mt-28 w-20 h-20 md:w-40 md:h-40",children:(0,i.jsx)(T.Z,{className:"w-full h-full",...this.voiceDataStep.orbData.value})}),(0,i.jsx)(S.X,{as:"h2",className:"mt-8 max-w-2xl mx-auto text-3xl md:text-4xl text-center px-5 text-balance",children:"Your Professional Voice Clone is being prepared"}),(0,i.jsxs)("div",{className:"mt-8 max-w-3xl mx-auto stack gap-6 text-center text-balance px-5",children:[(0,i.jsxs)(E.x,{color:"subtle",size:"md",children:["This can take"," ",(0,i.jsx)("strong",{className:"font-semibold text-foreground",children:"2 to 6 hours"})," ","to complete, and you can track the progress in this"," ",(null===(s=this.voiceDataStep)||void 0===s?void 0:null===(a=s.voiceSaved)||void 0===a?void 0:a.voice_id)?(0,i.jsx)(P.Un,{href:"".concat(N.VP.voiceLab,"?voiceId=").concat(this.voiceDataStep.voiceSaved.voice_id),onClick:()=>{"none"===u&&(null==l||l())},children:"voice's details panel"}):"voice's details panel",". In rare cases the voice-tuning process may fail but it will automatically restart. If it fails and doesn't restart, don't hesitate to"," ",(0,i.jsx)(P.Un,{href:"https://help.elevenlabs.io/hc/en-us/requests/new",target:"_blank",children:"contact support"}),"."]}),(0,i.jsx)(E.x,{weight:"semi-bold",size:"md",children:"While the voice is being created, you won't be able to use it for the models it's being fine-tuned on."})]}),(0,i.jsx)(C.Button,{className:"mt-10",variant:"primary",size:"lg",onClick:l,children:"Finish and return to Dashboard"})]})}))}}var M=a(43614),L=a(30349);let z={voiceName:"",language:"en",labels:[{label:"accent",value:""}],description:""},R=(0,m.Pi)(e=>{let{mode:t,voice:a,onComplete:s}=e,r=(0,p.cI)({mode:"onChange",defaultValues:z}),l=(e,t)=>{r.reset({...z,...t}),e.steps.forEach(e=>{"reset"in e&&"function"==typeof e.reset&&e.reset()})},o=(e,t)=>{var a,i,s,n,r,o;(0,f.eN)(g.B_.voice_lab_professional_voice_cloning_draft_edited,{voiceId:t.voice_id,name:t.name,language:null===(a=t.fine_tuning)||void 0===a?void 0:a.language});let c=null!==(s=null===(i=t.fine_tuning)||void 0===i?void 0:i.language)&&void 0!==s?s:"en";l(e,{voiceName:t.name,description:null!==(n=t.description)&&void 0!==n?n:"",language:c,labels:(0,j.OI)(Object.entries({accent:"",...t.labels}).filter(e=>{let[t]=e;return"language"!==t&&j.B6.has(t)}).map(e=>{let[t,a]=e;return{label:t,value:a}}))});let d=e.steps.find(e=>e instanceof V.ZP);d&&(d.voiceSaved=t,d.files=null!==(o=null===(r=t.samples)||void 0===r?void 0:r.map(e=>M.X4.create(e,t.voice_id,c)).reverse())&&void 0!==o?o:[]);let u=e.steps.find(e=>e instanceof L.ZP);u&&(u.voice=t),d&&Object.getPrototypeOf(d)===V.ZP.prototype?e.setActiveStepId(d.id):u&&e.setActiveStepId(u.id)},c=(0,n.useMemo)(()=>{let e;switch(t){case"create":e=new x.vF([d.ZP,V.ZP,L.ZP,I]);break;case"edit":e=new x.vF([V.ZP,L.ZP,I]);break;case"verify":e=new x.vF([V.Nu,L.ZP,I])}return a&&o(e,a),e},[t]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(b.RG,{title:"Professional Voice Clone",icon:(0,i.jsx)(y.Tg,{className:"w-7 h-7"}),className:"sr-only",hideClose:!0}),(0,i.jsx)(u.S,{children:(0,i.jsx)(h.M,{mode:"wait",initial:!1,children:(0,i.jsx)(v.t,{className:"h-full",children:(0,i.jsx)(p.RV,{...r,children:c.activeStep instanceof I?(0,i.jsx)(c.activeStep.Content,{onComplete:s}):c.activeStep instanceof L.ZP?(0,i.jsx)(c.activeStep.Content,{onSkip:s}):c.activeStep instanceof d.ZP?(0,i.jsx)(c.activeStep.Content,{resetSteps:e=>l(c,e),onEditVoice:e=>o(c,e)}):(0,i.jsx)(c.activeStep.Content,{})})},c.activeStep.id)})})]})}),F=e=>{let{onComplete:t}=e,a=(0,n.useMemo)(()=>(0,o.wo)(d.Ht),[]),l=!!a,{data:c,isLoading:u}=(0,r.qt5)({pathParams:{voiceId:null!=a?a:""}},{enabled:l,refetchOnWindowFocus:!1});return l&&u?(0,i.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,i.jsx)(s.$,{})}):(0,i.jsx)(R,{mode:"create",voice:c,onComplete:t})},B=e=>{let{open:t,onOpenChange:a}=e,s=e=>{a(e),e||(0,o.R9)(d.Ht)};return(0,i.jsx)(l.jW,{open:t,onOpenChange:s,modal:!1,children:(0,i.jsx)(l._2,{className:"p-0",onEscapeKeyDown:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:(0,i.jsx)(F,{onComplete:()=>s(!1)})})})},Z=e=>{let{voice:t,children:a,shouldOpen:s,onOpenChange:n}=e,[r,o]=(0,c.tT)();return(0,i.jsxs)(l.jW,{open:"boolean"==typeof s?s&&"edit"===r:"edit"===r,onOpenChange:e=>{o(e?"edit":"none"),null==n||n(e)},modal:!1,children:[a&&(0,i.jsx)(l.q8,{asChild:!0,children:a}),(0,i.jsx)(l._2,{className:"p-0",onEscapeKeyDown:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:(0,i.jsx)(R,{mode:"edit",voice:t,onComplete:()=>o("none")})})]})},O=e=>{let{voice:t,children:a,shouldOpen:s,onOpenChange:r}=e,[o,d]=(0,c.tT)();return(0,n.useEffect)(()=>{var e;"verify"===o&&(null===(e=t.fine_tuning)||void 0===e?void 0:e.is_allowed_to_fine_tune)&&d("none")},[]),(0,i.jsxs)(l.jW,{open:"boolean"==typeof s?s&&"verify"===o:"verify"===o,onOpenChange:e=>{d(e?"verify":"none"),null==r||r(e)},children:[a&&(0,i.jsx)(l.q8,{asChild:!0,children:a}),(0,i.jsx)(l._2,{className:"p-0",children:(0,i.jsx)(R,{mode:"verify",voice:t,onComplete:()=>d("none")})})]})}},69436:function(e,t,a){"use strict";a.d(t,{jp:function(){return X},IR:function(){return K},$4:function(){return Y}});var i=a(68088),s=a(2923),n=a(89775),r=a(55673),l=a(40534),o=a(18743),c=a(77646),d=a(78350),u=a(9506),h=a(754),m=a(4735),p=a(72752),v=a(91105),x=a(11521),f=a(84106),g=a(60189),b=a(39255),y=a(21147),j=a(64172),w=a(19208),_=a(17024),k=a(25884),N=a.n(k),C=a(96162),S=a(4629);class P{addEventListener(e,t,a){this.target.addEventListener(e,t,a)}removeEventListener(e,t,a){this.target.removeEventListener(e,t,a)}dispatchEvent(e){return this.target.dispatchEvent(e)}constructor(){(0,_._)(this,"target",new EventTarget)}}class E extends Event{constructor(e){super("result"),(0,_._)(this,"transcript",void 0),this.transcript=e}}class D extends Event{constructor(e,t){super("error"),(0,_._)(this,"error",void 0),(0,_._)(this,"message",void 0),this.error=e,this.message=t}}let A=new Blob(['\n      const BIAS = 0x84;\n      const CLIP = 32635;\n      const encodeTable = [\n        0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,\n        4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,\n        5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,\n        5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,\n        6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,\n        6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,\n        6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,\n        6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,\n        7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,\n        7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,\n        7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,\n        7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,\n        7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,\n        7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,\n        7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,\n        7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7\n      ];\n      \n      function encodeSample(sample) {\n        let sign;\n        let exponent;\n        let mantissa;\n        let muLawSample;\n        sign = (sample >> 8) & 0x80;\n        if (sign !== 0) sample = -sample;\n        sample = sample + BIAS;\n        if (sample > CLIP) sample = CLIP;\n        exponent = encodeTable[(sample>>7) & 0xFF];\n        mantissa = (sample >> (exponent+3)) & 0x0F;\n        muLawSample = ~(sign | (exponent << 4) | mantissa);\n        \n        return muLawSample;\n      }\n    \n      class RawAudioProcessor extends AudioWorkletProcessor {\n        constructor() {\n          super();\n                    \n          this.port.onmessage = ({ data }) => {\n            this.buffer = []; // Initialize an empty buffer\n            this.bufferSize = data.sampleRate / 4;\n            \n            if (globalThis.LibSampleRate && sampleRate !== data.sampleRate) {\n              globalThis.LibSampleRate.create(1, sampleRate, data.sampleRate).then(resampler => {\n                this.resampler = resampler;\n              });\n            } \n          };\n        }\n        process(inputs) {\n          if (!this.buffer) {\n            return true;\n          }\n          \n          const input = inputs[0]; // Get the first input node\n          if (input.length > 0) {\n            let channelData = input[0]; // Get the first channel\'s data\n\n            // Resample the audio if necessary\n            if (this.resampler) {\n              channelData = this.resampler.full(channelData);\n            }\n\n            // Add channel data to the buffer\n            this.buffer.push(...channelData);\n            // Get max volume \n            let sum = 0.0;\n            for (let i = 0; i < channelData.length; i++) {\n              sum += channelData[i] * channelData[i];\n            }\n            const maxVolume = Math.sqrt(sum / channelData.length);\n            // Check if buffer size has reached or exceeded the threshold\n            if (this.buffer.length >= this.bufferSize) {\n              const float32Array = new Float32Array(this.buffer)\n              let encodedArray = this.format === "ulaw"\n                ? new Uint8Array(float32Array.length)\n                : new Int16Array(float32Array.length);\n\n              // Iterate through the Float32Array and convert each sample to PCM16\n              for (let i = 0; i < float32Array.length; i++) {\n                // Clamp the value to the range [-1, 1]\n                let sample = Math.max(-1, Math.min(1, float32Array[i]));\n\n                // Scale the sample to the range [-32768, 32767]\n                let value = sample < 0 ? sample * 32768 : sample * 32767;\n                if (this.format === "ulaw") {\n                  value = encodeSample(Math.round(value));\n                }\n\n                encodedArray[i] = value;\n              }\n\n              // Send the buffered data to the main script\n              this.port.postMessage([encodedArray, maxVolume]);\n\n              // Clear the buffer after sending\n              this.buffer = [];\n            }\n          }\n          return true; // Continue processing\n        }\n      }\n      registerProcessor("raw-audio-processor", RawAudioProcessor);\n  '],{type:"application/javascript"}),T=URL.createObjectURL(A);class V extends P{createSocket(){if(this.socket&&(this.socket.readyState===WebSocket.OPEN||this.socket.readyState===WebSocket.CONNECTING))return;let e=(0,C.Vz)();this.socket=new WebSocket("".concat(S.U).concat(this.path),["convai","bearer.".concat(e)]),this.socket.addEventListener("open",()=>{var e;(null===(e=this.socket)||void 0===e?void 0:e.readyState)===WebSocket.OPEN&&this.socket.send(JSON.stringify({language:this.language}))}),this.socket.addEventListener("message",e=>{let t=JSON.parse(e.data);switch(t.type){case"ping":break;case"user_transcript":{let e=t.user_transcription_event.user_transcript;this.buffer=(this.buffer+" "+e).trim(),this.dispatchEvent(new E(this.buffer));break}default:"error"in t&&this.dispatchEvent(new D("network",t.error))}}),this.socket.addEventListener("error",()=>{this.dispatchEvent(new D("network","Network error"))}),this.socket.addEventListener("close",e=>{})}static async create(e,t,a){let i=navigator.mediaDevices.getSupportedConstraints().sampleRate,s=new AudioContext(i?{sampleRate:16e3}:{}),n=s.createAnalyser();i||await s.audioWorklet.addModule("https://cdn.jsdelivr.net/npm/@alexanderolsen/libsamplerate-js@2.1.2/dist/libsamplerate.worklet.js"),await s.audioWorklet.addModule(T);let r=s.createMediaStreamSource(t),l=new AudioWorkletNode(s,"raw-audio-processor");l.port.postMessage({type:"setFormat",format:"pcm",sampleRate:16e3});let o=new V(e,t,s,a);return l.port.onmessage=e=>{var t;if((null===(t=o.socket)||void 0===t?void 0:t.readyState)!==WebSocket.OPEN)return;let a=e.data[0];e.data[1],o.socket.send(JSON.stringify({user_audio_chunk:function(e){let t=new Uint8Array(e);return window.btoa(String.fromCharCode(...t))}(a.buffer)}))},r.connect(n),n.connect(l),o}start(){return"closed"===this.audioCtx.state&&this.dispatchEvent(new D("aborted","Tried to start recognition on a closed instance")),this.buffer="",this.createSocket(),this.audioCtx.resume()}stop(){return this.dispatchEvent(new E(this.buffer)),this.dispatchEvent(new Event("end")),this.audioCtx.suspend()}close(){var e;return null===(e=this.socket)||void 0===e||e.close(),this.audioCtx.close()}constructor(e,t,a,i){super(),(0,_._)(this,"path",void 0),(0,_._)(this,"stream",void 0),(0,_._)(this,"audioCtx",void 0),(0,_._)(this,"language",void 0),(0,_._)(this,"socket",void 0),(0,_._)(this,"buffer",void 0),(0,_._)(this,"smoothingFactor",void 0),this.path=e,this.stream=t,this.audioCtx=a,this.language=i,this.buffer="",this.smoothingFactor=1,this.createSocket()}}class I extends Error{constructor(e,t){super(t),(0,_._)(this,"code",void 0),(0,_._)(this,"message",void 0),this.code=e,this.message=t,this.name="SpeechRecognitionError"}}let M=()=>{let[e,t]=(0,u.useState)(""),[a,i]=(0,u.useState)(void 0),s=(0,u.useRef)(0),n=()=>{t(""),s.current=0},r=async(e,a)=>{let r,{script:l,language:o="en",chunkDuration:c=2e4}=a;n();let d=new AbortController,u=await V.create("/v1/voices/pvc/speech-to-text/stream-input",e,o);d.signal.addEventListener("abort",()=>{u.stop()});let h=()=>new Promise(e=>{let a=0,n=e=>{let i=e.transcript,n=l.split(" ").slice(s.current),r=i.split(" ");if(r.length<5)return;let o=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e=e.map(e=>e.toLowerCase()),t=t.map(e=>e.toLowerCase());let i=e.length,s=t.length,n=Array(s+1).fill(void 0).map(()=>({score:0,lastIndex:-1})),r=Array(s+1).fill(void 0).map(()=>({score:0,lastIndex:-1})),l=0,o=-1;for(let c=1;c<=i;c++){for(let i=1;i<=s;i++){let s=N()(e[c-1],t[i-1]),d=function(e,t,a){let{posWeight:i=.5,levWeight:s=.5,posScale:n=10,maxLevDistance:r=5}=a;return t>r?0:Math.max(0,Math.min(1,i*Math.exp(-e/n)+s*(1-t/r)))}(-1===n[i-1].lastIndex?0:i-1-n[i-1].lastIndex,s,a);if(d>(a.minProbability||.1)){let e=d*(1+n[i-1].score);e>l&&(l=e,o=i-1),r[i]={score:e,lastIndex:i-1}}else{let e=r[i-1].score,t=n[i].score;r[i]=e>=t?{...r[i-1]}:{...n[i]}}}[n,r]=[r,n]}return o}(r,n),c=0===a?1:u.smoothingFactor;a=o*c+a*(1-c),t(l.split(" ").slice(0,s.current+a+1).join(" "))},r=()=>{u.removeEventListener("result",n),u.removeEventListener("end",r),s.current=a,e()};u.addEventListener("result",n,{signal:d.signal}),u.addEventListener("error",e=>{i(new I(e.error,e.message)),d.abort()},{signal:d.signal}),u.addEventListener("end",r),u.start()}),m=setInterval(async()=>{if(d.signal.aborted){clearInterval(m);return}u.stop(),await r,r=h()},c);return r=h(),()=>{d.abort(),u.close(),clearInterval(m)}};return{readWords:e,error:a,resetReadWords:n,startRecognition:r}};var L=a(86370),z=a(97968),R=a(24469),F=a(34161),B=a(30487),Z=a(20308);let O={conversational:{label:"Conversational",description:"Great for voice clones that are a conversational style for podcasts"},narrative:{label:"Narrative",description:"Great for voices that will be suited for storytelling"},"social-media":{label:"Advertisement",description:"Expressive script perfect for radio or TV commercials"}},U={en:{label:"English",styles:{conversational:"/public_app_assets/scripts/pvc/en/conversational.txt",narrative:"/public_app_assets/scripts/pvc/en/narrative.txt","social-media":"/public_app_assets/scripts/pvc/en/social-media.txt"}},zh:{label:"Chinese",styles:{conversational:"/public_app_assets/scripts/pvc/zh/conversational.txt",narrative:"/public_app_assets/scripts/pvc/zh/narrative.txt","social-media":"/public_app_assets/scripts/pvc/zh/social-media.txt"}},es:{label:"Spanish",styles:{conversational:"/public_app_assets/scripts/pvc/es/conversational.txt",narrative:"/public_app_assets/scripts/pvc/es/narrative.txt","social-media":"/public_app_assets/scripts/pvc/es/social-media.txt"}},pt:{label:"Portugese",styles:{conversational:"/public_app_assets/scripts/pvc/pt/conversational.txt",narrative:"/public_app_assets/scripts/pvc/pt/narrative.txt","social-media":"/public_app_assets/scripts/pvc/pt/social-media.txt"}},fr:{label:"French",styles:{conversational:"/public_app_assets/scripts/pvc/fr/conversational.txt",narrative:"/public_app_assets/scripts/pvc/fr/narrative.txt","social-media":"/public_app_assets/scripts/pvc/fr/social-media.txt"}},de:{label:"German",styles:{conversational:"/public_app_assets/scripts/pvc/de/conversational.txt",narrative:"/public_app_assets/scripts/pvc/de/narrative.txt","social-media":"/public_app_assets/scripts/pvc/de/social-media.txt"}},ru:{label:"Russian",styles:{conversational:"/public_app_assets/scripts/pvc/ru/conversational.txt",narrative:"/public_app_assets/scripts/pvc/ru/narrative.txt","social-media":"/public_app_assets/scripts/pvc/ru/social-media.txt"}},ko:{label:"Korean",styles:{conversational:"/public_app_assets/scripts/pvc/ko/conversational.txt",narrative:"/public_app_assets/scripts/pvc/ko/narrative.txt","social-media":"/public_app_assets/scripts/pvc/ko/social-media.txt"}},it:{label:"Italian",styles:{conversational:"/public_app_assets/scripts/pvc/it/conversational.txt",narrative:"/public_app_assets/scripts/pvc/it/narrative.txt","social-media":"/public_app_assets/scripts/pvc/it/social-media.txt"}},hr:{label:"Croatian",styles:{conversational:"/public_app_assets/scripts/pvc/hr/conversational.txt",narrative:"/public_app_assets/scripts/pvc/hr/narrative.txt","social-media":"/public_app_assets/scripts/pvc/hr/social-media.txt"}}},q=e=>{let{style:t,onSelect:a}=e;return(0,i.jsxs)(Z.Xi,{className:"flex-col items-start gap-1",onSelect:a,children:[(0,i.jsx)(x.x,{as:"div",weight:"medium",children:O[t].label}),(0,i.jsx)(x.x,{color:"subtle",size:"xs",className:"max-w-[12rem]",children:O[t].description})]})};var H=e=>{let{language:t,disabled:a,onChange:s}=e,n=(0,b.bs)("md"),{isLoading:l,mutate:o}=(0,r.useMutation)({mutationFn:async e=>{let t;let a=(await Promise.all(e.map(e=>e.text()))).join("\n---\n").trim();if(""===a){f.toast.warning("The script file selected is empty.");return}try{t=(await (0,B.k2K)({body:{text:a.slice(0,100)}})).detected_languages.at(0)}catch(e){}await s({type:"custom",text:a,language:t})}}),{isLoading:c,mutate:d}=(0,r.useMutation)({mutationFn:async e=>{let{type:t,src:a,language:i}=e,n=await fetch(a);if(!n.ok){f.toast.error("Could not load the script file. Try another script or upload your own script.");return}s({type:t,text:await n.text(),language:i})},onError(){f.toast.error("Could not load the script file. Try another script or upload your own script.")}}),{getInputProps:u,open:h}=(0,F.uI)({multiple:!0,accept:{"text/plain":[]},maxSize:10485760,onDrop(e,t){t.forEach(e=>{var t;let{file:a,errors:i}=e;f.toast.error("File ".concat(a.name," could not be loaded."),{description:null===(t=i.at(0))||void 0===t?void 0:t.message})}),0!==e.length&&o(e)}});return(0,i.jsxs)(Z.h_,{children:[(0,i.jsx)("input",{...u()}),(0,i.jsx)(Z.$F,{className:"[&>span]:inline-block [&>span]:truncate [&>span]:mr-auto border-none",disabled:a,asChild:!0,children:(0,i.jsx)(m.Button,{variant:"ghost",className:"w-full rounded-xl",leftIcon:(0,i.jsx)(L.Z,{className:"!mr-2"}),rightIcon:(0,i.jsx)(z.Z,{className:"h-4 w-4 opacity-50"}),loading:l||c,children:"Choose a script"})}),(0,i.jsxs)(Z.AW,{className:"duration-200",sideOffset:10,children:[(0,i.jsxs)(Z.Xi,{className:"font-medium gap-6",onSelect:h,children:["Upload your own script",(0,i.jsx)(R.Z,{className:"w-4 h-4"})]}),(0,i.jsx)(Z.VD,{}),n||!t?Object.entries(U).map(e=>{let[t,a]=e;return(0,i.jsxs)(Z.Ph,{children:[(0,i.jsx)(Z.kt,{className:"font-medium",children:a.label}),(0,i.jsx)(Z.cq,{children:(0,i.jsx)(Z.TG,{sideOffset:8,className:"max-w-[240px]",children:Object.entries(a.styles).map(e=>{let[a,s]=e;return(0,i.jsx)(q,{style:a,onSelect:()=>{d({type:"".concat(t,"-").concat(a),src:s,language:t})}},"".concat(t,"-").concat(a))})})})]},t)}):t in U?Object.entries(U[t].styles).map(e=>{let[a,s]=e;return(0,i.jsx)(q,{style:a,onSelect:()=>{d({type:"".concat(t,"-").concat(a),src:s,language:t})}},"".concat(t,"-").concat(a))}):(0,i.jsx)("div",{className:"max-w-[12rem] text-center px-2 py-5",children:(0,i.jsx)(x.x,{color:"subtle",size:"xs",children:"Script for selected language is unavailable."})})]})]})};let G=(0,u.forwardRef)((e,t)=>(0,i.jsx)(l.E.div,{initial:{y:"100%",opacity:0},animate:{y:0,opacity:1},exit:{y:"-100%",opacity:0},transition:{y:{duration:.3,type:"spring",bounce:.05},opacity:{duration:.3}},ref:t,...e}));G.displayName="SlideInOut";let W=(0,u.createContext)(null),Y=()=>{let e=(0,u.useContext)(W);if(!e)throw Error("useRecorderContext must be used within a RecorderRoot");return e},K=e=>{let{children:t}=e;return(0,i.jsx)(W.Provider,{value:{micDevices:(0,p.Uv)(),recorder:(0,p.Y$)(),audioWaveform:(0,p.CJ)({waveformBars:40}),speechRecognitionHighlighting:M()},children:t})},X=e=>{let{disabled:t,minDuration:a=0,maxDuration:_=1/0,getReadyCounterFrom:k=3,backupInterval:N,language:C,showRestart:S,stopButtonLabel:P,showScriptSelector:E,script:D,onScriptChange:A,formatFileName:T,onChange:V,onRecordingStart:I}=e,{micDevices:{micDevices:M,fetchMicDevices:L,selectedMicId:z,setSelectedMicId:R},recorder:{startRecording:F,isRecording:B,durationMs:Z},audioWaveform:{startAnalysing:O},speechRecognitionHighlighting:{startRecognition:U,resetReadWords:q}}=Y(),{requestMic:W,isRequesting:K,error:X}=(0,p.s8)(),{startCounter:Q,showCounter:J,CounterUI:$}=(0,p.PW)(),ee=(0,u.useRef)(),[et,ea]=(0,u.useState)(!1),ei=(0,b.bs)("md"),es=(0,u.useRef)(null),[en,er]=(0,u.useState)(0);(0,b.yU)(es,e=>er(e.target.getBoundingClientRect().height));let el=async()=>{let e=await W({deviceId:z});e&&((0,p.aP)(e),M||L())},eo=async()=>{var e,t;let a,i;let s=!1;null===(e=ee.current)||void 0===e||e.call(ee),ee.current=()=>{s=!0};let r=navigator.userAgent.toLowerCase().includes("firefox"),l=await W({deviceId:z,...r?{noiseSuppression:void 0,echoCancellation:void 0,autoGainControl:void 0}:{noiseSuppression:!1,echoCancellation:!1}});if(!l)return;if(s){(0,p.aP)(l);return}if(null==I||I(),k>0){let[e,t]=Q(k);ee.current=()=>{s=!0,e()},await t}if(s){(0,p.aP)(l);return}let o=new w.M("pvc"),c=await F(l,{formatFileName:T,playSfx:!0,timeslice:N,onChunk:e=>o.save(e)});if(s){c(),o.clear();return}let d=O(l);if(void 0!==D&&void 0!==C){let e=null!==(t=D.language)&&void 0!==t?t:C;try{a=await U(l,{script:D.text,language:e})}catch(t){(0,n.$e)(a=>{a.setTag("step","recorder-speech-recognition"),a.setContext("values",{language:e}),a.captureException(t)})}}_<1/0&&(i=window.setTimeout(ed,_)),ee.current=async e=>{s=!0,void 0!==i&&clearTimeout(i),null==a||a(),d(),ee.current=void 0;let t=await c(e);return o.clear(),t}},{isLoading:ec,mutate:ed}=(0,r.useMutation)({mutationFn:async()=>{if(!ee.current)return;let e=await ee.current({playSfx:!0});if(!e)return;let t=await j.rf.create(e);if(t.duration<a){f.toast.error("Recording is too short. Please record at least ".concat(a/1e3,"s of audio."));return}V(t)}});return(0,u.useEffect)(()=>()=>{var e;null===(e=ee.current)||void 0===e||e.call(ee),q()},[]),(0,u.useEffect)(()=>{if(t){var e;null===(e=ee.current)||void 0===e||e.call(ee)}},[t]),(0,u.useEffect)(()=>{if(X&&("NotAllowedError"===X.name||"PermissionDeniedError"===X.name)){let e=f.toast.error("Microphone access denied. Please enable it in your browser settings.");return()=>{f.toast.dismiss(e)}}},[X]),(0,i.jsx)(l.E.div,{className:"relative bg-background/80 backdrop-blur ring-1 ring-gray-alpha-200 rounded-2xl shadow-lg overflow-hidden",animate:{height:en>0?en:void 0},transition:{type:"spring",bounce:0,duration:.3},children:(0,i.jsx)("div",{ref:es,className:"p-1",children:(0,i.jsx)(o.M,{initial:!1,mode:"popLayout",children:J||et&&!B?(0,i.jsx)(G,{children:(0,i.jsx)("div",{className:"flex items-center justify-center h-9 scale-75",children:$})},"get-ready-counter"):B?(0,i.jsxs)(G,{className:(0,g.cn)("grid gap-1 grid-cols-2",{"md:grid-cols-3":S}),children:[(0,i.jsxs)("div",{className:"w-full flex items-center justify-center gap-2 text-red-500",children:[(0,i.jsx)(y.XQ,{className:"w-4 h-4"}),(0,i.jsx)(x.x,{as:"span",weight:"medium",className:"text-current tabular-nums",children:(0,p.LU)(Z)})]}),S&&(0,i.jsx)(m.Button,{variant:"ghost",className:"w-full rounded-xl",disabled:t,leftIcon:(0,i.jsx)(c.Z,{className:"!mr-2"}),onClick:async()=>{var e;ea(!0),await (null===(e=ee.current)||void 0===e?void 0:e.call(ee)),q(),await eo(),ea(!1)},children:"Restart recording"}),(0,i.jsx)(m.Button,{variant:!ei&&S?"primary":"ghost",className:(0,g.cn)("w-full rounded-xl",{"col-span-2 md:col-span-1":S}),leftIcon:(0,i.jsx)(s.Z,{className:"!mr-2"}),onClick:()=>ed(),children:null!=P?P:"Stop recording"})]},"stop-recording"):null===M?(0,i.jsx)(G,{children:(0,i.jsx)(m.Button,{variant:"ghost",className:"w-full rounded-xl",leftIcon:(0,i.jsx)(d.Z,{}),onClick:el,disabled:t,loading:K,children:"Request microphone permissions"})},"request-mic-permission"):(0,i.jsxs)(G,{className:(0,g.cn)("grid gap-1 grid-cols-2",{"md:grid-cols-3":E}),children:[(0,i.jsxs)(v.Select,{disabled:0===M.length||t,value:z,onValueChange:R,children:[(0,i.jsx)(v.SelectTrigger,{className:"[&>span]:inline-block [&>span]:truncate [&>span]:mr-0 border-none disabled:opacity-100 justify-center",placeholder:"No device selected",asChild:!0,children:(0,i.jsx)(m.Button,{variant:"ghost",className:"w-full rounded-xl",leftIcon:(0,i.jsx)(d.Z,{className:"!mr-2 shrink-0"}),children:(0,i.jsx)(v.SelectValue,{placeholder:"Default microphone"})})}),(0,i.jsx)(v.SelectContent,{className:"rounded-xl duration-200",sideOffset:8,alignOffset:-4,children:null==M?void 0:M.map(e=>(0,i.jsx)(v.SelectItem,{value:e.deviceId,children:e.label},e.deviceId))})]}),E&&(0,i.jsx)(H,{language:C,disabled:t,onChange:async e=>{B||(e.language&&C&&e.language!==C&&await h.y.request({title:"Language Mismatch",description:"The language of the script does not match the selected audio samples language. Keep the selected language consistent across audio samples.",confirmText:"Continue",showCancel:!1}),null==A||A(e))}}),(0,i.jsx)(m.Button,{variant:!ei&&E?"primary":"ghost",className:(0,g.cn)("w-full rounded-xl",{"col-span-2 md:col-span-1":E}),leftIcon:(0,i.jsx)(y.XQ,{className:"!mr-2"}),disabled:t,loading:ec,onClick:eo,children:"Start recording"})]},"start-recording")})})})}},43614:function(e,t,a){"use strict";a.d(t,{EU:function(){return h},Wp:function(){return p},X4:function(){return m},ho:function(){return x},hx:function(){return v}});var i=a(17024),s=a(5479),n=a(74508),r=a(4322),l=a(30487),o=a(99748),c=a(96162),d=a(70554),u=a(77491);class h{get status(){return this._status}get name(){return this._file.name}get size(){return this._file.size}static async create(e,t,a){let{id:i,language:s,status:r,duration:l,sample:o}=a;return new h(e,r,t,null!=i?i:(0,n.k$)(),null!=l?l:Math.ceil(await (0,d.eM)(e)*1e3),s,o)}file(){return Promise.resolve(this._file)}setPending(){var e;(null===(e=this.error)||void 0===e?void 0:e.type)==="warning"&&this.skippedWarningCodes.add(this.error.code),this.error=void 0,this.loadingText="",this._status="pending"}setUploading(e){this.loadingText=e,this.error=void 0,this._status="uploading"}setUploaded(e){this.sample=e,e.duration_secs&&(this.duration=1e3*e.duration_secs),this.error=void 0,this.skippedWarningCodes=new Set,this._status="uploaded"}setError(e){this.sample=void 0,this.error=e,this._status="error"}constructor(e,t,a,n,r,l,o){(0,i._)(this,"_file",void 0),(0,i._)(this,"_status",void 0),(0,i._)(this,"type",void 0),(0,i._)(this,"id",void 0),(0,i._)(this,"duration",void 0),(0,i._)(this,"language",void 0),(0,i._)(this,"sample",void 0),(0,i._)(this,"skippedWarningCodes",void 0),(0,i._)(this,"error",void 0),(0,i._)(this,"loadingText",void 0),this._file=e,this._status=t,this.type=a,this.id=n,this.duration=r,this.language=l,this.sample=o,this.skippedWarningCodes=new Set,this.loadingText="",(0,s.rC)(this,{duration:s.LO,sample:s.LO,error:s.LO,loadingText:s.LO,setPending:s.aD,setUploading:s.aD,setUploaded:s.aD,setError:s.aD})}}class m{get status(){return"uploaded"}get name(){return this.sample.file_name}get size(){return this.sample.size_bytes}static create(e,t,a){return new m(e,t,e.sample_id,a,e.duration_secs?1e3*e.duration_secs:void 0)}async signedUrl(){return this._signedUrl&&void 0!==this.signedUrlExpiresAt&&this.signedUrlExpiresAt>Date.now()||(this._signedUrl=(await (0,l.AHz)({pathParams:{voiceId:this.voiceId,sampleId:this.id}})).signed_url,this.signedUrlExpiresAt=Date.now()+36e5),this._signedUrl}async file(){if(!this._file){let e=await (0,o.P)({url:"/v1/voices/".concat(this.voiceId,"/samples/").concat(this.id,"/audio"),method:"GET"});this._file=new File([e],this.name,{type:this.sample.mime_type})}return void 0===this.duration&&(this.duration=Math.ceil(await (0,d.eM)(this._file)*1e3)),this._file}constructor(e,t,a,n,r){(0,i._)(this,"sample",void 0),(0,i._)(this,"voiceId",void 0),(0,i._)(this,"id",void 0),(0,i._)(this,"language",void 0),(0,i._)(this,"duration",void 0),(0,i._)(this,"_file",void 0),(0,i._)(this,"_signedUrl",void 0),(0,i._)(this,"signedUrlExpiresAt",void 0),this.sample=e,this.voiceId=t,this.id=a,this.language=n,this.duration=r,(0,s.rC)(this,{duration:s.LO,sample:s.LO})}}let p=e=>{let[t,a,i]=(0,u.TD)(e),s="",n="",r="";return t>0&&(s="".concat(t," ").concat(1===t?"hour":"hours")),a>0&&t>=0&&(n="".concat(a," ").concat(1===a?"minute":"minutes")),i>0&&0===a&&0===t&&(r="".concat(i," ").concat(1===i?"second":"seconds")),"".concat(s," ").concat(n," ").concat(r).trim()};function v(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,a=1048576*t,i=[],s=[],n=0;for(let t=0;t<e.length;++t){let r=e[t];r.size>a?(s.length&&i.push(s),i.push([r]),s=[],n=0):n+r.size>a?(i.push(s),s=[r],n=r.size):(s.push(r),n+=r.size)}return s.length&&i.push(s),i}let x=(e,t)=>{let{pathParams:a,body:i}=e;return new Promise((e,s)=>{let n=new FormData;for(let e=0;e<i.files.length;e++)n.append("files",i.files[e]);i.remove_background_noise&&n.append("remove_background_noise",i.remove_background_noise.toString());let l=(0,c.Vz)(),o=new XMLHttpRequest,d="".concat(c.LB,"/v1/voices/pvc/").concat(a.voiceId,"/samples");o.open("POST",d),o.setRequestHeader("Authorization","Bearer ".concat(l)),o.upload.onprogress=e=>{e.lengthComputable&&t(Math.round(e.loaded/e.total*100))},o.onload=()=>{if(200===o.status)e(JSON.parse(o.responseText));else try{var t,a;let e=JSON.parse(o.responseText),i=(null===(t=e.detail)||void 0===t?void 0:t.message)||o.statusText,n=(null===(a=e.detail)||void 0===a?void 0:a.status)||o.statusText;s(new r.oo(o.status,i,n))}catch(e){s(Error(o.statusText))}},o.onerror=()=>{s(Error("A network error ocurred, please check your connection."))},o.send(n)})}},21147:function(e,t,a){"use strict";a.d(t,{Eu:function(){return l},H8:function(){return f},JF:function(){return u},K0:function(){return r},Ky:function(){return n},Oq:function(){return m},Tg:function(){return o},WS:function(){return h},XQ:function(){return p},Zl:function(){return c},_V:function(){return d},cC:function(){return x},fe:function(){return g},tN:function(){return v}});var i=a(68088),s=a(9506);let n=e=>(0,i.jsxs)("svg",{viewBox:"0 0 28 29",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,i.jsx)("path",{d:"M22.006 7.5a11.011 11.011 0 012.494 7c0 2.659-.936 5.098-2.494 7M19.163 9.337A8.126 8.126 0 0121 14.5c0 1.96-.69 3.76-1.837 5.162M16.275 11.044A5.454 5.454 0 0117.5 14.5c0 1.313-.46 2.517-1.225 3.456M13.431 12.881c.356.44.569 1.004.569 1.62 0 .614-.213 1.178-.569 1.618",stroke:"currentColor",strokeWidth:1.75,strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M16.603 6.786a9.078 9.078 0 100 15.56",stroke:"currentColor",strokeWidth:2.1875,strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:"0 4.68"})]}),r=e=>(0,i.jsxs)("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,i.jsx)("path",{d:"M9.672 16.392a6.484 6.484 0 11.053-12.497",stroke:"currentColor",strokeWidth:1.5625,strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:"0 3.34"}),(0,i.jsx)("path",{d:"M9.501 7a.5.5 0 01.5-.5h3.25a.5.5 0 010 1h-3.25a.5.5 0 01-.5-.5zM10 8.5a.5.5 0 000 1h1.501a.5.5 0 000-1H10zM17.276 7a1 1 0 00-1.415 0l-4.214 4.214a.5.5 0 00-.146.354V13.5a.5.5 0 00.5.5h1.932a.5.5 0 00.354-.146l4.214-4.214a1 1 0 000-1.415L17.276 7z",fill:"currentColor"})]}),l=e=>(0,i.jsxs)("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,i.jsx)("path",{d:"M9.672 16.392a6.484 6.484 0 11.053-12.497",stroke:"currentColor",strokeWidth:1.5625,strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:"0 3.34"}),(0,i.jsx)("path",{d:"M15 5.2c0-.741-.961-1.033-1.373-.415l-4.033 6.049A.75.75 0 0010.218 12h2.783v2.8c0 .741.962 1.033 1.374.415l4.033-6.049A.75.75 0 0017.784 8H15V5.2z",fill:"currentColor"})]}),o=e=>(0,i.jsxs)("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,i.jsx)("path",{d:"M9.672 16.392a6.484 6.484 0 11.053-12.497",stroke:"currentColor",strokeWidth:1.5625,strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:"0 3.34"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.234 5.35a1.015 1.015 0 011.532 0l.68.781a.015.015 0 00.013.005l1.023-.162a1.015 1.015 0 011.174.985l.018 1.035c0 .005.003.01.007.013l.888.533c.529.318.654 1.03.266 1.51l-.652.804a.015.015 0 00-.002.014l.337.98c.201.583-.16 1.21-.766 1.327l-1.017.197a.015.015 0 00-.011.01l-.371.966c-.22.576-.9.824-1.44.524l-.906-.502a.015.015 0 00-.014 0l-.906.502c-.54.3-1.22.052-1.44-.524l-.37-.966a.015.015 0 00-.012-.01l-1.017-.197a1.015 1.015 0 01-.766-1.328l.337-.979a.015.015 0 00-.002-.014l-.652-.805a1.015 1.015 0 01.266-1.509l.888-.533a.015.015 0 00.007-.013l.018-1.035a1.015 1.015 0 011.174-.985l1.023.162c.005 0 .01-.001.014-.005l.679-.782zm2.37 4.254a.5.5 0 10-.708-.708L13.5 10.293l-.396-.397a.5.5 0 10-.708.708l.574.573a.75.75 0 001.06 0l1.574-1.573z",fill:"currentColor"})]}),c=e=>(0,i.jsx)("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,i.jsx)("path",{d:"M5.938 3.75a2.188 2.188 0 100 4.375 2.188 2.188 0 000-4.375zM2.5 5.938a3.437 3.437 0 116.875 0 3.437 3.437 0 01-6.875 0zM5.938 11.875a2.188 2.188 0 100 4.375 2.188 2.188 0 000-4.375zM2.5 14.063a3.437 3.437 0 116.875 0 3.437 3.437 0 01-6.875 0zM14.063 3.75a2.188 2.188 0 100 4.375 2.188 2.188 0 000-4.375zm-3.438 2.188a3.437 3.437 0 116.875 0 3.437 3.437 0 01-6.875 0zM14.063 11.875a2.188 2.188 0 100 4.375 2.188 2.188 0 000-4.375zm-3.438 2.188a3.437 3.437 0 116.875 0 3.437 3.437 0 01-6.875 0z",fill:"currentColor"})}),d=e=>(0,i.jsx)("svg",{viewBox:"0 0 20 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,i.jsx)("path",{d:"M13.542 8.28V6.197a3.542 3.542 0 10-7.083 0V8.28M10 11.822v2.5m-4.375 3.542h8.75c.92 0 1.667-.747 1.667-1.667v-6.25c0-.92-.746-1.667-1.667-1.667h-8.75c-.92 0-1.667.746-1.667 1.667v6.25c0 .92.747 1.667 1.667 1.667z",stroke:"currentColor",strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round"})}),u=e=>(0,i.jsx)("svg",{viewBox:"0 0 11 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,i.jsx)("path",{d:"M10.5 5.634a1 1 0 010 1.732l-8.25 4.763a1 1 0 01-1.5-.866V1.737A1 1 0 012.25.87l8.25 4.763z",fill:"currentColor"})}),h=e=>(0,i.jsxs)("svg",{viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,i.jsx)("circle",{cx:7,cy:7,r:6,stroke:"currentColor",strokeWidth:1.25}),(0,i.jsx)("path",{d:"M4.75 7h4.5",stroke:"currentColor",strokeWidth:1.25,strokeLinecap:"round"})]}),m=e=>(0,i.jsxs)("svg",{viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,i.jsx)("circle",{cx:7,cy:7,r:6,stroke:"currentColor",strokeWidth:1.25}),(0,i.jsx)("path",{d:"M7 4.75v4.5M4.75 7h4.5",stroke:"currentColor",strokeWidth:1.25,strokeLinecap:"round"})]}),p=e=>(0,i.jsxs)("svg",{viewBox:"0 0 19 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.75 3.43945C6.43629 3.43945 3.75 6.12574 3.75 9.43945C3.75 12.7532 6.43629 15.4395 9.75 15.4395C13.0637 15.4395 15.75 12.7532 15.75 9.43945C15.75 6.12574 13.0637 3.43945 9.75 3.43945ZM2.25 9.43945C2.25 5.29732 5.60786 1.93945 9.75 1.93945C13.8921 1.93945 17.25 5.29732 17.25 9.43945C17.25 13.5816 13.8921 16.9395 9.75 16.9395C5.60786 16.9395 2.25 13.5816 2.25 9.43945Z",fill:"currentColor"}),(0,i.jsx)("path",{d:"M12.75 9.43945C12.75 11.0963 11.4068 12.4395 9.75 12.4395C8.09314 12.4395 6.75 11.0963 6.75 9.43945C6.75 7.7826 8.09314 6.43945 9.75 6.43945C11.4068 6.43945 12.75 7.7826 12.75 9.43945Z",fill:"currentColor"})]}),v=e=>(0,i.jsxs)("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,i.jsx)("path",{className:"fill-background",fillRule:"evenodd",d:"m13.02 2.944 1.664-.02a2.5 2.5 0 0 1 2.53 2.53l-.02 1.663 1.19 1.163a2.5 2.5 0 0 1 0 3.577l-1.19 1.163.02 1.664a2.5 2.5 0 0 1-2.53 2.53l-1.664-.02-1.163 1.19a2.5 2.5 0 0 1-3.577 0l-1.163-1.19-1.663.02a2.5 2.5 0 0 1-2.53-2.53l.02-1.664-1.19-1.163a2.5 2.5 0 0 1 0-3.577l1.19-1.163-.02-1.663a2.5 2.5 0 0 1 2.53-2.53l1.663.02 1.163-1.19a2.5 2.5 0 0 1 3.577 0l1.163 1.19Z",clipRule:"evenodd"}),(0,i.jsx)("path",{fill:"#DDBF22",fillRule:"evenodd",d:"M12.755 4.378a1 1 0 0 1-.727-.302l-1.313-1.343a1 1 0 0 0-1.43 0L7.972 4.076a1 1 0 0 1-.727.302l-1.878-.023a1 1 0 0 0-1.012 1.012l.023 1.878a1 1 0 0 1-.302.728L2.733 9.284a1 1 0 0 0 0 1.43l1.343 1.313a1 1 0 0 1 .302.727l-.023 1.878a1 1 0 0 0 1.012 1.012l1.878-.023a1 1 0 0 1 .728.302l1.312 1.343a1 1 0 0 0 1.43 0l1.313-1.343a1 1 0 0 1 .727-.302l1.878.023a1 1 0 0 0 1.012-1.012l-.023-1.878a1 1 0 0 1 .302-.727l1.343-1.313a1 1 0 0 0 0-1.43l-1.343-1.313a1 1 0 0 1-.302-.727l.023-1.878a1 1 0 0 0-1.012-1.012l-1.878.023Z",clipRule:"evenodd"}),(0,i.jsx)("path",{className:"fill-background",fillRule:"evenodd",d:"m13.53 8.53-1.06-1.06L9 10.94 7.53 9.47l-1.06 1.06L9 13.06l4.53-4.53Z",clipRule:"evenodd"})]}),x=e=>(0,i.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,i.jsxs)("g",{clipPath:"url(#clip0_1434_844)",children:[(0,i.jsx)("path",{d:"M10.0005 1.68213C10.2334 1.68219 10.4645 1.72849 10.6792 1.81885L10.8364 1.89502C10.9893 1.97818 11.1294 2.08362 11.2515 2.2085L12.564 3.55127L12.5649 3.55225L12.604 3.58447C12.6179 3.59389 12.6324 3.6024 12.6479 3.60889L12.6968 3.62354C12.7128 3.62663 12.7292 3.62754 12.7456 3.62744L14.6235 3.604L14.7983 3.61084C14.9721 3.62611 15.1431 3.6669 15.3052 3.73291L15.4634 3.80713C15.6174 3.88863 15.7586 3.99299 15.8823 4.1167C16.0473 4.2817 16.1781 4.47773 16.2661 4.69385L16.3237 4.85889C16.3566 4.97037 16.378 5.0849 16.3882 5.20068L16.395 5.37549L16.3716 7.25342C16.3714 7.28681 16.3783 7.32023 16.3911 7.35107L16.4155 7.39502L16.4478 7.43408L16.4487 7.43506L17.7915 8.74756L17.9097 8.87549C18.0215 9.00905 18.1133 9.15868 18.1812 9.31982L18.2407 9.48389C18.292 9.65027 18.3178 9.82379 18.3179 9.99854C18.3179 10.1734 18.292 10.3476 18.2407 10.5142L18.1812 10.6782C18.1133 10.8394 18.0215 10.989 17.9097 11.1226L17.7915 11.2505L16.4487 12.563L16.4478 12.564C16.4357 12.5757 16.425 12.5891 16.4155 12.603L16.3911 12.647C16.3783 12.6778 16.3714 12.7112 16.3716 12.7446L16.395 14.6226L16.3882 14.7974C16.378 14.9131 16.3566 15.0277 16.3237 15.1392L16.2661 15.3042C16.1781 15.5203 16.0473 15.7164 15.8823 15.8813C15.7586 16.0051 15.6174 16.1094 15.4634 16.1909L15.3052 16.2651C15.1431 16.3311 14.9721 16.3719 14.7983 16.3872L14.6235 16.394L12.7456 16.3706C12.7292 16.3705 12.7128 16.3724 12.6968 16.3755L12.6479 16.3901C12.6168 16.4031 12.5885 16.4226 12.5649 16.4468L12.564 16.4478L11.2515 17.7905C11.1294 17.9154 10.9893 18.0208 10.8364 18.104L10.6792 18.1802C10.4645 18.2705 10.2334 18.3168 10.0005 18.3169C9.82558 18.3169 9.6514 18.291 9.48486 18.2397L9.3208 18.1802C9.15966 18.1123 9.01002 18.0205 8.87646 17.9087L8.74854 17.7905L7.43604 16.4468C7.41249 16.4226 7.38416 16.4031 7.35303 16.3901C7.32174 16.3772 7.28728 16.3702 7.25342 16.3706L5.37646 16.394C5.20149 16.3962 5.02708 16.3721 4.85986 16.3228L4.69482 16.2651C4.53263 16.1991 4.38161 16.109 4.24658 15.9985L4.11768 15.8813C3.99397 15.7576 3.88961 15.6165 3.80811 15.4624L3.73389 15.3042C3.64588 15.0881 3.60216 14.8559 3.60498 14.6226L3.62842 12.7446C3.62851 12.7282 3.62663 12.7118 3.62354 12.6958L3.60889 12.647C3.59591 12.6158 3.5764 12.5875 3.55225 12.564L3.55127 12.563L2.2085 11.2505C2.08342 11.1282 1.97824 10.9876 1.89502 10.8345L1.81885 10.6782C1.72843 10.4634 1.68213 10.2317 1.68213 9.99854C1.68219 9.76557 1.72849 9.53455 1.81885 9.31982L1.89502 9.1626C1.97818 9.00976 2.08362 8.86966 2.2085 8.74756H2.20947L3.55225 7.43604L3.58545 7.39697C3.59474 7.38323 3.60247 7.36842 3.60889 7.35303C3.6218 7.3219 3.62875 7.28809 3.62842 7.25439L3.60498 5.37646C3.60216 5.14311 3.64588 4.91097 3.73389 4.69482L3.80811 4.53662C3.88961 4.38255 3.99397 4.24138 4.11768 4.11768L4.24658 4.00049C4.38161 3.89 4.53263 3.79993 4.69482 3.73389L4.85986 3.67627C5.02708 3.62696 5.20149 3.60287 5.37646 3.60498L7.25342 3.62744C7.28715 3.62777 7.3209 3.62183 7.35205 3.60889L7.396 3.58447C7.40989 3.57504 7.42328 3.56433 7.43506 3.55225L7.43604 3.55127L8.74854 2.2085L8.87646 2.09033C9.01002 1.9785 9.15966 1.88669 9.3208 1.81885L9.48486 1.75928C9.6514 1.70799 9.82558 1.68213 10.0005 1.68213Z",fill:"url(#paint0_linear_1434_844)",stroke:"white",strokeWidth:"1.5"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.53 8.53021L12.47 7.47021L8.99997 10.9402L7.52997 9.47022L6.46997 10.5302L8.99997 13.0602L13.53 8.53021Z",fill:"white"})]}),(0,i.jsxs)("defs",{children:[(0,i.jsxs)("linearGradient",{id:"paint0_linear_1434_844",x1:"10",y1:"2.43213",x2:"10",y2:"17.5669",gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{}),(0,i.jsx)("stop",{offset:"1",stopColor:"#6B7280"})]}),(0,i.jsx)("clipPath",{id:"clip0_1434_844",children:(0,i.jsx)("rect",{width:"20",height:"20",fill:"white"})})]})]}),f=e=>{let t=(0,s.useId)();return(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"none",...e,children:[(0,i.jsx)("path",{fill:"url(#a-".concat(t,")"),d:"M3 6.5A3.5 3.5 0 0 1 6.5 3h7A3.5 3.5 0 0 1 17 6.5v7a3.5 3.5 0 0 1-3.5 3.5h-7A3.5 3.5 0 0 1 3 13.5v-7Z"}),(0,i.jsx)("path",{className:"fill-background",fillRule:"evenodd",d:"M6.5 1.5h7a5 5 0 0 1 5 5v7a5 5 0 0 1-5 5h-7a5 5 0 0 1-5-5v-7a5 5 0 0 1 5-5Zm0 1.5A3.5 3.5 0 0 0 3 6.5v7A3.5 3.5 0 0 0 6.5 17h7a3.5 3.5 0 0 0 3.5-3.5v-7A3.5 3.5 0 0 0 13.5 3h-7Z",clipRule:"evenodd"}),(0,i.jsx)("path",{className:"fill-background",d:"M8.046 13.095h1.316v-6.27H8.046v6.27ZM10.695 13.095h1.245v-6.27h-1.245v6.27Z"}),(0,i.jsx)("defs",{children:(0,i.jsxs)("linearGradient",{id:"a-".concat(t),x1:"10",x2:"10",y1:"3",y2:"17",gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{className:"[stop-color:#374151] dark:[stop-color:#fff]"}),(0,i.jsx)("stop",{offset:"1",className:"[stop-color:#000] dark:[stop-color:#d1d5db]"})]})})]})},g=e=>(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 32",...e,children:[(0,i.jsx)("rect",{width:"28",height:"28",x:"2",y:"30",rx:"14",className:"fill-foreground",transform:"rotate(-90 2 30)"}),(0,i.jsx)("rect",{width:"28",height:"28",x:"2",y:"30",className:"stroke-background",strokeWidth:"4",rx:"14",transform:"rotate(-90 2 30)"}),(0,i.jsx)("path",{className:"stroke-background",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.094",d:"M16.771 20.474a4.54 4.54 0 0 1-5.251-6.412 4.539 4.539 0 0 1 5.288-2.335"}),(0,i.jsx)("path",{className:"fill-background",d:"M20.501 12.64a.524.524 0 0 0-.96-.29l-2.824 4.234a.526.526 0 0 0 .437.816h1.948v1.96c0 .519.673.723.962.29l2.823-4.234a.525.525 0 0 0-.437-.816h-1.949v-1.96Z"})]})},64172:function(e,t,a){"use strict";a.d(t,{Ae:function(){return g},Cd:function(){return f},P0:function(){return y},kY:function(){return b},rf:function(){return v},tY:function(){return x}});var i=a(17024),s=a(55673),n=a(5479),r=a(9506),l=a(74508),o=a(99748),c=a(26090),d=a(70554),u=a(54389),h=a(60493),m=a(43614),p=a(6526);class v{get name(){return this._file.name}static async create(e){let{id:t,duration:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new v(e,null!=t?t:(0,l.k$)(),null!=a?a:Math.ceil(await (0,d.eM)(e)*1e3))}file(){return Promise.resolve(this._file)}constructor(e,t,a){(0,i._)(this,"_file",void 0),(0,i._)(this,"id",void 0),(0,i._)(this,"duration",void 0),(0,i._)(this,"uploaded",void 0),this._file=e,this.id=t,this.duration=a,this.uploaded=!1}}class x{static create(e,t){return new x(e,t,e.sample_id)}get name(){return this.sample.file_name}async file(){if(!this._file){let e=await (0,o.P)({url:"/v1/voices/".concat(this.voiceId,"/samples/").concat(this.id,"/audio"),method:"GET"});this._file=new File([e],this.name,{type:this.sample.mime_type})}return this._file}constructor(e,t,a){(0,i._)(this,"sample",void 0),(0,i._)(this,"voiceId",void 0),(0,i._)(this,"id",void 0),(0,i._)(this,"_file",void 0),this.sample=e,this.voiceId=t,this.id=a}}let f=()=>{let e=(0,p.M)([]),t=(0,h.t)([]);return(0,n.ky)({get value(){return e.value},set value(val){e.value=val},get isDirty(){return e.isDirty},flush(){e.flush()},get localFiles(){return e.value.filter(e=>e instanceof v)},get isAllUploaded(){return this.localFiles.every(e=>e.uploaded)},get isAllOriginalRemoteFiles(){return e.value.some(e=>e instanceof x)&&0===t.value.length},concat(t){e.value=[...e.value,...t]},remove(a){a instanceof x&&(t.value=[...t.value,a]),e.value=e.value.filter(e=>e!==a)},samplesToRemove:t,get changes(){return{toAdd:this.localFiles.filter(e=>!e.uploaded),toRemove:t.value}},commitChanges(){e.value=e.value.map(e=>("uploaded"in e&&(e.uploaded=!0),e)),e.flush(),t.value=[]}},void 0,{autoBind:!0})},g=async e=>{var t;let a;a=e instanceof m.X4?await e.signedUrl():await (0,u.sT)(await e.file()),(e instanceof m.EU||e instanceof m.X4)&&"number"==typeof(null===(t=e.sample)||void 0===t?void 0:t.trim_start)&&"number"==typeof e.sample.trim_end&&(a="".concat(a,"#t=").concat(e.sample.trim_start/1e3,",").concat(e.sample.trim_end/1e3)),(0,c.GM)(a,{id:e.id,autoStart:!0,fileName:e.name,name:e.name,type:"other",isFirstRequest:!0,player:{title:e.name}})},b=e=>{var t;let a=(null===(t=c.Qu.value)||void 0===t?void 0:t.id)===e.id,i=a&&c.yA.value,{isLoading:n,mutate:l}=(0,s.useMutation)({mutationFn:()=>g(e)});return(0,r.useEffect)(()=>()=>{var t;(null===(t=c.Qu.value)||void 0===t?void 0:t.id)===e.id&&(0,c.ob)()},[]),{isActive:a,isPlaying:i,isLoading:n,togglePlay:()=>{c.yA.value&&((0,c.pt)(),i)||l()}}},y=e=>(0,s.useMutation)({mutationFn:async()=>(0,u.lG)(await e.file())})},43941:function(e,t,a){"use strict";a.d(t,{B6:function(){return _},OI:function(){return k},du:function(){return j},mg:function(){return N},nH:function(){return C}});var i=a(68088),s=a(18743),n=a(40534),r=a(14078),l=a.n(r),o=a(9506),c=a(50276),d=a(73276),u=a(1851),h=a(4735),m=a(3030),p=a(96474),v=a(91105),x=a(11521),f=a(25933),g=a(60189),b=a(54752),y=a(21147);let j=e=>{let{id:t,children:a,layout:r}=e;return(0,i.jsx)(s.M,{mode:"wait",children:a&&(0,i.jsx)(n.E.div,{layout:r,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,i.jsx)(x.x,{className:"text-error",size:"sm",id:t,children:a})})})},w={language:{name:"Language",values:b.Q4.map(e=>({key:e.languageCode,name:e.name})).sort((e,t)=>e.name.localeCompare(t.name))},accent:{name:"Accent",values:e=>b.W_.filter(t=>t.code.split("-")[0]===e).map(e=>({key:e.code,name:e.name,sort:e.sort})).sort((e,t)=>e.sort-t.sort)},gender:{name:"Gender",values:[{key:"male",name:"Male"},{key:"female",name:"Female"},{key:"neutral",name:"Neutral"}]},age:{name:"Age",values:[{key:"young",name:"Young"},{key:"middle-aged",name:"Middle Aged"},{key:"old",name:"Old"}]}},_=new Set(Object.keys(w)),k=e=>{let t=[...e],a=["language",...Object.keys(w)];return t.sort((e,t)=>a.indexOf(e.label)-a.indexOf(t.label)),t},N=e=>{let{options:t,id:a,"aria-labelledby":s,"aria-describedby":n,"aria-errormessage":r,placeholder:l,...o}=e;return(0,i.jsxs)(v.Select,{...o,children:[(0,i.jsx)(v.SelectTrigger,{className:"rounded-lg",id:a,"aria-labelledby":s,"aria-describedby":n,"aria-errormessage":r,children:(0,i.jsx)(v.SelectValue,{placeholder:l})}),(0,i.jsx)(v.SelectContent,{className:"duration-200",children:t.map(e=>{let{key:t,name:a}=e;return(0,i.jsx)(v.SelectItem,{value:t,children:a},t)})})]})},C=(0,o.memo)(e=>{var t,a;let{language:r,labelClassName:x,valueClassName:_}=e,k={label:(0,o.useId)(),value:(0,o.useId)()},C=(0,d.MM)(u.models.value),S=(0,o.useMemo)(()=>{let e=l()(w);return C&&(e.language.values=b.sj.map(e=>({key:e.languageCode,name:e.name})).sort((e,t)=>e.name.localeCompare(t.name))),e},[C]),{formState:{errors:P},control:E,watch:D,trigger:A,setValue:T}=(0,c.Gc)(),{append:V,fields:I,remove:M}=(0,c.Dq)({name:"labels",control:E,rules:{validate:{valuesRequired:e=>{let t=Object.fromEntries(e.map(e=>[e.label,e.value]));return e.every(e=>{var a;let{label:i,value:s}=e;if(0===s.length)return!1;let n=null===(a=S[i])||void 0===a?void 0:a.values;if(void 0===n)return!0;if("function"==typeof n){let e=null!=r?r:t.language;if(!e)return!1;n=n(e)}return n.some(e=>{let{key:t}=e;return t===s})})||"Please set values for each label"}}}}),L=r?"accent":"language",z=S[L],R=new Set(D("labels").map(e=>{let{label:t}=e;return t}));return void 0!==r&&R.add("language"),(0,i.jsxs)("div",{className:"stack gap-2",children:[(0,i.jsxs)(n.E.div,{layout:"position",className:"grid grid-cols-[1fr_1fr_auto] gap-2",children:[(0,i.jsx)(p.Label,{className:(0,g.cn)("w-full",x),id:k.label,children:"Label"}),(0,i.jsx)(p.Label,{className:(0,g.cn)("w-full",_),id:k.value,children:"Value"}),(0,i.jsx)("div",{className:"w-9 shrink-0"})]}),(0,i.jsxs)("div",{className:"stack gap-2",children:[(0,i.jsxs)(n.E.div,{layout:"position",className:"grid grid-cols-[1fr_1fr_auto] gap-2",children:[(0,i.jsx)(v.Select,{open:!1,children:(0,i.jsx)(v.SelectTrigger,{className:"rounded-lg cursor-not-allowed [&>svg]:hidden",tabIndex:-1,id:"".concat(k.label,"-").concat(L),"aria-labelledby":k.label,children:z.name})}),(0,i.jsx)(c.Qr,{name:"labels.0.value",render:e=>{let{field:{value:t,onChange:a}}=e;return(0,i.jsx)(N,{"aria-labelledby":"".concat(k.label,"-").concat(L," ").concat(k.value),value:t,onValueChange:e=>{a(e),"language"===L&&I.forEach((e,t)=>{var a;let{label:i}=e;"function"!=typeof(null===(a=S[i])||void 0===a?void 0:a.values)||T("labels.".concat(t,".value"),"")}),A("labels")},options:"function"==typeof z.values?z.values(r):z.values})}}),(0,i.jsx)("div",{className:"w-9 shrink-0"})]}),(0,i.jsx)(s.M,{initial:!1,children:I.map((e,t)=>t>0&&(0,i.jsxs)(n.E.div,{layout:"position",className:"grid grid-cols-[1fr_1fr_auto] gap-2",variants:{visible:{opacity:1},hidden:{opacity:0}},initial:"hidden",animate:"visible",exit:"hidden",onAnimationComplete:e=>{"hidden"===e&&t===I.length-1&&M(t)},children:[(0,i.jsx)(c.Qr,{name:"labels.".concat(t,".label"),render:e=>{let{field:{value:a,onChange:s}}=e;return(0,i.jsx)(N,{id:"".concat(k.label,"-").concat(a),"aria-labelledby":k.label,value:a,onValueChange:e=>{s(e),T("labels.".concat(t,".value"),"")},options:Object.entries(S).filter(e=>{let[t]=e;return!R.has(t)||t===a}).map(e=>{let[t,{name:a}]=e;return{key:t,name:a}})})}}),(0,i.jsx)(c.Qr,{name:"labels.".concat(t,".value"),render:e=>{var a,s;let{field:{value:n,onChange:r}}=e,l=D("labels.".concat(t,".label")),o=null!==(s=null===(a=S[l])||void 0===a?void 0:a.values)&&void 0!==s?s:[];return"function"==typeof o&&(o=o(D("labels.0.value"))),(0,i.jsx)(f.Tooltip,{label:"Please select a language first",isDisabled:0!==o.length,children:(0,i.jsx)("div",{className:"w-full",children:(0,i.jsx)(N,{"aria-labelledby":"".concat(k.label,"-").concat(l," ").concat(k.value),value:n,disabled:0===o.length,onValueChange:e=>{r(e),A("labels")},options:o})})})}}),(0,i.jsx)(m.h,{type:"button","aria-label":"Remove label",size:"xs",className:"shrink-0 w-9 h-9 rounded-lg",onClick:()=>M(t),children:(0,i.jsx)(y.WS,{className:"w-3.5 h-3.5"})})]},e.id))})]}),(0,i.jsx)(n.E.div,{layout:"position",children:(0,i.jsx)(h.Button,{type:"button",size:"sm",className:"bg-background hover:bg-gray-100",leftIcon:(0,i.jsx)(y.Oq,{}),disabled:R.size>=Object.keys(S).length,onClick:()=>{let e=Object.keys(S).find(e=>!R.has(e));if(!e)throw Error("Unreachable: All labels are already added");V({label:e,value:""})},children:"Add label"})}),(0,i.jsx)(j,{layout:"position",children:null===(a=P.labels)||void 0===a?void 0:null===(t=a.root)||void 0===t?void 0:t.message})]})});C.displayName="LabelsSelectField"},6526:function(e,t,a){"use strict";a.d(t,{M:function(){return s},u:function(){return n}});var i=a(5479);let s=e=>(0,i.ky)({_value:e,_prev:e,get value(){return this._value},set value(val){this._value=val},get isDirty(){return this._value!==this._prev},flush(){this._prev=this._value}},{_value:i.LO.ref,_prev:i.LO.ref}),n=e=>{let{fetchFn:t,onError:a}=e;return(0,i.ky)({isLoading:!1,isSuccess:!1,error:void 0,data:void 0,variables:void 0,reset(){this.isLoading=!1,this.isSuccess=!1,this.error=void 0,this.data=void 0,this.variables=void 0},async fetch(e){this.reset(),this.isLoading=!0,this.variables=e;try{this.data=await t(e),this.isSuccess=!0}catch(e){this.error=e,null==a||a(e)}finally{this.isLoading=!1}}},{},{autoBind:!0})}},52389:function(e,t,a){"use strict";a.d(t,{Fu:function(){return l},Hp:function(){return x},J5:function(){return o},Re:function(){return p},Uw:function(){return m},cS:function(){return d},f:function(){return c},nJ:function(){return v},x8:function(){return f}});var i=a(50165),s=a(1851),n=a(54752),r=a(75515);let l=500,o=e=>{var t;return("cloned"!==e.category||"cloned"==e.category&&!["BAN","CAPTCHA"].includes(e.safety_control)||"cloned"==e.category&&"CAPTCHA"==e.safety_control&&(null===(t=e.voice_verification)||void 0===t?void 0:t.is_verified)==!0)&&(0,i.zi)(e.permission_on_resource)},c=e=>e>=1e9?"".concat((e/1e9).toFixed(1),"B").replace(".0",""):e>=1e6?"".concat((e/1e6).toFixed(1),"M").replace(".0",""):e>=1e3?"".concat((e/1e3).toFixed(1),"K").replace(".0",""):String(e),d=e=>Object.fromEntries(Object.entries({language:e.language||"",accent:e.accent,gender:e.gender,age:e.age,descriptive:e.descriptive,use_case:e.use_case}).filter(e=>{let[t,a]=e;return a})),u={old:"Old",young:"Young",middle_aged:"Middle-Aged"},h=[{label:"Narrative & Story",value:"narrative_story"},{label:"Conversational",value:"conversational"},{label:"Characters & Animation",value:"characters_animation"},{label:"Social Media",value:"social_media"},{label:"Entertainment & TV",value:"entertainment_tv"},{label:"Advertisement",value:"advertisement"},{label:"Informative & Educational",value:"informative_educational"}],m=e=>{var t,a;(e={...e}).language&&(e.language=(null===(t=n.Q4.find(t=>t.languageCode===e.language))||void 0===t?void 0:t.name)||e.language),e.age&&(e.age=u[e.age]||e.age),e.use_case&&(e.use_case=(null===(a=h.find(t=>t.value===e.use_case))||void 0===a?void 0:a.label)||e.use_case);let i=Object.fromEntries(Object.entries(e).filter(e=>{let[t,a]=e;return null!=a}).map(e=>{let[t,a]=e;return[t,a.charAt(0).toUpperCase()+a.slice(1)]}));return i.language&&i.accent&&(i.language="".concat(i.language," (").concat(i.accent,")"),delete i.accent),i},p=e=>{if(!s.models.value)throw Error("Cannot call getRecommendedModels until models are loaded");let t=s.models.value.map(t=>{let a={name:t.name,state:"not_started",progress:0,model_id:t.model_id,message:""};if(e.high_quality_base_model_ids.includes(t.model_id))a.state="fine_tuned",a.progress=1,a.message="Voice is ready to be used with the model!";else{var i,s;if(!t.can_be_finetuned||e.is_mixed||"professional"!==e.category||!e.fine_tuning||!t.languages.find(t=>{var a;return t.language_id===(null===(a=e.fine_tuning)||void 0===a?void 0:a.language)}))return null;a.state=e.fine_tuning.state[t.model_id]||"not_started",a.progress=(null===(i=e.fine_tuning.progress)||void 0===i?void 0:i[t.model_id])||0,a.message=(null===(s=e.fine_tuning.message)||void 0===s?void 0:s[t.model_id])||""}return"fine_tuning"===a.state&&(a.message+=" "+Math.floor(100*a.progress)+"%"),"not_started"===a.state&&(a.message="Click to start fine-tuning"),"failed"===a.state&&(a.message="Fine-tuning failed. Click to retry"),t.can_do_voice_conversion&&(a.name+=" (Speech to Speech)"),a});return t=t.filter(e=>null!==e),e.sharing&&e.sharing.status.startsWith("copied")&&(t=t.filter(e=>(null==e?void 0:e.state)==="fine_tuned")),t},v=e=>{if("professional"!==e.category||!e.fine_tuning)return!1;let t=p(e);return t.length>0&&(t.every(e=>"not_started"===e.state)||!e.fine_tuning.is_allowed_to_fine_tune)},x=e=>{if("professional"!==e.category||!e.fine_tuning||!(e.is_owner||(0,i.cg)(e.permission_on_resource))||e.sharing)return!1;let t=p(e);return t.length>0&&!t.every(e=>"not_started"===e.state)&&t.every(e=>"failed"===e.state||"fine_tuned"===e.state||"not_started"===e.state)},f=e=>"professional"===e.category&&!!e.fine_tuning&&!!e.samples&&0!==e.samples.length&&(!!e.samples.some(e=>void 0===e.duration_secs)||e.samples.reduce((e,t)=>{var a;return e+(null!==(a=t.duration_secs)&&void 0!==a?a:0)},0)>=r.oR)},26897:function(e,t,a){"use strict";a.d(t,{G7:function(){return g},dE:function(){return S},ro:function(){return C},u5:function(){return N},yY:function(){return k}});var i=a(68088),s=a(9506),n=a(71037),r=a(55205),l=a(72228),o=a(73940),c=a(74346),d=a(25933),u=a(60189),h=a(58397),m=a(9039),p=a(2544),v=a(21147),x=a(52389);let f=e=>["professional","high_quality","premade","cloned"].includes(e),g=e=>{let{category:t,className:a,size:n="1.25rem",showOnlyHighQualityIndicator:r=!1}=e,l=(0,s.useMemo)(()=>r?"high_quality"===t?{text:"High Quality",icon:v.cC}:null:t&&["professional","high_quality"].includes(t)?{text:"Professional Voice Clone",icon:v.tN}:"cloned"===t?{text:"Instant Voice Clone",className:"translate-y-[-20%] translate-x-[22%]",icon:v.fe}:"premade"===t?{text:"Default Voice",icon:v.H8}:void 0,[t]);return l?(0,i.jsx)(d.Tooltip,{label:l.text,children:(0,i.jsx)("span",{className:(0,u.cn)("absolute top-0 right-0 translate-y-[-30%] translate-x-[30%]",l.className,a),children:(0,i.jsx)(l.icon,{style:{width:n,height:n}})})}):null},b=e=>{let{category:t,iconOnly:a=!1,className:n}=e,o=(0,s.useMemo)(()=>["professional","high_quality"].includes(t)?{text:"Professional Voice Clone",color:"text-amber-400"}:"cloned"===t?{text:"Instant Voice Clone",icon:r.jr,color:"text-gray-700"}:"premade"===t?{text:"Default Voice",color:"text-gray-700"}:"famous"===t?{text:"Famous Voice",icon:r.T$,color:"text-amber-400"}:"generated"===t?{text:"Voice Design",icon:r.uO,color:"text-gray-700"}:void 0,[t]);return o?(0,i.jsx)(d.Tooltip,{label:a?o.text:void 0,children:(0,i.jsxs)(l.Ct,{variant:"secondary",className:(0,u.cn)("gap-1",n),children:[o.icon&&(0,i.jsx)(c.Z,{size:"sm",children:(0,i.jsx)(o.icon,{className:"".concat(o.color," -ml-1"),"aria-hidden":"true"})}),!a&&(0,i.jsx)("span",{className:"min-w-max",children:o.text})]})},"type_badge"):null},y=e=>{let{iconOnly:t=!1,className:a}=e;return(0,i.jsx)(d.Tooltip,{label:(0,i.jsx)(i.Fragment,{children:"Live Moderation enabled. Tools will be used to check whether your requests to use this Voice contain text that belongs to a number of prohibited categories. As a result, this moderation may result in extra latency when using this voice. The voice owner may choose to change this setting at any time. If a voice was created without Live Moderation and later updated to enable it, existing users of that voice will not have Live Moderation applied - only new users."}),children:(0,i.jsxs)(l.Ct,{variant:"secondary",className:(0,u.cn)("gap-1",a),children:[(0,i.jsx)(c.Z,{size:"sm",color:"inherit",children:(0,i.jsx)(r.b7,{className:"-ml-1"})}),!t&&(0,i.jsx)("span",{className:"min-w-max",children:"Live Moderation"})]})},"moderation_badge")},j=e=>{let t,{voice:a,isOwner:s=!1,activated:n=!1,iconOnly:m=!1,className:p}=e,v=a&&"disable_at_unix"in a?a.disable_at_unix:null;if(a&&a.notice_period||v){let e=a.notice_period?a.notice_period>364?a.notice_period>366?"2 years":"1 year":"".concat(a.notice_period," days"):null;return t=v?(0,i.jsxs)(i.Fragment,{children:["This voice has been removed from the Voice Library, and its Notice Period has started. The voice will be disabled on"," ",(0,i.jsx)("b",{children:(0,h.$m)(v)}),"."]}):s&&n?(0,i.jsxs)(i.Fragment,{children:["You've activated your Notice Period of ",(0,i.jsx)("b",{children:e}),". This voice model has been removed from the Voice Library, and it will be disabled for users that have already added it to their account after your Notice Period expires, unless you re-enable sharing."]}):s?(0,i.jsxs)(i.Fragment,{children:["You've set a Notice Period of ",(0,i.jsx)("b",{children:e}),". If you decide to remove your voice model from the Voice Library, it will immediately disappear for users that have not yet added it to their account. However, users that already added your voice model to their account will continue to have access to your voice model for ",(0,i.jsx)("b",{children:e})," starting from the date of the removal request. This is to ensure that users who have added your voice model to their account have enough time to migrate to a different voice model."]}):(0,i.jsxs)(i.Fragment,{children:["This voice model has a Notice Period of ",(0,i.jsx)("b",{children:e}),". If the voice model owner decides to remove it from the Voice Library, it will immediately disappear for users that have not yet added it to their account. However, users that have already added this voice model to their account will continue to have access to it for ",(0,i.jsx)("b",{children:e})," ","starting from the date of the removal request. This is to ensure that users have enough time to migrate to a different voice model."]}),(0,i.jsx)(d.Tooltip,{label:t,children:(0,i.jsxs)(l.Ct,{variant:"secondary",className:(0,u.cn)("gap-1",p),children:[(0,i.jsx)(c.Z,{size:"sm",color:"inherit",children:(0,i.jsx)(r.T3,{})}),!m&&(0,i.jsx)("span",{className:"min-w-max",children:v?"Expires ".concat((0,o.q)(new Date(1e3*v))):e})]})},"notice_badge")}},w=e=>{let{voice:t,isOwner:a=!1,iconOnly:s=!1,className:n}=e;if(t&&t.rate)return(0,i.jsx)(d.Tooltip,{label:a?(0,i.jsxs)(i.Fragment,{children:["You've set a Custom Rate of ",(0,i.jsxs)("b",{children:["$",t.rate]})," per 1,000 characters."]}):(0,i.jsxs)(i.Fragment,{children:["This voice model uses a Custom Rate and has a"," ",(0,i.jsxs)("b",{children:[t.rate,"x credit multiplier"]})," for you, meaning it uses"," ",t.rate,"x more credits than a standard request. As an example, generating 1,000 credits using a voice model with a 2x character multiplier would deduct 2,000 credits from your account."]}),children:(0,i.jsx)(l.Ct,{variant:"secondary",className:(0,u.cn)("gap-1",n),children:(0,i.jsx)("span",{className:"min-w-max",children:a?"$".concat(t.rate," per 1k characters"):s?"".concat(t.rate,"x"):"".concat(t.rate,"x multiplier")})})},"multiplier_badge")},_=e=>{let{iconOnly:t=!1,className:a}=e;return(0,i.jsx)(d.Tooltip,{label:(0,i.jsxs)(i.Fragment,{children:["High-Quality. The audio used to create the voice follows our"," ",(0,i.jsx)(n.a,{href:"https://elevenlabs.io/docs/voices/voice-lab/professional-voice-cloning",target:"_blank",className:"underline",children:"Recording Guidelines"}),", and outputs have been tested by the ElevenLabs Voices Team for quality and consistency."]}),children:(0,i.jsx)(l.Ct,{variant:"secondary",className:(0,u.cn)("gap-1",a),children:!t&&(0,i.jsx)("span",{className:"min-w-max",children:"HQ"})})},"hq_badge")},k=e=>{let{voice:t,isOwner:a=!1,disabled:s=!1,iconOnly:n=!1,includeTypeBadge:r=!0}=e,o=[];return r&&o.push(b({category:t.category,iconOnly:n})),"high_quality"==t.category&&o.push(_({iconOnly:n})),t.live_moderation_enabled&&o.push(y({iconOnly:n})),(t.notice_period||"disable_at_unix"in t&&t.disable_at_unix)&&o.push(j({voice:t,isOwner:a,activated:s,iconOnly:n})),t.rate&&1!=t.rate&&o.push(w({voice:t,isOwner:a,iconOnly:n})),(0,i.jsx)(l.k,{variant:"secondary",limit:8,children:o})},N=e=>{let{voice:t,isOwner:a,disabled:s,iconOnly:n,includeTypeBadge:r}=e,l=[];return r&&l.push((0,i.jsx)(b,{category:t.category,iconOnly:n})),"rate"in t&&t.rate&&1!=t.rate&&l.push((0,i.jsx)(w,{voice:t,isOwner:a,iconOnly:!0})),"high_quality"==t.category&&l.push((0,i.jsx)(_,{iconOnly:n})),"live_moderation_enabled"in t&&t.live_moderation_enabled&&l.push((0,i.jsx)(y,{iconOnly:n})),("notice_period"in t&&t.notice_period||"disable_at_unix"in t&&t.disable_at_unix)&&l.push((0,i.jsx)(j,{voice:t,isOwner:a,activated:s,iconOnly:n})),l};function C(e){var t,a,i;let s=!(0,p._B)(e)&&e.labels?(0,x.Uw)(e.labels):{},n=[...N({voice:e,isOwner:!1,disabled:!1,iconOnly:!1,includeTypeBadge:!f(e.category)}),s.use_case,...Object.entries(s).filter(e=>{let[t]=e;return"use_case"!==t}).map(e=>{let[,t]=e;return t})];return"language"in e&&n.push((null===(t=m.k_[e.language])||void 0===t?void 0:t.name)||e.language),"descriptive"in e&&n.push((null===(a=m.Mm[e.descriptive])||void 0===a?void 0:a.name)||e.descriptive),"use_case"in e&&n.push((null===(i=m.kO[e.use_case])||void 0===i?void 0:i.name)||e.use_case),n=n.filter(Boolean)}let S=e=>{let{voice:t}=e,a=[],s=null==t?void 0:t.cloned_by_count,n=null==t?void 0:t.usage_character_count_1y;return s&&a.push(P((0,x.f)(s))),n&&a.push(E((0,x.f)(n))),(0,i.jsx)(l.k,{variant:"secondary",limit:2,children:a})},P=e=>(0,i.jsx)(d.Tooltip,{label:(0,i.jsxs)(i.Fragment,{children:[e," users"]}),children:(0,i.jsxs)(l.Ct,{variant:"secondary",className:"gap-1",children:[(0,i.jsx)(c.Z,{size:"sm",color:"inherit",children:(0,i.jsx)(r.t0,{className:"-ml-1"})}),(0,i.jsx)("span",{className:"min-w-max",children:e})]})},"user_count"),E=e=>(0,i.jsx)(d.Tooltip,{label:(0,i.jsxs)(i.Fragment,{children:[e," text credits generated"]}),children:(0,i.jsxs)(l.Ct,{variant:"secondary",className:"gap-1",children:[(0,i.jsx)(c.Z,{size:"sm",color:"inherit",children:(0,i.jsx)(r.He,{className:"-ml-1"})}),(0,i.jsx)("span",{className:"min-w-max",children:e})]})},"character_count")},2544:function(e,t,a){"use strict";a.d(t,{E$:function(){return u},F7:function(){return o},GD:function(){return c},_B:function(){return n},ht:function(){return r},qv:function(){return h},tT:function(){return l},xX:function(){return d}});var i=a(93281),s=a(60358);function n(e){return"public_owner_id"in e}function r(e){return e.sort((e,t)=>{let a=t.category.localeCompare(e.category);return 0!==a?a>0?-1:1:t.name.localeCompare(e.name)>0?-1:1}).sort((e,t)=>{var a,i;return"premade"===e.category&&"premade"===t.category?Number((null===(a=t.labels)||void 0===a?void 0:a.featured)==="new")-Number((null===(i=e.labels)||void 0===i?void 0:i.featured)==="new"):1})}let l=()=>{let[e,t]=(0,i.v1)("action",(0,i.km)(["none","create","edit","verify"]).withDefault("none").withOptions({history:"push"}));return[e,e=>{t(e)}]},o=()=>{let e={prompt:i.Oi,previewText:i.Oi,seed:i.Lv,loudness:i.Lv,quality:i.Lv,guidanceScale:i.Lv},t=(0,i.Qx)(e);return[e=>t(new URL("".concat(window.location.origin).concat(s.VP.voiceLab,"?action=create&creationType=voiceDesign")),e),()=>{let t=new URLSearchParams(window.location.search);return Object.entries(e).reduce((e,a)=>{let[i,s]=a,n=t.get(i);return e[i]=n?s.parse(n):null,e},{})}]};function c(e,t){if(!e)return"bg-background";switch(e){case"red":return t?"bg-collection-red-900 dark:bg-collection-red-500":"bg-collection-red-100 dark:bg-collection-red-900";case"orange":return t?"bg-collection-orange-900 dark:bg-collection-orange-500":"bg-collection-orange-100 dark:bg-collection-orange-900";case"yellow":return t?"bg-collection-yellow-900 dark:bg-collection-yellow-500":"bg-collection-yellow-100 dark:bg-collection-yellow-900";case"green":return t?"bg-collection-green-900 dark:bg-collection-green-500":"bg-collection-green-100 dark:bg-collection-green-900";case"teal":return t?"bg-collection-teal-900 dark:bg-collection-teal-500":"bg-collection-teal-100 dark:bg-collection-teal-900";case"blue":return t?"bg-collection-blue-900 dark:bg-collection-blue-500":"bg-collection-blue-100 dark:bg-collection-blue-900";case"purple":return t?"bg-collection-purple-900 dark:bg-collection-purple-500":"bg-collection-purple-100 dark:bg-collection-purple-900"}}function d(e,t){if(!e)return"bg-background";switch(e){case"red":return t?"bg-collection-red-900 dark:bg-collection-red-500":"bg-collection-red-100 dark:bg-collection-red-500/20";case"orange":return t?"bg-collection-orange-900 dark:bg-collection-orange-500":"bg-collection-orange-100 dark:bg-collection-orange-500/20";case"yellow":return t?"bg-collection-yellow-900 dark:bg-collection-yellow-500":"bg-collection-yellow-100 dark:bg-collection-yellow-500/20";case"green":return t?"bg-collection-green-900 dark:bg-collection-green-500":"bg-collection-green-100 dark:bg-collection-green-500/20";case"teal":return t?"bg-collection-teal-900 dark:bg-collection-teal-500":"bg-collection-teal-100 dark:bg-collection-teal-500/20";case"blue":return t?"bg-collection-blue-900 dark:bg-collection-blue-500":"bg-collection-blue-100 dark:bg-collection-blue-500/20";case"purple":return t?"bg-collection-purple-900 dark:bg-collection-purple-500":"bg-collection-purple-100 dark:bg-collection-purple-500/20"}}function u(e,t){if(!e)return"text-foreground";switch(e){case"red":return t?"text-collection-red-100 dark:text-collection-red-900":"text-collection-red-900 dark:text-collection-red-100";case"orange":return t?"text-collection-orange-100 dark:text-collection-orange-900":"text-collection-orange-900 dark:text-collection-orange-100";case"yellow":return t?"text-collection-yellow-100 dark:text-collection-yellow-900":"text-collection-yellow-900 dark:text-collection-yellow-100";case"green":return t?"text-collection-green-100 dark:text-collection-green-900":"text-collection-green-900 dark:text-collection-green-100";case"teal":return t?"text-collection-teal-100 dark:text-collection-teal-900":"text-collection-teal-900 dark:text-collection-teal-100";case"blue":return t?"text-collection-blue-100 dark:text-collection-blue-900":"text-collection-blue-900 dark:text-collection-blue-100";case"purple":return t?"text-collection-purple-100 dark:text-collection-purple-900":"text-collection-purple-900 dark:text-collection-purple-100"}}function h(e){if(!e)return null;switch(e){case"en":default:return"voices";case"zh":return"声音";case"es":return"voces";case"hi":return"आवाज़ें";case"pt":return"vozes";case"fr":return"voix";case"de":return"Stimmen";case"ja":return"声";case"ar":return"أصوات";case"ko":return"음성";case"id":case"ms":return"suara";case"it":case"ro":return"voci";case"nl":return"stemmen";case"tr":return"sesler";case"pl":return"głosy";case"ru":return"голоса";case"sv":return"r\xf6ster";case"fil":return"tinig";case"uk":return"голоси";case"el":return"φωνές";case"cs":case"sk":return"hlasy";case"da":case"no":return"stemmer";case"fi":return"\xe4\xe4net";case"bg":return"гласове";case"hr":return"glasovi";case"ta":return"குரல்கள்";case"vi":return"giọng n\xf3i";case"hu":return"hangok"}}},84451:function(e,t,a){"use strict";a.d(t,{u:function(){return L},SupportAgentProvider:function(){return I},o:function(){return T}});var i=a(68088),s=a(44141),n=a(18743),r=a(40534),l=a(25178),o=a(71809),c=a(81999),d=a(99597),u=a(23431),h=a(9506),m=a(54995),p=a(60358);let v={"text-to-speech":{url:p.VP.tts,title:"Text to Speech"},"speech-to-speech":{url:p.VP.sts,title:"Voice Changer"},projects:{url:p.VP.studio,title:"Studio"},"sound-effects-generate":{url:p.VP.soundEffects,title:"Sound Effects"},"sound-effects-explore":{url:p.VP.soundEffectsExplore,title:"Sound Effects Explore"},"voiceover-studio":{url:p.VP.voiceoverStudio,title:"Voiceover Studio"},"voice-library":{url:p.VP.voiceLibrary,title:"Voice Library"},"my-voices":{url:p.VP.voiceLab,title:"My Voices"},"audio-native":{url:p.VP.audioNative,title:"Audio Native"},"voice-isolator":{url:p.VP.voiceIsolator,title:"Voice Isolator"},"speech-classifier":{url:p.VP.aiClassifier,title:"Speech Classifier"},"conversational-ai-agents":{url:p.VP.conversationalAi,title:"Conversational AI Agents"},"conversational-ai-history":{url:p.VP.conversationalAiHistory,title:"Conversational AI History"},"voice-clone":{url:p.VP.voiceLab+"?action=create",title:"Voice Cloning"},"dubbing-studio":{url:p.VP.dubbing,title:"Dubbing"},"create-blank-project":{url:p.VP.studio+"?create=blank",title:"Studio - Create"},"create-audiobook-project":{url:p.VP.studio+"?create=book",title:"Studio - Create Book"},"create-article-project":{url:p.VP.studio+"?create=article",title:"Studio - Create Article"},"create-podcast-project":{url:p.VP.studio+"?create=genfm",title:"Studio - Create Podcast"},subscription:{url:p.VP.subscription,title:"Subscription"},profile:{url:p.VP.settings,title:"Settings"},"api-keys":{url:p.VP.settingsApiKeys,title:"API Keys"},webhooks:{url:p.VP.settingsWebhooks,title:"Webhooks"},"add-two-factor-authentication":{url:p.VP.settingsTwoFactorAuth,title:"Two factor authentication"}},x={"text-to-speech-docs":{url:p.ZP.guideTts,title:"Text to Speech Documentation"},"speech-to-speech-docs":{url:p.ZP.guideSts,title:"Voice Changer Documentation"},"studio-docs":{url:p.ZP.guideStudio,title:"Studio Documentation"},"dubbing-docs":{url:p.ZP.guideStudio,title:"Dubbing Documentation"},"sound-effects-docs":{url:p.ZP.guideStudio,title:"Sounds Effects Documentation"},"voice-library-docs":{url:p.ZP.guideStudio,title:"Voice Library Documentation"},"voice-isolator-docs":{url:p.ZP.guideStudio,title:"Voice Isolator Documentation"},"conversational-ai-docs":{url:p.ZP.guideStudio,title:"Conversational AI Documentation"},"voice-clone-docs":{url:p.ZP.guideStudio,title:"Voice Cloning Documentation"},"voice-lab-docs":{url:p.ZP.guideStudio,title:"My Voices Documentation"},"audio-native-docs":{url:p.ZP.guideStudio,title:"Audio Native Documentation"}};var f=a(1851),g=a(26090),b=a(74346),y=a(3030),j=a(11521),w=a(96162),_=a(71860),k=a(63415),N=a(85753),C=a(60189),S=a(74021);let P=e=>{let{children:t,show:a}=e;return(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)(n.M,{children:a&&(0,i.jsxs)(r.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:(0,C.cn)("pointer-events-none absolute -top-8 -right-8 -bottom-8 -left-8 overflow-hidden"),style:{mask:"linear-gradient(to bottom, rgba(0,0,0,0) 12.5%, rgba(0,0,0,1) 25%, rgba(0,0,0,1)) top,\n              linear-gradient(to top, rgba(0,0,0,0) 10%, rgba(0,0,0,1) 20%, rgba(0,0,0,1) 0) bottom,\n              linear-gradient(to right, rgba(0,0,0,0) 5%, rgba(0,0,0,1) 10%, rgba(0,0,0,1)) left,\n              linear-gradient(to left, rgba(0,0,0,0) 5%, rgba(0,0,0,1) 10%, rgba(0,0,0,1)) right,\n              radial-gradient(ellipse, rgba(0,0,0,1), rgba(0,0,0,1) 70%, rgba(0,0,0,0) 80%)",maskComposite:"intersect"},children:[(0,i.jsx)("div",{className:"absolute w-[1000px] h-[1000px] left-1/2 top-1/2 -mt-[500px] -ml-[500px] animate-[spin_12s_linear_infinite] opacity-90",style:{background:"conic-gradient(from 90deg, violet, blue, violet, blue, violet)"}}),(0,i.jsx)("div",{className:"absolute w-[500px] h-[500px] left-1/2 top-1/2 -mt-[250px] -ml-[250px] animate-[spin_12s_linear_infinite] direction-reverse opacity-90",style:{background:"conic-gradient(from 90deg, #ffffffff, #ffffffaa, #ffffffff, #ffffffaa, #ffffffff, #ffffffaa, #ffffffff)"}}),(0,i.jsx)("div",{className:"hidden absolute -left-1 -top-1 -right-1 -bottom-1 shadow-[inset_0px_0px_18px_32px_#fff]"})]})}),t]},"glow-holder")},E={default:"v0qVmZicsiE9MgxbXBJ0"},D=(0,h.createContext)(null),A=(0,d.default)(()=>Promise.resolve().then(a.bind(a,36474)),{loadableGenerated:{webpack:()=>[36474]},ssr:!1}),T=()=>{let e=(0,h.useContext)(D);if(!e)throw Error("Support agent used outside of provider");return e},V=e=>"System message - content of the page has changed. Consider it for next response, but don't read this update and don't react to this contextual update. \nPage title: ".concat(document.title||"","\nURL: ").concat(window.location.href,"\nElements available on the page: \n").concat(Object.entries(e).map(e=>{let[t,a]=e;return"id: ".concat(t,", tagName: ").concat(a.element.tagName,", description: ").concat(a.description," ")}).join("\n")),I=e=>{let{children:t}=e;return(0,i.jsx)(m.AK,{children:(0,i.jsx)(M,{children:t})})},M=(0,c.Pi)(e=>{let{children:t}=e,a=(0,u.usePathname)(),[n,r]=(0,h.useState)(!1),[l,o]=(0,h.useState)(null),[c,d]=(0,h.useState)(null),p=(0,h.useRef)(),b=(0,u.useRouter)(),[y,j]=(0,h.useState)(!1),{getInteractiveElement:C}=(0,m.hk)(),{startSession:P,endSession:A,status:T,isSpeaking:I,getOutputVolume:M,sendContextualUpdate:L}=(0,s.s)({origin:"wss://api.elevenlabs.io"}),z={highlight:async e=>{(0,k.eN)(N.B_.support_call_client_tool_highlight,{elementId:e.elementId});let t=C(e.elementId);if(!t)return"element not found on page";{let e=t.getBoundingClientRect();o({y:e.top+window.scrollY,x:e.left+window.scrollX,width:e.width,height:e.height}),d({type:"action",text:"Highlight part of page"})}await new Promise(e=>setTimeout(e,3e3))},click:async e=>{let{elementId:t}=e;(0,k.eN)(N.B_.support_call_client_tool_interact,{elementId:t,interaction:"click"});let a=C(e.elementId);if(!a)return"element not found on page";if(a instanceof HTMLAnchorElement||a instanceof HTMLButtonElement){d({type:"action",text:"Clicking around..."});try{a.dispatchEvent(new MouseEvent("mousedown",{bubbles:!0,button:0})),a.dispatchEvent(new MouseEvent("mouseup",{bubbles:!0,button:0})),a.dispatchEvent(new MouseEvent("click",{bubbles:!0,button:0}))}catch(e){throw Error("Error dispatching event, React doesn't know about the click")}}},clear:async e=>{let{elementId:t}=e;(0,k.eN)(N.B_.support_call_client_tool_interact,{elementId:t,interaction:"clear"});let a=C(e.elementId);if(!a)return"element not found on page";(a instanceof HTMLInputElement||a instanceof HTMLTextAreaElement)&&(d({type:"action",text:"Clearing text"}),a.setValue(""))},get_value:async e=>{let{elementId:t}=e;(0,k.eN)(N.B_.support_call_client_tool_interact,{elementId:t,interaction:"setValue"});let a=C(e.elementId);return a?a.getValue?(d({type:"action",text:"Reading value..."}),a.getValue()):void 0:"element not found on page"},set_value:async e=>{let{elementId:t}=e;(0,k.eN)(N.B_.support_call_client_tool_interact,{elementId:t,interaction:"setValue"});let a=C(e.elementId);if(!a)return"element not found on page";if(a.setValue&&a.getValue){let t=a.getBoundingClientRect();o({y:t.top+window.scrollY,x:t.left+window.scrollX,width:t.width,height:t.height,quick:!0});let i=String(e.value);if(void 0===e.value)i="";else try{i=JSON.parse(i)}catch(e){}let s=a.getValue();if("string"==typeof i&&"string"==typeof s&&i.split(" ").length){let e=a.getBoundingClientRect();o({y:e.top+window.scrollY,x:e.left+window.scrollX,width:e.width,height:e.height,quick:!0}),d({type:"action",text:"Typing text..."}),""!==s&&(s+=" ",a.setValue(i)),await Promise.all([...i.split("").map((e,t)=>new Promise(i=>window.setTimeout(()=>{s+=e,a.setValue(s),i()},17*t)))])}else"number"==typeof i?(d({type:"action",text:"Setting value to "+i}),a.setValue(i)):"boolean"==typeof i&&(d({type:"action",text:"Setting value to ".concat(i?"enabled":"disabled")}),a.setValue(i));await new Promise(e=>setTimeout(e,200))}},go_to_route:async e=>{(0,k.eN)(N.B_.support_call_client_tool_navigate);let{route:t}=e;if(!t)return"Something went wrong";let a=v[t];if(d({type:"action",text:"Navigating to "+a.title}),!a)return"route not found";await new Promise(e=>setTimeout(()=>{b.push(a.url),e()},600))},show_documentation_link:e=>{(0,k.eN)(N.B_.support_call_client_tool_documentation);let{route:t}=e;if(!t)return"Something went wrong";let a=x[t];if(!a)return"route not found";d({type:"link",text:a.title,href:a.url})},show_support_link:()=>{var e,t;(0,k.eN)(N.B_.support_call_client_tool_support),d({type:"link",text:"Contact support",href:"https://help.elevenlabs.io/hc/en-us/requests/new?ticket_form_id=13145996177937".concat((null===(e=w.EA.value)||void 0===e?void 0:e.email)?"&tf_anonymous_requester_email=".concat(null===(t=w.EA.value)||void 0===t?void 0:t.email):"")})}},[R,F]=(0,h.useState)();(0,h.useEffect)(()=>{F(I?"Talk to interrupt":"Waiting for response")},[I]),(0,h.useEffect)(()=>(g._m.value&&(I?g._m.value.volume=.1:g._m.value.volume=1),()=>{g._m.value&&(g._m.value.volume=1)}),[I]),(0,h.useEffect)(()=>{"disconnected"===T?p.current=window.setTimeout(()=>{r(!1)},2e3):(p.current&&clearTimeout(p.current),r(!0),F("Talk to interrupt"))},[T]),(0,h.useEffect)(()=>{y&&m.rn.value&&setTimeout(()=>{L(V(m.rn.value))},500)},[m.rn.value,y,a]),(0,h.useEffect)(()=>{"connected"===T?setTimeout(()=>{j(!0)},3e3):j(!1)},[m.rn.value,T,a]);let B=(0,S.ah)(f.workspaceData.value);return(0,i.jsx)(D.Provider,{value:{callSupportAgent:async function(){var e,t,a,i,s,n,r,l,o,c;let d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"default",goal:"support"},u=E[(null==d?void 0:d.type)||"default"];(0,k.eN)(N.B_.support_call_triggered,{...d}),P({agentId:u,dynamicVariables:{firstName:"",tier:(null===(e=f.workspaceData.value)||void 0===e?void 0:e.subscription.tier)?"enterprise"===f.workspaceData.value.subscription.tier||"trial"===f.workspaceData.value.subscription.tier?"Enterprise":_.ZP[f.workspaceData.value.subscription.tier].name:"unknown",location:"".concat(null===(a=f.userData.value)||void 0===a?void 0:null===(t=a.geo_location)||void 0===t?void 0:t.city," ").concat(null===(s=f.userData.value)||void 0===s?void 0:null===(i=s.geo_location)||void 0===i?void 0:i.country)||"unknown",twoFactorAuthEnabled:(!!(null===(n=f.userData.value)||void 0===n?void 0:n.backup_code_hash)).toString(),maxSeats:(null===(r=f.workspaceData.value)||void 0===r?void 0:r.max_seats)||"unknown",accountCreatedDate:(null===(l=f.workspaceData.value)||void 0===l?void 0:l.created_at_unix)?new Date(1e3*f.workspaceData.value.created_at_unix).toISOString():"unknown",canUseProfessionalVoiceCloning:f.workspaceData.value?f.workspaceData.value.get_professional_voice_limit()>0?"true":"false":"unknown",currentCreditsUsage:B?"".concat(B[1]," ").concat(B[0]):"unknown",totalAvailableMonthlyCredits:(null===(o=f.workspaceData.value)||void 0===o?void 0:o.subscription.character_limit)||"unknown",nextCharacterResetDate:(null===(c=f.workspaceData.value)||void 0===c?void 0:c.subscription.next_character_limit_reset_unix)?new Date(1e3*f.workspaceData.value.subscription.next_character_limit_reset_unix).toISOString():"unknown",goal:d.goal||"support"},...d,clientTools:z})},callInProgress:"disconnected"!==T,show:n,endSession:A,getOutputVolume:M,connectionModeLabel:R,status:T,message:c,highlightedArea:l},children:t})}),L=()=>{let[e,t]=(0,h.useState)(null),[a,s]=(0,h.useState)(!1),[c,d]=(0,h.useState)(!1),u=(0,h.useRef)(),m=(0,h.useRef)(),{show:p,message:v,endSession:x,getOutputVolume:f,connectionModeLabel:g,status:w,highlightedArea:_}=T();(0,h.useEffect)(()=>{p&&d(!0)},[p]),(0,h.useEffect)(()=>{v&&(t(v),window.clearTimeout(u.current),u.current=window.setTimeout(()=>{t(()=>null)},"action"===v.type?3200:1e4))},[v]),(0,h.useEffect)(()=>{_&&(s(!0),window.clearTimeout(m.current),m.current=window.setTimeout(()=>{s(!1)},_.quick?1600:5e3))},[_]);let k=(null==e?void 0:e.type)==="link"?"a":"div";return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.M,{children:a&&_&&(0,i.jsx)(r.E.div,{className:(0,C.cn)("fixed rounded-[16px] z-[100] border-2 border-transparent pointer-events-none overflow-hidden animate-rotate shadow-gray-alpha-200 shadow-[0px_0px_0px_4000px]"),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{top:_.y-10,left:_.x-10,width:_.width+20,height:_.height+20}})}),(0,i.jsx)(r.E.div,{className:"fixed top-0 right-0 max-h-0 flex justify-center items-start z-[100] max-md:!w-full transition-[width] duration-150",style:{width:"calc(100% - var(--eleven-sidebar-width))"},children:(0,i.jsx)(r.E.div,{className:"relative stack justify-start",initial:{y:-100},animate:{y:p?14:-100,scale:1,rotateX:p?0:40},transition:{stiffness:300,damping:26,type:"spring"},children:(0,i.jsx)(P,{show:null!==e,children:(0,i.jsxs)(r.E.div,{initial:{width:240,borderTopLeftRadius:16,borderTopRightRadius:16,borderBottomLeftRadius:16,borderBottomRightRadius:16},animate:{width:e?320:240,borderTopLeftRadius:e?21:16,borderTopRightRadius:e?21:16,borderBottomLeftRadius:e?20:16,borderBottomRightRadius:e?20:16,boxShadow:"\n            0 2px 4px hsl(0deg 0% 0% / 0.075),\n            0 4px 8px hsl(0deg 0% 0% / 0.075),\n            0 12px 24px hsl(0deg 0% 0% / 0.075)\n            "},transition:{type:"spring",stiffness:e?200:300,damping:e?20:30},className:"relative w-[280px] py-2.5 pb-1.5 px-3.5 bg-background overflow-hidden",style:{boxShadow:"\n            0 2px 4px hsl(0deg 0% 0% / 0.075),\n            0 4px 8px hsl(0deg 0% 0% / 0.075),\n            0 12px 24px hsl(0deg 0% 0% / 0.075)\n            "},children:[(0,i.jsxs)("div",{className:"hstack items-center gap-1 pb-1",children:[(0,i.jsxs)("div",{className:"w-full stack justify-center items-start",children:[(0,i.jsx)(j.x,{size:"sm",color:"foreground",weight:"semi-bold",className:(0,C.cn)("truncate max-w-full"),children:"Calling assistant"}),(0,i.jsx)("div",{className:"w-full relative h-4 text-gray-alpha-950 font-medium",children:(0,i.jsx)(n.M,{initial:!1,children:"connected"===w?(0,i.jsx)(r.E.span,{initial:{y:6,opacity:0},animate:{y:0,opacity:1},className:"absolute max-w-full pr-1",children:(0,i.jsx)(j.x,{size:"xs",color:"subtle",weight:"medium",className:(0,C.cn)("truncate max-w-full"),children:g})},g):(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(r.E.span,{className:"absolute max-w-full pr-1",initial:{y:6,opacity:0},animate:{y:0,opacity:1},children:(0,i.jsx)(j.x,{size:"xs",color:"subtle",weight:"medium",className:(0,C.cn)("truncate max-w-full"),children:"Disconnected"})},"start-call")})})})]}),(0,i.jsx)("div",{className:"relative h-9 w-9 shrink-0 grow-0 bg-gray-alpha-50 rounded-full self-start [&_canvas]:w-full [&_canvas]:h-full",children:c&&(0,i.jsx)(A,{getInputVolume:()=>2*f(),getOutputVolume:()=>2*f(),colors:["#c665ff","#dec8e8"],resizeDebounce:0})}),(0,i.jsx)(y.h,{"aria-label":"End call",variant:"outline",className:(0,C.cn)("shrink-0 rounded-full h-9 w-9 disabled:opacity-50"),onClick:x,disabled:"disconnected"===w,children:(0,i.jsx)(b.Z,{color:"foreground",children:(0,i.jsx)(l.Z,{})})})]}),(0,i.jsx)(n.M,{children:e&&(0,i.jsx)(r.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{type:"spring",stiffness:e?240:200,damping:e?20:36},children:(0,i.jsx)(n.M,{mode:"popLayout",children:(0,i.jsx)(r.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,i.jsx)("div",{className:"pt-2 pb-0",children:(0,i.jsx)("div",{className:"pt-1 border-t flex",children:(0,i.jsxs)(k,{href:"link"===e.type?e.href:void 0,onClick:()=>{t(null)},target:"_blank",className:(0,C.cn)("grow hstack items-center justify-between gap-4 -mx-2 px-2 py-1 rounded-[14px] max-w-[calc(100%+1rem)]","link"===e.type&&"hover:bg-gray-alpha-100"),children:[(0,i.jsxs)("div",{className:"w-full stack max-w-[calc(100%-3rem)] truncate",children:[(0,i.jsx)(j.x,{size:"sm",color:"foreground",weight:"medium",className:(0,C.cn)("truncate max-w-full"),children:e.text}),"link"===e.type&&(0,i.jsx)(j.x,{size:"xs",color:"subtle",weight:"medium",className:(0,C.cn)("truncate max-w-full"),children:e.href})]}),"action"===e.type&&(0,i.jsx)(r.E.div,{className:"hstack gap-[3px] px-2.5",animate:{opacity:[1,0]},transition:{delay:3,duration:.4},children:[void 0,void 0,void 0].map((e,t)=>(0,i.jsx)(r.E.div,{animate:{y:[0,3,-3,0,0,0,0]},transition:{repeat:1/0,duration:1.8,delay:.2*t},className:"w-1 h-1 bg-gray-alpha-800 rounded-full"},t))}),"link"===e.type&&(0,i.jsx)(r.E.div,{className:"flex px-2.5",animate:{opacity:[0,1]},transition:{delay:.2,duration:.3},children:(0,i.jsx)(o.Z,{className:"w-4 h-4"})})]})})})},e.text)})})})]},"inner")})})})]})}},14360:function(e,t,a){"use strict";a.d(t,{Gj:function(){return h},Gp:function(){return o},J6:function(){return c},JS:function(){return u},MT:function(){return m},Tm:function(){return n},ZM:function(){return p},Zv:function(){return v},ah:function(){return x},cN:function(){return l},eL:function(){return f},h2:function(){return r},sy:function(){return d}});var i=a(95972),s=a(1851);function n(){return(0,i.dl)("conversational_ai_enable_tools")}function r(){return(0,i.dl)("convai_play_dtmf_tone")}function l(){return(0,i.dl)("conversational_ai_enable_custom_llm")}function o(){return(0,i.dl)("convai_use_streamable_http.")}function c(){return(0,i.dl)("conversational_ai_enable_scribe")}function d(){return(0,i.dl)("conversational_ai_enable_workflows")}function u(){var e;return(0,i.dl)("conversational_ai_enable_integrations")&&!(null===(e=s.workspaceData.value)||void 0===e?void 0:e.subscription.force_logging_disabled)}function h(){return(0,i.dl)("use_convai_new")}function m(){return(0,i.dl)("convai_webrtc_eleven")}function p(){return(0,i.dl)("convai_webrtc_conversational_ai")}function v(){return(0,i.dl)("convai_webrtc_public_pages")}function x(){return(0,i.dl)("convai_webrtc_playground")}function f(){return(0,i.dl)("convai_unit_tests")}},88084:function(e,t,a){"use strict";a.d(t,{V:function(){return d}});var i=a(68088),s=a(19803);a(9506);var n=a(84451),r=a(4735),l=a(11521),o=a(96162),c=a(60189);let d=e=>{var t,a,d,u;let{className:h,size:m="md"}=e,{callSupportAgent:p,callInProgress:v}=(0,n.o)();return(0,i.jsxs)("div",{className:(0,c.cn)("hstack items-center gap-3",h),children:["md"===m&&(0,i.jsx)(l.x,{weight:"medium",size:"sm",className:"text-gray-alpha-950",children:"Have a question?"}),(0,i.jsxs)(r.Button,{size:m,variant:"outline",className:(0,c.cn)("group relative hstack items-center gap-1.5 h-10 ps-2.5","sm"===m&&"h-8 ps-2 w-full"),disabled:v,onClick:()=>{p()},children:[(0,i.jsxs)("div",{className:"hstack",children:[(0,i.jsx)("div",{className:"rounded-full w-5 h-5 min-w-5 min-h-5 overflow-hidden bg-gray-solid-100 shrink-0",children:(0,i.jsx)(s.default,{src:"/app_assets/_next/static/media/el-orb.13ecf279.png",width:20,height:20,alt:"Ask El"})}),(null===(t=o.EA.value)||void 0===t?void 0:t.photoURL)&&(null===(a=o.EA.value)||void 0===a?void 0:a.displayName)&&(0,i.jsx)("div",{className:"rounded-full w-5 h-5 min-w-5 min-h-5 overflow-hidden bg-gray-100 -ml-2 border-2 border-background shrink-0",children:(0,i.jsx)(s.default,{width:20,height:20,src:o.EA.value.photoURL,alt:(null===(d=o.EA.value)||void 0===d?void 0:d.displayName)||(null===(u=o.EA.value)||void 0===u?void 0:u.email)||""})})]}),(0,i.jsx)("div",{className:"mr-1",children:"Talk to El"})]})]})}},19613:function(e,t,a){"use strict";a.d(t,{y:function(){return r}});var i=a(30487),s=a(1851),n=a(52888);let r=function(){var e,t;let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"@me",[r]=(0,n.$)(s.userData),l=!!(null==r?void 0:r.is_producer),{data:o,isFetching:c,isError:d}=(0,i.AC_)({pathParams:{userId:a}},{refetchOnWindowFocus:!1,enabled:l});if(!l||d||c)return{isProducer:!1,producerProfile:void 0,isTeamLead:!1};let u=null!==(t=null==o?void 0:null===(e=o.teams)||void 0===e?void 0:e.some(e=>["leader","owner"].includes(e.role)))&&void 0!==t&&t;return{isProducer:l,producerProfile:o,isTeamLead:u}}},34477:function(e,t,a){"use strict";a.d(t,{Cd:function(){return c},X:function(){return d},bZ:function(){return o}});var i=a(68088),s=a(73886),n=a(9506),r=a(60189);let l=(0,s.j)("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),o=n.forwardRef((e,t)=>{let{className:a,variant:s,...n}=e;return(0,i.jsx)("div",{ref:t,role:"alert",className:(0,r.cn)(l({variant:s}),a),...n})});o.displayName="Alert";let c=n.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,i.jsx)("h5",{ref:t,className:(0,r.cn)("mb-1 font-medium leading-none tracking-tight",a),...s})});c.displayName="AlertTitle";let d=n.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,i.jsx)("div",{ref:t,className:(0,r.cn)("text-sm [&_p]:leading-relaxed",a),...s})});d.displayName="AlertDescription"},14661:function(e,t,a){"use strict";a.d(t,{Yd:function(){return l},Zy:function(){return c},ed:function(){return o},xE:function(){return r}});var i=a(93281),s=a(9506),n=a(39255);let r=()=>(0,i.v1)("tab",i.Oi.withOptions({history:"replace"})),l=()=>{let e=(0,n.Y6)("md"),[t]=r(),[a,i]=(0,s.useState)(!1),[l,o]=(0,s.useState)("history"===t);return(0,s.useEffect)(()=>{"history"===t&&o("history"===t)},[t]),{isVisible:e,voices:{isOpen:e&&a,setIsOpen:i},history:{isOpen:e&&l,setIsOpen:o}}},o=(0,s.createContext)(null),c=()=>(0,n.f7)(o)},95535:function(e,t,a){"use strict";a.d(t,{y:function(){return E}});var i=a(17024),s=a(68088),n=a(4111),r=a(40534),l=a(30395),o=a(5479),c=a(81999),d=a(95972),u=a(9506),h=a(41920),m=a(99748),p=a(26090),v=a(75349),x=a(55205),f=a(49845),g=a(3030),b=a(11521),y=a(63415),j=a(85753),w=a(70554),_=a(60189),k=a(54389),N=a(39255),C=a(77095);async function S(e,t){return new Promise(a=>{e.addEventListener(t,a,{once:!0})})}class P{static async create(e,t){var a;let i=null!==(a=e.headers.get("content-type"))&&void 0!==a?a:"audio/mpeg";if(!t)return new P(i,await e.blob());{if(!e.body)throw Error("Unreachable: No response body");let t=new P(i),a=e.body.getReader();return(async()=>{for await(let e of(0,w.JX)(a))await t.appendBuffer(e);await t.flush()})(),t}}async appendToMediaSource(e){var t;this.sourceBuffer&&(null===(t=this._mediaSource)||void 0===t?void 0:t.readyState)==="open"&&(await this.bufferLoadedInMediaSource,this.sourceBuffer.updating&&await S(this.sourceBuffer,"updateend"),this.sourceBuffer.appendBuffer(e),await S(this.sourceBuffer,"updateend"),this.streaming||this._mediaSource.endOfStream())}async appendBuffer(e){this.buffer=[...this.buffer,e],await this.appendToMediaSource(e)}get streaming(){return null===this.blob}get mediaSource(){if(!this.blob)return this._mediaSource}async flush(){var e,t,a;await this.bufferLoadedInMediaSource,this.blob=new Blob(this.buffer,{type:this.contentType}),this.buffer=[],(null===(e=this.mediaSource)||void 0===e?void 0:e.readyState)==="open"&&((null===(t=this.sourceBuffer)||void 0===t?void 0:t.updating)&&await S(this.sourceBuffer,"updateend"),null===(a=this._mediaSource)||void 0===a||a.endOfStream())}constructor(e,t=null){(0,i._)(this,"contentType",void 0),(0,i._)(this,"blob",void 0),(0,i._)(this,"buffer",void 0),(0,i._)(this,"_mediaSource",void 0),(0,i._)(this,"sourceBuffer",void 0),(0,i._)(this,"bufferLoadedInMediaSource",void 0),this.contentType=e,this.blob=t,this.buffer=[],this._mediaSource=null,this.bufferLoadedInMediaSource=null,"MediaSource"in window&&(this._mediaSource=new MediaSource,this._mediaSource.addEventListener("sourceopen",async()=>{!this.sourceBuffer&&this._mediaSource&&(this.sourceBuffer=this._mediaSource.addSourceBuffer(this.contentType),this.bufferLoadedInMediaSource=(async()=>{if(!this.sourceBuffer)return;let e=this.buffer.length;for(let t=0;t<e;t++){let e=this.buffer[t];this.sourceBuffer.appendBuffer(e),await S(this.sourceBuffer,"updateend")}})())}),this._mediaSource.addEventListener("sourceclose",(0,o.aD)(()=>{this.sourceBuffer=void 0,this.bufferLoadedInMediaSource=null}))),(0,o.rC)(this,{buffer:o.LO,blob:o.LO,streaming:o.Fl,mediaSource:o.Fl,appendBuffer:o.aD,flush:o.aD})}}let E=(0,o.ky)({isLoading:!1,choices:null,preference:null,audioInfo:null,playhead:o.LO.map(),get isVisible(){return this.isLoading||!!this.choices},async load(e,t,a){this.isLoading=!0,this.audioInfo=t,this.preference=null,this.choices=await Promise.all(e.map(async(e,t)=>{var i,s;return{id:null!==(i=e.headers.get("request-id"))&&void 0!==i?i:"request-".concat(t),historyId:null!==(s=e.headers.get("history-item-id"))&&void 0!==s?s:"history-".concat(t),audio:await P.create(e,a),streaming:!0,code:0===t?"a":"b"}})),this.isLoading=!1},dismiss(){this.preference&&this.choices&&!(0,C.ko)()&&((0,y.eN)(j.B_.speech_synthesis_human_preference_tracked,{request_a_id:this.choices[0].id,request_b_id:this.choices[1].id,request_a_history_id:this.choices[0].historyId,request_b_history_id:this.choices[1].historyId,preference:this.preference.code}),(0,m.P)({url:"/v1/dialogue-preference",method:"POST",body:{request_a_id:this.choices[0].id,request_b_id:this.choices[1].id,preference:this.preference.code}}).catch()),this.choices=null,this.audioInfo=null,this.preference=null,this.playhead.clear()},setPreference(e){this.preference?this.preference!==e&&(this.preference=null):this.preference=e},setPlayhead(e,t){this.playhead.set(e,t)}}),D=(0,c.Pi)(e=>{let{audio:t,currentTime:a=0,duration:i=1,onSeek:n,onDurationChange:l}=e,o=(0,u.useRef)(null),[c,d]=(0,u.useState)(null),[h,m]=(0,u.useState)([]),[p,v]=(0,u.useState)(0);(0,N.yU)(o,e=>v(e.contentRect.width)),(0,u.useEffect)(()=>{let e=new AbortController;return(async()=>{let a=null;if(a=t.blob?await t.blob.arrayBuffer():(0,w.fB)(t.buffer).buffer)try{let t=new window.AudioContext,i=await t.decodeAudioData(a.slice(0));null==l||l(i.duration);let s=i.getChannelData(0);if(i.numberOfChannels>1){let e=i.getChannelData(0),t=i.getChannelData(1);s=e.map((e,a)=>(e+t[a])/2)}t.close(),e.signal.aborted||d(s)}catch(e){}})(),()=>e.abort()},[t.blob,t.buffer,d]),(0,u.useEffect)(()=>{c&&m(function(e,t){if(e.length<=t){let a=Array.from(e);for(;a.length<t;)a.push(0);return a}let a=Math.floor(e.length/t),i=[];for(let s=0;s<t;s++){let n=s*a,r=s===t-1?e.length:(s+1)*a,l=0;for(let t=n;t<r;t++){let a=Math.abs(e[t]);a>l&&(l=a)}i.push(l)}let s=Math.max(...i);return s>0?i.map(e=>e/s):i}(c,Math.max(Math.round(p/5-2),0)))},[c,p,m]);let x=e=>{if(!e.currentTarget.hasPointerCapture(e.pointerId)||!n||0===i)return;let t=e.currentTarget.getBoundingClientRect();n(Math.min(Math.max((e.clientX-t.left)/t.width,0),1)*i)},f=i>0?Math.round(a/i*h.length):0;return(0,s.jsx)(r.E.div,{ref:o,className:"flex items-center w-full h-full gap-0.5 justify-between cursor-pointer select-none",onPointerDown:e=>{try{e.currentTarget.setPointerCapture(e.pointerId)}catch(e){}x(e)},onPointerMove:x,onPointerUp:e=>{try{e.currentTarget.releasePointerCapture(e.pointerId),x(e)}catch(e){}},animate:{opacity:t.streaming?.4:1},transition:{duration:1.5,repeat:t.streaming?1/0:0,repeatType:"reverse"},children:h.map((e,t)=>(0,s.jsx)("div",{className:(0,_.cn)("rounded-full min-h-[3px] w-[3px]",t<f?"bg-foreground":"bg-gray-300"),style:{height:"".concat(100*Math.abs(e),"%"),transition:"height 0.5s, background-color 0.15s",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"}},t))})}),A=async(e,t)=>{var a;p._m.value&&(null===(a=p.Qu.value)||void 0===a?void 0:a.id)&&E.setPlayhead(p.Qu.value.id,p._m.value.currentTime);let i={...E.audioInfo,id:e.historyId,fileName:null,player:{...E.audioInfo.player,description:t},type:"text-to-speech"};if(e.audio.mediaSource?((0,p.Eb)(i,{allowDownload:!1}),p._m.value&&(p._m.value.src=URL.createObjectURL(e.audio.mediaSource))):e.audio.blob&&(0,p.GM)(await (0,k.sT)(e.audio.blob),i,{allowDownload:!1}),p._m.value){let t=E.playhead.get(e.historyId);t&&p._m.value.addEventListener("canplay",()=>{p._m.value&&(p._m.value.currentTime=t)},{once:!0})}},T=(0,c.Pi)(e=>{var t;let{title:a,generation:i,autoPlay:l=!1}=e,o=(null===(t=p.Qu.value)||void 0===t?void 0:t.id)===i.historyId,c=p.yA.value&&o,[m,w]=(0,u.useState)(0),[_,N]=(0,u.useState)(1),C=(0,d.dl)("tts-video-generation");(0,u.useEffect)(()=>{!c&&l&&A(i,a)},[l]),(0,u.useEffect)(()=>{if(c&&p._m.value){let e=window.setInterval(()=>{p._m.value&&(w(p._m.value.currentTime),Number.isFinite(p._m.value.duration)&&N(p._m.value.duration||1))},25);return()=>window.clearInterval(e)}},[c]);let S=async()=>{c?(p._m.value&&E.setPlayhead(i.historyId,p._m.value.currentTime),(0,p.pt)()):o?(p._m.value&&(p._m.value.ended||.1>Math.abs(p._m.value.currentTime-p._m.value.duration))&&(p._m.value.currentTime=0),(0,p.Sk)()):((0,y.eN)(j.B_.speech_synthesis_human_preference_played,{id:i.id,historyId:i.historyId,code:i.code}),await A(i,a))},[P,T]=(0,u.useState)(!1),[V,I]=(0,u.useState)(null),M=async()=>{i.historyId&&((0,y.eN)(j.B_.speech_synthesis_human_preference_share_clicked,{id:i.id,historyId:i.historyId,code:i.code}),I(await (0,h.$x)(i.historyId)),T(!0))};return(0,s.jsxs)("div",{className:"relative flex items-center gap-3 p-4 border border-gray-alpha-200 rounded-2xl",children:[V&&(0,s.jsx)(f.E7,{open:P,closeModal:()=>T(!1),historyItem:V}),(0,s.jsx)(b.x,{color:"subtle",weight:"medium",className:"absolute top-0 -translate-y-1/2 left-2 bg-background px-2 transition-colors duration-150",size:"xs",children:a}),(0,s.jsx)(g.h,{size:"sm",className:"rounded-full shrink-0","aria-label":"Play",variant:"primary",onClick:S,children:(0,s.jsx)(v.GH,{isPlaying:c,iconClassName:"w-3.5 h-3.5"})}),(0,s.jsx)("div",{className:"w-full h-full grow",children:(0,s.jsx)(D,{audio:i.audio,currentTime:m,duration:_,onSeek:e=>{o&&p._m.value&&(p._m.value.currentTime=e),w(e),E.setPlayhead(i.historyId,e)},onDurationChange:N})}),(0,s.jsxs)("div",{className:"flex justify-end items-center gap-1",children:[C&&(0,s.jsx)(r.E.div,{initial:{opacity:0},animate:{opacity:i.audio.streaming?0:[0,0,1]},children:(0,s.jsx)(g.h,{variant:"ghost",size:"sm",className:"shrink-0","aria-label":"Share",tooltip:i.audio.streaming?void 0:"Share",disabled:i.audio.streaming,onClick:M,children:(0,s.jsx)(f.fR,{className:"w-3.5 h-3.5"})})}),i.audio.streaming?(0,s.jsx)("div",{className:"w-8 h-8 shrink-0 inline-flex items-center justify-center",children:(0,s.jsx)(n.$,{w:"14px",h:"14px",thickness:"1.5px"})}):(0,s.jsx)(r.E.div,{initial:{opacity:0},animate:{opacity:[0,0,1]},children:(0,s.jsx)(g.h,{variant:"ghost",size:"sm",className:"shrink-0","aria-label":"Download",tooltip:"Download",onClick:()=>{var e,t;i.audio.blob&&(E.setPreference(i),(0,y.eN)(j.B_.speech_synthesis_human_preference_download,{id:i.id,historyId:i.historyId,code:i.code}),(0,k.lG)(new File([i.audio.blob],null!==(t=null===(e=E.audioInfo)||void 0===e?void 0:e.fileName)&&void 0!==t?t:"synthesized_audio.mp3",{type:i.audio.blob.type})))},children:(0,s.jsx)(x._8,{})})})]})]})}),V=(0,c.Pi)(()=>E.choices?(0,s.jsxs)(r.E.div,{className:"mb-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0},transition:{duration:.3},children:[(0,s.jsxs)("div",{className:"hstack w-full items-center gap-4",children:[(0,s.jsxs)("div",{className:"grow",children:[(0,s.jsx)(b.x,{weight:"medium",className:"md:ml-4",children:"Which generation do you prefer?"}),(0,s.jsx)(b.x,{color:"subtle",className:"md:ml-4 mt-0.5",children:(0,C.ko)()?"Your selection is not used to train our models":"Downloading your favorite generation helps us improve our model"})]}),(0,s.jsx)("div",{className:"flex md:hidden",children:(0,s.jsx)(g.h,{size:"sm",className:"shrink-0","aria-label":"Dismiss",variant:"outline",onClick:()=>E.dismiss(),children:(0,s.jsx)(l.Z,{})})})]}),(0,s.jsxs)("div",{className:"mt-5 sm:mt-6 grid @lg:grid-cols-2 gap-4",children:[(0,s.jsx)(T,{title:"Generation 1",generation:E.choices[0],autoPlay:!0}),(0,s.jsx)(T,{title:"Generation 2",generation:E.choices[1]})]})]}):null);t.Z=V},69201:function(e,t,a){"use strict";a.d(t,{p:function(){return l},t:function(){return r}});var i=a(68088),s=a(40534),n=a(9506);let r=(0,n.forwardRef)((e,t)=>(0,i.jsx)(s.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{opacity:{duration:.15},layout:{duration:.5,type:"spring",bounce:.15}},ref:t,...e}));r.displayName="FadeInOut";let l=(0,n.forwardRef)((e,t)=>(0,i.jsx)(s.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},ref:t,...e}));l.displayName="Unfold"},26249:function(e,t,a){"use strict";a.d(t,{Jx:function(){return x},d2:function(){return p},rS:function(){return g},zm:function(){return v}});var i=a(68088),s=a(80436),n=a(18743),r=a(40534),l=a(56559),o=a(81999),c=a(9506),d=a(3030),u=a(96474),h=a(60189),m=a(39255);function p(e){var t;let[a,i]=(0,c.useState)([]),[s,n]=(0,c.useState)("forward");return{navigate:(e,t)=>{i(a=>[...a,{key:e,context:t}]),n("forward")},back:()=>{i(e=>e.slice(0,-1)),n("backward")},exit:()=>{i([]),n("backward")},direction:s,activeSubmenu:null!==(t=a.at(-1))&&void 0!==t?t:null,history:a,submenus:e}}let v=(0,c.createContext)(null);function x(){return(0,m.f7)(v)}let f={variants:{enter:e=>({x:"forward"===e?70:-70,opacity:0}),center:{x:0,opacity:1,visibility:"visible"},exit:e=>({x:"forward"===e?-70:70,opacity:0,transitionEnd:{visibility:"hidden"}})},transition:{opacity:{duration:.15},x:{type:"spring",mass:.25,stiffness:100,damping:10}}},g=(0,o.Pi)(e=>{let{children:t,activeSubmenu:a,submenus:o,history:c,direction:m,className:p,back:v,exit:x}=e;return(0,i.jsx)("div",{className:"stack h-full",children:(0,i.jsx)("div",{className:"relative flex-1 min-h-0 overflow-hidden",children:(0,i.jsxs)(n.M,{initial:!1,custom:m,children:[null===a&&(0,i.jsx)(r.E.div,{className:(0,h.cn)("w-full h-full overflow-y-auto overflow-x-hidden stack gap-4 p-5",p),variants:f.variants,custom:m,initial:"enter",animate:"center",exit:"exit",transition:f.transition,children:t},"main"),(0,i.jsx)(s.Vq,{open:null!==a,modal:!1,children:(0,i.jsx)(n.M,{initial:!1,custom:m,children:c.map(e=>(0,i.jsx)(s.cZ,{asChild:!0,forceMount:!0,onEscapeKeyDown:v,children:(0,i.jsxs)(r.E.div,{className:"overlay w-full h-full overflow-auto stack gap-3 p-5 pt-1 md:pt-5 pb-0",layoutScroll:!0,variants:f.variants,custom:m,initial:"enter",animate:a===e?"center":"exit",exit:"exit",transition:f.transition,children:[(0,i.jsxs)("div",{className:"hstack gap-3 items-center",children:[(0,i.jsx)(d.h,{size:"xs",className:"rounded-md",onClick:()=>{var t,a;null===(t=(a=o[e.key]).onClose)||void 0===t||t.call(a,{context:e.context}),v()},"aria-label":"Back",elId:"exitSubmenu",elContext:e.key,children:(0,i.jsx)(l.Z,{})}),(0,i.jsx)(s.$N,{asChild:!0,children:(0,i.jsx)(u.Label,{children:o[e.key].title})})]}),o[e.key].content({exit:x,context:e.context})]})},e.key))})})]})})})})},37514:function(e,t,a){"use strict";a.d(t,{p:function(){return v}});var i=a(68088),s=a(4111),n=a(2618),r=a(81999),l=a(9506),o=a(64903),c=a(54995),d=a(1851),u=a(28994),h=a(4735),m=a(60493),p=a(73276);let v=(0,m.t)(!0),x=(0,m.t)(null),f=(0,r.Pi)(e=>{var t,a,r,m,f,g,b,y,j,w,_;let{voice:k,saveSettings:N,initialVoiceSettings:C,model:S=null}=e,P=(0,c.bd)("voiceSettingsSection"),{tabs:E,removeBackgroundNoise:D,setRemoveBackgroundNoise:A}=(0,o.h5)(),[T,V]=(0,l.useState)(!1),I="text-to-speech"===E.activeTabId?d.selectedModelTts:d.selectedModelSts,M=async()=>{let e=await o.pu;V(!0),x.value=e},L=async e=>{if(null===x.value)return;let t=await o.pu;V(!0),x.value={...x.value,[e]:t[e]}};return(0,l.useEffect)(()=>{T&&null!==x.value&&(N(x.value),V(!1))},[x.value,T]),(0,l.useEffect)(()=>{null!==C&&v.value&&(V(!1),x.value=C,v.value=!1)},[C,v.value]),(0,i.jsx)("div",{className:"stack h-full",ref:P,children:(0,i.jsx)("div",{className:"relative flex-1 min-h-0",children:I.value&&d.models.value&&C?(0,i.jsxs)("div",{className:"stack gap-8",children:["text-to-speech"===E.activeTabId&&!(0,p.CY)(null===(t=d.selectedModelTts.value)||void 0===t?void 0:t.model_id)&&(0,i.jsx)("div",{className:"w-full",children:(0,i.jsx)(u.Mw,{value:null!==(b=null===(a=x.value)||void 0===a?void 0:a.speed)&&void 0!==b?b:null,onValueChange:e=>{x.value&&(x.value={...x.value,speed:e})},onValueCommit:()=>{V(!0)},onReset:()=>L("speed"),disabled:null===k})}),(0,i.jsx)("div",{className:"w-full",children:(0,i.jsx)(u.X$,{value:null!==(y=null===(r=x.value)||void 0===r?void 0:r.stability)&&void 0!==y?y:null,onValueChange:e=>{x.value&&(x.value={...x.value,stability:e})},onValueCommit:()=>{V(!0)},onReset:()=>L("stability"),disabled:null===k})}),(0,i.jsx)("div",{className:"w-full",children:(0,i.jsx)(u.Tg,{value:null!==(j=null===(m=x.value)||void 0===m?void 0:m.similarity_boost)&&void 0!==j?j:null,onValueChange:e=>{x.value&&(x.value={...x.value,similarity_boost:e})},onValueCommit:()=>{V(!0)},onReset:()=>L("similarity_boost"),disabled:null===k})}),(null==S?void 0:S.can_use_style)&&null!==k&&(0,i.jsx)("div",{className:"w-full",children:(0,i.jsx)(u.XQ,{value:null!==(w=null===(f=x.value)||void 0===f?void 0:f.style)&&void 0!==w?w:null,onValueChange:e=>{x.value&&(x.value={...x.value,style:e})},onValueCommit:()=>{V(!0)},onReset:()=>L("style"),disabled:null===k})}),(0,i.jsxs)("div",{className:"stack mt-3 gap-1.5",children:["speech-to-speech"===E.activeTabId&&(0,i.jsx)("div",{children:(0,i.jsx)(u.nR,{value:D,onValueChange:A})}),(0,i.jsxs)("div",{className:"hstack justify-between items-center",children:[(0,i.jsx)("div",{children:(null==S?void 0:S.can_use_speaker_boost)&&null!==k&&(0,i.jsx)(u.CH,{value:null!==(_=null===(g=x.value)||void 0===g?void 0:g.use_speaker_boost)&&void 0!==_&&_,onValueChange:e=>{null!==x.value&&(x.value={...x.value,use_speaker_boost:e},V(!0))}})}),(0,i.jsx)("div",{children:(0,i.jsx)(h.Button,{elId:"resetVoiceSettings",disabled:null===k,variant:"ghost",onClick:M,className:"py-1.5 w-full",leftIcon:(0,i.jsx)(n.Z,{className:"!w-3.5 !h-3.5 text-gray-500"}),children:"Reset values"})})]})]})]}):(0,i.jsx)("div",{className:"center",children:(0,i.jsx)(s.$,{})})})})});t.Z=f},326:function(e,t,a){"use strict";a.d(t,{cV:function(){return b},f1:function(){return f},kK:function(){return y}});var i=a(68088),s=a(97135),n=a(81999),r=a(9506),l=a(30487),o=a(55205),c=a(4735),d=a(64755),u=a(84106),h=a(63415),m=a(85753),p=a(60189),v=a(83359),x=a(54534);let f=(0,r.forwardRef)((e,t)=>{let{children:a,className:s}=e,n=(0,r.useRef)(null),l=(0,r.useRef)(null),o=(0,r.useRef)(null),c=()=>{n.current&&(o.current=n.current.animate({opacity:[1,.5]},{duration:1e3,iterations:1/0,direction:"alternate",fill:"forwards"}))},d=async e=>{var t;l.current&&(await l.current.animate({opacity:[0,1]},{duration:500,fill:"forwards"}).finished,null===(t=o.current)||void 0===t||t.cancel(),e(),await l.current.animate({top:["-32px","100%"]},{duration:750,fill:"forwards"}).finished,await l.current.animate({opacity:[1,0]},{duration:500,fill:"forwards"}).finished,l.current.animate({top:["100%","-32px"]},{duration:0,fill:"forwards"}))};return(0,r.useImperativeHandle)(t,()=>({loadingStart:c,loadingEnd:()=>{var e;null===(e=o.current)||void 0===e||e.cancel()},start:d})),(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{ref:n,className:(0,p.cn)("relative overflow-hidden",s),children:[a,(0,i.jsx)("div",{ref:l,className:"absolute -inset-10 top-0 z-10 blur-xl bg-background opacity-0 pointer-events-none","aria-hidden":!0})]})})});f.displayName="DialogueEnhanceAnimation";let g=e=>e.filter(e=>!!e.text.trim()),b=()=>{let e=(0,x.N)();return(0,s.useIsMutating)({mutationKey:["speech-synthesis-dialogue-enhance"]})>0&&e},y=(0,n.Pi)(e=>{let{animationRef:t,...a}=e,[s,n]=(0,r.useState)(!1),p=(0,r.useRef)([]),f=(0,x.N)(),{isLoading:b,mutate:y}=(0,l.YUt)({mutationKey:["speech-synthesis-dialogue-enhance"],onMutate(){var e;n(!1),null===(e=t.current)||void 0===e||e.loadingStart()},async onSuccess(e){var a;f&&((0,h.eN)(m.B_.speech_synthesis_dialogue_enhance_completed),await (null===(a=t.current)||void 0===a?void 0:a.start(()=>{let t=g(v.OR.value);v.OR.value=e.enhanced_blocks.map((e,a)=>({...t[a],text:e}))})),n(!0))},onError(e){var a;null===(a=t.current)||void 0===a||a.loadingEnd(),429===e.status?(0,u.toast)("You've reached the maximum number of dialogue enhancements for today. Please try again tomorrow."):(0,u.toast)("Failed to enhance dialogue. Please try again or modify the prompt content.")}});return(0,r.useEffect)(()=>{n(!1)},[v.OR.value,n]),(0,i.jsxs)(d.J2,{open:s,children:[(0,i.jsx)(d.tW,{asChild:!0,children:(0,i.jsx)(c.Button,{loading:b,disabled:!v.fL.value,tooltip:"Adds audio tags to help guide delivery",leftIcon:(0,i.jsx)(o.Mp,{className:"!w-6"}),onClick:()=>{p.current=[...v.OR.value],y({body:{dialogue_blocks:g(v.OR.value).map(e=>e.text.trim())}})},...a,children:"Enhance (alpha)"})}),(0,i.jsx)(d.i9,{children:(0,i.jsxs)(d.yk,{side:"top",className:"p-2 flex gap-2 w-auto duration-200",children:[(0,i.jsx)(c.Button,{size:"sm",className:"px-6",disabled:b,onClick:()=>{(0,h.eN)(m.B_.speech_synthesis_dialogue_enhance_undo_clicked),v.OR.value=p.current,n(!1)},children:"Undo"}),(0,i.jsx)(c.Button,{size:"sm",className:"px-6",disabled:b,onClick:()=>{(0,h.eN)(m.B_.speech_synthesis_dialogue_enhance_keep_clicked),n(!1)},children:"Keep"})]})})]})})},82596:function(e,t,a){"use strict";a.d(t,{C:function(){return E},W:function(){return D}});var i=a(68088),s=a(15248),n=a(56742),r=a(59509),l=a(40534),o=a(18743),c=a(98780),d=a(30395),u=a(42454),h=a(81999),m=a(74508),p=a(4322),v=a(30487),x=a(1851),f=a(42032),g=a(4735),b=a(3030),y=a(52888),j=a(60189),w=a(64903),_=a(14661),k=a(26249),N=a(73276);let C=new s.Sy({appendTransaction:(e,t,a)=>{if(a.doc===t.doc)return;let i=a.tr;return a.doc.descendants((e,s,n,r)=>{if("dialogueNode"===e.type.name){var l,o,c,d;let n=e.attrs.voiceId,u=n;!n&&(u=(null===(o=t.doc.maybeChild(r))||void 0===o?void 0:null===(l=o.attrs)||void 0===l?void 0:l.voiceId)||(0,N.Pd)((0,N.SZ)(a.doc),s,null===(c=x.selectedVoice.value)||void 0===c?void 0:c.voice_id)),i.setNodeMarkup(s,void 0,{...e.attrs,voiceId:u,id:null!==(d=e.attrs.id)&&void 0!==d?d:(0,m.k$)()})}}),i}}),S=e=>{let{children:t,className:a,...s}=e;return(0,i.jsx)(g.Button,{variant:"outline",size:"sm",className:(0,j.cn)("justify-start text-sm overflow-hidden max-w-full",a),asChild:!0,...s,children:(0,i.jsx)(l.E.button,{initial:{opacity:0},animate:{opacity:1},style:{borderRadius:10},children:t})})},P=(0,h.Pi)(e=>{let{node:t,editor:a,getPos:s}=e,r=0===t.content.size,{voiceId:l,id:h}=t.attrs,m=(0,n.sZ)({editor:a,selector:e=>{var t;let{editor:a}=e;return(null===(t=a.state.doc.content.lastChild)||void 0===t?void 0:t.attrs.id)===h}}),p=(0,n.sZ)({editor:a,selector:e=>{let{editor:t}=e;return t.state.doc.content.childCount>=N.zj}}),v=(0,k.Jx)(),C=(0,_.Zy)(),{voice:P,isLoading:E,error:A}=D(t),[T]=(0,y.$)(w.r5),V=!!T.length,I=()=>{var e;a.chain().focus().setTextSelection(s()+1).run(),C.isVisible?C.voices.isOpen||C.voices.setIsOpen(!0):(null===(e=v.activeSubmenu)||void 0===e?void 0:e.key)!=="voice"&&v.navigate("voice")},M=(0,n.sZ)({editor:a,selector:e=>{let{editor:t}=e;return t.state.doc.content.childCount>1}});return(0,i.jsxs)(n.T5,{children:[(0,i.jsxs)("div",{className:(0,j.cn)("relative group-first/block:pt-0 py-3",V&&"opacity-50 grayscale"),children:[(0,i.jsx)("div",{className:"select-none flex",contentEditable:!1,children:(0,i.jsxs)(o.M,{initial:!1,mode:"wait",children:[!x.selectedVoice.value||E?(0,i.jsx)(S,{onClick:I,children:"Loading"},"loading"):l?!P||A?(0,i.jsxs)(S,{className:"text-error gap-1.5",onClick:I,children:[(0,i.jsx)(c.Z,{className:"w-3.5 h-3.5"}),A?"Error fetching voice":"Voice not found"]},"voice-not-found"):(0,i.jsxs)(S,{onClick:I,className:"gap-1.5",children:[(0,i.jsx)(f.qE,{id:P.voice_id,name:P.name,size:"0.875rem",imgSize:32}),(0,i.jsx)("span",{className:"truncate",children:P.name})]},P.voice_id):(0,i.jsx)(S,{onClick:I,children:"Select voice"},"select-voice"),M?(0,i.jsx)(b.h,{"aria-label":"Remove speaker",onClick:()=>{a.chain().deleteRange({from:Math.max(0,s()-1),to:s()+t.nodeSize-1}).focus(Math.max(0,s()-1)).run()},tooltip:"Remove speaker",size:"sm",variant:"ghost",className:"ml-auto md:opacity-0 group-hover/block:opacity-100 focus-within:opacity-100 transition-opacity duration-150",children:(0,i.jsx)(d.Z,{})}):null]})}),(0,i.jsxs)("div",{className:"mt-3 relative",children:[(0,i.jsx)("div",{className:(0,j.cn)("pointer-events-none select-none text-muted-foreground",r?"":"absolute inset-0 opacity-0"),contentEditable:!1,"aria-hidden":!0,children:"Start typing here or paste any text you want to turn into lifelike speech..."}),(0,i.jsx)("div",{className:r?"absolute inset-0":void 0,"data-testid":"tts-editor",children:(0,i.jsx)(n.ms,{})})]})]}),(0,i.jsxs)("div",{className:(0,j.cn)("group relative flex items-center select-none h-8",V&&"opacity-0"),contentEditable:!1,children:[(0,i.jsx)("hr",{className:"w-full border-gray-alpha-100"}),(0,i.jsx)("div",{className:(0,j.cn)("absolute left-1/2 -translate-x-1/2 bg-background px-2 transition-opacity duration-150",{"md:opacity-0 group-hover:opacity-100 focus-within:opacity-100":!m}),children:(0,i.jsx)(g.Button,{variant:"ghost",className:"h-8",leftIcon:(0,i.jsx)(u.Z,{}),onClick:()=>a.chain().addNewBlock(s()).focus().run(),tooltip:p?"Maximum limit of dialogues reached":"Shift+Enter",tooltipProps:{openDelay:p?void 0:1e3},disabled:p,children:"Add speaker"})})]})]})}),E=r.NB.create({name:"dialogueNode",group:"block",content:"inline*",addAttributes:()=>({type:{default:"div",parseHTML:e=>e.tagName.toLowerCase(),rendered:!0},id:{default:null,rendered:!1},voiceId:{default:null,parseHTML:e=>e.getAttribute("data-voiceId"),renderHTML:e=>({"data-voiceId":e.voiceId})}}),addProseMirrorPlugins:()=>[C],addCommands(){return{addNewBlock:e=>t=>{var a,i;let{dispatch:s,state:n,tr:r}=t,l=n.doc.content.size,o=null;if("cursor"===e){let{$from:e}=n.selection;try{l=e.after(),o=e.node()}catch(e){}}else o=n.doc.nodeAt(e),l=e+(null!==(i=null==o?void 0:o.content.size)&&void 0!==i?i:0)+1;if(!o)return!1;let c=(0,N.Pd)((0,N.SZ)(n.doc),l,null===(a=x.selectedVoice.value)||void 0===a?void 0:a.voice_id),d=this.type.create({type:"div",id:(0,m.k$)(),voiceId:c});return!!d&&(r.insert(l,d),r.setSelection(n.selection.constructor.near(r.doc.resolve(l+1))),null==s||s(r),!0)},updateNullVoiceIds:e=>t=>{let{tr:a,dispatch:i}=t,{doc:s}=a,n=!1;return s.descendants((t,i)=>{if("dialogueNode"===t.type.name&&!t.attrs.voiceId){var s;n=!0,a.setNodeMarkup(i,void 0,{...t.attrs,id:null!==(s=t.attrs.id)&&void 0!==s?s:(0,m.k$)(),voiceId:e})}}),n&&(null==i||i(a)),n}}},addKeyboardShortcuts(){return{"Shift-Enter":()=>(this.editor.commands.addNewBlock("cursor"),!0)}},renderHTML(e){let{node:t,HTMLAttributes:a}=e;return[t.attrs.type,(0,r.P1)(a),0]},addNodeView:()=>(0,n.fW)(P,{className:"group/block"})}),D=e=>{let t=null==e?void 0:e.attrs.voiceId,{voices:a,isLoading:i}=(0,w.ht)({enabled:!!t}),s=a.find(e=>e.voice_id===t),{data:n,fetchStatus:r,isLoading:l,error:o}=(0,v.qt5)({pathParams:{voiceId:t}},{enabled:!!t&&!s&&a.length>0&&!i,refetchOnWindowFocus:!1,retryOnMount:!1,retry:(e,t)=>(!(t instanceof p.oo)||"voice_not_found"!==t.errorType)&&e<3});return{isLoading:i||l&&"fetching"===r,voice:null!=s?s:n,error:o instanceof p.oo&&"voice_not_found"===o.errorType?void 0:o}}},85456:function(e,t,a){"use strict";var i=a(59509),s=a(15248),n=a(88734),r=a(60189);let l=i.hj.create({name:"styledAudioTags",addOptions:()=>({audioTagClassName:""}),addProseMirrorPlugins(){return[new s.Sy({key:new s.H$("styledAudioTags"),props:{decorations:e=>{let t=[],a=e.doc;return a.descendants((e,a)=>{if(e.isText&&e.text){let i=e.text,s=/\*([^*\n]*?)\*/g,l=null;for(;null!==(l=s.exec(i));){let e=a+l.index,i=a+l.index+l[0].length;t.push(n.p.inline(e,i,{class:"font-semibold"}))}let o=/\[([^[\]\n]*?)\]/g;for(;null!==(l=o.exec(i));){let e=a+l.index,i=a+l.index+l[0].length;t.push(n.p.inline(e,i,{class:(0,r.cn)("inter font-medium text-[15px] py-[1px] px-1 border border-[#B743C6] border-opacity-20 rounded-lg whitespace-nowrap text-[#B743C6]",this.options.audioTagClassName)}))}}}),n.EH.create(a,t)}}})]},addGlobalAttributes:()=>[{types:["textStyle"],attributes:{class:{default:null,parseHTML:e=>e.getAttribute("class"),renderHTML:e=>e.class?{class:e.class}:{}}}}]});t.Z=l},54534:function(e,t,a){"use strict";a.d(t,{N:function(){return N},p:function(){return S}});var i=a(7484),s=a(38869),n=a(68606),r=a(96202),l=a(90206),o=a(15248),c=a(56742),d=a(9506),u=a(74508),h=a(1851),m=a(52888),p=a(83359),v=a(64903),x=a(59509),f=a(84106),g=a(73276);let b=x.hj.create({name:"dialogueBlockLimit",addProseMirrorPlugins(){let e;return[new o.Sy({appendTransaction:(t,a,i)=>{let s=0,n=[];if(i.doc.descendants((e,t)=>{"dialogueNode"===e.type.name&&(s++,n.push(t))}),s<=g.zj)return null;let r=i.tr,l=n.slice(g.zj);for(let e of(l.sort((e,t)=>t-e),l)){let t=i.doc.nodeAt(e);t&&r.delete(e,e+t.nodeSize)}return f.toast.dismiss(e),e=f.toast.warning("You have reached the maximum number of dialogues in this speech."),r}})]}});var y=a(81158);let j=e=>(0,g.c7)(e,!1).map(e=>e.text).join("\n").length,w=x.hj.create({name:"dialogueCharacterLimit",addOptions:()=>({onExceed:()=>{}}),addProseMirrorPlugins(){let e;return[new o.Sy({key:new o.H$("dialogueCharacterLimit"),appendTransaction:(t,a,i)=>{if(j(i.doc)<=g.bu)return;this.options.onExceed(),f.toast.dismiss(e),e=f.toast.error("You can only have up to ".concat((0,y.W)(g.bu)," characters in the speech."));let s=(0,g.c7)(i.doc,!1),n=[],r=0;for(let e=0;e<s.length;e++){let t=s[e];if(t.text.length+r>g.bu){let e=t.text.slice(0,Math.max(g.bu-r,0));0!==e.length&&n.push({...t,text:e});break}r+=t.text.length+1,n.push(t)}let l=i.schema.nodeFromJSON((0,g.pp)(n));return i.tr.replaceWith(0,i.doc.content.size,l.content)}})]}});var _=a(82596),k=a(85456);let N=()=>{var e;let{tabs:t}=(0,v.h5)();return(0,g.CY)(null===(e=h.selectedModelTts.value)||void 0===e?void 0:e.model_id)&&"text-to-speech"===t.activeTabId},C={handlePaste:(e,t)=>{var a,i;let{schema:s}=e.state,n=null===(a=t.clipboardData)||void 0===a?void 0:a.getData("text/html");if(!n)return!1;let r=e=>{let t="";return e.childNodes.forEach(e=>{e.nodeType===window.Node.TEXT_NODE?t+=e.textContent:e.nodeType===window.Node.ELEMENT_NODE&&"br"===e.nodeName.toLowerCase()&&(t+="\n")}),t},l=Array.from(new DOMParser().parseFromString(n,"text/html").querySelectorAll("[data-voiceId]")),o=[];if(l.length>1)o=l.map(e=>{var t;let a=r(e).replace(/\n+$/,"");return a.trim()?s.nodes.dialogueNode.create({id:(0,u.k$)(),voiceId:null!==(t=e.getAttribute("data-voiceId"))&&void 0!==t?t:null},s.text(a)):null}).filter(e=>null!==e);else{let e=null===(i=t.clipboardData)||void 0===i?void 0:i.getData("text/plain");if(!e)return!1;o=(0,g.Y7)(e).map(e=>s.nodeFromJSON(e))}if(o.length){let t=e.state.tr;return t.setMeta("paste",!0),o.forEach(e=>t.replaceSelectionWith(e)),e.dispatch(t),!0}return!1},clipboardTextParser(e,t,a,i){let{schema:s}=i.state,n=(0,g.Y7)(e).map(e=>s.nodeFromJSON(e));return new l.p2(l.HY.fromArray(n),0,0)},clipboardTextSerializer:e=>(0,g.eR)(e.content)},S=()=>{let[e]=(0,m.$)(v.r5),t=!!e.length,a=(0,c.jE)({extensions:[i.Z.extend({content:"dialogueNode+"}),_.C,r.Z,s.Z.extend({addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.setHardBreak()}}}),n.Z,b,w,k.Z],immediatelyRender:!1,content:(0,g.pp)(t?e:p.OR.value),editorProps:{attributes:{class:"stack overflow-auto h-full p-0 py-4 xl:py-12 2xl:py-20 focus-visible:outline-none text-md",style:"padding-inline: var(--textarea-px);"},...C},onUpdate:e=>{let{editor:t}=e,a=(0,g.c7)(t.state.doc),i=(0,g.BL)(a);p.OR.value=a,p.fL.value=i}}),l=N(),u=(0,c.sZ)({editor:a,selector:e=>{let{editor:t}=e;return l&&t?t.state.selection.$head.parent:null}});return(0,d.useEffect)(()=>{h.selectedVoice.value&&a&&a.chain().updateNullVoiceIds(h.selectedVoice.value.voice_id).run()},[h.selectedVoice.value,a]),(0,d.useEffect)(()=>{localStorage.setItem(g.yF,JSON.stringify(p.OR.value))},[p.OR.value]),(0,d.useEffect)(()=>{var e;!l||!a||p.OR.value.length>1&&(0,g.BL)(p.OR.value)||a.commands.setContent((0,g.pp)([{text:p.fL.value,voice_id:null===(e=h.selectedVoice.value)||void 0===e?void 0:e.voice_id}]),!0)},[l,a]),(0,d.useEffect)(()=>{if(!a)return;if(t){a.commands.setContent((0,g.pp)(e),!1);let t=o.yy.create({doc:a.state.doc,plugins:a.state.plugins,schema:a.state.schema});a.view.updateState(t);return}a.commands.setContent((0,g.pp)(p.OR.value),!1);let i=o.yy.create({doc:a.state.doc,plugins:a.state.plugins,schema:a.state.schema});a.view.updateState(i)},[e]),(0,d.useEffect)(()=>{if(!l||!a)return;let e=(0,g.c7)(a.state.doc);(0,g.c_)(e)!==(0,g.c_)(p.OR.value)&&a.commands.setContent((0,g.pp)(p.OR.value))},[l,a,p.OR.value]),(0,d.useEffect)(()=>{let e=(0,g.BL)(p.OR.value);l&&e&&e!==p.fL.value&&(p.fL.value=e)},[l,p.OR.value]),{editor:l?a:null,activeDialogueBlock:u}}},64903:function(e,t,a){"use strict";a.d(t,{S5:function(){return eh},js:function(){return ek},pu:function(){return ef},Ek:function(){return ep},V_:function(){return em},r5:function(){return eu},PB:function(){return ed},ht:function(){return ej},AY:function(){return eb},Eg:function(){return eg},h5:function(){return e_}});var i=a(68088),s=a(84909),n=a(81999),r=a(23431),l=a(9506),o=a(82374),c=a(74508),d=a(17024),u=a(95535),h=a(73276),m=a(5479),p=a(77095);let v=e=>"text-to-speech"===e.type?"text:".concat(e.text,",voice_id:").concat(e.voice_id,",model_id:").concat(e.model_id):"text-to-speech-v3"===e.type?"dialogue:".concat((0,h.c_)(e.dialogue),",model_id:").concat(e.model_id):"filename:".concat(e.filename,",filesize:").concat(e.filesize,",voice_id:").concat(e.voice_id,",model_id:").concat(e.model_id,",remove_background_noise:").concat(e.removeBackgroundNoise),x=()=>(0,p.ko)()?1:3,f=()=>(0,p.ko)()?2:6;class g{static get(e){let t=v(e);return this.instances.has(t)||this.instances.set(t,new g(t,"text-to-speech-v3"===e.type?f():x())),this.instances.get(t)}add(e){this.generations=[...this.generations,e]}clear(){this.generations=[]}get canRegenerate(){return this.generations.length<this.maxGenerations&&this.generations.length>0&&this.generations[0].timestamp>Date.now()-72e5}get generationsRemaining(){return 6===this.maxGenerations?Math.floor((this.maxGenerations-this.generations.length)/2):this.maxGenerations-this.generations.length}get lastGeneration(){return this.generations[this.generations.length-1]}constructor(e,t=x()){(0,d._)(this,"key",void 0),(0,d._)(this,"generations",[]),(0,d._)(this,"maxGenerations",void 0),this.key=e,this.maxGenerations=t,(0,m.rC)(this,{generations:m.LO})}}(0,d._)(g,"instances",m.LO.map());var b=a(1851),y=a(60358),j=a(71037),w=a(26090),_=a(23636),k=a(26397),N=a(96162),C=a(63415),S=a(85753),P=a(70554),E=a(54389),D=a(37456);let A=e=>{let t={};return null!=e&&(t.output_format=e),t};class T{buildUrl(){let{canStream:e,voiceId:t,outputFormat:a}=this.params,i=e?"".concat(N.LB,"/v1/text-to-speech/").concat(t,"/stream"):"".concat(N.LB,"/v1/text-to-speech/").concat(t),s=A(a);return"".concat(i).concat((0,D.I)(s))}async createRequest(){let{config:e,modelId:t,headers:a}=this.params;return a["Content-Type"]="application/json",new Request(this.buildUrl(),{method:"POST",headers:a,body:JSON.stringify({text:e.text.trim(),model_id:t})})}getGenerationKey(){let{config:e,modelId:t,voiceId:a}=this.params;return{type:"text-to-speech",text:e.text.trim(),model_id:t,voice_id:a}}async updateAudioInfo(){let{config:e,audioInfo:t}=this.params;t&&(t.extra={...null==t?void 0:t.extra,text:e.text.trim()})}constructor(e){(0,d._)(this,"params",void 0),this.params=e}}class V{buildUrl(){let{canStream:e,outputFormat:t}=this.params,a=e?"".concat(N.LB,"/v1/text-to-dialogue/stream"):"".concat(N.LB,"/v1/text-to-dialogue"),i=A(t);return"".concat(a).concat((0,D.I)(i))}async createRequest(){let{config:e,modelId:t,modelSettings:a,headers:i}=this.params;i["Content-Type"]="application/json";let s=this.buildUrl();return a&&"number"==typeof a.stability&&(a.stability=Math.round(2*a.stability)/2),new Request(s,{method:"POST",headers:i,body:JSON.stringify({inputs:e.dialogue.filter(e=>e.text.trim()),model_id:t,settings:a})})}getGenerationKey(){let{config:e,modelId:t}=this.params;return{type:"text-to-speech-v3",dialogue:e.dialogue.filter(e=>e.text.trim()),model_id:t}}async updateAudioInfo(){let{config:e,audioInfo:t}=this.params;t&&(t.player.voice_id=void 0,t.player.voice_name=void 0,t.extra={...null==t?void 0:t.extra,text:(0,h.BL)(e.dialogue)})}constructor(e){(0,d._)(this,"params",void 0),this.params=e}}class I{buildUrl(){let{canStream:e,voiceId:t,outputFormat:a}=this.params,i=e?"".concat(N.LB,"/v1/speech-to-speech/").concat(t,"/stream"):"".concat(N.LB,"/v1/speech-to-speech/").concat(t),s=A(a);return"".concat(i).concat((0,D.I)(s))}async createRequest(){let{config:e,modelId:t,removeBackgroundNoise:a,outputFormat:i,headers:s}=this.params,n=this.buildUrl(),r=new FormData;return r.append("audio",e.referenceAudio),r.append("model_id",t),r.append("remove_background_noise",a.toString()),"string"==typeof i&&i&&r.append("output_format",i),new Request(n,{method:"POST",headers:s,body:r})}getGenerationKey(){let{config:e,modelId:t,voiceId:a,removeBackgroundNoise:i}=this.params;return{type:"speech-to-speech",filename:e.referenceAudio.name,filesize:e.referenceAudio.size,model_id:t,voice_id:a,removeBackgroundNoise:i}}async updateAudioInfo(){let{config:e,audioInfo:t}=this.params;if(!t||!e.referenceAudio)return;let a=e.referenceAudio,i=1e3*Math.floor(await (0,P.eM)(a));t.player={...null==t?void 0:t.player,duration:i}}constructor(e){(0,d._)(this,"params",void 0),this.params=e}}let M=(e,t)=>{let a=t.headers.get("generation-info")||null;a&&((Number(t.headers.get("regeneration-count"))||0)+1>=e.maxGenerations?e.clear():e.add({generation_info:a,timestamp:Date.now()}))},L=async e=>{var t,a;let s,{audioEl:n,config:r,voiceId:l,modelId:o,onContentStart:c=null,audioInfo:d=null,onChunkReceive:h=null,latency:m=null,modelSettings:v,outputFormat:x=null,removeBackgroundNoise:f=!1}=e,D=(0,P.YS)("audio/mpeg"),A={},L=await (0,N.hP)();L&&(A.Authorization="Bearer ".concat(L)),s="text-to-speech-v3"===r.type?new V({config:r,modelId:o,audioInfo:d,modelSettings:v,outputFormat:x,canStream:D,headers:A}):"text-to-speech"===r.type?new T({config:r,voiceId:l,modelId:o,audioInfo:d,outputFormat:x,canStream:D,headers:A}):new I({config:r,voiceId:l,modelId:o,audioInfo:d,outputFormat:x,canStream:D,removeBackgroundNoise:f,headers:A}),await (null===(t=s.updateAudioInfo)||void 0===t?void 0:t.call(s));let z=s.getGenerationKey(),R=g.get(z);u.y.dismiss();try{let e=await s.createRequest();R.canRegenerate&&!(0,p.ko)()&&e.headers.set("regenerate-from-last-generation-info",null===(a=R.lastGeneration)||void 0===a?void 0:a.generation_info);let t=performance.now(),i=await fetch(e.clone());if(i.ok&&null!==i.body){if("text-to-speech-v3"===r.type&&null!==d){let t=e.clone();t.headers.set("regenerate-from-last-generation-info",i.headers.get("generation-info"));try{let e=await fetch(t);if(e.ok&&null!==e.body){await u.y.load([i,e],d,D),M(R,i),M(R,e);return}u.y.dismiss(),R.clear()}catch(e){u.y.dismiss(),R.clear()}}else M(R,i);let a=i.headers.get("history-item-id");if(d&&a&&(d.id=a),D){if(null!==d&&(0,w.Eb)(d),m){let e=i.headers.get("Tts-Latency-Ms"),a=performance.now();if(e){let i=a-t-parseInt(e);m(parseInt(e),i)}}await (0,P.D6)({response:i,audioEl:n,onContentStart:c,onChunkReceive:h})}else{let e=await i.blob(),t=await (0,E.sT)(e);null!==d?(0,w.GM)(t,d):n.src=t}return d}{R.clear();let{detail:e,...t}=await i.json();throw Array.isArray(e)&&e.length&&e.map(e=>{let{loc:t,msg:a,type:i}=e;return(0,_.default)("".concat(a[0].toUpperCase()+a.slice(1),": ").concat(t.join(".")))}),e}}catch(e){if(R.clear(),"detected_unusual_activity"===e.status)b.dialogOpen.value="detectedUnusualActivity",(0,C.eN)(S.B_.detected_unusual_activity);else if("detected_blocked_voice"===e.status)b.dialogOpen.value="voiceBlocked";else if("detected_captcha_voice"===e.status||"is_in_probation"===e.status)b.dialogOpen.value="voiceCaptcha";else if("payment_issue"===e.status||"quota_exceeded"===e.status||"too_many_concurrent_requests"===e.status)(0,_.default)((0,i.jsxs)(i.Fragment,{children:[e.message," ",b.isLoggedIn.value&&(0,i.jsx)(j.a,{href:y.VP.subscription,className:"link link-white",children:"Update subscription?"})]}));else if("system_busy"===e.status)(0,_.default)((0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(k.default,{noBaseClass:!0,children:"We are sorry, the system is busy, try again..."}),e.message?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("br",{})," ",e.message]}):""]}));else{if(b.isLoggedIn.value||"network error"!==e.message)throw(0,_.default)((0,i.jsx)(i.Fragment,{children:(0,i.jsx)(k.default,{noBaseClass:!0,children:e.message?e.message:(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(k.default,{noBaseClass:!0,children:"We are sorry, something went wrong. You were not charged for this request (unless the result appears in the history)."})})})})),e;(0,_.default)((0,i.jsx)(i.Fragment,{children:(0,i.jsx)(k.default,{noBaseClass:!0,children:"Thanks for trying out our speech synthesis! You have reached the limit of available requests on the landing page. You can continue, for free, by signing-up to the platform."})}))}}};var z=a(2986),R=a(10258),F=a(30487),B=a(83359),Z=a(25884),O=a.n(Z);let U=e=>{let t=(0,l.useRef)(!1),[a,i]=(0,o._)("xi:lastCheckedPromptLanguage",{prompt:null,languages:null});return(0,l.useEffect)(()=>{(async()=>{let s;if(!(e.split(" ").length<5||"string"==typeof(null==a?void 0:a.prompt)&&50>O()(null==a?void 0:a.prompt,e))&&!t.current){t.current=!0;try{s=await (0,F.k2K)({body:{text:e}})}catch(e){t.current=!1;return}i({prompt:e,languages:s.detected_languages}),t.current=!1}})()},[e]),(0,l.useMemo)(()=>(null==a?void 0:a.languages)||null,[JSON.stringify(null==a?void 0:a.languages)])};var q=a(1425),H=a(84106);let G=(e,t,a,s)=>{(0,l.useEffect)(()=>{if("text-to-speech"!==t||!a||!s||(0,h.CY)(s.model_id))return;let n=null==e?void 0:e.find(e=>!(null==s?void 0:s.languages.find(t=>t.language_id===e)));if(n){var r;let e=null===(r=q.Qv.find(e=>e.key===n))||void 0===r?void 0:r.name,t=null==a?void 0:a.find(e=>e.languages.find(e=>e.language_id===n));t?(0,H.toast)("Unsupported Language",{id:"unsupported-language",description:"The selected model doesn't support ".concat(e?"the ".concat(e):"this"," language. We recommend using ").concat(t.name,"."),action:(0,i.jsx)(B.sz,{model:t,onSwitch:()=>{(0,C.eN)(S.B_.speech_synthesis_new_tts_unsupported_language_model_switched,{unsupportedLanguageKey:n,model:null==t?void 0:t.name})}}),closeButton:!0,duration:1e4}):(0,H.toast)("Unsupported Language",{id:"unsupported-language",description:"We've detected unsupported language".concat(e?" ("+e+")":"",". You may experience bad results."),closeButton:!0,duration:1e4}),(0,C.eN)(S.B_.speech_synthesis_new_tts_unsupported_language_detected,{unsupportedLanguageKey:n,model:null==t?void 0:t.name})}},[e,s,a])};var W=a(80396),Y=a(73940),K=a(11521),X=a(25933),Q=a(29554),J=a(18498),$=a(54752),ee=a(21113),et=a(60493),ea=a(97204),ei=a(95834),es=a(77491),en=a(15750),er=a(2544),el=a(37514);let eo=(0,ee.Z)("file:///app/src/app/(rebrand)/app/speech-synthesis/useSpeechSynthesis.tsx"),ec=1e3/60,ed=(0,et.t)("Start typing here or paste any text you want to turn into lifelike speech..."),eu=(0,et.t)([]),eh=5e3,em=(0,et.t)(!1);function ep(e){return(null==e?void 0:e.length)?e.reduce((e,t)=>e+(t.durationMilliseconds||0),0)/1e3:0}let ev=(e,t)=>{let a;switch(e){case"text-to-speech":a=["{","}","[","]"];break;case"text-to-speech-v3":a=["{","}"]}a&&a.some(e=>t.includes(e))&&H.toast.warning("Input text contains one or more of the following characters: ".concat(a.join(", ")," which can degrade the quality of speech."))},ex=()=>{let[e,t]=(0,l.useState)(null);return[e,e=>{t(e),el.p.value=!0}]},ef=(0,R.bN)(),eg=()=>{let[e,t]=(0,o._)("xi:speech-synthesis-model-settings",null),a=(0,l.useCallback)(e=>{t(t=>({...t,...e}))},[t]);return(0,l.useEffect)(()=>{null===e&&(async()=>{var e,a;let i=await ef;t({stability:null!==(e=null==i?void 0:i.stability)&&void 0!==e?e:null,use_speaker_boost:null!==(a=null==i?void 0:i.use_speaker_boost)&&void 0!==a&&a})})()},[e,t]),[e,a]},eb=()=>{var e;let[t,a]=(0,l.useState)(void 0),{data:i,isLoading:s}=(0,F.DS0)({},{refetchOnWindowFocus:!1});return(0,l.useEffect)(()=>{if(!b.workspaceData.value||!i)return;let e=b.workspaceData.value.subscription.voice_limit;if(s||!i){a(!1);return}a(i.voice_slots_used<e)},[i,s,null===(e=b.workspaceData.value)||void 0===e?void 0:e.subscription.voice_limit]),t},ey=e=>(0,er.ht)(e.filter(e=>!en.Ad.includes(e.voice_id))),ej=e=>{var t,a,i;let{nextPageToken:s,enabled:n}=e,r={page_size:100,sort:"name",sort_direction:"asc"};s&&(r.next_page_token=s);let o=(0,F.r4B)({queryParams:r},{enabled:n});return{voices:(0,l.useMemo)(()=>{var e,t;return ey(null!==(t=null===(e=o.data)||void 0===e?void 0:e.voices)&&void 0!==t?t:[])},[null===(t=o.data)||void 0===t?void 0:t.voices]),isLoading:o.isLoading,hasMore:null!==(i=null===(a=o.data)||void 0===a?void 0:a.has_more)&&void 0!==i&&i}},ew=l.createContext(null),e_=()=>{let e=l.useContext(ew);if(!e)throw Error("useSpeechSynthesis must be used within a SpeechSynthesisProvider");return e},ek=(0,n.Pi)(e=>{let{tab:t,children:a}=e,[n,o]=(0,l.useState)(B.fL.value?"touched":"pristine"),d=(0,J.Y)([{id:"text-to-speech",label:"Text to speech"},{id:"speech-to-speech",label:"Speech to speech"}],t),[u,m]=(0,l.useState)(!1),[v,x]=(0,l.useState)(!1),[f,j]=(0,l.useState)(!1),[k,N]=(0,l.useState)(null),[E,D]=(0,l.useState)(!1),[A,T]=(0,l.useState)(null),[V,I]=(0,l.useState)(null),[M,Z]=(0,l.useState)([]),[O,q]=(0,l.useState)(!1),[ee,et]=(0,l.useState)(!1),[er,el]=ex(),[ed]=eg(),eu=(0,s.useQueryClient)(),eh=(0,r.useSearchParams)(),[ef,ey]=(0,l.useState)([]),e_=(0,r.useRouter)(),ek=(0,l.useRef)(null),[eN,eC]=(0,l.useState)(),eS=eb(),eP=U(B.fL.value);G(eP,d.activeTabId,b.models.value,b.selectedModelTts.value);let{addRecentlyUsedVoice:eE}=(0,Q.Z)(),eD="text-to-speech"===d.activeTabId?b.selectedModelTts:b.selectedModelSts,eA=e=>{var t,a;return{type:"speech-to-speech",filename:e.file.name,filesize:e.file.size,voice_id:(null===(t=b.selectedVoice.value)||void 0===t?void 0:t.voice_id)||"",model_id:(null===(a=b.selectedModelSts.value)||void 0===a?void 0:a.model_id)||"",removeBackgroundNoise:E}},eT=g.get((()=>{var e,t,a,i,s,n;if("text-to-speech"===d.activeTabId)return(0,h.CY)(null===(e=b.selectedModelTts.value)||void 0===e?void 0:e.model_id)?{type:"text-to-speech-v3",dialogue:B.OR.value.filter(e=>e.text.trim()),model_id:(null===(t=b.selectedModelTts.value)||void 0===t?void 0:t.model_id)||""}:{type:"text-to-speech",text:B.fL.value.trim(),model_id:(null===(a=b.selectedModelTts.value)||void 0===a?void 0:a.model_id)||"",voice_id:(null===(i=b.selectedVoice.value)||void 0===i?void 0:i.voice_id)||""};{let e=M.find(e=>"processing"===e.status);return e?eA(e):{type:"speech-to-speech",filename:"",filesize:0,voice_id:(null===(s=b.selectedVoice.value)||void 0===s?void 0:s.voice_id)||"",model_id:(null===(n=b.selectedModelSts.value)||void 0===n?void 0:n.model_id)||"",removeBackgroundNoise:E}}})()),eV=null===b.selectedModelTts.value?en.Lg:Math.min(b.selectedModelTts.value.maximum_text_length_per_request,en.Lg),eI=(0,ea.g2)(b.selectedModelTts.value,b.selectedVoice.value,b.models.value,!0),eM=(0,ei.Te)(b.workspaceData.value,eD.value),eL=()=>{var e;let t=null!==(e=(0,ei.S1)(b.userData.value,b.selectedVoice.value))&&void 0!==e?e:1;return"text-to-speech"===d.activeTabId?eT.canRegenerate?0:Math.ceil(B.fL.value.trim().length*eM*t):Math.ceil(ep(M.filter(e=>!g.get(eA(e)).canRegenerate))*ec*eM*t)},ez=()=>{if(b.workspaceData.value){let e=b.workspaceData.value.subscription.character_count,t=b.workspaceData.value.subscription.character_limit;return(0,p.RF)()&&e+eL()>t&&e<=t}return!1},eR=()=>{if(b.workspaceData.value){let e=b.workspaceData.value.subscription.character_count,t=b.workspaceData.value.subscription.character_limit;return"free"===b.workspaceData.value.subscription.tier&&e+eL()>t}return!1},eF=async e=>{"speech-to-speech"!==e.type&&I(null);let t="text-to-speech-v3"===e.type?"text-to-speech":e.type,a="",i=ek.current||er;switch(e.type){case"text-to-speech":a=e.text,i=ed;break;case"text-to-speech-v3":a=(0,h.BL)(e.dialogue)}if(null!==w._m.value&&null!==b.selectedVoice.value&&null!==eD.value){em.value=!0;try{var s,n,r,l;ev(e.type,a);let o=await L({audioEl:w._m.value,config:e,voiceId:b.selectedVoice.value.voice_id,modelId:eD.value.model_id,removeBackgroundNoise:E,modelSettings:ed,onContentStart:()=>{v||x(!0)},audioInfo:{id:"synthesized_audio.mp3",autoStart:!0,autoStartDelaySeconds:(0,h.CY)(null===(s=b.selectedModelTts.value)||void 0===s?void 0:s.model_id)?2:void 0,name:(0,P.aR)({name:b.selectedVoice.value.name,date_unix:(0,es.K9)()}),fileName:(0,P.J9)({name:b.selectedVoice.value.name,date_unix:(0,es.K9)(),model_id:null===(n=eD.value)||void 0===n?void 0:n.model_id,category:b.selectedVoice.value.category,voice_settings:i}),type:t,isFirstRequest:!0,player:{title:"text-to-speech"===t?a:(0,P.J9)({name:b.selectedVoice.value.name,date_unix:(0,es.K9)(),model_id:null===(r=eD.value)||void 0===r?void 0:r.model_id,category:b.selectedVoice.value.category,voice_settings:i}),description:"Created ".concat((0,Y.q)(1e3*(0,es.K9)())),voice_id:b.selectedVoice.value.voice_id,voice_name:b.selectedVoice.value.name}},onChunkReceive:w.Tv});"speech-to-speech"===e.type?o&&Z(e=>e.map(e=>{var t;return"processing"===e.status?{...e,status:"converted",convertedFile:{id:o.id,filename:o.fileName||(0,P.J9)({name:b.selectedVoice.value.name,date_unix:(0,es.K9)(),model_id:null===(t=eD.value)||void 0===t?void 0:t.model_id,category:b.selectedVoice.value.category,voice_settings:i})}}:e})):o&&I({id:o.id,filename:o.fileName||(0,P.J9)({name:b.selectedVoice.value.name,date_unix:(0,es.K9)(),model_id:null===(l=eD.value)||void 0===l?void 0:l.model_id,category:b.selectedVoice.value.category,voice_settings:i})})}catch(t){eo.log(t),(0,w.ob)(),"speech-to-speech"===e.type&&Z(e=>e.map(e=>"processing"===e.status?{...e,status:"error",error:(null==t?void 0:t.message)||"Conversion failed"}:e)),(0,_.default)((null==t?void 0:t.message)||"Something went wrong. Please try again.","error")}finally{em.value=!1,eu.invalidateQueries({queryKey:["Usage"]}),eu.invalidateQueries({queryKey:["speech-synthesis","history"]}),setTimeout(()=>{eu.invalidateQueries({queryKey:["speech-synthesis","history"]})},3e3)}}};(0,l.useEffect)(()=>{if(!O||"speech-to-speech"!==d.activeTabId||em.value)return;let e=M.find(e=>"pending"===e.status);if(e){var t,a,i;if(Z(t=>t.map(t=>t.id===e.id?{...t,status:"processing"}:t)),!ee&&(ez()||eR())){(0,C.eN)(S.B_.speech_synthesis_quota_exceeded),ez()?j(!0):eR()&&m(!0),Z(t=>t.map(t=>t.id===e.id?{...t,status:"error",error:"Quota exceeded"}:t));return}(0,C.eN)(S.B_.speech_synthesis_generate_started,{task:d.activeTabId,voice:null===(t=b.selectedVoice.value)||void 0===t?void 0:t.name,model:null===(a=eD.value)||void 0===a?void 0:a.name,mode:"consolidated",characters:eL()}),eF({type:"speech-to-speech",referenceAudio:e.file}),(null===(i=b.selectedVoice.value)||void 0===i?void 0:i.voice_id)&&eE(b.selectedVoice.value.voice_id)}else q(!1),et(!1)},[O,M,d.activeTabId,ee]),(0,l.useEffect)(()=>{if("speech-to-speech"===d.activeTabId){if(null!==b.selectedModelSts.value&&!b.selectedModelSts.value.can_do_voice_conversion&&null!==b.models.value){let e=b.models.value.find(e=>e.can_do_voice_conversion);void 0!==e&&(b.selectedModelSts.value=e)}}else if("text-to-speech"===d.activeTabId&&null!==b.selectedModelTts.value&&!b.selectedModelTts.value.can_do_text_to_speech&&null!==b.models.value){let e=b.models.value.find(e=>e.can_do_text_to_speech);void 0!==e&&(b.selectedModelTts.value=e)}},[d.activeTabId]),(0,l.useEffect)(()=>{localStorage.setItem(B.B_,B.fL.value)},[B.fL.value]);let eB=null==eh?void 0:eh.get("voice_id"),{voices:eZ,hasMore:eO}=ej({}),{data:eU,isLoading:eq}=(0,F.qt5)({pathParams:{voiceId:null!=eB?eB:"ARBITRARY_INVALID_VOICE_ID"}},{enabled:!!eB,retry:!1,refetchOnWindowFocus:!1});(0,l.useEffect)(()=>{if(ey(eZ),eN&&eC(eN.filter(e=>!("is_added_by_user"in e&&e.is_added_by_user)).filter(e=>!eZ.find(t=>t.voice_id===e.voice_id))),eZ.length>0&&null===b.selectedVoice.value){let e=localStorage.getItem(b.VOICE_PERSISTENCE_KEY);if(null===e)b.selectedVoice.value=eZ[0];else{let t=eZ.find(t=>t.voice_id===e);t?b.selectedVoice.value=t:b.selectedVoice.value=eZ[0]}}eB&&!eq&&(eU?b.selectedVoice.value=eU:e_.push("".concat(y.VP.voiceLibrary,"?voice_id=").concat(eB)))},[eZ,eU,eq]),(0,l.useEffect)(()=>{(async()=>{if(b.userData.value){var e,t,a,i,s,n,r;let l=null===(t=b.userData.value.geo_location)||void 0===t?void 0:null===(e=t.country)||void 0===e?void 0:e.toLowerCase(),o=l&&(null===(a=$.Q4.find(e=>e.flagCode.toLowerCase()===l))||void 0===a?void 0:a.languageCode.toLowerCase())||"en",c=(null==eP?void 0:eP[0])||o,d=await (0,F.Z9S)({queryParams:{category:"language",language:c}}),u=(null===(s=d.collections)||void 0===s?void 0:null===(i=s[0])||void 0===i?void 0:i.id)?await (0,F.vQg)({pathParams:{collectionId:null===(r=d.collections)||void 0===r?void 0:null===(n=r[0])||void 0===n?void 0:n.id}}):null,h=null==u?void 0:u.voices;if(null==h?void 0:h.length){eC(h.filter(e=>!("is_added_by_user"in e&&e.is_added_by_user)));return}eC(((await (0,z.xD)({pageSize:10,category:"professional",gender:null,age:null,accent:null,language:c,useCases:null,descriptives:null,search:null,minNoticePeriod:null,sort:"trending",page:0})).voices||[]).filter(e=>!("is_added_by_user"in e&&e.is_added_by_user)))}})()},[b.userData.value,eP]),(0,l.useEffect)(()=>{let e;"text-to-speech"===d.activeTabId?e=y.VP.tts:"speech-to-speech"===d.activeTabId&&(e=y.VP.sts),e&&(eh&&(e+="?".concat(eh)),e_.push(e))},[d.activeTabId]),(0,l.useEffect)(()=>{eI||H.toast.dismiss()},[eI]),(0,l.useEffect)(()=>{(B.fL.value||A||M.length>0)&&o("touched")},[B.fL.value,A,M]);let eH=async e=>{el(await (0,R.n3)(e))};return(0,l.useEffect)(()=>{null!==b.selectedVoice.value&&eH(b.selectedVoice.value.voice_id)},[b.selectedVoice.value]),(0,i.jsx)(ew.Provider,{value:{convert:eF,proceedWithQuotaOverride:()=>{et(!0);let e=M.filter(e=>"error"===e.status&&"Quota exceeded"===e.error).length;e>0&&eo.log("Resetting ".concat(e," quota error items back to pending")),Z(e=>e.map(e=>"error"===e.status&&"Quota exceeded"===e.error?{...e,status:"pending",error:void 0}:e)),O||q(!0)},generate:()=>{if("speech-to-speech"===d.activeTabId){q(!0);return}if((ez()||eR())&&(0,C.eN)(S.B_.speech_synthesis_quota_exceeded),ez())j(!0);else if(eR())m(!0);else{var e,t,a,i,s;(0,C.eN)(S.B_.speech_synthesis_generate_started,{task:d.activeTabId,allPromptLanguages:eP,mainPromptLanguage:null==eP?void 0:eP[0],voice:null===(e=b.selectedVoice.value)||void 0===e?void 0:e.name,model:null===(t=eD.value)||void 0===t?void 0:t.name,mode:"consolidated",characters:eL()}),"text-to-speech"===d.activeTabId&&((0,h.CY)(null===(i=b.selectedModelTts.value)||void 0===i?void 0:i.model_id)?eF({type:"text-to-speech-v3",dialogue:B.OR.value}):eF({type:"text-to-speech",text:B.fL.value})),(0,h.CY)(null===(a=b.selectedModelTts.value)||void 0===a?void 0:a.model_id)?B.OR.value.forEach((e,t)=>{e.text.trim()&&eE(e.voice_id,t)}):(null===(s=b.selectedVoice.value)||void 0===s?void 0:s.voice_id)&&eE(b.selectedVoice.value.voice_id)}},getCharUsage:eL,quotaExceeded:f,setQuotaExceeded:j,freeQuotaExceeded:u,setFreeQuotaExceeded:m,file:A,setFile:e=>{I(null),T(e)},convertedFile:V,setConvertedFile:I,initialVoiceSettings:er,setInitialVoiceSettings:el,durationMilliseconds:k,setDurationMilliseconds:N,queue:M,addFilesToQueue:e=>{let t=e.map(e=>({id:(0,c.k$)(),file:e.file,durationMilliseconds:e.durationMilliseconds,status:"pending"}));Z(e=>[...e,...t])},removeItemFromQueue:e=>{Z(t=>t.filter(t=>t.id!==e))},clearQueue:()=>{Z([]),et(!1)},regenerateItem:e=>{Z(t=>t.map(t=>t.id===e?{...t,status:"pending",convertedFile:void 0,error:void 0}:t)),O||q(!0)},regenerateAll:()=>{Z(e=>e.map(e=>({...e,status:"pending",convertedFile:void 0,error:void 0}))),et(!1),O||q(!0)},tabs:d,maxChars:eV,onVoiceChange:e=>{var t,a,i,s,n;if("professional"===e.category&&(null===(t=b.selectedVoice.value)||void 0===t?void 0:t.category)!=="professional"){let t=null===(i=b.models.value)||void 0===i?void 0:i.filter(e=>e.can_do_text_to_speech),a=null===(s=b.models.value)||void 0===s?void 0:s.filter(e=>e.can_do_voice_conversion),n="text-to-speech"===d.activeTabId?t:a;if(!(null==n?void 0:n.find(t=>e.high_quality_base_model_ids.find(e=>e===t.model_id)))){if("text-to-speech"===d.activeTabId){H.toast.warning("This voice is not fine-tuned for Text to Speech. You may encounter some instabilities. Consider using a different voice.");let e=null==n?void 0:n.find(e=>"eleven_multilingual_v2"===e.model_id);e&&(b.selectedModelTts.value=e)}else{H.toast.warning("This voice is not fine-tuned for Speech to Speech. You may encounter some instabilities. Consider using a different voice.");let e=null==n?void 0:n.find(e=>"eleven_multilingual_sts_v2"===e.model_id);e&&(b.selectedModelSts.value=e)}}}else if("professional"!==e.category&&(null===(a=b.selectedVoice.value)||void 0===a?void 0:a.category)==="professional"&&!(null===(n=b.models.value)||void 0===n?void 0:n.find(e=>("text-to-speech"===d.activeTabId&&e.can_do_text_to_speech||"speech-to-speech"===d.activeTabId&&e.can_do_voice_conversion)&&!e.serves_pro_voices))){(0,_.default)("No model found for this task. Please select another task.","error");return}b.selectedVoice.value=e},recommendedModel:eI,speechSynthesisVoices:ef,setSpeechSynthesisVoices:ey,hasMoreVoices:eO,suggestedVoices:eN,hasVoiceSlots:eS,variant:n,setVariant:o,renderCharacterIndicator:()=>{if(!("text-to-speech"===d.activeTabId||"speech-to-speech"===d.activeTabId&&(M.length>0||O)))return null;let e=(0,ei.S1)(b.userData.value,b.selectedVoice.value);return(0,i.jsxs)(K.x,{color:"subtle",size:"xs",className:"flex",children:[(0,i.jsx)(W.Fi,{characterCost:eL(),workspaceData:b.workspaceData.value,costExplanation:"Credit cost is based on length of text. If you want to use more than 5,000 credits, please use Studio."}),e&&(0,i.jsx)(X.Tooltip,{label:(0,i.jsxs)(K.x,{color:"background",children:["The selected voice model uses a Custom Rate and has a"," ",(0,i.jsxs)("b",{children:[(0,i.jsx)("span",{children:"character multiplier of "}),e,(0,i.jsx)("span",{children:"x"})]})," ","for you, meaning you will be charged"," ",(0,i.jsxs)("b",{children:[e,(0,i.jsx)("span",{children:" times more credits"})]})," ","for each request you make with this voice model. As an example, generating 1,000 credits using a voice model with a 2x character multiplier would deduct 2,000 credits from your account."]}),children:(0,i.jsxs)(K.x,{size:"xs",className:"ml-1",children:[" ","x ",e]})})]})},voiceSettingsForDownload:ek,removeBackgroundNoise:E,setRemoveBackgroundNoise:D,modelCostMultiplier:eM,promptLanguages:eP,generationManager:eT},children:a})})},8871:function(e,t,a){"use strict";a.d(t,{Zf:function(){return f},lC:function(){return p},nq:function(){return x},xo:function(){return g},zR:function(){return b}});var i=a(68088),s=a(6991),n=a(16714),r=a(98780),l=a(9506),o=a(32689),c=a(82528),d=a(91105),u=a(11521),h=a(25933),m=a(34477);let p=()=>{let{i18n:e,_:t}=(0,s.mV)();return(0,l.useMemo)(()=>[{title:e.t("Text to Speech"),id:"text_to_speech",category:e.t("Products"),tooltip:e.t("Access to the Text to Speech product")},{title:e.t("Voice Changer"),id:"speech_to_speech",category:e.t("Products"),tooltip:e.t("Access to the Voice Changer product")},{title:e.t("Voices"),id:"voice_lab",category:e.t("Products"),tooltip:e.t("Access to the Voices product")},{title:e.t("Sound Effects"),id:"sound_effects",category:e.t("Products"),tooltip:e.t("Access to the Sound Effects product")},{title:e.t("Studio"),id:"projects",category:e.t("Products"),tooltip:e.t("Access to the Studio product")},{title:e.t("Voiceover Studio"),id:"voiceover_studio",category:e.t("Products"),tooltip:e.t("Access to the Voiceover Studio product")},{title:e.t("Dubbing"),id:"dubbing",category:e.t("Products"),tooltip:e.t("Access to the Dubbing product")},{title:e.t("Audio Native"),id:"audio_native",category:e.t("Products"),tooltip:e.t("Access to the Audio Native product")},{title:e.t("Conversational AI"),id:"conversational_ai",category:e.t("Products"),tooltip:e.t("Access to the Conversational AI product")},{title:e.t("Speech to Text"),id:"speech_to_text",category:e.t("Products"),tooltip:e.t("Access to the Speech to Text product")},{title:e.t("Voice Isolator"),id:"voice_isolator",category:e.t("Products"),tooltip:e.t("Access to the Voice Isolator product")},{title:e.t("AI Speech Classifier"),id:"ai_speech_classifier",category:e.t("Products"),tooltip:e.t("Access to the AI Speech Classifier product")},{title:e.t("Add voice from Voice Library"),id:"add_voice_from_voice_library",category:e.t("Feature Guards"),tooltip:e.t("Ability to add voices from the Voice Library")},{title:e.t("Create Instant Voice Clone"),id:"create_instant_voice_clone",category:e.t("Feature Guards"),tooltip:e.t("Ability to create Instant Voice Clones")},{title:e.t("Create Professional Voice Clone"),id:"create_professional_voice_clone",category:e.t("Feature Guards"),tooltip:e.t("Ability to create Professional Voice Clones")},{title:e.t("Create User API Key"),id:"create_user_api_key",category:e.t("Feature Guards"),tooltip:e.t("Ability to create User API Keys")},{title:e.t("Publish Studio Projects"),id:"publish_studio_project",category:e.t("Feature Guards"),tooltip:e.t("Ability to publish Studio projects to ElevenReader, Spotify, Audio qNative etc.")}],[t])},v=e=>(0,l.useMemo)(()=>e.reduce((e,t)=>{var a,i;return null!==(i=e[a=t.category])&&void 0!==i||(e[a]=[]),e[t.category].push(t),e},{}),[e]),x=e=>(0,l.useMemo)(()=>new Map(e.map(e=>[e.id,e])),[e]),f=e=>(0,l.useMemo)(()=>Array.from(e.keys()),[e]),g=e=>{let{permissions:t,setPermissions:a,disabledPermissions:n}=e,l=v(p()),{i18n:x}=(0,s.mV)();return(0,i.jsxs)("div",{children:[n.length>0&&(0,i.jsx)("div",{className:"mb-4 p-2 rounded",children:(0,i.jsxs)(m.bZ,{children:[(0,i.jsx)(r.Z,{className:"h-4 w-4"}),(0,i.jsx)(m.Cd,{children:(0,i.jsx)(s.cC,{id:"V0W5IF"})}),(0,i.jsx)(m.X,{children:(0,i.jsx)(s.cC,{id:"Okhktv"})})]})}),(0,i.jsxs)(c.l$,{className:"max-h-[400px] overflow-y-auto",children:[(0,i.jsx)(c.sE,{}),[x.t("Products"),x.t("Feature Guards")].map(e=>(0,i.jsxs)("div",{className:"mb-4",children:[(0,i.jsx)(u.x,{weight:"semi-bold",className:"mb-2",children:e}),(0,i.jsx)(o.aV,{children:l[e].map(e=>{let r=n.includes(e.id);return(0,i.jsxs)(o.HC,{className:"py-2",children:[(0,i.jsx)(o.Ek,{children:(0,i.jsx)(u.x,{children:(0,i.jsx)(h.Tooltip,{label:x.t(e.tooltip),children:e.title})})}),(0,i.jsxs)(o.cT,{children:[r&&(0,i.jsx)(h.Tooltip,{label:x.t("Must be disabled in the Everyone group first"),children:(0,i.jsx)("span",{className:"ml-2 text-gray-500 cursor-help",children:"ⓘ"})}),(0,i.jsxs)(d.Select,{value:r||t.has(e.id)?"hasPermission":"noPermission",onValueChange:i=>{if(r)return;let s=new Set(t);"hasPermission"===i?s.add(e.id):s.delete(e.id),a(s)},disabled:r,children:[(0,i.jsx)(d.SelectTrigger,{className:"w-36",children:(0,i.jsx)(d.SelectValue,{})}),(0,i.jsxs)(d.SelectContent,{children:[(0,i.jsx)(d.SelectItem,{value:"noPermission",children:(0,i.jsx)(s.cC,{id:"oPoLg+"})}),(0,i.jsx)(d.SelectItem,{value:"hasPermission",children:(0,i.jsx)(s.cC,{id:"1cSQDu"})})]})]})]})]},e.id)})})]},e)),(0,i.jsx)(c.RA,{})]})]})},b=e=>{var t;let a=x(p()),{i18n:i}=(0,s.mV)(),r=a.get(e);return i._(n.ag._({id:"247QPC",values:{0:null!==(t=null==r?void 0:r.title)&&void 0!==t?t:i.t("this feature")}}))}},16130:function(e,t,a){"use strict";var i=a(68088),s=a(40534),n=a(9506);let r=n.forwardRef((e,t)=>{let{withinTop:a="0px",withinRight:r="0px",withinBottom:l="0px",withinLeft:o="0px",once:c=!1,container:d,children:u,...h}=e,[m,p]=n.useState(!1);return(0,i.jsx)(s.E.div,{...h,ref:t,onViewportEnter:()=>p(!0),onViewportLeave:()=>p(!1),viewport:{root:d||void 0,margin:"".concat(l," ").concat(o," ").concat(a," ").concat(r),amount:"some",once:c},children:m&&u})});t.Z=r},81398:function(e,t,a){"use strict";a.d(t,{o:function(){return j}});var i=a(68088),s=a(40534),n=a(18743),r=a(95089),l=a(73862),o=a(95972),c=a(9506),d=a(82374),u=a(30487),h=a(88084),m=a(60358),p=a(4735),v=a(96474),x=a(64755),f=a(11521),g=a(65204),b=a(63415),y=a(85753);let j=e=>{let{buttonVariant:t,buttonSize:a="sm",source:j,iconClassName:w,popoverProps:_}=e,[k,N]=(0,c.useState)(null),C=(0,c.useRef)(null),S=(0,o.U0)(),P=(0,c.useId)(),E=(0,c.useRef)(),[D,A]=(0,c.useState)(!1),[T,V]=(0,c.useState)(""),[I,M]=(0,c.useState)(!1),[L,z]=(0,d._)("xi:feedback-text",""),[R,F]=(0,c.useState)(null);async function B(e){if(e.preventDefault(),!L){V("Please enter your feedback");return}M(!0);try{let e=await (0,u.hcx)({body:{feedback:L}});e.relevant&&(S.stopSessionRecording(),(0,b.eN)(y.B_.feedback,{feedback:L,category:e.category,positive:e.positive,source:j})),F({relevant:e.relevant,category:e.category,positive:e.positive}),z("")}catch(e){if(e.message.includes("too many requests"))F({relevant:!1,category:"",positive:!1}),z("");else throw V("Sending failed. Please try again later."),Error("Failed to submit feedback")}M(!1)}return(0,c.useEffect)(()=>{setTimeout(()=>{C.current&&N(C.current.offsetHeight)})},[R,D]),(0,c.useEffect)(()=>{D&&!S.sessionRecordingStarted()&&S.startSessionRecording()},[D]),(0,c.useEffect)(()=>(R&&(window.clearTimeout(E.current),D||(E.current=window.setTimeout(()=>{F(null)},6e4))),()=>{window.clearTimeout(E.current)}),[D,R]),(0,i.jsxs)(x.J2,{open:D,onOpenChange:e=>A(e),children:[(0,i.jsx)(x.xo,{asChild:!0,children:(0,i.jsx)(p.Button,{size:a,variant:t||"outline",leftIcon:(0,i.jsx)(r.Z,{className:w}),children:"Feedback"})}),(0,i.jsx)(x.i9,{children:(0,i.jsx)(x.yk,{className:"p-3 py-2.5 w-[340px]",side:"bottom",..._,children:(0,i.jsx)(s.E.div,{animate:{height:k?k+"px":void 0},children:(0,i.jsx)("div",{ref:C,children:(0,i.jsx)(n.M,{mode:"popLayout",children:R?(0,i.jsxs)(s.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"stack gap-1",children:[(0,i.jsx)("div",{className:"stack gap-0.5",children:(0,i.jsx)(f.x,{size:"sm",weight:"medium",children:"Thank you for your feedback!"})}),(0,i.jsxs)("div",{className:"stack items-stretch gap-2",children:[(0,i.jsxs)(f.x,{size:"sm",weight:"normal",color:"subtle",children:["We've received your note and will look into it. Having trouble? See"," ",(0,i.jsx)(l.default,{target:"_blank",href:m.ZP.troubleshooting,className:"text-sm underline hover:no-underline outline-none focus-visible:ring-1 focus-visible:ring-ring ring-offset-1 rounded-sm",children:"common issues"}),"."]}),(0,i.jsx)("div",{className:"stack items-stretch gap-2",children:(0,i.jsxs)("div",{className:"w-full hstack justify-center items-center gap-3",children:[(0,i.jsx)(f.x,{weight:"medium",size:"sm",className:"text-gray-alpha-950",children:"Need help?"}),(0,i.jsx)(h.V,{size:"sm",className:""})]})})]})]},"submitted"):(0,i.jsxs)(s.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[(0,i.jsx)("div",{className:"flex flex-col pb-2",children:(0,i.jsx)("form",{id:P,onSubmit:B,children:(0,i.jsx)(v.Label,{className:"stack gap-2",children:(0,i.jsx)(g.g,{onFocus:e=>{let t=e.target;setTimeout(()=>{t&&t.setSelectionRange(t.textLength,t.textLength)},5)},value:L,onChange:e=>{z(e.target.value),V("")},className:"resize-none",name:"feedback",placeholder:"Type your feedback here...",rows:4,autoFocus:!0})})})}),(0,i.jsx)(n.M,{mode:"wait",children:T&&(0,i.jsx)(s.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:(0,i.jsx)(f.x,{size:"xs",weight:"medium",className:"text-red-500",children:T})})}),(0,i.jsxs)("div",{className:"hstack justify-between gap-10 mt-1",children:[(0,i.jsx)("div",{children:(0,i.jsx)(n.M,{mode:"wait",children:(0,i.jsx)(s.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,i.jsx)(f.x,{size:"xs",weight:"normal",color:"subtle",children:"We don't respond to submissions, but we read all of them carefully"})})})}),(0,i.jsx)(p.Button,{size:"sm",variant:"primary",form:P,loading:I,children:"Submit"})]})]},"default")})})})})})]})}},47230:function(e,t,a){"use strict";var i=a(68088),s=a(4111),n=a(40534),r=a(60189);t.Z=e=>{let{className:t,loading:a,onTrigger:l,loadInAdvanceMargin:o=500}=e;return(0,i.jsxs)(n.E.div,{className:(0,r.cn)("relative w-full pointer-events-none",a?"h-[48px]":"h-[1px]",t),children:[a&&(0,i.jsx)("div",{className:"overlay center",children:(0,i.jsx)(s.$,{size:"sm",color:"currentColor",minH:"1rem",minW:"1rem"})}),!a&&(0,i.jsx)(n.E.div,{className:"absolute bottom-0 w-full h-full",style:{height:o},onViewportEnter:()=>{null==l||l()}},Math.random())]})}},72081:function(e,t,a){"use strict";a.d(t,{k:function(){return l}});var i=a(68088),s=a(36118),n=a(70140),r=a(28224);function l(e){let{info:t,className:a}=e;return(0,i.jsxs)(r.u,{placement:"top",children:[(0,i.jsx)(r.aJ,{children:(0,i.jsx)(s.Z,{className:(0,n.A)("h-4 w-4 text-gray-700",a)})}),(0,i.jsx)(r._v,{children:t})]})}},82710:function(e,t,a){"use strict";a.d(t,{Logo:function(){return c}});var i=a(68088),s=a(66548),n=a.n(s),r=a(9506),l=a(60189),o=JSON.parse('{"v":"5.9.6","fr":60,"ip":30,"op":60,"w":1510,"h":248,"nm":"9_LOGO-MAIN_LEFT_lottie","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":2,"ty":4,"nm":"Logo - s 3","parent":16,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0,"y":1},"o":{"x":0.001,"y":0},"t":56,"s":[1858.393,155.234,0],"to":[0,0,0],"ti":[0,0,0]},{"t":70,"s":[1882.396,155.234,0]}],"ix":2,"l":2},"a":{"a":0,"k":[1882.075,155.234,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[1.04,40.958],[0,0],[-18.5,0],[0,14.579],[17.45,4.165],[0,0],[0,35.058],[-41.88,0],[-1.4,-38.529],[0,0],[15.01,0],[0,-13.884],[-14.66,-3.472],[0,0],[0,-37.488],[45.38,0]],"o":[[0,0],[0.7,19.438],[18.5,0],[0,-13.19],[0,0],[-42.58,-10.76],[0,-35.058],[41.88,0],[0,0],[-1.05,-17.008],[-15,0],[0,12.843],[0,0],[40.48,10.066],[0,37.487],[-49.21,0]],"v":[[-78.175,37.661],[-28.975,37.661],[0.695,66.471],[29.665,43.561],[4.185,21.347],[-10.825,17.529],[-74.685,-39.743],[-0.005,-97.016],[75.035,-42.173],[25.825,-42.173],[-0.705,-66.471],[-26.175,-45.298],[-3.145,-24.124],[12.215,-20.305],[78.175,37.314],[-0.705,97.016]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0,0,0,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[1882.075,155.234],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"s","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":56,"op":378,"st":-53,"ct":1,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"Logo - b 2","parent":16,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0,"y":1},"o":{"x":0.001,"y":0},"t":54,"s":[1606.012,126.25,0],"to":[0,0,0],"ti":[0,0,0]},{"t":70,"s":[1659.274,126.25,0]}],"ix":2,"l":2},"a":{"a":0,"k":[1658.953,126.25,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-24.43,0],[0,-42],[24.43,0],[0,42]],"o":[[24.43,0],[0,42],[-24.43,0],[0,-42]],"v":[[-1.92,-31.24],[36.47,28.81],[-1.92,89.554],[-39.61,28.81]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[0,0],[-22.69,0],[0,70.81],[41.19,0],[8.38,-12.843],[0,0],[0,0],[0,0],[0,0]],"o":[[6.98,14.578],[42.92,0],[0,-70.81],[-20.94,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[-37.17,99.967],[11,126],[86.03,28.81],[12.04,-68.033],[-36.82,-43.736],[-36.82,-126],[-86.03,-126],[-86.03,121.835],[-37.17,121.835]],"c":true},"ix":2},"nm":"Path 2","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0,0,0,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[1697.62,126.25],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"b","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":54,"op":380,"st":-54,"ct":1,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"Logo - a 2","parent":16,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0,"y":1},"o":{"x":0.001,"y":0},"t":52,"s":[1399.614,155.234,0],"to":[0,0,0],"ti":[0,0,0]},{"t":70,"s":[1487.316,155.234,0]}],"ix":2,"l":2},"a":{"a":0,"k":[1486.995,155.234,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-24.43,0],[0,-42],[24.43,0],[0,42]],"o":[[24.43,0],[0,42],[-24.43,0],[0,-42]],"v":[[1.395,-60.57],[39.095,-0.173],[1.395,60.571],[-36.995,-0.173]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[0,-70.81],[-44.67,0],[-7.33,14.578],[0,0],[0,0],[0,0],[0,0],[0,0],[20.94,0]],"o":[[0,68.727],[22.69,0],[0,0],[0,0],[0,0],[0,0],[0,0],[-7.67,-12.496],[-42.23,0]],"v":[[-86.555,-0.173],[-12.915,97.017],[37.695,70.984],[37.695,92.852],[86.555,92.852],[86.555,-92.851],[36.295,-92.851],[36.295,-72.719],[-11.515,-97.016]],"c":true},"ix":2},"nm":"Path 2","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0,0,0,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[1486.995,155.234],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"a","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":52,"op":382,"st":-55,"ct":1,"bm":0},{"ddd":0,"ind":5,"ty":4,"nm":"Logo - L 2","parent":13,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[441.984,124.168,0],"ix":2,"l":2},"a":{"a":0,"k":[1290.698,124.168,0],"ix":1,"l":2},"s":{"a":1,"k":[{"i":{"x":[0,0,0],"y":[1,1,1]},"o":{"x":[0.001,0.001,0.001],"y":[0,0,0]},"t":54,"s":[0,100,100]},{"t":70,"s":[100,100,100]}],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[-74.865,-123.918],[-22.855,-123.918],[-22.855,82.612],[74.865,82.612],[74.865,123.918],[-74.865,123.918]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0,0,0,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[1313.365,124.168],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"L","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":54,"op":382,"st":-58,"ct":1,"bm":0},{"ddd":0,"ind":6,"ty":4,"nm":"Logo - n 2","parent":16,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0,"y":1},"o":{"x":0.001,"y":0},"t":50,"s":[1090.014,153.151,0],"to":[0,0,0],"ti":[0,0,0]},{"t":70,"s":[1116.681,153.151,0]}],"ix":2,"l":2},"a":{"a":0,"k":[1116.36,153.151,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[-21.64,0],[0,-23.951],[0,0],[0,0],[0,0],[35.6,0],[8.72,-15.967],[0,0],[0,0],[0,0],[0,0]],"o":[[0,-29.157],[17.8,0],[0,0],[0,0],[0,0],[0,-43.041],[-24.08,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[-31.41,-14.405],[4.19,-59.529],[32.11,-24.471],[32.11,94.934],[81.32,94.934],[81.32,-32.108],[21.29,-94.934],[-31.41,-66.818],[-31.41,-90.769],[-81.32,-90.769],[-81.32,94.934],[-31.41,94.934]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0,0,0,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[1116.36,153.151],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"n","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":50,"op":384,"st":-59,"ct":1,"bm":0},{"ddd":0,"ind":7,"ty":4,"nm":"Logo - e 3","parent":16,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0,"y":1},"o":{"x":0.001,"y":0},"t":48,"s":[894.398,155.234,0],"to":[0,0,0],"ti":[0,0,0]},{"t":70,"s":[921.065,155.234,0]}],"ix":2,"l":2},"a":{"a":0,"k":[920.744,155.234,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[20.592,0],[3.491,-33.67]],"o":[[-2.443,-34.017],[-20.591,0],[0,0]],"v":[[36.12,-20.653],[1.219,-65.777],[-35.776,-20.653]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[0,67.686],[-52.7,0],[0,-68.727],[0,0],[0,0],[-23.383,0],[-2.094,18.744],[0,0],[43.975,0]],"o":[[0,-67.686],[52.7,0],[0,0],[0,0],[1.745,40.264],[18.498,0],[0,0],[-3.139,40.959],[-55.841,0]],"v":[[-84.636,-0.174],[1.917,-97.016],[84.636,0.52],[84.636,11.628],[-36.125,11.628],[1.219,65.429],[33.328,35.925],[82.536,35.925],[1.219,97.016]],"c":true},"ix":2},"nm":"Path 2","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"mm","mm":1,"nm":"Merge Paths 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"fl","c":{"a":0,"k":[0,0,0,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[920.744,155.234],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"e","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":48,"op":386,"st":-60,"ct":1,"bm":0},{"ddd":0,"ind":8,"ty":4,"nm":"Logo - v 2","parent":16,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0,"y":1},"o":{"x":0.001,"y":0},"t":46,"s":[712.563,155.234,0],"to":[0,0,0],"ti":[0,0,0]},{"t":70,"s":[739.23,155.234,0]}],"ix":2,"l":2},"a":{"a":0,"k":[738.909,155.234,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[-37.518,-92.852],[-87.775,-92.852],[-27.048,92.852],[27.048,92.852],[87.775,-92.852],[37.518,-92.852],[-0.509,47.033]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0,0,0,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[738.909,155.234],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"v","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":46,"op":388,"st":-61,"ct":1,"bm":0},{"ddd":0,"ind":9,"ty":4,"nm":"Logo - e 2","parent":16,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0,"y":1},"o":{"x":0.001,"y":0},"t":44,"s":[529.683,155.234,0],"to":[0,0,0],"ti":[0,0,0]},{"t":70,"s":[556.35,155.234,0]}],"ix":2,"l":2},"a":{"a":0,"k":[556.029,155.234,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[20.592,0],[3.49,-33.67]],"o":[[-2.443,-34.017],[-20.591,0],[0,0]],"v":[[36.123,-20.653],[1.222,-65.777],[-35.773,-20.653]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[0,67.686],[-52.7,0],[0,-68.727],[0,0],[0,0],[-23.383,0],[-2.094,18.744],[0,0],[43.975,0]],"o":[[0,-67.686],[52.7,0],[0,0],[0,0],[1.745,40.264],[18.497,0],[0,0],[-3.141,40.959],[-55.841,0]],"v":[[-84.634,-0.174],[1.92,-97.016],[84.635,0.52],[84.635,11.628],[-36.122,11.628],[1.222,65.429],[33.331,35.925],[82.541,35.925],[1.222,97.016]],"c":true},"ix":2},"nm":"Path 2","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"mm","mm":1,"nm":"Merge Paths 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"fl","c":{"a":0,"k":[0,0,0,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[556.029,155.234],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"e","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":44,"op":390,"st":-62,"ct":1,"bm":0},{"ddd":0,"ind":10,"ty":4,"nm":"Logo - l 7","parent":16,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0,"y":1},"o":{"x":0.001,"y":0},"t":42,"s":[357.08,124.168,0],"to":[0,0,0],"ti":[0,0,0]},{"t":70,"s":[417.445,124.168,0]}],"ix":2,"l":2},"a":{"a":0,"k":[417.125,124.168,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-24.605,123.918],[24.604,123.918],[24.604,-123.918],[-24.605,-123.918]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0,0,0,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[417.125,124.168],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"l","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":42,"op":390,"st":-74,"ct":1,"bm":0},{"ddd":0,"ind":11,"ty":4,"nm":"Logo - E 2","parent":16,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[257.925,124.168,0],"ix":2,"l":2},"a":{"a":0,"k":[257.604,124.168,0],"ix":1,"l":2},"s":{"a":1,"k":[{"i":{"x":[0,0,0],"y":[1,1,1]},"o":{"x":[0.001,0.001,0.001],"y":[0,0,0]},"t":40,"s":[0,100,100]},{"t":70,"s":[100,100,100]}],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[-76.956,-123.918],[-76.956,123.918],[76.956,123.918],[76.956,82.612],[-24.954,82.612],[-24.954,17.702],[69.976,17.702],[69.976,-23.604],[-24.954,-23.604],[-24.954,-82.613],[76.956,-82.613],[76.956,-123.918]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0,0,0,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[283.811,124.168],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"E","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":40,"op":390,"st":-63,"ct":1,"bm":0},{"ddd":0,"ind":12,"ty":4,"nm":"Logo - l 6","parent":16,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[232.015,124.168,0],"ix":2,"l":2},"a":{"a":0,"k":[417.125,124.168,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-24.605,123.918],[24.604,123.918],[24.604,-123.918],[-24.605,-123.918]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0,0,0,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[417.125,124.168],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"l","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":40,"op":390,"st":-77,"ct":1,"bm":0},{"ddd":0,"ind":13,"ty":4,"nm":"Logo - l 8","parent":16,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.294,"y":1},"o":{"x":0.071,"y":0.089},"t":52,"s":[1244.065,124.929,0],"to":[0,0,0],"ti":[0,0,0]},{"t":70,"s":[1265.571,124.168,0]}],"ix":2,"l":2},"a":{"a":0,"k":[417.125,124.168,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-27.144,123.918],[24.604,123.918],[24.604,-123.918],[-27.144,-123.918]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0,0,0,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[417.125,124.168],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"l","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":52,"op":391,"st":-70,"ct":1,"bm":0},{"ddd":0,"ind":14,"ty":4,"nm":"Logo - l 9","parent":16,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[129.557,124.168,0],"ix":2,"l":2},"a":{"a":0,"k":[417.125,124.168,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-24.605,123.918],[24.604,123.918],[24.604,-123.918],[-24.605,-123.918]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0,0,0,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[417.125,124.168],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"l","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":20,"op":274,"st":-38,"ct":1,"bm":0},{"ddd":0,"ind":15,"ty":4,"nm":"Logo 7","parent":16,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[26.251,124.168,0],"ix":2,"l":2},"a":{"a":0,"k":[26.251,124.168,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[0.25,248.085],[52.252,248.085],[52.252,0.25],[0.25,0.25]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0,0,0,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false}],"ip":20,"op":420,"st":20,"ct":1,"bm":0},{"ddd":0,"ind":16,"ty":3,"nm":"Logo 10","sr":1,"ks":{"o":{"a":0,"k":25,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[78,122.438,0],"ix":2,"l":2},"a":{"a":0,"k":[77.904,124.168,0],"ix":1,"l":2},"s":{"a":1,"k":[{"i":{"x":[0,0,0],"y":[1,1,1]},"o":{"x":[0.001,0.001,0.001],"y":[0,0,0]},"t":20,"s":[100,100,100]},{"t":60,"s":[75,75,100]}],"ix":6,"l":2}},"ao":0,"ip":20,"op":420,"st":20,"ct":1,"bm":0}],"markers":[]}');let c=e=>{let{isOpen:t,className:a,size:s="16px"}=e,c=(0,r.useRef)(null);return(0,r.useEffect)(()=>{var e,a;t?null===(e=c.current)||void 0===e||e.goToAndStop(30,!0):null===(a=c.current)||void 0===a||a.goToAndStop(0)},[]),(0,r.useEffect)(()=>{var e,a,i;t?null===(a=c.current)||void 0===a||a.setSpeed(1.5):null===(i=c.current)||void 0===i||i.setSpeed(-3),null===(e=c.current)||void 0===e||e.play()},[t]),(0,i.jsx)("div",{className:(0,l.cn)("flex items-center dark:invert",a,{"h-[16px] w-[97px] [&_svg]:!h-[16px] lg:[&_svg]:!h-[16px]":"16px"===s,"h-[18px] w-[109.125px] [&_svg]:!h-[18px] lg:[&_svg]:!h-[18px]":"18px"===s}),children:(0,i.jsx)(n(),{lottieRef:c,animationData:o,loop:!1,autoplay:!1})})}},88887:function(e,t,a){"use strict";a.d(t,{k5:function(){return j},TP:function(){return y},WK:function(){return _},dt:function(){return w},Nm:function(){return k}});var i,s=a(68088),n=a(46887),r=a(16176);a(9506);var l=a(7114),o=a(1851),c=a(60358),d=e=>{let{className:t=""}=e;return(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 30 14",className:"fill-current ".concat(t),xmlSpace:"preserve",children:[(0,s.jsx)("style",{children:".st0{fill-rule:evenodd;clip-rule:evenodd;fill:#FFFFFF;}\n        .st1{fill-rule:evenodd;clip-rule:evenodd;fill:#000000;}\n        .st2{fill:#FFFFFF;}\n        .st3{fill:#000000;}"}),(0,s.jsxs)("g",{children:[(0,s.jsx)("g",{id:"final---dec.11-2020_1_",children:(0,s.jsx)("g",{id:"_x30_208-our-toggle_2_",transform:"translate(-1275.000000, -200.000000)",children:(0,s.jsx)("g",{id:"Final-Copy-2_2_",transform:"translate(1275.000000, 200.000000)",children:(0,s.jsx)("path",{className:"st0",d:"M7.4,12.8h6.8l3.1-11.6H7.4C4.2,1.2,1.6,3.8,1.6,7S4.2,12.8,7.4,12.8z"})})})}),(0,s.jsx)("g",{id:"final---dec.11-2020",children:(0,s.jsx)("g",{id:"_x30_208-our-toggle",transform:"translate(-1275.000000, -200.000000)",children:(0,s.jsxs)("g",{id:"Final-Copy-2",transform:"translate(1275.000000, 200.000000)",children:[(0,s.jsx)("path",{className:"st1",d:"M22.6,0H7.4c-3.9,0-7,3.1-7,7s3.1,7,7,7h15.2c3.9,0,7-3.1,7-7S26.4,0,22.6,0z M1.6,7c0-3.2,2.6-5.8,5.8-5.8 h9.9l-3.1,11.6H7.4C4.2,12.8,1.6,10.2,1.6,7z"}),(0,s.jsx)("path",{className:"st2",d:"M24.6,4c0.2,0.2,0.2,0.6,0,0.8l0,0L22.5,7l2.2,2.2c0.2,0.2,0.2,0.6,0,0.8c-0.2,0.2-0.6,0.2-0.8,0 l0,0l-2.2-2.2L19.5,10c-0.2,0.2-0.6,0.2-0.8,0c-0.2-0.2-0.2-0.6,0-0.8l0,0L20.8,7l-2.2-2.2c-0.2-0.2-0.2-0.6,0-0.8 c0.2-0.2,0.6-0.2,0.8,0l0,0l2.2,2.2L23.8,4C24,3.8,24.4,3.8,24.6,4z"}),(0,s.jsx)("path",{className:"st3",d:"M12.7,4.1c0.2,0.2,0.3,0.5,0.1,0.7l-4,4c-0.2,0.2-0.5,0.3-0.7,0.1s-0.3-0.5-0.1-0.7l4-4C12.2,3.9,12.5,3.9,12.7,4.1z"})]})})})]})]})},u=a(99348),h=a(92794),m=a(21113),p=a(53301),v=a(77095),x=a(23451),f=a(55205),g=a(22021);let b=(0,m.Z)("file:///app/src/components/NavigationLinks.tsx"),y=[{name:"Guides",href:c.ZP.docs,external:!0,isHomePage:!1},{name:"API Reference",href:c.ZP.apiReference,external:!0,isHomePage:!1},{name:"Changelog",href:c.ZP.changelog,external:!1,isHomePage:!1}],j=[{name:"Help Center",href:c.ZP.helpCenter,external:!0,isHomePage:!1},{name:"Community",href:c.ZP.communityInvite,external:!0,isHomePage:!1},{name:"Enterprise",href:c.ZP.enterprise,external:!1,isHomePage:!1},{name:"Voice Actors",href:"https://form.typeform.com/to/dvOqHY8w?typeform-source=localhost",external:!1,isHomePage:!1},{name:"Grants for Startups",href:c.ZP.grants,external:!1,isHomePage:!1},{name:"Voice Data Partnerships",href:c.ZP.voiceDataPartnerships,external:!1,isHomePage:!1},{name:"Partnerships",href:c.ZP.partnerships,external:!0,isHomePage:!1},{name:"Affiliate Program",href:c.ZP.affiliates,external:!1,isHomePage:!1},{name:"Join our Team",href:c.ZP.careers,external:!1,isHomePage:!1}],w=[{name:"Audio Native",href:c.VP.audioNative,external:!1,isHomePage:!1,patterns:["/app/audio-native/:other*"]},{name:"Voiceover Studio",href:c.VP.voiceoverStudio,external:!1,isHomePage:!1,patterns:["/app/voiceover-studio/:other*"]},{name:"AI Speech Classifier",href:c.VP.aiClassifier,external:!1,isHomePage:!1,patterns:["/app/ai-classifier/:other*"]},{name:"Soundboard",href:"".concat((0,u.d)().redirectUrl,"/sound-effects/soundboard"),external:!0,isHomePage:!1,patterns:["/sound-effects/soundboard"]}],_=e=>!!(((null==e?void 0:e.type)==="link"||(null==e?void 0:e.type)==="button"||(null==e?void 0:e.type)==="tooltip")&&(null==e?void 0:e.shouldRender)),k=[{type:"link",name:"Settings",href:c.VP.settings,external:!1},{type:"link",name:"API Keys",href:c.VP.settingsApiKeys,external:!1},{type:"link",name:"Webhooks",href:()=>o.canAccessWorkspaceSettings.value?c.VP.workspaceSettingsWebhooks:c.VP.settingsWebhooks,external:!1},{type:"link",name:"Workspace settings",href:c.VP.workspaceSettings,shouldRender:()=>!!o.canAccessWorkspaceSettings.value,external:!1},{type:"link",name:"Subscription",href:c.VP.subscription,shouldRender:()=>!!o.isWorkspaceAdmin.value,external:!1},{type:"button",name:"Pronunciation dictionaries",onClick:()=>{o.dialogOpen.value="pronunciationDictionaries"},shouldRender:()=>!!r.ZP.isFeatureEnabled("pronunciations-dictionary-editor")},{type:"group",name:"Theme",items:[{type:"button",name:"Light",onClick:()=>{g.themeManager.set("light")}},{type:"button",name:"Dark",onClick:()=>{g.themeManager.set("dark")}}]},{type:"separator"},{type:"link",name:"Payouts",href:c.VP.payouts,external:!1,shouldRender:()=>{var e;return!(0,u.d)().isolatedEnv.isolated&&!(null===(e=o.workspaceData.value)||void 0===e?void 0:e.is_using_consolidated_billing())}},{type:"button",name:"Become an affiliate",onClick:()=>o.dialogOpen.value="referAFriend",shouldRender:e=>{var t;return!(0,v.k4)(null==e?void 0:e.tier)&&!(null===(t=o.userData.value)||void 0===t?void 0:t.referral_link_code)}},{type:"button",name:"Affiliate program",onClick:()=>o.dialogOpen.value="referAFriend",shouldRender:e=>{var t;return!(0,v.k4)(null==e?void 0:e.tier)&&!!(null===(t=o.userData.value)||void 0===t?void 0:t.referral_link_code)}},{type:"link",name:"Usage analytics",href:c.VP.usage,external:!1},{type:"separator"},{type:"group",name:"Docs and resources",items:[{type:"link",name:"Documentation",href:c.ZP.apiReference,external:!0,iconAfter:(0,s.jsx)(n.Z,{})},{type:"link",name:"Changelog",href:c.ZP.changelog,external:!0,iconAfter:(0,s.jsx)(n.Z,{})},{type:"link",name:"Help center",href:c.ZP.helpCenter,external:!0,iconAfter:(0,s.jsx)(n.Z,{})},{type:"link",name:"Affiliate program",href:c.ZP.affiliates,external:!0,iconAfter:(0,s.jsx)(n.Z,{})},{type:"link",name:"AI speech classifier",href:c.ZP.aiSpeechClassifier,external:!0,iconAfter:(0,s.jsx)(n.Z,{})}]},{type:"group",name:"Terms and privacy",items:[{type:"link",name:"Terms",href:c.ZP.termsofuse,external:!0,iconAfter:(0,s.jsx)(n.Z,{})},{type:"link",name:"Privacy policy",href:c.ZP.privacyprivacy,external:!0,iconAfter:(0,s.jsx)(n.Z,{})},{type:"button",name:"Your Privacy Choices",onClick:h.TP,iconAfter:(0,s.jsx)(d,{className:"h-6 w-6 text-subtle"}),shouldRender:async()=>{let e="local"===(0,u.d)().envType,t=async()=>{let t=await (0,h.Kv)().catch(()=>b.error("unable to check privacy state"));return e||!!t};return await t()}},{type:"button",name:"Data use",onClick:x.s,iconAfter:(0,s.jsx)(d,{className:"h-6 w-6 text-subtle"}),shouldRender:e=>!(0,v.k4)(null==e?void 0:e.tier)}]},{type:"separator"},{type:"link",name:"Firestore user",href:()=>{var e;return"http://127.0.0.1:4002/firestore/default/data/user/".concat(null===(e=o.userData.value)||void 0===e?void 0:e.user_id)},shouldRender:()=>"local"===(0,u.d)().envType,external:!0,iconAfter:(0,s.jsx)(n.Z,{})},{type:"link",name:"Firestore workspace",href:()=>{var e;return"http://127.0.0.1:4002/firestore/default/data/workspace/".concat(null===(e=o.userData.value)||void 0===e?void 0:e.workspace_id)},shouldRender:()=>"local"===(0,u.d)().envType,external:!0,iconAfter:(0,s.jsx)(n.Z,{})},{type:"link",name:"Stripe customer",href:()=>{var e,t,a;return"https://dashboard.stripe.com/test/customers/".concat(null===(a=o.workspaceData.value)||void 0===a?void 0:null===(t=a.stripe)||void 0===t?void 0:null===(e=t.customer)||void 0===e?void 0:e.id)},shouldRender:()=>"local"===(0,u.d)().envType,external:!0,iconAfter:(0,s.jsx)(n.Z,{})},{type:"tooltip",name:"".concat((0,u.d)().isolatedEnv.short_display_name,"  Residency"),hoverText:"You are using the ".concat((0,u.d)().isolatedEnv.long_display_name," data residency environment."),shouldRender:()=>(0,u.d)().isolatedEnv.isolated,iconAfter:(0,s.jsx)(l.Z,{countryCode:null!==(i=(0,u.d)().isolatedEnv.flag_code)&&void 0!==i?i:"",svg:!0,className:"rounded-full border border-solid border-gray-200 object-cover text-xl",alt:"".concat((0,u.d)().isolatedEnv.short_display_name," flag")})},{type:"button",name:"Sign out",onClick:()=>{(0,p.M)()},iconBefore:(0,s.jsx)(f.Hl,{className:"w-4"})}]},27473:function(e,t,a){"use strict";a.d(t,{T:function(){return P},H:function(){return S}});var i=a(68088),s=a(4111),n=a(14284),r=a(81999),l=a(9506),o=a(82374),c=a(22061),d=a(47147),u=a(40534),h=a(73862),m=a(4735),p=a(60189);let v=e=>{let t=(0,l.useRef)(null),[a,s]=(0,l.useState)(!0);return(0,l.useEffect)(()=>{if(t.current){if(t.current.complete){s(!1);return}return t.current.onload=()=>s(!1),()=>{t.current&&(t.current.onload=null)}}},[]),(0,i.jsx)("img",{ref:t,"data-loading":a||void 0,...e})},x=e=>{let{children:t}=e,a=t.split(" ");return(0,i.jsxs)(i.Fragment,{children:[a.slice(0,-1).join(" ")," ",(0,i.jsxs)("span",{className:"whitespace-nowrap",children:[a[a.length-1],(0,i.jsx)(c.Z,{className:"inline -mt-0.5 ml-1.5 w-3 h-3 transition duration-200 opacity-0 -translate-x-1 group-focus:opacity-100 group-focus:translate-x-0 group-hover:opacity-100 group-hover:translate-x-0",strokeWidth:"2.5"})]})]})},f=e=>{let{notification:t,size:a,highlight:s,onClick:n}=e,r=(0,i.jsx)(i.Fragment,{children:t.title});if(t.linkTo){let e=!!t.linkTo.match(/^https?:/),a=e?"a":h.default;r=(0,i.jsxs)(a,{className:"rounded-md outline-foreground p-1 -m-1 group",href:t.linkTo,target:e?"_blank":void 0,rel:e?"noopener noreferrer":void 0,onClick:n,children:[(0,i.jsx)("span",{className:"absolute inset-0 z-10"}),(0,i.jsx)(x,{children:t.title})]})}return t.onClick&&(r=(0,i.jsxs)("button",{className:"rounded-md outline-foreground p-1 -m-1 group text-left",onClick:()=>{var e;n(),null===(e=t.onClick)||void 0===e||e.call(t)},children:[(0,i.jsx)("span",{className:"absolute inset-0 z-10"}),(0,i.jsx)(x,{children:t.title})]})),(0,i.jsx)("div",{className:"flex p-1",children:(0,i.jsxs)(u.E.li,{className:(0,p.cn)("relative p-4 transition-colors duration-200 group rounded-lg",{"hover:!bg-gray-alpha-100 cursor-pointer":t.linkTo||t.onClick}),initial:{backgroundColor:s?"#FF990012":void 0},animate:{backgroundColor:s?"transparent":void 0},transition:{delay:1,duration:.3},children:[(0,i.jsxs)("div",{className:(0,p.cn)({"hstack items-start gap-3":"md"===a,"stack gap-4":"lg"===a}),children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-gray-alpha-950 font-bold text-sm/normal",children:r}),(0,i.jsx)("p",{className:"mt-2 text-gray-alpha-500 text-sm",children:t.description})]}),t.largeImage&&t.smallImage&&(0,i.jsx)(v,{className:(0,p.cn)("object-cover shrink-0 data-[loading]:bg-gray-alpha-100 data-[loading]:animate-pulse",{"w-[120px] aspect-[4/3] rounded-xl":"md"===a,"w-full aspect-2 rounded-md":"lg"===a}),src:"lg"===a?t.largeImage.src:t.smallImage.src,alt:"lg"===a?t.largeImage.alt:t.smallImage.alt}),"lg"===a&&(null==t?void 0:t.cta)?(0,i.jsx)(m.Button,{variant:"primary",className:"rounded-lg group-hover:ring-gray-alpha-100 group-hover:ring-2",tabIndex:-1,children:null==t?void 0:t.cta}):null]}),(0,i.jsx)("p",{className:(0,p.cn)("text-xs/5 text-gray-alpha-400","md"===a?"mt-1":"mt-3"),children:(0,d.Z)(new Date(t.timestamp),new Date,{addSuffix:!0})})]})})};var g=a(64755),b=a(11521),y=a(96162),j=a(63415),w=a(85753),_=a(60493),k=a(55205),N=a(35767);let C=()=>{let[e,t]=(0,o._)("notifications_read_id",null);return(0,l.useEffect)(()=>{let a="xi:notifications_read_id",i=window.localStorage.getItem(a);!e&&i&&(t(JSON.parse(i)),window.localStorage.removeItem(a)),"string"==typeof e&&t([e])},[]),[e,a=>{t([...e||[],a.id])}]},S=(0,_.t)(!1),P=(0,r.Pi)(e=>{let{trigger:t,side:a,disableAutoOpen:r,onOpenChange:o}=e,c=(0,l.useRef)("user"),d=(0,l.useRef)(null),{data:u,isLoading:h}=(0,N.z)(),m=null==u?void 0:u[0],[p,v]=C(),x=m&&!(null==p?void 0:p.includes(m.id)),_=e=>{(0,j.eN)(w.B_.notifications_popover_toggle,{mode:e?"open":"close",openSource:c.current}),!e&&x&&v(m),S.value=e,null==o||o(e,c.current)};return(0,l.useEffect)(()=>{var e,t,a,i;if(!y.EA.value||!m)return;let s=null!==(a=null===(t=d.current)||void 0===t?void 0:null===(e=t.checkVisibility)||void 0===e?void 0:e.call(t))&&void 0!==a&&a;if(3>(0,n.default)(Date.now(),new Date(null!==(i=y.EA.value.metadata.creationTime)&&void 0!==i?i:0))||!x||!s||r||!m.isImportant)return;let l=window.setTimeout(()=>{c.current="auto",_(!0)},5e3);return()=>window.clearTimeout(l)},[y.EA.value,m,x,r]),(0,i.jsxs)(g.J2,{open:S.value,onOpenChange:e=>_(e),children:[(0,i.jsx)(g.xo,{ref:d,onClick:()=>{c.current="user"},asChild:!0,children:(0,i.jsx)(t,{isOpen:S.value,icon:(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)(k.yz,{}),x?(0,i.jsx)("span",{className:"w-2 h-2 absolute -top-0.5 right-px border border-background bg-[#007AFF] rounded-full"}):null]})})}),(0,i.jsx)(g.i9,{children:(0,i.jsx)(g.yk,{side:a,sideOffset:20,className:"p-0 w-auto",onCloseAutoFocus:e=>e.preventDefault(),children:h?(0,i.jsxs)("div",{className:"flex items-center justify-center gap-2 px-12 py-6",children:[(0,i.jsx)(s.$,{size:"sm"}),(0,i.jsx)(b.x,{size:"sm",className:"text-center",children:"Loading"})]}):(null==u?void 0:u.length)?(0,i.jsx)("ul",{className:"w-11u sm:w-14u divide-y divide-gray-alpha-200 max-h-19u overflow-y-auto",children:u.map((e,t)=>{let a=0===t?"lg":"md";return(0,i.jsx)(f,{notification:e,size:a,highlight:x&&0===t,onClick:()=>{(0,j.eN)(w.B_.notifications_notification_select,{notification_id:e.id,notification_title:e.title,size:"lg"===a?"large":"small",openSource:c.current}),_(!1)}},e.id)})}):(0,i.jsx)(b.x,{size:"sm",className:"text-center px-12 py-6",children:"No new notifications"})})})]})})},76528:function(e,t,a){"use strict";a.d(t,{R:function(){return d},k:function(){return c}});var i=a(68088),s=a(1756),n=a(9506),r=a(54995),l=a(48246),o=a(3030);let c=(0,n.forwardRef)((e,t)=>{let{isOpen:a,icon:s,...n}=e;return(0,i.jsx)("button",{className:"rounded-lg",...n,ref:t,children:(0,i.jsx)(l.oo,{name:"Notifications",icon:s,hasActiveIndicator:a})})}),d=(0,n.forwardRef)((e,t)=>{let{isOpen:a,icon:n,...l}=e,c=(0,r.bd)("openNotifications"),d=(0,s.q)(t,c);return(0,i.jsx)(o.h,{variant:"outline",size:"lg","aria-label":"User Profile",...l,ref:d,children:n})})},35767:function(e,t,a){"use strict";a.d(t,{z:function(){return x}});var i=a(97918),s=a(14284),n=a(95972),r=a(74487),l=a(99348);let o=async e=>{let t=["all",e.subscription.tier].join(","),a=["all",e.onboarding.role,e.onboarding.subrole].filter(Boolean).join(","),i=(0,r.stringify)({limit:10,sort:"-timestamp",where:{and:[{tiers:{in:t}},{timestamp:{less_than_equal:new Date().toISOString()}},{onboarding_personas:{in:a}}]}},{addQueryPrefix:!0});try{let e=await fetch("".concat((0,l.d)().payloadCmsUrl,"/notifications").concat(i),{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error("Error occurred while fetching notifications, status_code ".concat(e.status));return(await e.json()).docs.map((e,t)=>{var a,i;return{id:e.slug,title:e.title,description:e.description,timestamp:e.timestamp,largeImage:{src:e.largeImage.url,alt:null!==(a=e.largeImage.alt)&&void 0!==a?a:""},smallImage:{src:e.smallImage.url,alt:null!==(i=e.smallImage.alt)&&void 0!==i?i:""},linkTo:e.linkTo,isImportant:e.isImportant,featureFlagControlled:e.featureFlagControlled}})}catch(e){throw e}};var c=a(1851),d=a(9506),u=a(82374);let h={display_pql_notification:e=>{let{userFirstName:t}=e;return{id:"__pql_upsell__",title:t?"".concat(t,", unlock more with our Enterprise plan"):"Unlock more with our Enterprise plan",description:"You're approaching power user status. Consider upgrading to Enterprise to unlock the following features and much more.",isImportant:!0,linkTo:"https://calendly.com/d/cppz-wsy-3hs/elevenlabs-introductory-call",largeImage:{src:"/app_assets/_next/static/media/pql-large.cb6774d2.png",alt:"Unlock more with our Enterprise plan"},smallImage:{src:"/app_assets/_next/static/media/pql-small.6d3babcd.png",alt:"Unlock more with our Enterprise plan"},cta:"Book a call"}},affiliates_promo_notification:()=>({id:"__affiliates_promo__",title:"Become an affiliate, earn with every referral",description:"For every new paid subscriber, you'll earn 22% of all payments for the first 12 months, with no earning cap!",isImportant:!0,onClick:()=>{c.dialogOpen.value="referAFriend"},largeImage:{src:"/app_assets/_next/static/media/affiliates-large.07650575.png",alt:"Become an affiliate, earn with every referral"},smallImage:{src:"/app_assets/_next/static/media/affiliates-small.3f37269a.png",alt:"Become an affiliate, earn with every referral"}})},m=(e,t,a)=>{let[i,s]=(0,u._)("custom_notification_display_time--"+e,null),[n,r]=(0,d.useState)(!1);return((0,d.useEffect)(()=>{t&&!i&&s(Date.now())},[t]),(0,d.useEffect)(()=>{setTimeout(()=>r(!0),3e3)},[]),i)?{isLoading:!1,notification:{...h[e]({userFirstName:a}),timestamp:new Date(i).toISOString()}}:void 0!==t||n?{isLoading:!1,notification:null}:{isLoading:!0,notification:null}};var p=a(96162);function v(e){return null!=e}let x=()=>{var e,t,a,r,l,d,u,h,x,f,g;let b=null===(e=c.userData.value)||void 0===e?void 0:e.first_name,y=null===(t=c.workspaceData.value)||void 0===t?void 0:t.subscription.tier,j=null===(r=c.userData.value)||void 0===r?void 0:null===(a=r.onboarding_survey)||void 0===a?void 0:a.role,w=null===(d=c.userData.value)||void 0===d?void 0:null===(l=d.onboarding_survey)||void 0===l?void 0:l.subrole,_=(0,n.ND)(),k=(null==_?void 0:_.filter(e=>e.startsWith("__notification__")).map(e=>e.replace("__notification__","")))||[],N=m("display_pql_notification",!!(0,n.dl)("display_pql_notification"),b),C=m("affiliates_promo_notification",!!(c.userData.value&&!c.userData.value.referral_link_code&&(0,s.default)(Date.now(),new Date((null===(u=p.EA.value)||void 0===u?void 0:u.metadata.creationTime)||Date.now()))>7&&((null===(h=c.workspaceData.value)||void 0===h?void 0:h.subscription.tier)==="creator"||(null===(x=c.workspaceData.value)||void 0===x?void 0:x.subscription.tier)==="pro"||(null===(f=c.workspaceData.value)||void 0===f?void 0:f.subscription.tier)==="growing_business"||(null===(g=c.workspaceData.value)||void 0===g?void 0:g.subscription.tier)==="scale_2024_08_10")&&.1>Math.random()),b),S=(0,i.useQuery)({queryKey:["notifications",y,j,w],queryFn:()=>y?o({subscription:{tier:y},onboarding:{role:j,subrole:w}}):[],enabled:void 0!==y,staleTime:6e5,refetchOnWindowFocus:!1});return{...S,isLoading:S.isLoading||N.isLoading||C.isLoading||void 0===_,data:[...S.data||[],N.notification,C.notification].filter(v).filter(e=>!e.featureFlagControlled||k.find(t=>t===e.id)).sort((e,t)=>new Date(t.timestamp).getTime()-new Date(e.timestamp).getTime())}}},31100:function(e,t,a){"use strict";a.d(t,{$N:function(){return _},ky:function(){return k}});var i=a(68088),s=a(41236),n=a(64173),r=a(81999),l=a(9506),o=a(71780),c=a(1851),d=a(60358),u=a(17622),h=a(96162),m=a(63415),p=a(85753),v=a(86165),x=a(71037),f=a(79458),g=a(55205),b=a(26397);let y=e=>{let{step:t,isOpen:a,toggleOpen:n,itemNumber:r}=e;return(0,i.jsxs)("div",{onClick:()=>n(t.title),className:"border rounded-lg p-3 flex gap-3 bg-background border border-gray-200 cursor-pointer",children:[t.is_completed?(0,i.jsx)(s.Z,{size:20,color:"#312B41"}):(0,i.jsx)(b.default,{color:"black",weight:"medium",noBaseClass:!0,className:"text-xs leading-4 border border-gray-200 rounded-full w-[20px] h-[20px] grid place-items-center inter",children:r}),(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsx)("div",{className:"flex gap-3 items-center rounded-lg justify-between",children:(0,i.jsx)(b.default,{color:"black",weight:"bold",noBaseClass:!0,className:"text-base leading-6",variant:"h3",children:t.title})}),a&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(b.default,{color:"gray",weight:"light",noBaseClass:!0,className:"text-sm leading-5 mt-2",variant:"p",children:t.description}),(0,i.jsx)("div",{className:"flex gap-6 items-center mt-4",children:(0,i.jsx)(f.default,{disabled:t.is_completed,variant:"primary",size:"md",children:(0,i.jsx)(x.a,{href:t.landing_page,children:t.is_completed?"Completed":t.button_text})})})]})]})]})},j=e=>{var t;let{items:a,completedStepsCount:s,totalStepsCount:n}=e,r=(null===(t=a.find(e=>!e.is_completed))||void 0===t?void 0:t.title)||"",[o,c]=(0,l.useState)(r);(0,l.useEffect)(()=>{c(r)},[r]);let d=e=>{c(o===e?"":e)},u=s/n;return(0,i.jsxs)("div",{className:"p-4",children:[(0,i.jsxs)("div",{className:"border border-gray-200 rounded-lg p-3 mb-4",children:[(0,i.jsx)("div",{className:"flex justify-between",children:(0,i.jsxs)(b.default,{color:"gray",weight:"medium",noBaseClass:!0,className:"text-sm mb-3",variant:"p",children:["Completed ",s," of ",n," steps"]})}),(0,i.jsx)("div",{className:"w-full bg-gray-50 border border-gray-200 rounded-full h-2",children:(0,i.jsx)("div",{className:"bg-foreground h-2 rounded-full",style:{width:"".concat(100*u,"%")}})})]}),(0,i.jsxs)("div",{className:"border border-gray-200 rounded-lg bg-gray-50 p-6",children:[(0,i.jsx)(b.default,{color:"black",weight:"bold",variant:"h6",children:"Your Onboarding Checklist"}),(0,i.jsx)("div",{className:"flex flex-col gap-2 mt-4",children:a&&a.map((e,t)=>{let a=o===e.title;return(0,i.jsx)(y,{step:e,isOpen:a,toggleOpen:d,itemNumber:t+1},t)})})]})]})},w=()=>(0,i.jsxs)("div",{className:"justify-center mx-20 p-10",children:[(0,i.jsx)("div",{className:"flex justify-center mb-6",children:(0,i.jsx)(s.Z,{className:"h-14 w-14 text-green-600"})}),(0,i.jsx)(b.default,{variant:"h5",weight:"bold",color:"black",className:"text-center text-xl",children:"Congratulations! You've completed your onboarding checklist."}),(0,i.jsx)("div",{className:"mt-6 flex items-center justify-center text-center",children:(0,i.jsxs)(b.default,{variant:"body2",classNames:"text-center",children:["To learn more about what you can do with ElevenLabs's best-in-class AI audio, explore our"," ",(0,i.jsx)("a",{href:"https://elevenlabs.io/docs/introduction",target:"_blank",className:"underline text-foreground hover:text-foreground justify-center",rel:"noopener",children:"documentation"})," ","and"," ",(0,i.jsx)("a",{href:"https://help.elevenlabs.io/hc/en-us",target:"_blank",className:"underline text-foreground hover:text-foreground",rel:"noopener",children:"Help Center"}),"."]})})]}),_=(0,r.Pi)(()=>{var e,t;let[a,s]=(0,l.useState)(!1),[n,r]=(0,l.useState)(0),[o,d]=(0,l.useState)(0);return((0,l.useEffect)(()=>{var e,t,a,i,n,l,o;null===c.userData.value||null===c.userData.value.onboarding_checklist||(null===(e=c.userData.value)||void 0===e?void 0:e.is_onboarding_checklist_completed)===!0||(null===(a=c.userData.value)||void 0===a?void 0:null===(t=a.onboarding_checklist)||void 0===t?void 0:t.hidden)===!0?s(!1):(s(!0),r(null===(n=c.userData.value)||void 0===n?void 0:null===(i=n.onboarding_checklist)||void 0===i?void 0:i.items.filter(e=>e.is_completed).length),d(null===(o=c.userData.value)||void 0===o?void 0:null===(l=o.onboarding_checklist)||void 0===l?void 0:l.items.length))},[c.userData.value,null===(e=c.userData.value)||void 0===e?void 0:e.onboarding_checklist,null===(t=c.userData.value)||void 0===t?void 0:t.is_onboarding_checklist_completed]),a)?(0,i.jsx)("div",{className:"bg-gray-500 border rounded-full flex items-center justify-center w-[1.5rem] h-[1.5rem]",children:(0,i.jsxs)(b.default,{color:"white",weight:"semiBold",noBaseClass:!0,className:"text-[9px]",children:[n,"/",o]})}):null}),k=(0,r.Pi)(()=>{var e,t,a,s;let[r,u]=(0,l.useState)(!1),[h,v]=(0,l.useState)(0),[f,y]=(0,l.useState)(0),[j,w]=(0,l.useState)(""),[_,k]=(0,l.useState)([]);(0,l.useEffect)(()=>{var e,t,a,i;w((null===(t=c.userData.value)||void 0===t?void 0:null===(e=t.onboarding_checklist)||void 0===e?void 0:e.checklist_id)||""),k((null===(i=c.userData.value)||void 0===i?void 0:null===(a=i.onboarding_checklist)||void 0===a?void 0:a.items)||[])},[null===(e=c.userData.value)||void 0===e?void 0:e.is_onboarding_checklist_completed,null===(t=c.userData.value)||void 0===t?void 0:t.onboarding_checklist]),(0,l.useEffect)(()=>{var e,t,a,i,s,n,r;null===c.userData.value||null===c.userData.value.onboarding_checklist||(null===(e=c.userData.value)||void 0===e?void 0:e.is_onboarding_checklist_completed)===!0||(null===(a=c.userData.value)||void 0===a?void 0:null===(t=a.onboarding_checklist)||void 0===t?void 0:t.hidden)===!0?u(!1):(u(!0),v(null===(s=c.userData.value)||void 0===s?void 0:null===(i=s.onboarding_checklist)||void 0===i?void 0:i.items.filter(e=>e.is_completed).length),y(null===(r=c.userData.value)||void 0===r?void 0:null===(n=r.onboarding_checklist)||void 0===n?void 0:n.items.length))},[c.userData.value,null===(a=c.userData.value)||void 0===a?void 0:a.onboarding_checklist,null===(s=c.userData.value)||void 0===s?void 0:s.is_onboarding_checklist_completed]);let N=async e=>{e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),await (0,o.VI)(),(0,m.eN)(p.B_.onboarding_checklist_hidden,{checklist_id:j,item_ids:_.map(e=>e.onboarding_checklist_item_id)})};return r?c.workspaceData.value&&(0,i.jsxs)("div",{className:"bg-foreground py-2.5 w-full px-3.5 rounded-lg",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,i.jsx)(x.a,{href:d.VP.onboardingChecklist,children:(0,i.jsxs)("div",{className:"flex justify-start",children:[(0,i.jsx)(b.default,{color:"white",variant:"body2",className:"mb-0",children:"Get started"}),(0,i.jsx)(g.jh,{color:"white",size:"1rem",className:"ml-1"})]})}),(0,i.jsx)("div",{className:"flex justify-end",children:(0,i.jsx)("button",{onClick:N,children:(0,i.jsx)(n.Z,{color:"white",className:"w-6 h-6"})})})]}),(0,i.jsx)(x.a,{href:d.VP.onboardingChecklist,children:(0,i.jsxs)("div",{children:[(0,i.jsxs)(b.default,{color:"white",noBaseClass:!0,className:"text-xs",variant:"p",children:[h,"/",f," steps completed"]}),(0,i.jsx)(b.default,{color:"lightGray",className:"mt-1",variant:"body3",children:"Get started by completing these onboarding steps to learn more about ElevenLabs."})]})})]}):null}),N=(0,r.Pi)(()=>{var e,t,a,s,n;let[r,o]=(0,l.useState)(0),[d,m]=(0,l.useState)(""),[p,x]=(0,l.useState)([]),[f,g]=(0,l.useState)({isCompleted:null===(e=c.userData.value)||void 0===e?void 0:e.is_onboarding_checklist_completed,checklist:null===(t=c.userData.value)||void 0===t?void 0:t.onboarding_checklist}),[y,_]=(0,l.useState)(!1),[k,N]=(0,l.useState)(!1);(0,l.useEffect)(()=>{var e,t;g({isCompleted:null===(e=c.userData.value)||void 0===e?void 0:e.is_onboarding_checklist_completed,checklist:null===(t=c.userData.value)||void 0===t?void 0:t.onboarding_checklist})},[null===(a=c.userData.value)||void 0===a?void 0:a.is_onboarding_checklist_completed,null===(s=c.userData.value)||void 0===s?void 0:s.onboarding_checklist]);let C=e=>null==e?void 0:e.map(e=>{let t=v.eL[e.onboarding_checklist_item_id];return{onboarding_checklist_item_id:e.onboarding_checklist_item_id,id:e.onboarding_checklist_item_id,title:null==t?void 0:t.title,description:null==t?void 0:t.description,button_text:null==t?void 0:t.button_text,landing_page:null==t?void 0:t.landing_page,is_completed:e.is_completed}}),S=async()=>{var e,t,a;if((null===(e=c.userData.value)||void 0===e?void 0:e.onboarding_checklist)!==null){let e=(null===(t=c.userData.value)||void 0===t?void 0:t.onboarding_checklist.checklist_id)||"",i=(null===(a=c.userData.value)||void 0===a?void 0:a.onboarding_checklist.items)||[];m(e),x(C(i)),o(null==i?void 0:i.filter(e=>e.is_completed).length)}};(0,l.useEffect)(()=>{f.isCompleted||null===f.checklist?f.isCompleted&&null!==f.checklist&&(S(),_(!0),k||N(!0)):S()},[f]);let P=null==p?void 0:p.length;return(0,i.jsx)(u.Vk,{title:"Onboarding Checklist",description:"A guided tour of ElevenLabs",requiredPermission:null,children:(0,i.jsxs)("div",{className:"p-6 pt-10 max-w-4xl mx-auto bg-background border border-gray-200 rounded-lg",children:[(0,i.jsxs)("div",{className:"flex flex-col gap-2 items-center justify-center",children:[(0,i.jsxs)(b.default,{color:"black",weight:"bold",variant:"h5",children:["Hi ",null===(n=h.EA.value)||void 0===n?void 0:n.displayName,", welcome to ElevenLabs"]}),(0,i.jsx)(b.default,{color:"darkGray",weight:"normal",variant:"body1",children:"Get started by completing these onboarding steps to learn more about what you can do with ElevenLabs."})]}),(0,i.jsx)("div",{className:"mt-4",children:y?(0,i.jsx)(w,{}):(0,i.jsx)(j,{items:p,completedStepsCount:r,totalStepsCount:P})})]})})});t.ZP=N},81158:function(e,t,a){"use strict";a.d(t,{W:function(){return p},Y:function(){return x}});var i=a(68088),s=a(6496),n=a(5132),r=a(40534),l=a(81999),o=a(73862),c=a(1851),d=a(60358),u=a(48246),h=a(74021),m=a(77095);let p=e=>(null==e?void 0:e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))||"",v=(0,l.Pi)(e=>{let{size:t="1.3rem",thickness:a="8px",withPercentage:l}=e;return c.workspaceData.value&&(()=>{let e=Math.round(100*Math.min(c.workspaceData.value.subscription.character_count/c.workspaceData.value.subscription.character_limit,1));return(0,i.jsx)(r.E.div,{initial:{opacity:0},animate:{opacity:1},children:(0,i.jsx)(s.D,{size:l?"2.2rem":t,value:e,thickness:a,color:"#030712",trackColor:"#d1d5db",capIsRound:!0,children:(0,i.jsx)(i.Fragment,{children:l?(0,i.jsxs)(n.i,{fontSize:"0.6rem",fontWeight:"bold",children:[e,"%"]}):null})})})})()}),x=(0,l.Pi)(()=>{var e,t;let a=(0,h.xx)(c.workspaceData.value);return c.workspaceData.value&&(0,i.jsx)(r.E.div,{initial:{opacity:0},animate:{opacity:1},children:(0,i.jsxs)("div",{className:"bg-gray-alpha-100 inter p-3 w-full rounded-lg text-xs stack gap-3.5",children:[(0,i.jsxs)("div",{className:"hstack justify-between text-gray-alpha-500",children:[(0,i.jsx)("div",{children:"Credit quota"}),(0,i.jsx)("div",{children:!(0,m.k4)(null===(t=c.workspaceData.value)||void 0===t?void 0:null===(e=t.subscription)||void 0===e?void 0:e.tier)&&(0,i.jsx)(o.default,{href:d.VP.subscription,onClick:()=>{u.py.value=!1},className:"outline-foreground",children:(0,i.jsx)("span",{className:"text-gray-alpha-900 font-medium inter text-xs",children:"Upgrade"})})})]}),(0,i.jsxs)("div",{className:"font-medium hstack items-center gap-2.5",children:[(0,i.jsxs)("div",{className:"stack gap-0.5 flex-grow",children:[(0,i.jsxs)("div",{className:"inter hstack justify-between",children:[(0,i.jsx)("div",{children:"Total"}),(0,i.jsx)("div",{className:"tabular-nums",children:p(c.workspaceData.value.subscription.character_limit)})]}),a?(0,i.jsxs)("div",{className:"inter hstack justify-between",children:[(0,i.jsx)("div",{children:"used"===a[0]?"Used":"Remaining"}),(0,i.jsx)("div",{className:"tabular-nums",children:a[1]})]}):null]}),(0,i.jsx)("div",{children:(0,i.jsx)(v,{withPercentage:!0,thickness:"5px"})})]})]})})})},80396:function(e,t,a){"use strict";a.d(t,{Dw:function(){return C},Fi:function(){return P},Xm:function(){return k},rK:function(){return N}});var i=a(68088),s=a(6496),n=a(5132),r=a(40534),l=a(18743),o=a(30395),c=a(81999),d=a(23431),u=a(1851),h=a(60358),m=a(4735),p=a(3030),v=a(11521),x=a(25933),f=a(60189),g=a(74021),b=a(77095),y=a(76628),j=a(71037),w=a(55205),_=a(81158);let k=(0,c.Pi)(e=>{var t,a;let{size:o="1.1rem",thickness:c="10px",className:d,showPercentage:h=!1,reversed:m=!1}=e,p=(0,b.yS)((null===(a=u.workspaceData.value)||void 0===a?void 0:null===(t=a.subscription)||void 0===t?void 0:t.status)||"active"),v=(0,g.Tl)(u.workspaceData.value)||0;return(0,i.jsx)(r.E.div,{initial:{opacity:0},animate:{opacity:1},className:"flex",children:(0,i.jsx)(s.D,{size:o,value:m?100-v:v,thickness:c,color:p?"orange.500":v<80?"black":"red.600",trackColor:p?"orange.500":v<80?"#d1d5db":"red.100",capIsRound:!0,className:(0,f.cn)(d,m&&"[transform:rotateY(180deg)]"),children:(0,i.jsx)(l.M,{children:h&&(0,i.jsx)(r.E.div,{initial:{opacity:0,zoom:.8},animate:{opacity:1,zoom:1},exit:{opacity:0,zoom:.8},transition:{duration:.1},children:(0,i.jsx)(n.i,{children:(0,i.jsx)("span",{children:(0,g.ms)(u.workspaceData.value)})})})},"percentage")})})}),N=(0,c.Pi)(e=>{let{onDismissedClicked:t}=e,a=(0,g.Tl)(u.workspaceData.value)||0,s=(0,d.useRouter)();return u.workspaceData.value?a>=80&&(0,i.jsx)(r.E.div,{initial:{opacity:0},animate:{opacity:1,transition:{delay:.05,duration:.3}},exit:{opacity:0,transition:{duration:.2,delay:0}},layout:!0,className:"mb-1 mt-0.5 px-3",children:(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsxs)("div",{className:"bg-gray-alpha-50 border-gray-alpha-200 border inter p-3 pr-2 w-full rounded-xl hstack gap-2.5 items-center h-11 shrink-0 overflow-hidden",children:[(0,i.jsxs)("div",{className:"hstack items-center gap-2.5 shrink-0",children:[(0,i.jsx)("div",{className:"pt-[0.0625rem] pr-[0.0625rem]",children:(0,i.jsx)(w.nB,{size:"0.875rem"})}),(0,i.jsx)(v.x,{weight:"medium",size:"sm",truncate:!0,children:"Low credits"})]}),(0,i.jsxs)("div",{className:"hstack gap-1 items-center justify-between grow",children:[(0,i.jsx)(m.Button,{variant:"outline",size:"2xs",className:"h-6 text-xs bg-background",onClick:()=>{s.push(h.VP.subscription)},children:"Upgrade"}),(0,i.jsx)(p.h,{"aria-label":"Dismiss low credits warning",variant:"ghost",size:"sm",onClick:()=>t(),className:"hover:bg-transparent w-[1.1rem]",children:(0,i.jsx)(o.Z,{})})]})]}),(0,i.jsx)("div",{className:"w-2.5 h-2.5 bg-slate-50 rotate-45 -bottom-[5px] left-[1.625rem] rounded-br-[3px] absolute z-20 border-slate-150 border-r border-b"})]})}):null}),C=(0,c.Pi)(()=>{var e,t,a,s,n,l,o;let c=(0,g.xx)(u.workspaceData.value),p=(0,d.useRouter)(),v=null!==(o=null===(t=u.workspaceData.value)||void 0===t?void 0:null===(e=t.subscription)||void 0===e?void 0:e.status)&&void 0!==o?o:"active",x=(null===(a=u.workspaceData.value)||void 0===a?void 0:a.subscription)!==void 0&&(0,b.i$)(u.workspaceData.value.subscription),f=null===(s=u.workspaceData.value)||void 0===s?void 0:s.is_using_consolidated_billing();return u.workspaceData.value&&(0,i.jsx)(r.E.div,{className:"p-1 border-b bg-gray-alpha-50 dark:bg-transparent",initial:{opacity:0},animate:{opacity:1},children:(0,i.jsxs)("div",{className:"bg-background dark:bg-gray-alpha-100 p-2.5 w-full text-sm stack gap-3.5 shadow-natural-xs rounded-lg",children:[(0,i.jsxs)("div",{className:"hstack justify-between text-gray-alpha-500",children:[(0,i.jsxs)("div",{className:"hstack items-center",children:[(0,i.jsx)("div",{children:(0,i.jsx)(k,{thickness:"10px",showPercentage:!1})}),(0,i.jsx)("div",{className:"text-foreground font-medium ml-1.5",children:"Credits"})]}),(0,i.jsx)("div",{children:!(0,b.k4)(null===(l=u.workspaceData.value)||void 0===l?void 0:null===(n=l.subscription)||void 0===n?void 0:n.tier)&&(0,i.jsx)(m.Button,{variant:"primary",size:"2xs",className:"h-6 text-xs",onClick:()=>{p.push(h.VP.subscription)},children:"Upgrade"})})]}),f&&(0,i.jsx)(y.Z,{severity:"warning",children:"The credits used include other workspaces on this subscription."}),x&&(0,i.jsxs)("div",{className:"text-subtle",children:[(0,b.hu)(v)?"You have an incomplete or failed payment.":"Your free tier access has been disabled. Please upgrade to a paid plan."," ",u.isLoggedIn.value&&(0,i.jsx)(j.a,{href:h.VP.subscription,className:"link",children:"Update subscription?"})]}),(0,i.jsx)("div",{className:"hstack text-xm items-center gap-2.5",children:(0,i.jsxs)("div",{className:"stack gap-0.5 flex-grow",children:[(0,i.jsxs)("div",{className:"hstack justify-between",children:[(0,i.jsx)("div",{className:"text-subtle",children:"Total"}),(0,i.jsx)("div",{className:"tabular-nums font-medium",children:(0,_.W)(u.workspaceData.value.subscription.character_limit)})]}),c?(0,i.jsxs)("div",{className:"hstack justify-between",children:[(0,i.jsx)("div",{className:"text-subtle",children:"used"===c[0]?"Used":"Remaining"}),(0,i.jsx)("div",{className:"tabular-nums font-medium",children:c[1]})]}):null]})})]})})}),S=(e,t)=>{let a=(0,g.Ve)(t);return a&&"usedOverLimit"!==a[0]?(0,_.W)(e)+" / "+(0,_.W)(a[1]):(0,_.W)(e)},P=e=>{let{characterCost:t,workspaceData:a,costExplanation:s}=e;return(0,i.jsx)(x.Tooltip,{label:(0,i.jsxs)(i.Fragment,{children:["Costs ",(0,_.W)(t)," credits."," ",(0,g.fo)(a,s)]}),openDelay:300,gutter:20,children:(0,i.jsx)(v.x,{color:"subtle",size:"xs",className:"tabular-nums mx-3",children:S(t,a)})})}},97751:function(e,t,a){"use strict";a.d(t,{A:function(){return g}});var i=a(68088),s=a(4821),n=a(2923),r=a(81999),l=a(9506),o=a(79458),c=a(17024);let d=(0,a(60493).t)({isRecording:!1,normalizedLoudness:null,recordedAudioDurationSecs:null});class u{constructor({maxDurationSecs:e=null,onMaxDurationCb:t=null}){var a=this;for(let e of((0,c._)(this,"_mediaRecorder",void 0),(0,c._)(this,"_stream",void 0),(0,c._)(this,"_recordedChunks",void 0),(0,c._)(this,"onDataAvailable",void 0),(0,c._)(this,"onStop",void 0),(0,c._)(this,"onStart",void 0),(0,c._)(this,"options",void 0),(0,c._)(this,"_analyserBuffer",void 0),(0,c._)(this,"_analyser",void 0),(0,c._)(this,"_startedRecordingAtUnixMs",void 0),(0,c._)(this,"_loudnessEma",void 0),(0,c._)(this,"maxDurationSecs",void 0),(0,c._)(this,"onMaxDurationCb",void 0),(0,c._)(this,"startRecording",e=>{navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(async e=>{this._recordedChunks=[],this._stream=e,this._mediaRecorder="undefined"==typeof MediaRecorder?null:new MediaRecorder(this._stream,this.options);let t=new AudioContext,a=t.createMediaStreamSource(e);this._analyser=t.createAnalyser(),this._analyser.fftSize=512,a.connect(this._analyser),this._analyserBuffer=new Float32Array(this._analyser.fftSize),null!==this._mediaRecorder&&(this._mediaRecorder.ondataavailable=e=>{this._recordedChunks.push(e.data),this.onDataAvailable&&this.onDataAvailable(e.data)},this._mediaRecorder.onstart=()=>{this._startedRecordingAtUnixMs=Date.now(),null!==this.onStart&&this.onStart()},this._mediaRecorder.onstop=this.onStop,this._mediaRecorder.start(100)),d.value={isRecording:!0,normalizedLoudness:0,recordedAudioDurationSecs:0},this._pollAudioProgress()}).catch(t=>null==e?void 0:e(t))}),(0,c._)(this,"_getPeakLoudness",()=>{if(null===this._analyser||null===this._analyserBuffer)return 0;this._analyser.getFloatTimeDomainData(this._analyserBuffer);let e=0;for(let t of this._analyserBuffer)e+=Math.pow(t,2);return Math.sqrt(e/this._analyserBuffer.length)}),(0,c._)(this,"_pollAudioProgress",async()=>{for(;d.value.isRecording&&null!==d.value.normalizedLoudness;){let e=Math.min(10*this._getPeakLoudness(),1),t=this._getDuration();if(d.value={...d.value,normalizedLoudness:this._loudnessEma*d.value.normalizedLoudness+(1-this._loudnessEma)*e,recordedAudioDurationSecs:t},null!==this.maxDurationSecs&&t>=this.maxDurationSecs){this.stopRecording(),null!==this.onMaxDurationCb&&this.onMaxDurationCb();break}await new Promise(e=>setTimeout(e,100))}}),(0,c._)(this,"_getDuration",()=>null===this._startedRecordingAtUnixMs?0:(Date.now()-this._startedRecordingAtUnixMs)/1e3),(0,c._)(this,"getBlob",()=>new Blob(this._recordedChunks,{type:"audio/ogg; codecs=opus"})),(0,c._)(this,"stopRecording",function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;try{a._mediaRecorder&&"recording"===a._mediaRecorder.state&&a._stream&&(a._mediaRecorder.stop(),a._stream.getTracks().forEach(e=>{e.stop()}))}catch(t){e&&e(t)}d.value={...d.value,isRecording:!1},a._startedRecordingAtUnixMs=null}),(0,c._)(this,"getMimeType",()=>{var e;return null===(e=this._mediaRecorder)||void 0===e?void 0:e.mimeType}),(0,c._)(this,"getExtension",()=>{let e=this.getMimeType();return void 0===e?null:e.split(";")[0].split("/")[1]}),(0,c._)(this,"reset",()=>{this._mediaRecorder=null,this._recordedChunks=[],this._stream=null,this._analyser=null,this._analyserBuffer=null,d.value={isRecording:!1,normalizedLoudness:null,recordedAudioDurationSecs:null},this._startedRecordingAtUnixMs=null}),this._mediaRecorder=null,this._stream=null,this._recordedChunks=[],this.onDataAvailable=null,this.onStop=null,this.onStart=null,this.options={},this._analyserBuffer=null,this._analyser=null,this._startedRecordingAtUnixMs=null,["audio/webm","audio/mp4"]))MediaRecorder.isTypeSupported(e)&&(this.options={mimeType:e});d.value={isRecording:!1,normalizedLoudness:null,recordedAudioDurationSecs:null},this._loudnessEma=.5,this.maxDurationSecs=e,this.onMaxDurationCb=t}}var h=a(77491),m=a(26397);let p=(0,r.Pi)(e=>{var t;let{maxDurationSecs:a,showMaxDuration:s}=e,n=(0,h.zG)(null!==(t=d.value.recordedAudioDurationSecs)&&void 0!==t?t:0);return s&&null!==a&&(n+=" / "+(0,h.zG)(a)),(0,i.jsx)(m.default,{children:n})});var v=a(70140);let x=(0,r.Pi)(e=>{let t,{className:a}=e;return t=d.value.isRecording&&null!==d.value.normalizedLoudness?Math.round(10*d.value.normalizedLoudness):0,(0,i.jsx)("div",{className:a,children:(0,i.jsx)("div",{className:"flex justify-center",children:(0,i.jsx)("div",{className:"flex space-x-2",children:Array.from(Array(10).keys()).map(e=>(0,i.jsx)("div",{className:(0,v.A)(e<t?"bg-gray-alpha-900":"bg-gray-alpha-200","rounded-sm"),style:{height:20,width:5}},e))})})})});var f=a(23636);let g=(0,r.Pi)(e=>{let{setFile:t,onStart:a,onFinish:r,onError:c,maxDurationSecs:h,showMaxDuration:m,showToastOnMaxDuration:v,autoStart:g}=e,b=(0,l.useRef)(null);return(0,l.useEffect)(()=>{b.current=new u({maxDurationSecs:null===h?null:h-.5,onMaxDurationCb:()=>{null!==h&&v&&(0,f.default)("We currently only allow a maximum of ".concat(h," seconds of recorded audio, we will lift this limit in the future."))}}),b.current.onStop=async()=>{if(null===b.current)return;let e=b.current.getBlob(),a=await b.current.getExtension();if(null===a)throw Error("Mime type 'undefined' received for recorded audio, this should never happen ...");let i=new File([e],"recording.".concat(a),{type:b.current.getMimeType()});null==t||t(i),null==r||r(i,b.current,d.value)}},[h]),(0,l.useEffect)(()=>{if(g&&null!==b.current&&!d.value.isRecording){var e;null==a||a(),null===(e=b.current)||void 0===e||e.startRecording(c)}},[g]),(0,i.jsxs)("div",{className:"flex flex-col items-center",children:[(0,i.jsx)("div",{className:"mb-4",children:(0,i.jsx)(o.h,{onClick:e=>{e.preventDefault(),e.stopPropagation(),null!==b.current&&(d.value.isRecording?b.current.stopRecording(c):(null==a||a(),b.current.startRecording(c)))},variant:"primary",Icon:d.value.isRecording?(0,i.jsx)(n.Z,{}):(0,i.jsx)(s.Z,{}),size:"md"})}),(0,i.jsx)(x,{className:"mb-3"}),(0,i.jsx)(p,{showMaxDuration:m,maxDurationSecs:h})]})})},13851:function(e,t,a){"use strict";a.d(t,{f:function(){return k}});var i=a(68088),s=a(98780),n=a(81999),r=a(19803),l=a(73862),o=a(93281),c=a(9506),d=a(71780),u=a(1851),h=a(60358),m=a(23636),p=a(30121),v=a(4735),x=a(79709),f=a(89219),g=a(44463),b=a(11521),y=a(63415),j=a(85753);let w=(0,a(21113).Z)("file:///app/src/components/ReferAFriendDialog/index.tsx"),_=()=>(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1282.84 438.82",className:"w-[180px]",children:(0,i.jsxs)("g",{children:[(0,i.jsx)("path",{className:"cls-1",fill:"#b6bcf7",d:"M168.78,202.53a50.47,50.47,0,0,0-21.7,4.88v7.18a72.32,72.32,0,0,0,69.46,72.26A50.59,50.59,0,0,0,219.41,270V253.16A50.63,50.63,0,0,0,168.78,202.53Z"}),(0,i.jsx)("path",{className:"cls-2",fill:"#434ee1",d:"M219.41,118.14a72.33,72.33,0,0,0-72.33,72.34v16.93a50.64,50.64,0,0,1,72.33,45.75V270a50.59,50.59,0,0,1-2.87,16.81c1,0,1.91.07,2.87.07a72.33,72.33,0,0,0,72.33-72.33V190.48A72.33,72.33,0,0,0,219.41,118.14Z"}),(0,i.jsx)("path",{className:"cls-3",fill:"#0a1567",d:"M147.08,214.59v-7.18a50.64,50.64,0,0,0-28.94,45.75V270a50.64,50.64,0,0,0,98.4,16.81A72.32,72.32,0,0,1,147.08,214.59Z"}),(0,i.jsx)("path",{className:"cls-4",fill:"#0c106c",d:"M407.15,183.1a29.21,29.21,0,0,0-12-11.94q-7.93-4.35-19.61-4.35h-38V268.08H355.9V233.86h19.38q11.73,0,19.73-4.32a29.22,29.22,0,0,0,12.12-11.9,38.51,38.51,0,0,0,0-34.54Zm-16.71,26.78a15.11,15.11,0,0,1-6.45,6.53,23.26,23.26,0,0,1-11.18,2.37H355.9V182.14h16.81a24,24,0,0,1,11.25,2.3,14.74,14.74,0,0,1,6.48,6.4,20.58,20.58,0,0,1,2.1,9.5A20.87,20.87,0,0,1,390.44,209.88Z"}),(0,i.jsx)("path",{className:"cls-4",fill:"#0c106c",d:"M439.43,269.62a31.28,31.28,0,0,1-13-2.6,20.87,20.87,0,0,1-9.1-7.69A22.45,22.45,0,0,1,414,246.77a21.44,21.44,0,0,1,2.37-10.63,18.35,18.35,0,0,1,6.48-6.73,32.93,32.93,0,0,1,9.27-3.83,76.22,76.22,0,0,1,10.71-1.9q6.67-.69,10.83-1.26a15.87,15.87,0,0,0,6.05-1.78,4.17,4.17,0,0,0,1.91-3.79v-.29c0-3.73-1.11-6.61-3.32-8.66s-5.39-3.06-9.54-3.06q-6.57,0-10.41,2.86a14.29,14.29,0,0,0-5.17,6.78l-16.71-2.37a26.78,26.78,0,0,1,6.53-11.6,28.63,28.63,0,0,1,11.12-7,42.89,42.89,0,0,1,14.54-2.35,47.78,47.78,0,0,1,10.93,1.28,31.13,31.13,0,0,1,9.94,4.23,21.78,21.78,0,0,1,7.24,8,26.12,26.12,0,0,1,2.75,12.61v50.83H462.33V257.65h-.59A21.64,21.64,0,0,1,449.79,268,29.58,29.58,0,0,1,439.43,269.62Zm4.65-13.16a19.22,19.22,0,0,0,9.35-2.15,15.75,15.75,0,0,0,6.11-5.71,14.76,14.76,0,0,0,2.15-7.76v-9a8.33,8.33,0,0,1-2.85,1.28,41.26,41.26,0,0,1-4.47,1c-1.65.3-3.28.56-4.9.79l-4.2.59a31.87,31.87,0,0,0-7.17,1.78,12.07,12.07,0,0,0-5,3.44,9.59,9.59,0,0,0,1.78,13.13A15.73,15.73,0,0,0,444.08,256.46Z"}),(0,i.jsx)("path",{className:"cls-4",fill:"#0c106c",d:"M494.11,268.08V192.13h17.36v12.66h.79a19.09,19.09,0,0,1,7.15-10.17A19.56,19.56,0,0,1,531,191c1,0,2.1,0,3.34.12a26.79,26.79,0,0,1,3.09.37V208a20.5,20.5,0,0,0-3.58-.72,37.22,37.22,0,0,0-4.73-.32,18.11,18.11,0,0,0-8.77,2.1,15.74,15.74,0,0,0-6.11,5.81,16.38,16.38,0,0,0-2.23,8.56v44.65Z"}),(0,i.jsx)("path",{className:"cls-4",fill:"#0c106c",d:"M577.2,253.35c-.5.13-1.21.28-2.15.44A17.42,17.42,0,0,1,572,254a11.42,11.42,0,0,1-4.06-.69,5.72,5.72,0,0,1-2.94-2.6,11.1,11.1,0,0,1-1.11-5.51V206h15V192.13h-15v-18.2H546V248.2A20.68,20.68,0,0,0,549,260.07a18.47,18.47,0,0,0,8.53,7,28.93,28.93,0,0,0,12.11,2.05,33.35,33.35,0,0,0,6.46-.69,40.88,40.88,0,0,0,4.07-1.09Z"}),(0,i.jsx)("path",{className:"cls-4",fill:"#0c106c",d:"M611,223.58v44.5h-17.9V192.13h17.11V205h.89a21.65,21.65,0,0,1,8.38-10.13q5.76-3.77,14.27-3.76a27.11,27.11,0,0,1,13.72,3.36,22.83,22.83,0,0,1,9.1,9.74,33.54,33.54,0,0,1,3.19,15.48v48.36h-17.9V222.49q0-7.62-3.93-11.92T627,206.27a16.62,16.62,0,0,0-8.33,2,14.42,14.42,0,0,0-5.69,5.91A19.66,19.66,0,0,0,611,223.58Z"}),(0,i.jsx)("path",{className:"cls-4",fill:"#0c106c",d:"M742.38,229.51a48.15,48.15,0,0,0-2.77-17.23A32.74,32.74,0,0,0,732,200.34a30.38,30.38,0,0,0-11.08-7,38.89,38.89,0,0,0-13.27-2.25,35.36,35.36,0,0,0-18.94,5A33.65,33.65,0,0,0,676.19,210a45.25,45.25,0,0,0-4.47,20.6q0,11.92,4.45,20.7A31.94,31.94,0,0,0,688.9,264.8q8.28,4.77,19.71,4.77a42.74,42.74,0,0,0,15.72-2.7,29.2,29.2,0,0,0,11.3-7.61,26.06,26.06,0,0,0,6-11.55l-16.72-1.88a13.79,13.79,0,0,1-3.51,5.39,15.39,15.39,0,0,1-5.49,3.29,21.23,21.23,0,0,1-7.07,1.11,20,20,0,0,1-10.18-2.5,17,17,0,0,1-6.78-7.22,24.38,24.38,0,0,1-2.42-10.9h52.91Zm-52.87-6.57a19.65,19.65,0,0,1,2.31-8.29,18.38,18.38,0,0,1,6.45-6.92,17.58,17.58,0,0,1,9.64-2.65,17.25,17.25,0,0,1,9,2.33,16.37,16.37,0,0,1,6.06,6.35,19.41,19.41,0,0,1,2.22,9.18Z"}),(0,i.jsx)("path",{className:"cls-4",fill:"#0c106c",d:"M755.53,268.08V192.13h17.36v12.66h.79a19,19,0,0,1,7.14-10.17,19.6,19.6,0,0,1,11.6-3.58c1,0,2.1,0,3.34.12a27.36,27.36,0,0,1,3.09.37V208a20.66,20.66,0,0,0-3.59-.72,36.94,36.94,0,0,0-4.72-.32,18.17,18.17,0,0,0-8.78,2.1,15.72,15.72,0,0,0-6.1,5.81,16.28,16.28,0,0,0-2.23,8.56v44.65Z"}),(0,i.jsx)("path",{className:"cls-4",fill:"#0c106c",d:"M865.54,194.65a13.53,13.53,0,0,0-5.81-10.09q-5.12-3.6-13.28-3.61a25.36,25.36,0,0,0-9.84,1.73,14.64,14.64,0,0,0-6.28,4.7,11.42,11.42,0,0,0-2.22,6.78,10,10,0,0,0,1.46,5.48,12.69,12.69,0,0,0,4,3.94,27,27,0,0,0,5.59,2.69,57.39,57.39,0,0,0,6.18,1.83l9.49,2.37a66.43,66.43,0,0,1,11.05,3.61,39.48,39.48,0,0,1,9.55,5.74,25.57,25.57,0,0,1,6.7,8.36,25.11,25.11,0,0,1,2.47,11.47A27.37,27.37,0,0,1,880,255.3a29.82,29.82,0,0,1-13.13,10.53q-8.58,3.8-20.74,3.79a52.54,52.54,0,0,1-20.5-3.66,30.44,30.44,0,0,1-13.55-10.68q-4.87-7-5.26-17.11h18a15.42,15.42,0,0,0,3.27,8.8,17.22,17.22,0,0,0,7.49,5.24A29.47,29.47,0,0,0,846,253.94a28.32,28.32,0,0,0,10.51-1.8,16.79,16.79,0,0,0,7.09-5,12.1,12.1,0,0,0,2.63-7.59,9.79,9.79,0,0,0-2.33-6.55,17.46,17.46,0,0,0-6.35-4.35,64.38,64.38,0,0,0-9.52-3.14l-11.52-3q-12.53-3.21-19.76-9.77t-7.24-17.43a26,26,0,0,1,4.87-15.67,31.94,31.94,0,0,1,13.27-10.46,46.44,46.44,0,0,1,19-3.74,45,45,0,0,1,18.92,3.74,31.11,31.11,0,0,1,12.78,10.33,26.52,26.52,0,0,1,4.8,15.16Z"}),(0,i.jsx)("path",{className:"cls-4",fill:"#0c106c",d:"M930.2,253.35c-.5.13-1.21.28-2.15.44A17.42,17.42,0,0,1,925,254a11.42,11.42,0,0,1-4.06-.69,5.72,5.72,0,0,1-2.94-2.6,11.1,11.1,0,0,1-1.11-5.51V206h15V192.13h-15v-18.2H899v18.2H888.17V206H899V248.2A20.68,20.68,0,0,0,902,260.07a18.47,18.47,0,0,0,8.53,7,28.93,28.93,0,0,0,12.11,2.05,33.35,33.35,0,0,0,6.46-.69,42,42,0,0,0,4.08-1.09Z"}),(0,i.jsx)("path",{className:"cls-4",fill:"#0c106c",d:"M965.74,269.62a31.28,31.28,0,0,1-13-2.6,20.87,20.87,0,0,1-9.1-7.69,22.46,22.46,0,0,1-3.34-12.56,21.33,21.33,0,0,1,2.38-10.63,18.4,18.4,0,0,1,6.47-6.73,33.12,33.12,0,0,1,9.28-3.83,76.33,76.33,0,0,1,10.7-1.9q6.68-.69,10.83-1.26a15.87,15.87,0,0,0,6.06-1.78,4.17,4.17,0,0,0,1.9-3.79v-.29c0-3.73-1.1-6.61-3.31-8.66s-5.39-3.06-9.54-3.06q-6.58,0-10.41,2.86a14.23,14.23,0,0,0-5.17,6.78l-16.71-2.37a26.76,26.76,0,0,1,6.52-11.6,28.67,28.67,0,0,1,11.13-7A42.85,42.85,0,0,1,975,191.14a47.78,47.78,0,0,1,10.93,1.28,31.23,31.23,0,0,1,9.94,4.23,21.78,21.78,0,0,1,7.24,8,26.12,26.12,0,0,1,2.75,12.61v50.83H988.64V257.65H988a21.59,21.59,0,0,1-4.57,5.91,21.83,21.83,0,0,1-7.37,4.4A29.58,29.58,0,0,1,965.74,269.62Zm4.65-13.16a19.25,19.25,0,0,0,9.35-2.15,15.73,15.73,0,0,0,6.1-5.71,14.67,14.67,0,0,0,2.15-7.76v-9a8.27,8.27,0,0,1-2.84,1.28,42,42,0,0,1-4.48,1c-1.64.3-3.28.56-4.89.79l-4.2.59a31.87,31.87,0,0,0-7.17,1.78,12.07,12.07,0,0,0-5,3.44,9.59,9.59,0,0,0,1.78,13.13A15.71,15.71,0,0,0,970.39,256.46Z"}),(0,i.jsx)("path",{className:"cls-4",fill:"#0c106c",d:"M1052.1,269.57q-11.38,0-19.51-5a33,33,0,0,1-12.51-13.82,49.34,49.34,0,0,1,.07-40.8,33.36,33.36,0,0,1,12.59-13.84q8.13-5,19.26-5a37.81,37.81,0,0,1,16.39,3.39,27.69,27.69,0,0,1,16.24,23.91h-17.11a16.55,16.55,0,0,0-4.92-9.18q-3.87-3.67-10.36-3.68a16.28,16.28,0,0,0-9.64,2.94,19,19,0,0,0-6.45,8.43,34.05,34.05,0,0,0-2.3,13.16,35.28,35.28,0,0,0,2.27,13.32,19.24,19.24,0,0,0,6.41,8.56,17.34,17.34,0,0,0,16.81,1.48,14,14,0,0,0,5.27-4.38,16.85,16.85,0,0,0,2.91-7h17.11a29.65,29.65,0,0,1-4.74,14.27,27.8,27.8,0,0,1-11.18,9.69A37.06,37.06,0,0,1,1052.1,269.57Z"}),(0,i.jsx)("polygon",{className:"cls-4",fill:"#0c106c",points:"1143.29 267.63 1164.7 267.63 1133.52 224.47 1162.97 191.68 1142.05 191.68 1114.75 222.19 1113.52 222.19 1113.52 173.93 1095.62 173.93 1095.62 267.63 1113.52 267.63 1113.52 242.1 1120.03 235.12 1143.29 267.63"})]})}),k=(0,n.Pi)(()=>{var e,t,a,n;let[k,N]=(0,c.useState)(!1),[C,S]=(0,c.useState)(null),[P,E]=(0,c.useState)(!1),[D,A]=(0,o.v1)("affiliate",o.AE.withDefault(!1).withOptions({history:"push"}));return((0,c.useEffect)(()=>{"referAFriend"===u.dialogOpen.value&&(A(!0),E(!0))},[u.dialogOpen.value]),(0,c.useEffect)(()=>{P||(u.dialogOpen.value=!1,A(!1))},[P]),(0,c.useEffect)(()=>{D&&E(!0)},[D]),(0,c.useEffect)(()=>{if(u.userData.value){var e,t;S(!!((null===(e=u.userData.value)||void 0===e?void 0:e.referral_link_code)&&(null===(t=u.userData.value)||void 0===t?void 0:t.partnerstack_partner_default_link)))}},[null===(e=u.userData.value)||void 0===e?void 0:e.referral_link_code,null===(t=u.userData.value)||void 0===t?void 0:t.partnerstack_partner_default_link]),(0,c.useEffect)(()=>{P&&(0,y.eN)(j.B_.affiliate_link_modal_opened)},[P]),null===C)?null:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(f.Vq,{defaultOpen:!1,open:P&&!C,onOpenChange:e=>{e||C||E(!1)},children:(0,i.jsxs)(f.cZ,{children:[(0,i.jsx)(f.$N,{children:"ElevenLabs Affiliate Program"}),(0,i.jsxs)("div",{className:"stack gap-4",children:[(0,i.jsx)("div",{children:(0,i.jsx)(b.x,{size:"md",children:(0,i.jsxs)("div",{children:["Become an affiliate and earn with every recommendation. Learn more about the program"," ",(0,i.jsx)(l.default,{href:h.ZP.affiliates,target:"_blank",rel:"nofollow noopener noreferrer",className:"underline",children:"here"}),"."]})})}),(0,i.jsxs)("div",{children:[(0,i.jsx)(b.x,{size:"md",weight:"medium",children:"Are you an established creator?"}),(0,i.jsxs)(b.x,{size:"md",children:["If you have a large following"," ",(0,i.jsx)(l.default,{href:h.ZP.partnerStackAffiliateCreatorApplication,target:"_blank",rel:"nofollow noopener noreferrer",className:"underline",children:"contact"})," ","us for exclusive opportunities."]})]}),(0,i.jsx)(r.default,{src:"/app_assets/_next/static/media/affiliates.6901eb5e.jpg",width:528,height:239,alt:"ElevenLabs Affiliate Program",className:"mt-0.5 -mx-5 w-[calc(100%+2.5rem)] max-w-[calc(100%+2.5rem)]"})]}),(0,i.jsx)(f.cN,{children:(0,i.jsxs)(g.rJ,{className:"pt-3 md:pt-4",children:[(0,i.jsx)(_,{}),(0,i.jsxs)(g.U5,{children:["The ElevenLabs Affiliate Program is managed by PartnerStack, a third-party management platform. By\xa0signing up, you agree to our"," ",(0,i.jsx)(l.default,{href:h.ZP.affiliatesTerms,className:"underline",children:"Affiliate\xa0Program\xa0terms"}),"."]}),(0,i.jsx)(g.aT,{children:(0,i.jsx)(v.Button,{variant:"primary",className:"w-fit gap-1",size:"md",onClick:()=>{k||(N(!0),(0,d.n)().then(e=>{S(!0),(0,y.eN)(j.B_.affiliate_link_generated,{link:e}),u.userData.value&&(0,y.yV)(u.userData.value.user_id,{affiliate_link:e})}).catch(e=>{(0,m.default)("Error generating affiliate link"),w.error(e)}).finally(()=>{N(!1)}))},loading:k,children:"Sign up for the affiliate program"})})]})})]})}),(0,i.jsx)(f.Vq,{defaultOpen:!1,open:P&&!!C,onOpenChange:e=>{!e&&C&&E(!1)},children:(0,i.jsxs)(f.cZ,{children:[(0,i.jsx)(f.$N,{children:"ElevenLabs Affiliate Program"}),(0,i.jsxs)("div",{className:"stack gap-4",children:[(0,i.jsx)("div",{children:(0,i.jsx)(b.x,{size:"md",children:(0,i.jsxs)("div",{children:["You have an active affiliate account. Click"," ",(0,i.jsx)(l.default,{href:h.ZP.affiliatesPartnerGuide,target:"_blank",rel:"nofollow noopener noreferrer",className:"underline",children:"here"})," ","to learn more about the program."]})})}),(null===(a=u.userData.value)||void 0===a?void 0:a.partnerstack_partner_default_link)&&(0,i.jsxs)("div",{children:[(0,i.jsx)(b.x,{size:"md",weight:"medium",children:"Default affiliate link"}),(0,i.jsxs)("div",{className:"stack gap-2",children:[(0,i.jsx)(b.x,{size:"md",children:"Your default affiliate link is displayed below. You can create custom links in PartnerStack dashboard."}),(0,i.jsx)(x.k,{className:"w-full",value:null===(n=u.userData.value)||void 0===n?void 0:n.partnerstack_partner_default_link,autoFocus:!1})]})]}),(0,i.jsx)("div",{children:(0,i.jsxs)(p.bZ,{variant:"warning",children:[(0,i.jsx)(s.Z,{}),(0,i.jsx)(p.X,{children:"Running advertisements on terms associated with ElevenLabs products on Google, Bing or other search engine platforms is against our affiliates terms. Such action will result in account cancellation and blocked payouts."})]})}),(0,i.jsxs)("div",{children:[(0,i.jsx)(b.x,{size:"md",weight:"medium",children:"Are you an established creator?"}),(0,i.jsxs)(b.x,{size:"md",children:["If you have a large following"," ",(0,i.jsx)(l.default,{href:h.ZP.partnerStackAffiliateCreatorApplication,target:"_blank",rel:"nofollow noopener noreferrer",className:"underline",children:"contact"})," ","us for exclusive opportunities."]})]})]}),(0,i.jsx)(f.cN,{children:(0,i.jsxs)(g.rJ,{className:"pt-3 md:pt-4",children:[(0,i.jsx)(_,{}),(0,i.jsx)(g.U5,{children:"Log in to your dashboard to create referral links, view link metrics, check your commission earnings, and explore ElevenLabs resources."}),(0,i.jsx)(g.aT,{children:(0,i.jsx)(l.default,{href:h.ZP.partnerStackAffiliateDashboard,target:"_blank",rel:"nofollow noopener noreferrer",children:(0,i.jsx)(v.Button,{variant:"primary",className:"w-fit gap-1",size:"md",children:"Go to dashboard"})})})]})})]})})]})})},48246:function(e,t,a){"use strict";a.d(t,{gJ:function(){return el},$t:function(){return es},oo:function(){return ea},nN:function(){return et},ZP:function(){return ec},cY:function(){return K},Wq:function(){return Y},py:function(){return W}});var i=a(68088),s=a(40534),n=a(41318),r=a(18743),l=a(75051),o=a(38028),c=a(97968),d=a(88982),u=a(5479),h=a(81999),m=a(73862),p=a(23431),v=a(26898),x=a(95972),f=a(9506),g=a(54995),b=a(60358),y=a(55205),j=a(60913),w=a(88887),_=a(72228),k=a(20308),N=a(11521),C=a(27411),S=a(84219),P=a(63415),E=a(85753),D=a(60189),A=a(60493),T=a(8030),V=a(93522),I=a(13851),M=a(87208),L=a(54981),z=a(9188),R=a(97124),F=a(82374),B=a(82710),Z=a(81158),O=a(4735),U=a(32472);let q=(0,h.Pi)(e=>{let{children:t}=e,a=(0,p.usePathname)();(0,f.useEffect)(()=>{W.value=!1},[a]);let s=(0,F.Nr)(W.value,300);return(0,i.jsx)(z.u.Root,{show:!0===W.value,unmount:!1,as:f.Fragment,children:(0,i.jsxs)(R.V,{as:"div",className:"relative z-50 lg:hidden group/sidebar","aria-expanded":W.value,unmount:!1,onClose:()=>{W.value=!1},children:[(0,i.jsx)(z.u.Child,{as:f.Fragment,unmount:!1,enter:"transition-opacity ease-linear duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity ease-linear duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,i.jsx)("div",{className:"fixed inset-0 bg-gray-900/30"})}),(0,i.jsx)("div",{className:"fixed inset-0 flex",children:(0,i.jsx)(z.u.Child,{as:f.Fragment,unmount:!1,enter:"transition ease-in-out duration-300 transform",enterFrom:"-translate-x-full",enterTo:"translate-x-0",leave:"transition ease-in-out duration-300 transform",leaveFrom:"translate-x-0",leaveTo:"-translate-x-full",children:(0,i.jsxs)(R.V.Panel,{className:"relative mr-16 flex w-64",style:{"--eleven-sidebar-width":"16rem"},children:[(0,i.jsx)(m.default,{href:"#content",className:"sr-only",children:"Skip to content"}),(0,i.jsxs)("div",{className:"flex grow flex-col overflow-y-auto bg-background overflow-x-hidden",children:[(0,i.jsxs)("div",{className:"flex justify-between -mb-2 pl-3 pr-3.5 items-center w-full",style:{height:"var(--eleven-header-height)"},children:[(0,i.jsx)("div",{className:"flex items-center translate-x-2 transition-transform duration-150",children:(0,i.jsx)(B.Logo,{isOpen:!0,size:"18px"})}),(0,i.jsx)(O.Button,{variant:"ghost",size:"md",className:"pointer-events-auto p-0 h-8 w-8 text-gray-500 hover:text-gray-alpha-950 duration-100 transition-colors",onClick:()=>{W.value=!1},children:(0,i.jsx)(y.CK,{})})]}),(0,i.jsx)(U.Z,{hideTooltip:!s||!W.value}),(0,i.jsx)("nav",{className:"flex flex-1 flex-col",children:t}),(0,i.jsx)("div",{className:"px-3.5",children:(0,i.jsx)(Z.Y,{})}),(0,i.jsx)("div",{className:"px-3.5 py-3.5",children:(0,i.jsx)(et,{})})]})]})})})]})})});var H=a(94846),G=a(72508);let W=(0,A.t)(!1),Y=(0,A.t)(!1),K=(0,A.t)(void 0),X=(0,A.t)(null),Q={exit:e=>{let{submenu:t}=e;return{opacity:0,x:t?70:-70}},enter:{opacity:1,x:0},transition:{delay:0,opacity:{duration:.15},x:{type:"spring",mass:.25,stiffness:100,damping:10}}},J=e=>!$(e),$=e=>void 0!==e.custom,ee=e=>{let{icon:t}=e;return(0,i.jsx)("div",{className:(0,D.cn)("center h-8"),children:t})},et=e=>{let{className:t}=e;return(0,i.jsxs)("div",{className:(0,D.cn)(t,"flex space-x-2"),children:[(0,i.jsx)(m.default,{href:b.ZP.termsofuse,target:"_blank",rel:"noopener",onClick:()=>{W.value=!1},children:(0,i.jsx)(N.x,{weight:"medium",size:"xs",className:"hover:text-gray-900",children:"Terms"})}),(0,i.jsx)(N.x,{weight:"medium",size:"xs",color:"subtle",children:"/"}),(0,i.jsx)(m.default,{href:b.ZP.privacyprivacy,target:"_blank",rel:"noopener",onClick:()=>{W.value=!1},children:(0,i.jsx)(N.x,{weight:"medium",size:"xs",className:"hover:text-gray-900",children:"Privacy"})})]})},ea=e=>{let{name:t,caret:a,icon:s,badge:n,rightIcon:r,isSwitcher:o=!1,isCategory:c=!0,hasActiveIndicator:d}=e;return(0,i.jsxs)(C.u,{children:[(0,i.jsx)(C.aJ,{asChild:!0,children:(0,i.jsx)("div",{className:(0,D.cn)("relative group rounded-lg overflow-hidden bg-transparent  transition-all duration-150",d&&"!bg-gray-alpha-100 !text-gray-alpha-950",{"w-[calc(var(--eleven-sidebar-width)-1.8125rem)]":c,"w-[calc(var(--eleven-sidebar-width)-3.5rem)]":!c,"text-gray-alpha-950 ring-1 ring-inset ring-gray-alpha-200 hover:ring-gray-alpha-300 group-aria-expanded/main-nav-item:ring-gray-alpha-300":o,"hover:text-gray-alpha-950 hover:bg-gray-alpha-100 group-aria-expanded/main-nav-item:bg-gray-alpha-100 group-aria-expanded/main-nav-item:text-gray-alpha-950 text-gray-600":!o}),children:(0,i.jsxs)("div",{className:"flex items-center gap-2 px-1.5 min-w-36",children:[s?(0,i.jsx)(ee,{icon:s}):(0,i.jsx)("div",{className:"w-3"}),(0,i.jsxs)("div",{className:"flex items-center justify-between flex-1 h-8 transition-all duration-150 group-aria-expanded/sidebar:opacity-100 opacity-0 translate-x-1 group-aria-expanded/sidebar:translate-x-0",children:[(0,i.jsx)(N.x,{weight:"medium",color:"inherit",className:"whitespace-nowrap",children:t}),a&&(0,i.jsx)("div",{className:"flex items-center ml-auto mr-0.5 justify-center w-4 h-4",children:(0,i.jsx)(l.Z,{className:"w-4 h-4 opacity-50"})}),n?(0,i.jsx)(_.Ct,{variant:"secondary",color:"blue",children:n}):null,r&&(0,i.jsx)("div",{className:"mr-0.5 opacity-50 text-foreground flex-shrink-0",children:r})]})]})})}),(0,i.jsx)(C._v,{side:"right",sideOffset:20,style:{opacity:"var(--eleven-sidebar-collapsed)"},children:t})]})},ei=(0,h.Pi)(e=>{var t;let{item:a,isCategory:n,isExpanded:r}=e,l=(0,g.bd)("mainNavLink",a.href),d=(0,p.useRouter)(),h=(0,p.usePathname)(),v=(0,T.Z)(n&&(null==a?void 0:a.children)?[...(null==a?void 0:a.patterns)||[],...(null!==(t=null==a?void 0:a.children)&&void 0!==t?t:[]).flatMap(e=>e.patterns||[])]:[...(null==a?void 0:a.patterns)||[]]),x=(0,f.useCallback)(e=>!!v&&(!a.source||((null==e?void 0:e.storageKey)==="convai"?"convai"===a.source:"convai"!==a.source)),[v,a.source]),[b,y]=(0,f.useState)(()=>x(K.value));(0,f.useEffect)(()=>(0,u.U5)(()=>K.value,e=>{y(x(e))},{fireImmediately:!0}),[x]);let[j,w]=f.useState(b),_=j&&r,k=b&&(!(null==a?void 0:a.children)||!r);return(0,f.useEffect)(()=>{w(b)},[b,h,r]),(0,i.jsxs)(s.E.li,{className:(0,D.cn)("group w-full"),children:[(0,i.jsxs)("div",{className:"relative w-fit",children:[(0,i.jsx)(m.default,{ref:l,href:(!a.submenu||!b)&&a.href||"#",onClick:e=>{a.submenu?(e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||(e.preventDefault(),setTimeout(()=>{a.href&&d.push(a.href)},300)),K.value=a.submenu,X.value=null,(0,P.eN)(E.B_.sidebar_submenu_opened,{itemName:a.name})):n?w(!j):W.value=!1},className:"block w-fit rounded-lg outline-foreground",children:(0,i.jsx)(ea,{name:a.name,icon:a.icon?(0,i.jsx)(a.icon,{size:"1.25rem"}):void 0,badge:a.badge,isCategory:n,rightIcon:a.submenu?(0,i.jsx)(o.Z,{size:16}):a.children?(0,i.jsx)(c.Z,{size:14}):void 0,hasActiveIndicator:k})}),a.action?(0,i.jsx)(s.E.div,{className:"absolute right-[0.125rem] top-[0.325rem] z-10 min-w-5 flex items-center justify-center lg:opacity-0 group-aria-expanded/sidebar:group-hover/sidebar:opacity-100 pointer-events-none group-aria-expanded/sidebar:pointer-events-auto transition-all duration-150",onMouseOver:e=>{e.stopPropagation()},onMouseLeave:e=>{e.stopPropagation()},children:a.action}):null]}),n&&a.children?(0,i.jsx)(s.E.div,{className:"overflow-hidden pl-5",initial:{height:_?"auto":0,opacity:_?1:0},animate:{height:_?"auto":0,opacity:_?1:0},children:(0,i.jsx)("ul",{className:"relative pl-2 stack gap-1 py-1",children:a.children.map(e=>(0,i.jsx)(ei,{item:e,isCategory:!1,isExpanded:r},e.href))})}):null]})}),es=(0,h.Pi)(e=>{var t,a;let{isExpanded:l}=e,o=(0,x.dl)("stt_product_ui"),c=(0,f.useRef)(null),{items:d}=(0,G.d)(),h=(0,p.usePathname)(),m=K.value;(0,f.useMemo)(()=>{var e;if(!h)return;function t(e){let t=0;if(e&&"groups"in e)for(let a of e.groups)for(let e of(a.hidden&&t++,a.items))J(e)&&e.hidden&&t++;return t}let a=function(e,t){var a,i;let s=null!==(i=null!==(a=localStorage.getItem(M.H))&&void 0!==a?a:localStorage.getItem(M.K))&&void 0!==i?i:"",n=function e(a){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=[];for(let r of a)for(let a of r.items)if(J(a)){var n;if((null===(n=a.patterns)||void 0===n?void 0:n.some(e=>!!(0,v.EQ)(e,{decode:decodeURIComponent})(t)))&&s.push({item:a,parentSubmenu:i}),a.submenu){let t=e(a.submenu.groups,a.submenu);s.push(...t)}}return s}(e);if(0===n.length)return!1;if(s){for(let{item:e,parentSubmenu:t}of n)if("source"in e&&e.source===s&&t)return t}for(let{item:e}of n)if(e.submenu)return e.submenu;return!1}(d,h),i=t(a),s=t(K.value);!1!==a&&((null===(e=K.value)||void 0===e?void 0:e.storageKey)!==a.storageKey||i!==s)?K.value=a:!1===a&&null!==K.value&&(K.value=null)},[h,d]),(0,f.useEffect)(()=>(0,u.U5)(()=>{var e;return null===(e=K.value)||void 0===e?void 0:e.storageKey},e=>{var t;localStorage.setItem(M.H,null!=e?e:""),null===(t=c.current)||void 0===t||t.scrollTo({top:0,behavior:"smooth"})}),[]);let g=(null==m?void 0:m.storageKey)==="convai"?"convai":"audio",b=(0,S.D)(g),y=(0,x.dl)("sidebar_platform_switcher"),j=("convai"===g||"convai"===b)&&y?{duration:0}:Q.transition;return(0,i.jsx)("div",{className:"relative flex flex-col grow fade-top-3 fade-bottom-3 w-full",children:(0,i.jsx)("div",{ref:c,className:"relative stack overflow-y-auto no-scrollbar overflow-x-hidden grow w-full",children:(0,i.jsx)(n.A,{transition:j,children:(0,i.jsx)(r.M,{initial:!1,children:(0,i.jsx)(s.E.ul,{className:"w-fit stack gap-5 shrink-0 p-3.5 absolute top-0 left-0 right-0","aria-label":"Main navigation",initial:Q.exit({submenu:!!m}),animate:Q.enter,exit:Q.exit({submenu:!!m}),children:(null!==(t=null==m?void 0:m.groups)&&void 0!==t?t:d).map((e,t)=>{var a;return e.hidden?null:(0,i.jsxs)("li",{"aria-label":e.title,children:[e.title&&(0,i.jsx)("h2",{className:"text-sm font-medium text-gray-alpha-500 ml-1.5 mb-1.5 whitespace-nowrap group-aria-expanded/sidebar:opacity-100 opacity-0 transition-opacity duration-150",children:e.title}),(0,i.jsx)("ul",{className:(0,D.cn)("stack gap-1"),children:e.items.map((e,t)=>"Speech to Text"===e.name&&!o||e.hidden?null:$(e)?(0,i.jsx)(s.E.li,{className:(0,D.cn)("group w-full"),onMouseOver:e=>{e.stopPropagation()},onMouseLeave:e=>{e.stopPropagation()},children:(0,i.jsx)("div",{className:"relative w-full",children:e.custom})},t):(0,i.jsx)(ei,{isExpanded:l,item:e,isCategory:!0},e.href))})]},null!==(a=e.title)&&void 0!==a?a:t)})},null!==(a=null==m?void 0:m.storageKey)&&void 0!==a?a:"audio")})})})})}),en=e=>{var t;let{resource:a,className:s}=e,n=(0,g.bd)("mainNavLink",a.name),r=(0,p.usePathname)(),l=(0,T.Z)(null!==(t=a.patterns)&&void 0!==t?t:[])||r===a.href||a.isHomePage&&"/"===r;return(0,i.jsx)(m.default,{ref:n,href:a.href,target:a.external?"_blank":void 0,rel:a.external?"noopener":void 0,onClick:()=>{W.value=!1},"aria-selected":l,className:s,children:a.name})},er=(0,h.Pi)(e=>{let{name:t,icon:a,links:n,isExpanded:l,onToggle:o}=e,d=(0,g.bd)("unfoldSubmenu",t),u=(0,p.usePathname)(),[h,m]=(0,f.useState)(!1),v=X.value===t&&l;return(0,f.useEffect)(()=>{for(let e of n)if(u===e.href||"/"===u&&e.isHomePage){X.value=t;break}},[]),(0,f.useEffect)(()=>{l||(m(!1),X.value=null)},[l]),(0,i.jsx)(r.M,{children:(0,i.jsx)("div",{className:"stack",children:(0,i.jsxs)(k.h_,{open:h&&!l,onOpenChange:m,children:[(0,i.jsx)(k.$F,{asChild:!0,children:(0,i.jsx)("button",{ref:d,className:"block w-fit rounded-lg outline-foreground group/main-nav-item","data-state":v?"open":"closed",onClick:()=>{if(!l){m(e=>!e);return}v?(X.value=null,null==o||o(!1)):(X.value=t,null==o||o(!0))},children:(0,i.jsx)(ea,{name:t,icon:(0,i.jsx)(a,{}),rightIcon:(0,i.jsx)("div",{className:"flex h-4 w-4 items-center text-foreground justify-center rotate-0 transition-transform duration-100 [button[data-state=open]_&]:rotate-180",children:(0,i.jsx)(c.Z,{className:"h-4 w-4 min-w-fit"})})})})}),(0,i.jsx)(r.M,{children:v&&(0,i.jsxs)(s.E.div,{className:"flex overflow-hidden",variants:{expanded:{height:"auto"},collapsed:{height:0}},initial:"collapsed",animate:"expanded",exit:"collapsed",children:[(0,i.jsx)("div",{className:"border-l border-gray-200 ml-5"}),(0,i.jsx)("div",{className:"flex-1 ml-2 mt-1 space-y-1",children:n.map((e,t)=>(0,i.jsx)(en,{resource:e,className:"group flex items-center px-3 py-1 truncate rounded-lg text-sm font-medium leading-6 focus:outline-none focus-visible:ring-2 focus:ring-foreground focus:ring-inset transition-colors duration-150 text-gray-alpha-600 hover:bg-gray-alpha-100 hover:text-gray-900 aria-selected:bg-gray-alpha-100 aria-selected:text-gray-900"},t))})]})}),(0,i.jsxs)(k.AW,{side:"right",sideOffset:20,children:[(0,i.jsx)(k.Ju,{children:t}),n.map((e,t)=>(0,i.jsx)(k.Xi,{children:(0,i.jsx)(en,{resource:e})},t))]})]})})})}),el=(0,h.Pi)(e=>{let{isExpanded:t}=e,a=K.value,n=(null==a?void 0:a.storageKey)==="convai",l=(0,x.dl)("sidebar_platform_switcher");return(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)(r.M,{mode:"wait",children:(null==a?void 0:a.groups)&&!(l&&n)&&(0,i.jsx)(s.E.button,{className:"rounded-lg outline-foreground w-fit",onClick:()=>{K.value=null,(0,P.eN)(E.B_.sidebar_submenu_closed)},initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,i.jsx)(ea,{name:"Back to ElevenLabs",icon:(0,i.jsx)(d.Z,{strokeWidth:"1.5",size:"1.25rem"})})})}),!(l&&n)&&(0,i.jsx)(er,{name:"Audio Tools",icon:y.SW,links:w.dt,isExpanded:t,onToggle:e=>{(0,P.eN)(E.B_.sidebar_audio_tools_toggled,{open:e})}})]})}),eo=e=>{let{isExpanded:t}=e;return(0,i.jsxs)("ul",{className:"p-3.5 space-y-1",children:[(0,i.jsx)("li",{children:(0,i.jsx)(el,{isExpanded:t})}),(0,i.jsx)("li",{children:(0,i.jsx)(er,{name:"Contact",icon:y.BZ,links:w.k5,isExpanded:t})}),(0,i.jsx)("li",{children:(0,i.jsx)(er,{name:"Documentation",icon:y.ax,links:w.TP,isExpanded:t})})]})};var ec=(0,h.Pi)(e=>{let{showMobileHeader:t=!0,isPinned:a,setIsPinned:s}=e;return(0,f.useEffect)(()=>{Y.value=a,document.documentElement.style.setProperty("--eleven-sidebar-width",a?"16rem":"3.8125rem"),document.documentElement.style.setProperty("--eleven-sidebar-collapsed",a?"0":"1")},[a]),(0,i.jsxs)(C.pn,{disableHoverableContent:!0,delayDuration:200,children:[(0,i.jsx)(I.f,{}),(0,i.jsx)(j.Z,{}),(0,i.jsxs)(q,{children:[(0,i.jsx)(es,{isExpanded:!0}),(0,i.jsx)("div",{className:"px-5 flex",children:(0,i.jsx)(V.Z,{color:"gray",className:"w-full"})}),(0,i.jsx)(eo,{isExpanded:!0})]}),(0,i.jsx)(L.Z,{isPinned:a,setIsPinned:s}),t&&(0,i.jsx)(H.Z,{})]})})},54981:function(e,t,a){"use strict";a.d(t,{X:function(){return G}});var i=a(68088),s=a(40534),n=a(18743),r=a(21368),l=a(81999),o=a(73862),c=a(95972),d=a(9506),u=a(82374),h=a(54995),m=a(1851),p=a(60358),v=a(82710),x=a(88887),f=a(48246),g=a(4735),b=a(74346),y=a(64755),j=a(11521),w=a(25933),_=a(27411),k=a(96162),N=a(63415),C=a(85753),S=a(60189),P=a(39255),E=a(13104),D=a(77095),A=a(55205),T=a(27473),V=a(76528),I=a(31100),M=a(80396),L=a(32472);let z=(0,l.Pi)(()=>{var e,t,a;return(0,i.jsxs)("div",{className:"text-start overflow-hidden",children:[(0,i.jsx)(j.x,{"aria-hidden":"true",className:"truncate inter",size:"sm",weight:"medium",children:(null===(e=k.EA.value)||void 0===e?void 0:e.displayName)||"My Account"}),(null===(t=m.workspaceData.value)||void 0===t?void 0:t.name)?(0,i.jsx)(s.E.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},children:(0,i.jsx)(j.x,{"aria-hidden":"true",className:"truncate -mt-0.5 overflow-ellipsis inter text-gray-alpha-500",size:"xs",children:null===(a=m.workspaceData.value)||void 0===a?void 0:a.name})}):null]})}),R=e=>{var t,a,n,r;let{isHovering:l,quotaAvailable:o,size:c="2.5rem"}=e,d=(0,u.Nr)(l,75),h=(null===(t=m.workspaceData.value)||void 0===t?void 0:t.subscription)!==void 0&&(0,D.i$)(m.workspaceData.value.subscription);return(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)(M.Xm,{size:c,thickness:"4px",showPercentage:d,className:(0,S.cn)(o?"opacity-100":"opacity-0","transition-opacity duration-300")}),(0,i.jsx)(s.E.div,{className:"absolute top-0 left-0 h-full w-full rounded-full p-px",animate:{scale:o?.7:1,opacity:l?0:1},transition:{duration:.2,ease:"easeInOut"},children:h?(0,i.jsx)("div",{className:"rounded-full shrink-0 bg-gray-50 object-cover h-full w-full flex items-center justify-center",children:"!"}):(null===(a=k.EA.value)||void 0===a?void 0:a.photoURL)?(0,i.jsx)("img",{className:"rounded-full shrink-0 bg-gray-50 object-cover h-full w-full",src:k.EA.value.photoURL,alt:(null===(n=k.EA.value)||void 0===n?void 0:n.displayName)||(null===(r=k.EA.value)||void 0===r?void 0:r.email)||void 0}):(0,i.jsx)("div",{className:"flex items-center justify-center bg-gray-alpha-150 text-gray-600 p-2 rounded-full shrink-0 h-full w-full",children:(0,i.jsx)(A.o5,{className:"w-5 h-5"})})})]})},F=(0,l.Pi)(()=>{let e=(0,h.bd)("openUserMenu"),[t,a]=(0,d.useState)(!1),[s,n]=(0,d.useState)(!1),l=!!m.workspaceData.value;return(0,i.jsxs)(Z,{onOpenChange:e=>{a(e)},isOpen:t,sideOffset:20,trigger:(0,i.jsxs)("button",{ref:e,"aria-label":"Your profile",onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),className:(0,S.cn)("relative group items-center gap-0.5 h-11 shrink-0 justify-between flex rounded-lg text-sm leading-6 font-semibold outline-foreground w-[calc(var(--eleven-sidebar-width)-1.5rem)] transition-all duration-150 group-aria-expanded/sidebar:hover:bg-gray-alpha-100"),children:[(0,i.jsx)("div",{className:"shrink-0 relative group-aria-expanded/sidebar:translate-x-1 -translate-x-1 transition-transform duration-150",children:(0,i.jsx)(R,{isHovering:s||t,quotaAvailable:l})}),(0,i.jsxs)("div",{className:"overflow-hidden flex items-center justify-between flex-1 h-11 transition-all duration-150 group-aria-expanded/sidebar:opacity-100 opacity-0 translate-x-1 group-aria-expanded/sidebar:translate-x-0 rounded-lg pl-2 pr-2",children:[(0,i.jsx)(z,{}),(0,i.jsx)("div",{className:"flex h-4 w-4 items-center justify-center opacity-50 rotate-90 transition-transform duration-100 [button[data-state=open]_&]:rotate-0",children:(0,i.jsx)(r.Z,{className:"h-4 w-4 min-w-fit"})})]})]}),children:[(0,i.jsx)(M.Dw,{}),(0,i.jsx)(H,{items:x.Nm,handleOnClick:()=>{a(!1)}})]})}),B=e=>{let{className:t}=e;return(0,i.jsx)("div",{className:(0,S.cn)("absolute inset-0 bg-gray-alpha-100 rounded-[inherit] opacity-0 group-hover:opacity-100 transition-all duration-75 will-change-transform [button[data-state=open]_&]:opacity-100",t)})},Z=e=>{let{trigger:t,children:a,sideOffset:s,onOpenChange:n,openOnHover:r,isOpen:l}=e,[o,c]=(0,d.useState)(l);return(0,i.jsxs)(y.J2,{onOpenChange:e=>{null==n||n(e)},open:l||o,children:[(0,i.jsx)(y.xo,{className:"group w-full",asChild:!0,onClick:e=>{r&&(e.preventDefault(),e.stopPropagation()),null==n||n(!0)},onMouseEnter:()=>r&&c(!0),onMouseLeave:()=>r&&c(!1),children:t}),(0,i.jsx)(y.i9,{children:(0,i.jsxs)(y.yk,{className:(0,S.cn)("flex flex-col w-56 p-0 duration-150 overflow-visible",r&&"mb-[-5px]"),side:"right",align:"end",sideOffset:s||16,onMouseEnter:()=>r&&c(!0),onMouseLeave:()=>r&&c(!1),children:[r&&(l||o)&&(0,i.jsx)("div",{className:"absolute left-0 top-0 w-4 h-full -translate-x-full","aria-hidden":!0}),(0,i.jsx)("div",{className:"overflow-auto",style:{scrollbarWidth:"thin"},children:a})]})})]})},O=e=>{let{children:t,item:a}=e,[s,n]=(0,d.useState)(!(0,x.WK)(a));return((0,d.useEffect)(()=>{(0,x.WK)(a)&&(async()=>{var e;n(await a.shouldRender({tier:null===m.workspaceData||void 0===m.workspaceData?void 0:null===(e=m.workspaceData.value)||void 0===e?void 0:e.subscription.tier}))})()},[]),a&&s)?(0,i.jsx)("li",{className:"relative px-1",children:t}):null},U=e=>{let{item:t,onClick:a}=e,s=(0,h.bd)("userMenuItem",null==t?void 0:t.name);if(!t)return null;let n="string"==typeof t.href?t.href:t.href();return(0,i.jsxs)(o.default,{ref:s,"aria-label":t.name,href:n,target:t.external?"_blank":void 0,onClick:a,className:"relative w-full flex cursor-pointer select-none items-center rounded-lg px-3 py-1.5 text-sm outline-none transition-colors hover:bg-gray-alpha-100 hover:text-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 group justify-between",children:[(0,i.jsxs)("span",{className:"flex items-center",children:[t.iconBefore,t.name]}),(0,i.jsx)(b.Z,{color:"foreground",className:"opacity-50",size:"sm",children:t.iconAfter})]})},q=e=>{let{item:t}=e,a=(0,h.bd)("userMenuItem",t.name);return t?(0,i.jsxs)("button",{ref:a,"aria-label":t.name,onClick:e=>{"button"===t.type&&t.onClick(e)},className:"relative w-full flex cursor-pointer select-none items-center rounded-lg px-3 py-1.5 text-sm outline-none transition-colors hover:bg-gray-alpha-100 hover:text-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 group justify-between",children:[(0,i.jsxs)("span",{className:"flex items-center gap-1.5",children:[t.iconBefore,t.name]}),(0,i.jsx)(b.Z,{size:"sm",children:t.iconAfter})]}):null},H=e=>{let{items:t,handleOnClick:a}=e;return(0,i.jsx)("div",{className:"py-1",children:t.reduce((e,a,i)=>(a&&((null==a?void 0:a.type)==="separator"?e.currentArray.length>0&&(e.result.push(e.currentArray),e.currentArray=[]):e.currentArray.push(a),i===t.length-1&&e.result.push(e.currentArray)),e),{result:[],currentArray:[]}).result.map((e,t)=>(0,i.jsx)("ul",{className:"last:border-b-0 last:pb-0 last:mb-0 border-gray-alpha-200 border-b pb-1 mb-1",children:e.map(e=>e?(null==e?void 0:e.type)==="link"?(0,i.jsx)(O,{item:e,children:(0,i.jsx)(U,{item:e,onClick:a})},e.name):(null==e?void 0:e.type)==="button"?(0,i.jsx)(O,{item:e,children:(0,i.jsx)(q,{item:e})},e.name):(null==e?void 0:e.type)==="group"?(0,i.jsx)(O,{item:e,children:(0,i.jsx)(Z,{openOnHover:!0,isOpen:!1,sideOffset:12,trigger:(0,i.jsxs)("button",{"aria-label":e.name,className:"relative w-full flex cursor-pointer select-none items-center rounded-lg px-3 py-1.5 text-sm outline-none transition-colors hover:bg-gray-alpha-100 hover:text-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 group justify-between",children:[(0,i.jsxs)("span",{className:"flex items-center gap-1.5",children:[e.iconBefore,e.name]}),(0,i.jsx)("div",{className:"flex h-4 w-4 items-center justify-center opacity-50 rotate-0 transition-transform duration-100",children:(0,i.jsx)(r.Z,{className:"h-4 w-4 min-w-fit"})})]}),children:(0,i.jsx)(H,{items:null==e?void 0:e.items,handleOnClick:a})})},e.name):(null==e?void 0:e.type)==="tooltip"?(0,i.jsx)(O,{item:e,children:(0,i.jsx)(w.Tooltip,{label:e.hoverText,children:(0,i.jsxs)(j.x,{"aria-label":e.name,className:"group w-full flex justify-between items-center h-8 px-3 font-medium inter text-inherit text-sm gap-2 outline-foreground overflow-hidden",children:[(0,i.jsx)(B,{}),(0,i.jsx)("span",{className:"flex items-center",children:e.name}),(0,i.jsx)(b.Z,{children:e.iconAfter})]})})},e.name):null:null)},t))})},G=()=>{let[e,t]=(0,u._)("xi:sidebar-nav-pinned",!0);return[null!=e&&e,t]},W=e=>{let{isExpanded:t}=e;return(0,i.jsx)("div",{className:"flex items-center translate-x-[13px] group-aria-expanded/sidebar:translate-x-2 transition-transform duration-150",children:(0,i.jsx)(v.Logo,{isOpen:t,size:"18px"})})},Y=(0,l.Pi)(e=>{var t,a,r;let{isPinned:l,setIsPinned:u}=e,h="xiLowQuotaDismissedTimestamp",v=(0,d.useRef)(null),x="test"===(0,c.ZR)("onboarding_checklist"),b=(0,P.bs)("lg"),y=E.I.get(h),[j,w]=(0,d.useState)(y+864e5>=Date.now());return(0,i.jsxs)("div",{"aria-expanded":l,className:"hidden lg:block fixed h-full left-0 z-[41] cursor-e-resize aria-expanded:cursor-default bg-background/90 transition-[width] duration-150 backdrop-blur-md border-r group/sidebar",style:{width:"var(--eleven-sidebar-width, 16rem)"},onClick:e=>{let t=e.target;for(;t&&t!==e.currentTarget;){if("BUTTON"===t.tagName||"A"===t.tagName||t.closest("button")||t.closest("a"))return;t=t.parentElement}u(!0)},children:[(0,i.jsx)("div",{id:"sidebar-portal-root"}),(0,i.jsx)(o.default,{href:"#content",className:"sr-only",children:"Skip to content"}),(0,i.jsxs)("div",{className:"relative stack w-full h-full pb-3 overflow-hidden scroll-smooth max-h-screen",ref:v,children:[(0,i.jsx)("div",{className:"hstack justify-between items-center px-3 w-full relative z-20",children:(0,i.jsxs)("div",{className:"flex justify-between -mb-4 relative group/header-logo items-center w-full",style:{height:"var(--eleven-header-height)"},children:[(0,i.jsx)("div",{className:"flex opacity-100 group-aria-expanded/sidebar:group-focus-within/header-logo:opacity-100 group-focus-within/header-logo:opacity-0 group-aria-expanded/sidebar:group-hover/sidebar:opacity-100 group-hover/sidebar:opacity-0 transition-opacity duration-100",children:(0,i.jsx)(W,{isExpanded:l},"mainmenu")}),(0,i.jsx)("div",{className:"transition-all absolute right-0.5 duration-100 translate-x-0 opacity-0 group-aria-expanded/sidebar:opacity-100 focus-within:!opacity-100 group-hover/sidebar:opacity-100",children:(0,i.jsxs)(_.u,{children:[(0,i.jsx)(_.aJ,{asChild:!0,children:(0,i.jsx)(g.Button,{variant:"ghost",size:"md",className:"pointer-events-auto cursor-e-resize group-aria-expanded/sidebar:cursor-w-resize p-0 h-8 w-8 text-gray-500 hover:text-gray-alpha-950 duration-100 transition-colors",onMouseDown:e=>{e.preventDefault()},onClick:e=>{e.preventDefault();let t=!l;u(t),(0,N.eN)(C.B_.sidebar_navigation_toggled,{pinned:t})},children:l?(0,i.jsx)(A.CK,{className:"w-5 h-5"}):(0,i.jsx)(A.P3,{className:"w-5 h-5"})})}),(0,i.jsx)(_._v,{side:"right",sideOffset:20,children:l?"Close sidebar":"Open sidebar"})]})})]})}),(0,i.jsxs)("nav",{className:"flex h-full flex-1 flex-col grow min-h-0",id:"main-nav",children:[b&&(0,i.jsx)(L.Z,{className:"mt-2"}),(0,i.jsx)(f.$t,{isExpanded:l}),(0,i.jsxs)("div",{className:"mt-auto stack",children:[(0,i.jsx)("div",{className:"relative w-48 mb-1",children:x&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"absolute bottom-[3rem] center w-10 h-10 group-aria-expanded/sidebar:opacity-0 opacity-100 transition-opacity duration-150",children:(0,i.jsx)(I.$N,{})}),(0,i.jsx)("div",{className:"relative bottom-[1rem] px-0.5 w-[14.5rem] group-aria-expanded/sidebar:opacity-100 opacity-0 transition-opacity duration-150",children:(0,i.jsx)(I.ky,{})})]})}),(0,i.jsx)("div",{className:"px-3.5 mb-1",children:(0,i.jsx)(f.gJ,{isExpanded:l})}),b&&(0,i.jsx)("div",{className:"relative mb-1 px-3.5 flex",children:(0,i.jsx)(T.T,{trigger:V.k,side:"right",onOpenChange:(e,t)=>{if(e&&"auto"===t)return}})}),(0,i.jsx)(n.M,{initial:!1,children:(null===(t=m.workspaceData.value)||void 0===t?void 0:t.subscription.tier)==="free"&&(0,i.jsx)("div",{className:"px-3.5 w-full pb-1 pt-0.5",children:(0,i.jsxs)(_.u,{children:[(0,i.jsx)(_.aJ,{asChild:!0,children:(0,i.jsxs)(o.default,{href:p.VP.subscription,className:"relative w-full overflow-hidden group/upgrade z-1 p-0 isolate rounded-lg text-sm font-medium justify-center flex items-center gap-2 px-1.5 h-8","aria-label":"Upgrade subscription group",onClick:()=>{(0,N.eN)(C.B_.sidebar_upgrade_clicked)},children:[(0,i.jsx)("div",{className:"absolute ring-1 ring-inset group-hover/upgrade:ring-gray-300 ring-gray-200 rounded-lg z-10 inset-0 pointer-events-none"}),(0,i.jsx)("div",{className:"absolute inset-0 z-1",style:{backgroundImage:"repeating-linear-gradient(135deg, hsl(var(--background)), hsl(var(--background)) 4px, var(--gray-alpha-100) 4px, var(--gray-alpha-100) 8px)"}}),(0,i.jsx)("div",{className:"absolute inset-0 group-hover:!bg-gray-200",style:{backgroundImage:"linear-gradient(90deg, hsl(var(--background)), hsl(var(--background) / 0))"}}),(0,i.jsxs)("div",{className:"flex items-center gap-2 translate-x-[33px] group-aria-expanded/sidebar:translate-x-0 transition-transform duration-150",children:[(0,i.jsx)("div",{className:"w-5 h-5 flex items-center justify-center",children:(0,i.jsx)(A.Bk,{size:"18px",className:"relative"})}),(0,i.jsxs)("div",{className:"relative hstack transition-all duration-150 group-aria-expanded/sidebar:opacity-100 opacity-0 translate-x-1 group-aria-expanded/sidebar:translate-x-0",children:["Upgrade",(0,i.jsx)(s.E.div,{className:"absolute top-0 left-0 h-full w-full text-gray-200 hstack items-center opacity-70 gap-1.5",style:{maskSize:"300% 100%",WebkitMaskSize:"300% 100%",maskPosition:"100% 0",WebkitMaskPosition:"100% 0",maskImage:"linear-gradient(90deg, transparent 33%, #000, transparent 66%)",WebkitMaskImage:"linear-gradient(90deg, transparent 33%, #000, transparent 66%)"},animate:{maskPosition:["100% 0","100% 0","100% 0","100% 0","0 0","0 0","0 0","0 0"],WebkitMaskPosition:["100% 0","100% 0","100% 0","100% 0","0% 0","0% 0","0% 0","0% 0"]},transition:{duration:8,repeat:1/0,repeatDelay:4},children:"Upgrade"})]})]})]})}),(0,i.jsx)(_._v,{side:"right",sideOffset:20,style:{opacity:"var(--eleven-sidebar-collapsed)"},children:"Upgrade"})]})})}),l&&!(0,D.k4)(null===(a=m.workspaceData.value)||void 0===a?void 0:a.subscription.tier)&&(null===(r=m.workspaceData.value)||void 0===r?void 0:r.subscription.tier)!=="free"&&!j&&(0,i.jsx)(M.rK,{onDismissedClicked:()=>{w(!0),E.I.set(h,Date.now())}},"low-quota-div"),(0,i.jsx)("div",{className:"relative px-3.5 mt-1",children:(0,i.jsx)(F,{})})]})]})]})]})});t.Z=Y},94846:function(e,t,a){"use strict";a.d(t,{C:function(){return f}});var i=a(68088),s=a(73862),n=a(23431),r=a(9506),l=a(1851),o=a(82710),c=a(88887),d=a(48246),u=a(20308),h=a(3030),m=a(96162),p=a(70140),v=a(55205);let x=e=>{let{children:t,item:a}=e,[s,n]=(0,r.useState)(!(0,c.WK)(a));return((0,r.useEffect)(()=>{(0,c.WK)(a)&&(async()=>{var e;n(await a.shouldRender({tier:null===l.workspaceData||void 0===l.workspaceData?void 0:null===(e=l.workspaceData.value)||void 0===e?void 0:e.subscription.tier}))})()},[]),a&&s)?(0,i.jsx)("div",{className:"w-full",children:t},null==s?void 0:s.toString()):null},f=()=>{var e,t,a;let r=(0,n.usePathname)();return(0,i.jsxs)(u.h_,{children:[(0,i.jsx)(u.$F,{asChild:!0,children:(null===(e=m.EA.value)||void 0===e?void 0:e.photoURL)?(0,i.jsx)("img",{className:"rounded-full h-7 w-7 shrink-0 bg-gray-50",src:m.EA.value.photoURL,alt:(null===(t=m.EA.value)||void 0===t?void 0:t.displayName)||(null===(a=m.EA.value)||void 0===a?void 0:a.email)||void 0}):(0,i.jsx)(h.h,{onClick:()=>{d.py.value=!0},variant:"outline",size:"lg","aria-label":"User Profile",children:(0,i.jsx)(v.o5,{className:"w-5 h-5"})})}),(0,i.jsx)(u.AW,{className:"w-56",side:"bottom",align:"end",sideOffset:20,children:c.Nm.map(e=>{var t;if(!e||(null==e?void 0:e.type)==="separator"||(null==e?void 0:e.type)==="group"||(null==e?void 0:e.shouldRender)&&!(null==e?void 0:e.shouldRender({tier:null===l.workspaceData||void 0===l.workspaceData?void 0:null===(t=l.workspaceData.value)||void 0===t?void 0:t.subscription.tier})))return null;if("button"===e.type)return(0,i.jsx)(x,{item:e,children:(0,i.jsx)(u.Xi,{asChild:!0,className:"py-2.5",children:(0,i.jsx)("button",{type:"button",onClick:e.onClick,children:e.name})})},e.name);if("link"===e.type){let t="string"==typeof e.href?e.href:e.href();return(0,i.jsx)(x,{item:e,children:(0,i.jsx)(u.Xi,{asChild:!0,className:"py-2.5",children:(0,i.jsx)(s.default,{href:t,className:(0,p.A)("w-full",{"bg-gray-50":r===e.href}),children:e.name})})},e.name)}return null})})]})};t.Z=()=>(0,i.jsx)("div",{className:"sticky top-0 z-10 border-b border-gray-200 bg-background py-2 md:py-3 lg:hidden",children:(0,i.jsxs)("div",{className:"flex items-center gap-x-3 px-3 lg:px-6",children:[(0,i.jsxs)("button",{type:"button",className:"p-2.5 text-gray-800 rounded-md lg:hidden hover:text-gray-900 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500",onClick:()=>{d.py.value=!0},children:[(0,i.jsx)("span",{className:"sr-only",children:"Open sidebar"}),(0,i.jsx)(v.zr,{className:"w-5 h-5","aria-hidden":"true"})]}),(0,i.jsx)(s.default,{href:"/","aria-label":"ElevenLabs Logo",className:"rounded-md p-1 pl-0 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-4",children:(0,i.jsx)(o.Logo,{isOpen:!0})}),(0,i.jsx)("div",{className:"flex-1"}),(0,i.jsx)(f,{})]})})},32472:function(e,t,a){"use strict";var i=a(68088),s=a(40534),n=a(81999),r=a(23431),l=a(95972),o=a(9506),c=a(82374),d=a(85286),u=a(89136),h=a(20308),m=a(11521),p=a(27411),v=a(60189),x=a(55205),f=a(48246),g=a(72508);function b(e){switch(e){case"audio":return(0,i.jsx)("img",{src:d.Z.src,alt:"Creative Platform",className:"w-full h-full object-cover",role:"presentation"});case"convai":return(0,i.jsx)("img",{src:u.Z.src,alt:"Conversational AI",className:"w-full h-full object-cover",role:"presentation"})}}t.Z=(0,n.Pi)(function(e){var t,a;let{className:n,hideTooltip:d}=e,{audioPlatform:u,conversationalAiPlatform:y}=(0,g.d)(),j=(0,r.useRouter)(),w=(0,l.dl)("sidebar_platform_switcher"),[_,k]=(0,c._)("xi-preserve:sidebar-platform-switcher-tooltip-open",!0),[N,C]=(0,o.useState)(!1),S=(null===(t=f.cY.value)||void 0===t?void 0:t.storageKey)==="convai"?"convai":"audio",P="convai"===S?y:u,E=null===(a=u.groups.flatMap(e=>e.items).filter(e=>"name"in e).find(e=>{var t;return(null===(t=e.submenu)||void 0===t?void 0:t.storageKey)==="convai"}))||void 0===a?void 0:a.submenu;return w?(0,i.jsx)("div",{className:(0,v.cn)("px-3.5 w-full flex flex-col relative z-20",n),children:(0,i.jsxs)(p.u,{open:_&&!N&&!d,disableHoverableContent:!1,children:[(0,i.jsxs)("div",{className:"flex items-center relative w-full",children:[(0,i.jsx)(p.aJ,{className:"flex h-8 w-full pointer-events-none absolute inset-0",role:"tooltip",asChild:!0,children:(0,i.jsx)("span",{})}),(0,i.jsxs)(h.h_,{open:N,onOpenChange:C,children:[(0,i.jsx)(h.$F,{asChild:!0,children:(0,i.jsx)("button",{className:"group/main-nav-item rounded-lg outline-foreground","aria-label":"Platform switcher. Click to switch platforms.",children:(0,i.jsx)(f.oo,{name:P.displayName,caret:!0,isSwitcher:!0,icon:(0,i.jsxs)("div",{className:"w-5 h-5 flex items-center justify-center rounded-md relative text-white bg-black",children:[(0,i.jsx)("div",{className:"flex absolute inset-0 w-full h-full rounded-[inherit] overflow-hidden",children:b(S)}),(0,i.jsx)("div",{className:"relative z-20",children:(0,i.jsx)(P.icon,{})}),(0,i.jsxs)("div",{"aria-hidden":"true",className:(0,v.cn)("flex absolute inset-0",function(e){switch(e){case"audio":case"convai":return"text-gray-500 opacity-50"}}(S)),children:[(0,i.jsx)("div",{className:"absolute -left-1 -top-1",children:(0,i.jsx)(s.E.span,{className:"flex",animate:{scale:[0,1.1,0],rotate:[0,180],transition:{duration:1.3,repeat:1/0,repeatDelay:10}},children:(0,i.jsx)(x.T0,{className:"w-1.5 h-1.5"})})}),(0,i.jsx)("div",{className:"absolute -right-1 -top-1",children:(0,i.jsx)(s.E.span,{className:"flex",animate:{scale:[0,1.3,0],rotate:[0,220],transition:{duration:1.3,repeat:1/0,repeatDelay:10,delay:.2}},children:(0,i.jsx)(x.T0,{className:"w-1.5 h-1.5"})})}),(0,i.jsx)("div",{className:"absolute -right-1 -bottom-1",children:(0,i.jsx)(s.E.span,{className:"flex",animate:{scale:[0,1.1,0],rotate:[0,280],transition:{duration:1.3,repeat:1/0,repeatDelay:10,delay:.32}},children:(0,i.jsx)(x.T0,{className:"w-1.5 h-1.5"})})})]})]})})})}),(0,i.jsx)(h.AW,{side:"bottom",align:"start",sideOffset:8,onCloseAutoFocus:e=>e.preventDefault(),children:[u,y].map((e,t,a)=>(0,i.jsxs)(o.Fragment,{children:[(0,i.jsx)(h.Xi,{children:(0,i.jsxs)("button",{className:"flex gap-2 items-center group py-0.5 relative pr-4 w-full text-left","aria-selected":S===e.platform,"aria-label":"Switch to ".concat(e.displayName,". ").concat(e.description),onClick:()=>{"convai"===e.platform?f.cY.value=E||null:f.cY.value=null,j.push(e.rootPath)},children:[(0,i.jsxs)("div",{className:"h-7 w-7 relative rounded-lg text-white flex items-center justify-center",children:[(0,i.jsx)("div",{className:"flex absolute -inset-[2px] ring-2 ring-gray-alpha-950 rounded-[10px] opacity-0 group-aria-selected:opacity-100 duration-200 scale-95 group-aria-selected:scale-100 transition-all"}),(0,i.jsx)("div",{className:"flex rounded-[inherit] overflow-hidden absolute inset-0",children:b(e.platform)}),(0,i.jsx)("span",{className:"flex relative z-20 scale-125",children:(0,i.jsx)(e.icon,{})})]}),(0,i.jsxs)("div",{className:"flex flex-col ml-0.5",children:[(0,i.jsx)(m.x,{weight:"medium",children:e.displayName}),(0,i.jsx)(m.x,{size:"xs",className:"text-gray-alpha-500 -mt-px",children:e.description})]})]})}),t!==a.length-1&&(0,i.jsx)(h.VD,{})]},e.platform))})]})]}),(0,i.jsxs)(p._v,{side:"bottom",align:"start",sideOffset:4,className:"w-radix-tooltip-trigger rounded-[10px] min-w-[227px] p-3 animate-fade-in",children:[(0,i.jsxs)("div",{className:"flex items-center gap-1 -mt-0.5 mb-0.5",children:[(0,i.jsx)(x.qK,{}),(0,i.jsx)("p",{className:"text-xm font-medium",children:"Switch Platform"})]}),(0,i.jsx)("p",{className:"text-xs leading-normal text-background font-normal opacity-80",children:"Navigation between Creative Platform and Conversational AI has moved to the top of the sidebar."}),(0,i.jsx)("div",{className:"flex w-full mt-2.5",children:(0,i.jsx)("button",{onClick:()=>k(!1),className:"w-full flex items-center pointer-events-auto hover:opacity-90 transition-opacity duration-100 justify-center rounded-md h-7 bg-background text-foreground font-semibold text-xs",children:"Got it"})}),(0,i.jsx)(p.Ce,{})]})]})}):null})},87208:function(e,t,a){"use strict";a.d(t,{H:function(){return i},K:function(){return s}});let i="xi-preserve:last-platform-key",s="xi:last-sidebar-submenu"},72508:function(e,t,a){"use strict";a.d(t,{d:function(){return f}});var i=a(68088),s=a(42454),n=a(95972),r=a(9506),l=a(43479),o=a(14360),c=a(19613),d=a(60358),u=a(55205),h=a(4735),m=a(99348),p=a(63415),v=a(85753),x=a(48246);let f=()=>{let e=(0,o.eL)(),t=(0,n.dl)("productions"),{isProducer:a,isTeamLead:f}=(0,c.y)(),g=(0,o.JS)(),b=(0,m.d)().isolatedEnv.isolated,y=(0,n.dl)("sidebar_platform_switcher"),j=(0,r.useMemo)(()=>e=>{let t=new URLSearchParams;"convai"===e&&t.append("use_cases","conversational");let a=b?d.VP.voiceLab:d.VP.voiceLibrary;return t.size>0&&(a+="?".concat(t.toString())),{name:"Voices",href:a,icon:u.pY,patterns:["/app/voice-library/:other*","/app/voice-lab/:other*","/app/default-voices/:other*"],source:e,action:(0,i.jsx)(l.qu,{trigger:(0,i.jsxs)(h.Button,{className:"relative px-0.5 py-0.5 h-[1.375rem] w-[1.375rem] min-w-0 border border-gray-alpha-200 hover:border-gray-alpha-300 overflow-hidden rounded-[6px] right-1 hover:text-gray-950 group/trigger transition-colors duration-150","aria-label":"Create a voice",size:"xs",onClick:()=>{x.py.value=!1,(0,p.eN)(v.B_.sidebar_add_new_voice_initiated,{variant:"a"})},children:[(0,i.jsx)("div",{className:"absolute top-0 right-0 bottom-0 left-0 bg-background hover:bg-background"}),(0,i.jsx)(s.Z,{className:"relative w-3 h-3 opacity-50 group-hover/trigger:opacity-70 transition-opacity duration-150",strokeWidth:2.5})]})})}},[b]),w=(0,r.useCallback)(t=>[{items:[{name:"Home",href:d.VP.conversationalAiDashboard,icon:u.p3,patterns:["/app/conversational-ai"]}]},{title:"Build",items:[{name:"Agents",href:d.VP.conversationalAi,icon:u.$I,patterns:["/app/conversational-ai/agents/:other*","/app/conversational-ai/talk-to/:other"]},{name:"Knowledge Base",href:d.VP.conversationalAiKnowledgeBase,icon:u.tu,patterns:["/app/conversational-ai/knowledge-base/:other*"]},{name:"Tools",href:d.VP.conversationalAiTools,icon:u.Nj,patterns:["/app/conversational-ai/tools/:other*"],badge:"New"},j(t)]},{title:"Evaluate",items:[{name:"Conversations",href:d.VP.conversationalAiHistory,icon:u.oH,patterns:["/app/conversational-ai/history/:other*"]},{name:"Tests",href:d.VP.conversationalAiTests,icon:u.uZ,patterns:["/app/conversational-ai/agent-testing/:other*"],badge:"New",hidden:!e}]},{title:"Integrations",hidden:!g,items:[{name:"Integrations",href:d.VP.conversationalAiIntegrations,icon:u.If,patterns:["/app/conversational-ai/integrations/:other*"],hidden:!g}]},{title:"Telephony",items:[{name:"Phone Numbers",href:d.VP.conversationalAiPhoneNumbers,icon:u.ZJ,patterns:["/app/conversational-ai/phone-numbers/:other*"]},{name:"Outbound",href:d.VP.conversationalAiBatchCalling,icon:u.cK,patterns:["/app/conversational-ai/batch-calling/:other*"]}]},{items:[{name:"Settings",href:d.VP.conversationalAiSettings,icon:u.ME,patterns:["/app/conversational-ai/settings"]}]}],[b,g,e]),_=(0,r.useMemo)(()=>({platform:"audio",rootPath:d.VP.home,displayName:"Creative Platform",description:"Create AI audio",icon:u.QV,groups:[{items:[{name:"Home",href:d.VP.home,icon:u.p3,patterns:[d.VP.home+"/:other*"]},j()]},{title:"Playground",items:[{name:"Text to Speech",href:d.VP.tts,icon:u.t6,patterns:[d.VP.tts+"/:other*"]},{name:"Voice Changer",href:d.VP.sts,icon:u.xX,patterns:[d.VP.sts+"/:other*"]},{name:"Sound Effects",href:d.VP.soundEffects,icon:u.qP,patterns:["/app/sound-effects/:other*"]},{name:"Voice Isolator",href:d.VP.voiceIsolator,icon:u.S0,patterns:["/app/voice-isolator/:other*"]}]},{title:"Products",items:[{name:"Studio",href:d.VP.studio,icon:u.Cy,patterns:["/app/projects/:other*","/app/studio/:other*"]},{name:"Dubbing",href:b?void 0:d.VP.dubbing,icon:u.j,patterns:["/app/dubbing/:other*"],hidden:b},{name:"Conversational AI",href:d.VP.conversationalAiDashboard,icon:u.Bo,patterns:["/app/conversational-ai/:other*"],hidden:y,submenu:{storageKey:"convai",groups:w("convai")}},{name:"Speech to Text",href:d.VP.stt,icon:u._T,patterns:["".concat(d.VP.stt,"/:other*")]},{name:"Productions",href:d.VP.productions,hidden:!t||b,badge:"Alpha",icon:u.Fl,patterns:["/app/productions","/app/productions/:collectionId/:productionId"]}]},{title:"Productions",hidden:!a,items:[{name:"Producer Mode",href:d.VP.productionsActive,icon:u.GE,patterns:["/app/productions/:other"],submenu:{storageKey:"productions",groups:[{items:[{name:"Home",href:d.VP.productionsActive,icon:u.Fl,patterns:["/app/productions/active","/app/productions/unclaimed"]},{name:"My Teams",href:d.VP.productionsDashboard,hidden:!f,icon:u.Jo,patterns:["/app/productions/dashboard"]},{name:"History",href:d.VP.productionsHistory,icon:u.oH,patterns:["/app/productions/history"]},{name:"Settings",href:d.VP.productionsSettings,icon:u.ME,patterns:["/app/productions/settings"]}]}]}}]}]}),[j,b,t,a,f,g,y,w]),k=(0,r.useMemo)(()=>({platform:"convai",rootPath:d.VP.conversationalAiDashboard,displayName:"Conversational AI",description:"Build and manage your AI agents",icon:u.wr,groups:w("audio")}),[g,w]),N=(0,r.useMemo)(()=>_.groups.filter(e=>!e.hidden&&e.items.some(e=>!e.hidden)),[_]);return(0,r.useMemo)(()=>({audioPlatform:_,conversationalAiPlatform:k,items:N}),[_,k,N])}},93062:function(e,t,a){"use strict";a.d(t,{Cl:function(){return x},h8:function(){return v},jE:function(){return j},vF:function(){return p}});var i=a(17024),s=a(68088),n=a(21276),r=a(40534),l=a(5479),o=a(81999),c=a(74508),d=a(20807),u=a(11521),h=a(60189),m=a(82710);class p{goToPrev(){this.activeStep.prev&&this.setActiveStepId(this.activeStep.prev.id)}goToNext(){this.activeStep.next&&this.setActiveStepId(this.activeStep.next.id)}setActiveStepId(e){this.activeStepId=e}get activeStep(){return this.steps.find(e=>e.id===this.activeStepId)}constructor(e){(0,i._)(this,"steps",void 0),(0,i._)(this,"activeStepId",void 0),(0,i._)(this,"disabled",!1),this.steps=e.map(e=>new e(this)),this.setActiveStepId(this.steps[0].id),(0,l.rC)(this,{activeStepId:l.LO.ref,disabled:l.LO,activeStep:l.Fl,setActiveStepId:l.aD,goToPrev:l.aD,goToNext:l.aD})}}class v{get index(){return this.stepper.steps.findIndex(e=>e.id===this.id)}get prev(){return this.stepper.steps[this.index-1]}get next(){return this.stepper.steps[this.index+1]}get isActive(){return this.stepper.activeStep.id===this.id}get isComplete(){return this._complete}get isDisabled(){return this.stepper.disabled?this.stepper.disabled:!!this.prev&&!this.prev.isComplete}setComplete(e){return this._complete=e}constructor(e){(0,i._)(this,"stepper",void 0),(0,i._)(this,"id",(0,c.k$)()),(0,i._)(this,"_complete",null),this.stepper=e,(0,l.rC)(this,{_complete:l.LO.ref,setComplete:l.aD})}}let x=async(e,t)=>{try{return e.disabled=!0,await t()}finally{e.disabled=!1}},f=e=>{let{status:t}=e;return(0,s.jsx)("div",{className:(0,h.cn)("h-[5px] w-[5px] min-w-[5px]  min-h-[5px] rounded-full","complete"===t?"bg-green-400":"bg-gray-alpha-300")})},g=(0,o.Pi)(e=>{let{step:t}=e;return(0,s.jsxs)(n.xz,{className:(0,h.cn)("relative hstack gap-2 items-center h-7 px-3 text-start disabled:opacity-40 aria-disabled:opacity-40 outline-foreground rounded-lg"),value:t.id,disabled:t.isDisabled,children:[(0,s.jsx)(f,{status:t.isComplete?"complete":"incomplete"}),(0,s.jsxs)("div",{className:"relative inline-block",children:[(0,s.jsx)(u.x,{className:"invisible",size:"sm",weight:"semi-bold",children:t.label}),(0,s.jsx)(u.x,{className:"overlay",size:"sm",weight:t.isActive?"semi-bold":"normal",children:t.label})]})]})}),b=e=>{let{className:t}=e;return(0,s.jsx)(r.E.div,{className:(0,h.cn)("h-10 w-10 rounded-lg p-3 px-[15px]",t),style:{boxShadow:"0px 2px 2px rgba(0, 0, 0, 0.10), 0px 0px 2px rgba(0, 0, 0, 0.10)"},children:(0,s.jsx)(m.Logo,{isOpen:!1})})},y=e=>{let{stepper:t,title:a,icon:i=(0,s.jsx)(b,{}),actions:l}=e;return(0,s.jsx)("div",{className:"sticky top-36 h-0",children:(0,s.jsxs)(r.E.div,{className:(0,h.cn)("absolute top-0 left-0 -translate-x-full px-14 min-w-[10rem]"),style:{visibility:"hidden"},whileInView:{visibility:"visible"},viewport:{amount:"all"},children:[(0,s.jsx)("div",{className:"absolute -top-5 -translate-y-full",children:i}),(0,s.jsx)(d.X,{size:"lg",children:a}),(0,s.jsx)(n.fC,{className:"my-2.5 -ml-3",value:t.activeStep.id,onValueChange:e=>{t.setActiveStepId(e)},children:(0,s.jsx)(n.aV,{className:"stack gap-1","aria-label":"Manage your account",children:t.steps.map(e=>(0,s.jsx)(g,{step:e},e.id))})}),l]})})},j=(0,o.Pi)(e=>{let{stepper:t,title:a,children:i,icon:n,stepsActions:r,classes:l}=e;return(0,s.jsx)("div",{className:"pt-0 md:pt-16 lg:pt-36 pb-0 md:pb-6 lg:pb-6",children:(0,s.jsxs)("div",{className:(0,h.cn)("relative mx-auto max-w-xl",null==l?void 0:l.container),children:[(0,s.jsx)(y,{stepper:t,title:a,icon:n,actions:r}),i]})})})},28994:function(e,t,a){"use strict";a.d(t,{CH:function(){return u},Mw:function(){return p},Ou:function(){return m},Tg:function(){return c},X$:function(){return o},XQ:function(){return d},nR:function(){return h}});var i=a(68088);a(9506);var s=a(96474),n=a(22869),r=a(29815),l=a(11521);function o(e){let{value:t}=e;return(0,i.jsxs)("div",{className:"stack gap-1.5 w-full",children:[(0,i.jsxs)("div",{className:"hstack gap-0.5 items-center justify-between",children:[(0,i.jsx)(s.Label,{htmlFor:"stability-slider",className:"w-fit underline decoration-dotted underline-offset-2 decoration-gray-alpha-400 select-none",tooltip:"Increasing stability will make the voice more consistent between re-generations, but it can also make it sounds a bit monotone. On longer text fragments we recommend lowering this value.",onDoubleClick:e.onReset,children:"Stability"}),null!=t&&t<.3&&(0,i.jsx)(l.x,{size:"xs",className:"h-4 text-orange-400 truncate",children:"Under 30% may lead to instability"})]}),(0,i.jsxs)("div",{className:"hstack justify-between",children:[(0,i.jsx)(s.Label,{size:"xs",color:"subtle",weight:"normal",children:"More variable"}),(0,i.jsx)(s.Label,{size:"xs",color:"subtle",weight:"normal",children:"More stable"})]}),(0,i.jsx)(n.i,{elId:"voiceStabilitySettingSlider",id:"stability-slider","aria-label":"Stability",min:0,max:1,formatter:n.$.percentage,value:null===t?0:t,onValueChange:e.onValueChange,onValueCommit:e.onValueCommit,onThumbDoubleClick:e.onReset,disabled:e.disabled,step:.01})]})}function c(e){return(0,i.jsxs)("div",{className:"stack gap-1.5 w-full",children:[(0,i.jsx)(s.Label,{htmlFor:"clarity-slider",className:"w-fit underline decoration-dotted underline-offset-2 decoration-gray-alpha-400 select-none",tooltip:"High enhancement boosts overall voice clarity and target speaker similarity. Very high values can cause artifacts, so adjusting this setting to find the optimal value is encouraged.",onDoubleClick:e.onReset,children:"Similarity"}),(0,i.jsxs)("div",{className:"hstack justify-between",children:[(0,i.jsx)(s.Label,{size:"xs",color:"subtle",weight:"normal",children:"Low"}),(0,i.jsx)(s.Label,{size:"xs",color:"subtle",weight:"normal",children:"High"})]}),(0,i.jsx)(n.i,{elId:"voiceSimilaritySettingSlider",id:"clarity-slider","aria-label":"Similarity",min:0,max:1,formatter:n.$.percentage,value:null===e.value?0:e.value,onValueChange:e.onValueChange,onValueCommit:e.onValueCommit,onThumbDoubleClick:e.onReset,disabled:e.disabled,step:.01})]})}function d(e){return(0,i.jsxs)("div",{className:"stack gap-1.5 w-full",children:[(0,i.jsxs)("div",{className:"hstack gap-0.5 items-center justify-between",children:[(0,i.jsx)(s.Label,{htmlFor:"style-slider",className:"w-fit underline decoration-dotted underline-offset-2 decoration-gray-alpha-400 select-none",tooltip:"High values are recommended if the style of the speech should be exaggerated compared to the uploaded audio. Higher values can lead to more instability in the generated speech. Setting this to 0.0 will greatly increase generation speed and is the default setting.",onDoubleClick:e.onReset,children:"Style Exaggeration"}),null!=e.value&&e.value>.5&&(0,i.jsx)(l.x,{size:"xs",className:"h-4 text-orange-400 truncate",children:"Over 50% may lead to instability"})]}),(0,i.jsxs)("div",{className:"hstack justify-between",children:[(0,i.jsx)(s.Label,{size:"xs",color:"subtle",weight:"normal",children:"None"}),(0,i.jsx)(s.Label,{size:"xs",color:"subtle",weight:"normal",children:"Exaggerated"})]}),(0,i.jsx)(n.i,{elId:"voiceStyleExaggerationSettingSlider",id:"style-slider","aria-label":"Style Exaggeration",formatter:n.$.percentage,min:0,max:1,value:null===e.value?0:e.value,onValueChange:e.onValueChange,onValueCommit:e.onValueCommit,onThumbDoubleClick:e.onReset,disabled:e.disabled,step:.01})]})}function u(e){var t;return(0,i.jsxs)("div",{className:"hstack gap-2 w-full",children:[(0,i.jsx)(r.r,{elId:"speakerBoostSwitch",id:"speaker-boost-switch",disabled:e.disabled,checked:null!==(t=e.value)&&void 0!==t&&t,onCheckedChange:e.onValueChange}),(0,i.jsx)(s.Label,{htmlFor:"speaker-boost-switch",className:"cursor-pointer w-fit underline decoration-dotted underline-offset-2 decoration-gray-alpha-400",tooltip:"Boost the similarity of the synthesized speech and the voice at the cost of some generation speed.",size:"sm",weight:"medium",children:"Speaker boost"})]})}function h(e){var t;return(0,i.jsxs)("div",{className:"hstack gap-2 w-full",children:[(0,i.jsx)(r.r,{elId:"removeBackgroundNoiseSwitch",id:"remove-background-noise-switch",checked:null!==(t=e.value)&&void 0!==t&&t,onCheckedChange:e.onValueChange}),(0,i.jsx)(s.Label,{htmlFor:"remove-background-noise-switch",className:"cursor-pointer w-fit underline decoration-dotted underline-offset-2 decoration-gray-alpha-400",tooltip:"Remove the background noise from your audio input. Only applies to Voice Changer.",size:"sm",weight:"medium",children:"Remove Background Noise"})]})}function m(e){let{value:t}=e;return(0,i.jsxs)("div",{className:"stack gap-1.5",children:[(0,i.jsx)("div",{className:"hstack gap-0.5 items-center justify-between",children:(0,i.jsx)(s.Label,{htmlFor:"stability-slider",className:"w-fit underline decoration-dotted underline-offset-2 decoration-gray-alpha-400 select-none",tooltip:"Volume of this voice. Changing that will not require re-generating the paragraphs.",onDoubleClick:e.onReset,children:"Volume"})}),(0,i.jsxs)("div",{className:"hstack justify-between",children:[(0,i.jsx)(s.Label,{size:"xs",color:"subtle",weight:"normal",children:"-30dB"}),(0,i.jsx)(s.Label,{size:"xs",color:"subtle",weight:"normal",children:"+5dB"})]}),(0,i.jsx)(n.i,{elId:"voiceStabilitySettingSlider",id:"stability-slider","aria-label":"Stability",min:-30,max:5,formatter:n.$.default,value:null===t?0:t,onValueChange:e.onValueChange,onValueCommit:e.onValueCommit,onThumbDoubleClick:e.onReset,disabled:e.disabled,step:.01})]})}function p(e){var t;return(0,i.jsxs)("div",{className:"stack gap-1.5 w-full",children:[(0,i.jsx)("div",{className:"hstack gap-0.5 items-center justify-between",children:(0,i.jsx)(s.Label,{htmlFor:"speech-speed-slider",className:"w-fit underline decoration-dotted underline-offset-2 decoration-gray-alpha-400 select-none",tooltip:"Controls the speed of the generated speech. Values below 1.0 will slow down the speech, while values above 1.0 will speed it up. Extreme values may affect the quality of the generated speech.",onDoubleClick:e.onReset,children:"Speed"})}),(0,i.jsxs)("div",{className:"hstack justify-between",children:[(0,i.jsx)(s.Label,{size:"xs",color:"subtle",weight:"normal",children:"Slower"}),(0,i.jsx)(s.Label,{size:"xs",color:"subtle",weight:"normal",children:"Faster"})]}),(0,i.jsx)(n.i,{elId:"voiceSpeechSpeedSettingSlider",id:"speech-speed-slider","aria-label":"Speed",min:.7,max:1.2,value:null!==(t=e.value)&&void 0!==t?t:1,onValueChange:e.onValueChange,onValueCommit:e.onValueCommit,onThumbDoubleClick:e.onReset,disabled:e.disabled,step:.01})]})}},29047:function(e,t,a){"use strict";a.d(t,{i:function(){return c}});var i=a(68088),s=a(81999),n=a(95972);a(9506);var r=a(60358),l=a(50113),o=a(11521);let c=(0,s.Pi)(e=>{let{trainingUse:t}=e;return(0,n.dl)("training-disclosure")?(0,i.jsx)(o.x,{size:"xs",color:"subtle",className:"text-center",children:!1===t?"Your workspace data isn't used to train our models.":(0,i.jsxs)(i.Fragment,{children:["Data you provide to us here may be used to improve our models for everyone. To learn more, please review our"," ",(0,i.jsx)(l.Un,{href:r.ZP.privacyprivacy,target:"_blank",children:"Privacy Policy"}),"."]})}):(0,i.jsx)(i.Fragment,{})})},65349:function(e,t,a){"use strict";var i=a(68088),s=a(18743),n=a(40534),r=a(81999),l=a(73862),o=a(9506),c=a(10258),d=a(52389),u=a(26897),h=a(1851),m=a(60358),p=a(92234),v=a(72228),x=a(4735),f=a(96474),g=a(30583),b=a(11521),y=a(84106),j=a(25933),w=a(63415),_=a(85753),k=a(60189);let N=(0,r.Pi)(e=>{var t,a;let{voice:r,onAdded:N,path:C,setPath:S}=e,[P,E]=(0,o.useState)(!1),[D,A]=(0,o.useState)(null),T=(0,c.XM)(),V=(null==r?void 0:r.name)||"",I=(0,o.useMemo)(()=>r?(0,d.Uw)((0,d.cS)(r)):{},[r]),M=async()=>{if(r){E(!0);try{let{voice_id:e}=await T(r.public_owner_id,r.voice_id,V);E(!1),A(e),(0,w.eN)(_.B_.suggested_voice_added),N(e)}catch(e){E(!1),(0,y.toast)("Error Adding Voice!",{id:"voice-add-error",description:e,action:null,duration:1e4})}}},L=!((null===(a=h.workspaceData.value)||void 0===a?void 0:null===(t=a.subscription)||void 0===t?void 0:t.tier)==="free"&&(null==r?void 0:r.free_users_allowed)===!1);return(0,i.jsxs)(g.ue,{className:"stack p-0 gap-0 w-full",children:[(0,i.jsx)(g.Tu,{className:"px-5 pt-5 pb-5",children:(0,i.jsx)(g.bC,{className:"hstack items-center gap-3"})}),(0,i.jsx)("div",{className:"relative flex-1 min-h-0 overflow-hidden",children:r&&(0,i.jsx)(s.M,{children:1===C.length&&(0,i.jsxs)(n.E.div,{className:"overlay w-full h-full overflow-auto stack gap-5 px-5 py-5",initial:{x:-70,opacity:0},animate:{x:0,opacity:1},exit:{x:-70,opacity:0},transition:{opacity:{duration:.15},x:{type:"spring",mass:.25,stiffness:100,damping:10}},children:[(0,i.jsx)("div",{className:"w-full stack gap-3",children:(0,i.jsxs)("div",{className:"w-full items-center hstack gap-3",children:[(0,i.jsx)(p.v,{voice:r,size:"2.5rem",showPreview:!0}),(0,i.jsx)(b.x,{size:"lg",weight:"semi-bold",className:"max-w-sm",truncate:!0,children:V})]})}),(0,i.jsxs)("div",{className:"w-full stack gap-2",children:[(0,i.jsx)(f.Label,{children:"Description"}),(0,i.jsx)(b.x,{size:"sm",children:r.description})]}),(0,i.jsxs)("div",{className:"w-full stack gap-2",children:[(0,i.jsx)(f.Label,{children:"Labels"}),(0,i.jsx)(v.k,{variant:"secondary",limit:8,children:Object.values(I).map(e=>(0,i.jsx)(v.Ct,{children:e},e))})]}),(0,i.jsxs)("div",{className:"w-full stack gap-2",children:[(0,i.jsx)(f.Label,{children:"Attributes"}),(0,i.jsx)(u.yY,{voice:r,isOwner:!1,disabled:!1,iconOnly:!1,includeTypeBadge:!0})]}),(0,i.jsxs)("div",{className:"w-full stack gap-2",children:[(0,i.jsx)(f.Label,{children:"Statistics"}),(0,i.jsx)(u.dE,{voice:r})]}),(0,i.jsxs)("div",{className:"hstack gap-2",children:[(0,i.jsx)(g.sw,{asChild:!0,children:(0,i.jsx)(x.Button,{disabled:null===r,variant:"outline",className:"py-1.5",onClick:()=>{},children:"Close"})}),(0,i.jsx)(j.Tooltip,{label:L?null:"You must be a paid subscriber to use this voice. Please upgrade your subscription to start using it.",shouldWrapChildren:!0,children:(0,i.jsx)(x.Button,{variant:"primary",className:(0,k.cn)("rounded-full","w-full"),onPointerDown:e=>{e.stopPropagation()},disabled:null===r||!1===L,loading:P,onClick:()=>{M()},"aria-label":"Add to My Voices",children:"Add to My Voices"})})]}),(0,i.jsx)("div",{className:"flex-1"}),(0,i.jsx)("div",{className:"hstack gap-2",children:(0,i.jsx)(x.Button,{className:"w-full py-1.5",children:(0,i.jsx)(l.default,{target:"_blank",href:m.VP.voiceLibrary,children:"Find more voices"})})})]},"add_voice")})})]})});t.Z=e=>{let[t,a]=(0,o.useState)(["add_voice"]);return(0,i.jsx)(g.yo,{open:e.open,onOpenChange:t=>{t?a(["add_voice"]):e.onCancel(),e.openChange(t)},children:(0,i.jsx)(N,{...e,path:t,setPath:a})})}},92234:function(e,t,a){"use strict";a.d(t,{v:function(){return h}});var i=a(68088),s=a(81999);a(9506);var n=a(10258),r=a(26897),l=a(42032),o=a(80705),c=a(60189),d=a(26090),u=a(75611);let h=(0,s.Pi)(e=>{let{voice:t,showPreview:a=!1,hideIndicator:s=!1,size:h="1rem",mobilePlayVisibility:m="never",onPlayChange:p,customAvatar:v,playWithGlobalPlayer:x=!0,showOnlyHighQualityIndicator:f=!1}=e,g=(0,u.N)(),b=x?d.yA.value&&!!d.Qu.value&&d.Qu.value.id===t.preview_url:(null==g?void 0:g.isPlaying)&&(null==g?void 0:g.currentVoiceId)===t.voice_id;return(0,i.jsxs)("div",{className:"relative group",style:{height:h,width:h},children:[(0,i.jsx)("div",{className:(0,c.cn)("block opacity-100 transition-opacity duration-100"),children:v||(0,i.jsx)(l.qE,{size:"100%",id:t.voice_id,name:t.name})}),(0,i.jsx)("div",{className:(0,c.cn)("overlay opacity-0 md:group-hover:opacity-100 focus-within:opacity-100 transition-opacity duration-100","never"===m?"opacity-0":"opacity-100"),style:{opacity:b?100:void 0},children:a&&t.preview_url&&(0,i.jsx)(o.J,{playing:b,onPlay:()=>{x?(0,n.d4)(t.preview_url,t.name,t.voice_id,void 0,(0,n.SA)(t),!0):u.h.play(t.preview_url,t.voice_id),null==p||p(!0)},onPause:()=>{x?(0,d.pt)():u.h.stop(),null==p||p(!1)},onClick:e=>{e.stopPropagation()},variant:"primary","aria-label":"".concat(t.name," preview"),className:"h-full w-full rounded-full",elId:"voiceItemPlayPreview",elContext:"id:".concat(t.voice_id,";name:").concat(t.name)})}),!s&&(0,i.jsx)(r.G7,{showOnlyHighQualityIndicator:f,category:t.category,size:"min(calc(".concat(h," * 0.625), 2rem)")})]})})},8020:function(e,t,a){"use strict";a.d(t,{Q:function(){return R},d:function(){return I}});var i=a(68088),s=a(23586),n=a(66046),r=a.n(n),l=a(75051),o=a(81999),c=a(73862),d=a(9506),u=a(82374),h=a(10258),m=a(52389),p=a(16130),v=a(60358),x=a(26090),f=a(42032),g=a(47230),b=a(72081),y=a(8120),j=a(72228),w=a(4735),_=a(69881),k=a(80705),N=a(64755),C=a(11521),S=a(29554),P=a(63415),E=a(85753),D=a(60189),A=a(15750),T=a(65349),V=a(75611);let I=(0,o.Pi)(e=>{var t,a,s;let{voice:n,metadata:r={},showPreview:l=!0,className:o,showBadges:c,playWithGlobalPlayer:u=!0,formStylingSize:m,...p}=e,v=(0,d.useRef)(null),g=[null===(t=n.labels)||void 0===t?void 0:t.language,null===(a=n.labels)||void 0===a?void 0:a.descriptive,null===(s=n.labels)||void 0===s?void 0:s.use_case].filter(e=>!!e),[y,w]=(0,d.useState)(!1),[_,N]=(0,d.useState)(g.length),S=(0,V.N)();(0,d.useLayoutEffect)(()=>{var e,t,a,i;(null===(e=v.current)||void 0===e?void 0:e.scrollWidth)&&(null===(t=v.current)||void 0===t?void 0:t.offsetWidth)&&(null===(a=v.current)||void 0===a?void 0:a.scrollWidth)>(null===(i=v.current)||void 0===i?void 0:i.offsetWidth)&&N(Math.max(_-1,1))},[_]);let P=()=>w(!0),E=()=>w(!1),A=n.name,T=u?x.yA.value&&!!x.Qu.value&&x.Qu.value.id===n.preview_url:(null==S?void 0:S.isPlaying)&&(null==S?void 0:S.currentVoiceId)===n.voice_id;return(0,i.jsxs)("div",{...p,className:(0,D.cn)("group h-full w-full hstack items-center gap-2",o),onMouseEnter:P,onFocus:P,onMouseLeave:E,onBlur:E,children:[(0,i.jsxs)("div",{className:(0,D.cn)("relative","sm"===m?"w-4 h-4":"w-5 h-5"),children:[(0,i.jsx)("div",{className:(0,D.cn)("block opacity-100 transition-opacity duration-100",l&&n.preview_url&&!n.disabled&&"group-hover:opacity-0"),children:(0,i.jsx)(f.qE,{size:"sm"===m?"1rem":"1.25rem",id:n.voice_id,name:n.name})}),(0,i.jsx)("div",{className:"overlay opacity-0 group-hover:opacity-100 focus-within:opacity-100 transition-opacity duration-100",style:{opacity:T?100:void 0},children:l&&n.preview_url&&!n.disabled&&(0,i.jsx)(k.J,{playing:T,onPlay:()=>{u?(0,h.d4)(n.preview_url,A,n.voice_id):V.h.play(n.preview_url,n.voice_id)},onPause:()=>{u?(0,x.pt)():V.h.stop()},onClick:e=>{e.stopPropagation()},variant:"primary",size:"2xs",className:(0,D.cn)("rounded-full",{"w-4 h-4":"sm"===m}),"aria-label":"".concat(n.name," preview")})})]}),(0,i.jsxs)(C.x,{className:"truncate",weight:"inherit",color:"inherit",ref:v,size:"sm"===m?"xs":"sm",children:[n.is_legacy?A+" (Legacy)":A,r.alias&&(0,i.jsx)(C.x,{as:"span",weight:"inherit",color:"subtle",size:"xs",className:"ml-1",children:r.alias})]}),null!=n.info&&(0,i.jsx)(b.k,{className:"-ml-1",info:n.info}),(0,i.jsx)("div",{className:"flex-1"}),c&&(0,i.jsx)("div",{className:"hstack items-center gap-2",children:g?(0,i.jsx)(j.k,{variant:"secondary",className:"flex-nowrap",limit:y?g.length:_,children:g.map(e=>(0,i.jsx)(j.Ct,{children:e},e))}):null})]})}),M=e=>{let{voicesMetadata:t,label:a,options:s,value:n,onSelect:r,prefix:l,className:o,container:c,loading:d=!1,playWithGlobalPlayer:u=!0}=e,h=s.map(e=>(0,i.jsx)(_.di,{value:l?"".concat(l,":").concat(e.voice_id):e.voice_id,keywords:[e.name,...Object.values(e.labels||{})],disabled:e.disabled,onSelect:e=>r(l?e.split(":")[1]:e),selected:e.voice_id===(null==n?void 0:n.voice_id),className:(0,D.cn)(e.disabled&&"!pointer-events-auto cursor-default","p-0"),"aria-label":"".concat(e.name),tabIndex:0,children:(0,i.jsx)(p.Z,{container:c,withinTop:"200px",withinBottom:"200px",className:"w-full h-9",children:(0,i.jsx)(I,{voice:e,metadata:t[e.voice_id],showBadges:!0,playWithGlobalPlayer:u,className:"p-1.5"})})},e.voice_id));return(0,i.jsx)(_.fu,{heading:(0,i.jsxs)("div",{className:"flex flex-row items-center",children:[a,d&&(0,i.jsx)(y.Z,{svgClassName:"ml-1 h-3 w-4 text-gray-900 animate-spin"})]}),className:(0,D.cn)("border-b-0",o),children:s.length>0?h:d?null:(0,i.jsx)("p",{className:"text-xs px-2 py-1 text-gray-500",children:"No voices"})})},L=e=>{let{children:t,listRef:a,inputRef:n,autoFocus:r=!0,loading:l=!1}=e,o=(0,s.U8)(e=>e.value),c=(0,s.U8)(e=>e.filtered),u=(0,s.U8)(e=>e.search);return(0,d.useEffect)(()=>{var e,t;r&&!l&&void 0!==o&&0!==c.count&&(null===(t=a.current)||void 0===t||null===(e=t.querySelector("[aria-selected='true']"))||void 0===e||e.focus())},[o]),(0,d.useEffect)(()=>{var e;r&&(null===(e=n.current)||void 0===e||e.focus())},[c.count,l,u]),(0,i.jsx)(_.e8,{ref:a,className:"max-h-[40vh]",children:t})},z=e=>"public_owner_id"in e,R=(0,o.Pi)(e=>{var t,a,s,n,o,h;let{voicesMetadata:p={},options:x,addExtraOptions:f,value:b,onValueChange:j,onOpen:k,side:V,align:R,disabled:F,formStylingSize:B,suggestedOptionGroups:Z,buttonVariant:O,buttonClassName:U,popoverContentClassName:q,getDisabledVoiceReasonFn:H,getOptionInfoLabelFn:G,filterFn:W,autoFocus:Y=!0,placeholder:K="Voices",disablePortal:X=!1,playWithGlobalPlayer:Q=!0,hideFindMoreVoices:J=!1}=e,$=(0,d.useRef)(null),ee=(0,d.useRef)(null),[et,ea]=(0,d.useState)(!1),[ei,es]=(0,d.useState)(""),[en,er]=(0,d.useState)(!1),el=(0,d.useCallback)(e=>{void 0===x&&er(!0),es(e)},[]),eo=(0,u.Nr)(ei,300),ec=(0,A.PW)({enabled:void 0===x,search:eo,sort:"created_at_unix",sortDirection:"desc",includeTotalCount:!1,keepPreviousData:!0});(0,d.useEffect)(()=>{er(ec.isFetching)},[ec.isFetching]);let ed=(0,d.useMemo)(()=>{var e;let t=x||(null===(e=ec.data)||void 0===e?void 0:e.pages.flatMap(e=>e.voices.filter(e=>!A.Ad.includes(e.voice_id)).filter(e=>!W||W(e)).map(e=>{var t;let a=null==G?void 0:G(e),i=null==H?void 0:H(e);return{voice_id:e.voice_id,name:e.name,category:e.category,labels:e.labels&&(0,m.Uw)(e.labels),preview_url:e.preview_url,is_legacy:e.is_legacy,disabled:!!i,info:i||a,live_moderation_enabled:null===(t=e.sharing)||void 0===t?void 0:t.live_moderation_enabled}})))||[];return f?f(t,eo):t},[x,ec.data,H,W,f,eo]),eu=r()(ed,"category"),eh=null===(t=eu.premade)||void 0===t?void 0:t.filter(e=>!0!==e.is_legacy),em=null===(a=eu.premade)||void 0===a?void 0:a.filter(e=>!0===e.is_legacy),ep=e=>{null!=k&&!et&&e&&k(),e||es(""),ea(e)},ev=e=>{(0,P.eN)(E.B_.voice_selected),j(e),ep(!1),eb(e.voice_id)},ex=e=>{let t=ed.find(t=>t.voice_id===e);t&&ev(t)},ef=(e,t)=>{let a=t.find(t=>t.voice_id===e);z(a)&&!a.is_added_by_user?(ej(a),e_(!0)):ev({voice_id:a.voice_id,name:a.name,category:a.category,labels:z(a)?(0,m.Uw)((0,m.cS)(a)):a.labels,preview_url:a.preview_url||null})},{recentlyUsedVoices:eg,addRecentlyUsedVoice:eb}=(0,S.Z)(ed),[ey,ej]=(0,d.useState)(null),[ew,e_]=(0,d.useState)(!1);(0,d.useEffect)(()=>{et&&setTimeout(()=>{var e;null===(e=ee.current)||void 0===e||e.focus()})},[et]),(0,d.useEffect)(()=>{let e=ed.map(e=>e.voice_id);null!=ey&&e.includes(ey.voice_id)&&(ex(ey.voice_id),eb(ey.voice_id),ej(null))},[ed,ey]);let ek=(0,u.Nr)(ec.isFetching&&!ec.isFetchingNextPage,100),eN=X?d.Fragment:N.i9;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(T.Z,{voice:ey,open:ew,openChange:e_,onAdded:e=>{ej(t=>(null!=t&&(t.voice_id=e),t)),e_(!1),ep(!1)},onCancel:()=>{ej(null),e_(!1),ep(!0)}}),(0,i.jsxs)(N.J2,{open:et,onOpenChange:ep,children:[(0,i.jsx)(N.xo,{asChild:!0,disabled:F,className:(0,D.cn)("sm"===B&&"rounded-lg h-8","md"===B&&"rounded-lg h-10"),children:(0,i.jsxs)(w.Button,{role:"combobox","aria-label":"Select voice",className:(0,D.cn)("w-full justify-between px-3","sm"===B&&"px-1",U),type:"button",variant:O,children:[!b&&(0,i.jsx)(C.x,{className:"px-1",children:K}),b&&(0,i.jsx)(I,{voice:b,metadata:p[b.voice_id],formStylingSize:B,className:"flex-1 min-w-0"}),(0,i.jsx)(l.Z,{className:(0,D.cn)("shrink-0 opacity-50","sm"===B?"w-3 h-3":"w-4 h-4")})]})}),(0,i.jsx)(eN,{children:(0,i.jsx)(N.yk,{onWheel:e=>{e.stopPropagation()},onTouchMove:e=>{e.stopPropagation()},className:(0,D.cn)("p-0 w-[30rem] duration-200",q),side:V,align:R,onOpenAutoFocus:e=>{window.innerWidth<600&&e.preventDefault()},children:(0,i.jsxs)(_.mY,{className:"",filter:(e,t,a)=>(e+" "+(null==a?void 0:a.join(" "))).toLowerCase().includes(t.toLowerCase())?1:0,shouldFilter:void 0!==x,children:[(0,i.jsx)(_.sZ,{ref:ee,placeholder:"Search for a voice...",className:"max-md:text-base relative",onValueChange:e=>el(e)}),ek&&(0,i.jsx)("div",{className:"absolute top-3 right-2",children:(0,i.jsx)(y.Z,{svgClassName:"h-4 w-5 text-gray-900 animate-spin"})}),(0,i.jsxs)(L,{autoFocus:Y,listRef:$,inputRef:ee,loading:en,children:[!ec.isFetching&&(0,i.jsx)(_.rb,{children:"No results found."}),(0,i.jsxs)("div",{className:(0,D.cn)("divide-y",ec.isFetching&&"opacity-70 transition-opacity duration-200"),children:[eg.length>0&&(0,i.jsx)(M,{playWithGlobalPlayer:Q,label:"Recent",prefix:"recently-used",options:eg.slice(0,10),value:b,onSelect:ex,container:$,voicesMetadata:p}),null==Z?void 0:Z.map(e=>{let t=e.options.map(e=>({voice_id:e.voice_id,name:e.name,category:e.category,labels:z(e)?(0,m.Uw)((0,m.cS)(e)):e.labels,preview_url:e.preview_url||""})).slice(0,e.limit)||[];return(0,i.jsx)(M,{label:e.label,playWithGlobalPlayer:Q,loading:e.isLoading,prefix:e.id,options:t,value:b,onSelect:t=>ef(t,e.options),container:$,voicesMetadata:p},e.id)}),(null===(s=eu.dub_specific)||void 0===s?void 0:s.length)>0&&(0,i.jsx)(M,{label:"Dub Specific",playWithGlobalPlayer:Q,options:eu.dub_specific||[],value:b,onSelect:ex,container:$,voicesMetadata:p}),(null===(n=eu.professional)||void 0===n?void 0:n.length)>0&&(0,i.jsx)(M,{label:"Professional",playWithGlobalPlayer:Q,options:eu.professional||[],value:b,onSelect:ex,container:$,voicesMetadata:p}),(null===(o=eu.cloned)||void 0===o?void 0:o.length)>0&&(0,i.jsx)(M,{label:"Cloned",playWithGlobalPlayer:Q,options:eu.cloned||[],value:b,onSelect:ex,container:$,voicesMetadata:p}),(null===(h=eu.generated)||void 0===h?void 0:h.length)>0&&(0,i.jsx)(M,{label:"Generated",playWithGlobalPlayer:Q,options:eu.generated||[],value:b,onSelect:ex,container:$,voicesMetadata:p}),(null==eh?void 0:eh.length)>0&&(0,i.jsx)(M,{label:"Default",playWithGlobalPlayer:Q,options:eh||[],value:b,onSelect:ex,container:$,voicesMetadata:p}),!!ei&&(null==em?void 0:em.length)>0&&(0,i.jsx)(M,{label:"Legacy",playWithGlobalPlayer:Q,options:em,value:b,onSelect:ex,container:$,voicesMetadata:p}),void 0===x&&(0,i.jsx)(g.Z,{className:"!border-0",loading:ec.isFetchingNextPage,onTrigger:()=>{var e;let t=(null===(e=$.current)||void 0===e?void 0:e.scrollTop)||0;ec.hasNextPage&&ec.fetchNextPage().then(()=>{requestAnimationFrame(()=>{$.current&&($.current.scrollTop=t)})})},loadInAdvanceMargin:50})]})]}),!J&&(0,i.jsx)("div",{className:"p-2 w-full bg-background border-t",children:(0,i.jsx)(w.Button,{asChild:!0,size:"sm",className:"w-full h-7",children:(0,i.jsx)(c.default,{href:v.VP.voiceLibrary,children:"Find more voices"})})})]})})})]})]})})},75611:function(e,t,a){"use strict";a.d(t,{N:function(){return l},h:function(){return r}});var i=a(17024),s=a(9506);class n{addListener(e){return this.listeners.add(e),()=>this.listeners.delete(e)}notifyListeners(){this.listeners.forEach(e=>e())}setState(e){this.state={...this.state,...e},this.notifyListeners()}getState(){return this.state}play(e,t){if(this.audio){if(this.state.currentVoiceId===t&&this.state.isPlaying){this.stop();return}this.audio.src=e,this.audio.play(),this.setState({isPlaying:!0,currentVoiceId:t})}}stop(){this.audio&&(this.audio.pause(),this.audio.currentTime=0,this.setState({isPlaying:!1,currentVoiceId:null}))}constructor(){(0,i._)(this,"audio",new Audio),(0,i._)(this,"state",{isPlaying:!1,currentVoiceId:null}),(0,i._)(this,"listeners",new Set),this.audio&&this.audio.addEventListener("ended",()=>{this.setState({isPlaying:!1,currentVoiceId:null})})}}let r=new n,l=()=>(0,s.useSyncExternalStore)(e=>r.addListener(e),()=>r.getState())},30121:function(e,t,a){"use strict";a.d(t,{Cd:function(){return c},X:function(){return d},bZ:function(){return o}});var i=a(68088),s=a(73886),n=a(9506),r=a(60189);let l=(0,s.j)("relative w-full rounded-[16px] border px-4 py-3 text-sm font-medium [&>svg+div]:-my-0.5 [&>svg]:absolute [&>svg]:w-5 [&>svg]:h-5 [&>svg]:left-3 [&>svg]:top-3 [&>svg]:text-foreground [&>svg~*]:pl-6",{variants:{variant:{default:"bg-background text-foreground",warning:"border-amber-300 bg-amber-300 text-grey-alpha-600"}},defaultVariants:{variant:"default"}}),o=n.forwardRef((e,t)=>{let{className:a,variant:s,...n}=e;return(0,i.jsx)("div",{ref:t,role:"alert",...n,className:(0,r.cn)(l({variant:s}),a)})});o.displayName="Alert";let c=n.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,i.jsx)("h5",{ref:t,className:(0,r.cn)("mb-1 font-semibold leading-none tracking-tight",a),...s})});c.displayName="AlertTitle";let d=n.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,i.jsx)("div",{ref:t,className:(0,r.cn)("text-sm [&_p]:leading-relaxed",a),...s})});d.displayName="AlertDescription"},56803:function(e,t,a){"use strict";var i=a(68088),s=a(41087),n=a.n(s),r=a(3269),l=a(9506),o=a(3030),c=a(25933);t.Z=e=>{let{onCopy:t,variant:a,onClick:s,...d}=e,u=(0,l.useRef)(),[h,m]=(0,l.useState)(!1);return(0,i.jsx)(c.Tooltip,{label:h?"Copied!":"Copy",closeOnClick:!1,children:(0,i.jsx)(o.h,{size:"2xs",...d,variant:a,onClick:e=>{e.stopPropagation(),n()(t()),m(!0),clearTimeout(u.current),u.current=setTimeout(()=>{m(!1)},1500),null==s||s(e)},children:(0,i.jsx)(r.Z,{})})})}},79709:function(e,t,a){"use strict";a.d(t,{k:function(){return o}});var i=a(68088),s=a(9506),n=a(56803),r=a(60189),l=a(46547);let o=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,i.jsxs)("div",{ref:t,className:(0,r.cn)("group relative w-fit h-fit",a),children:[(0,i.jsx)(l.I,{...s,className:"rounded-lg"}),(0,i.jsx)("div",{className:"transition-opacity duration-150 items-center absolute right-2 top-1/2 -translate-y-1/2 p-1",children:(0,i.jsx)(n.Z,{type:"button","aria-label":"Copy",onCopy:()=>s.value,onClick:e=>e.stopPropagation()})})]})});o.displayName="CopyInput"},81069:function(e,t,a){"use strict";a.d(t,{$m:function(){return m},OX:function(){return x},Qz:function(){return d},dy:function(){return c},iI:function(){return g},sc:function(){return v},u6:function(){return b},uh:function(){return h},ze:function(){return f}});var i=a(68088),s=a(53164),n=a(30395),r=a(9506),l=a(15590),o=a(60189);let c=e=>{let{shouldScaleBackground:t=!0,...a}=e;return(0,i.jsx)(l.dy.Root,{autoFocus:!0,shouldScaleBackground:t,...a})};c.displayName="Drawer";let d=l.dy.Trigger,u=l.dy.Portal,h=l.dy.Close,m=r.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,i.jsxs)(h,{ref:t,className:(0,o.cn)("absolute top-5 right-5 z-10 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus-ring disabled:pointer-events-none data-[state=open]:bg-secondary",a),...s,children:[(0,i.jsx)(n.Z,{className:"h-4 w-4"}),(0,i.jsx)("span",{className:"sr-only",children:"Close"})]})});m.displayName="DrawerCloseIconButton";let p=r.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,i.jsx)(l.dy.Overlay,{ref:t,className:(0,o.cn)("fixed inset-0 z-50 bg-gray-alpha-300",a),...s})});p.displayName=l.dy.Overlay.displayName;let v=r.forwardRef((e,t)=>{let{className:a,classes:n,children:r,hideHandle:c,...d}=e;return(0,i.jsxs)(u,{children:[(0,i.jsx)(p,{className:null==n?void 0:n.overlay}),(0,i.jsxs)(l.dy.Content,{ref:t,className:(0,o.cn)("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[16px] bg-background focus-visible:outline-0",a),...d,children:[!c&&(0,i.jsx)("div",{className:"mx-auto mt-3 h-1.5 w-[100px] rounded-full bg-gray-alpha-200"}),(0,i.jsx)(s.A4,{children:r})]})]})});v.displayName="DrawerContent";let x=e=>{let{className:t,...a}=e;return(0,i.jsx)("div",{className:(0,o.cn)("grid gap-1.5 p-4 text-center sm:text-left",t),...a})};x.displayName="DrawerHeader";let f=e=>{let{className:t,...a}=e;return(0,i.jsx)("div",{className:(0,o.cn)("mt-auto flex flex-col gap-2 p-4",t),...a})};f.displayName="DrawerFooter";let g=r.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,i.jsx)(l.dy.Title,{ref:t,className:(0,o.cn)("text-lg font-semibold leading-none tracking-tight",a),...s})});g.displayName=l.dy.Title.displayName;let b=r.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,i.jsx)(l.dy.Description,{ref:t,className:(0,o.cn)("text-sm text-muted-foreground",a),...s})});b.displayName=l.dy.Description.displayName},20308:function(e,t,a){"use strict";a.d(t,{$F:function(){return u},AW:function(){return x},Ju:function(){return b},Ph:function(){return m},TG:function(){return v},VD:function(){return y},Xi:function(){return f},bO:function(){return g},cq:function(){return h},h_:function(){return d},kt:function(){return p}});var i=a(68088),s=a(53350),n=a(21368),r=a(47607),l=a(35419),o=a(9506),c=a(60189);let d=s.fC,u=s.xz;s.ZA;let h=s.Uv,m=s.Tr;s.Ee;let p=o.forwardRef((e,t)=>{let{className:a,inset:r,children:l,...o}=e;return(0,i.jsxs)(s.fF,{ref:t,className:(0,c.cn)("flex cursor-pointer select-none items-center rounded-lg px-2 py-1.5 text-sm outline-none focus:bg-gray-alpha-100 data-[state=open]:bg-gray-alpha-100",r&&"pl-8",a),...o,children:[l,(0,i.jsx)(n.Z,{className:"ml-auto h-4 w-4"})]})});p.displayName=s.fF.displayName;let v=o.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,i.jsx)(s.tu,{ref:t,className:(0,c.cn)("z-50 min-w-[8rem] rounded-[10px] p-1 bg-popover/90 backdrop-blur text-popover-foreground shadow-popover-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...n})});v.displayName=s.tu.displayName;let x=o.forwardRef((e,t)=>{let{className:a,sideOffset:n=4,withPortal:r=!0,...l}=e,d=r?s.Uv:o.Fragment;return(0,i.jsx)(d,{children:(0,i.jsx)(s.VY,{ref:t,sideOffset:n,className:(0,c.cn)("z-50 min-w-[8rem] rounded-[10px] p-1 bg-popover/90 backdrop-blur text-popover-foreground shadow-popover-sm","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...l})})});x.displayName=s.VY.displayName;let f=o.forwardRef((e,t)=>{let{className:a,inset:n,...r}=e;return(0,i.jsx)(s.ck,{ref:t,className:(0,c.cn)("relative flex cursor-pointer select-none items-center rounded-lg px-2 py-1.5 text-sm outline-none transition-colors focus:bg-gray-alpha-100 focus:text-foreground w-full data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n&&"pl-8",a),...r})});f.displayName=s.ck.displayName;let g=o.forwardRef((e,t)=>{let{className:a,children:n,checked:l,...o}=e;return(0,i.jsxs)(s.oC,{ref:t,className:(0,c.cn)("relative flex cursor-pointer select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-gray-alpha-100 focus:text-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:l,...o,children:[(0,i.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,i.jsx)(s.wU,{children:(0,i.jsx)(r.Z,{className:"h-4 w-4"})})}),n]})});g.displayName=s.oC.displayName,o.forwardRef((e,t)=>{let{className:a,children:n,...r}=e;return(0,i.jsxs)(s.Rk,{ref:t,className:(0,c.cn)("relative flex cursor-pointer select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-gray-alpha-100 focus:text-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...r,children:[(0,i.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,i.jsx)(s.wU,{children:(0,i.jsx)(l.Z,{className:"h-4 w-4 fill-current"})})}),n]})}).displayName=s.Rk.displayName;let b=o.forwardRef((e,t)=>{let{className:a,inset:n,...r}=e;return(0,i.jsx)(s.__,{ref:t,className:(0,c.cn)("px-2 py-1 text-xm font-medium tracking-[-0.0125em] text-gray-alpha-500 cursor-default",n&&"pl-8",a),...r})});b.displayName=s.__.displayName;let y=o.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,i.jsx)(s.Z0,{ref:t,className:(0,c.cn)("-mx-1 my-1 h-px bg-border",a),...n})});y.displayName=s.Z0.displayName},17622:function(e,t,a){"use strict";a.d(t,{JZ:function(){return S},Vk:function(){return P}});var i=a(68088),s=a(40534),n=a(97934),r=a(47078),l=a(81999),o=a(73862),c=a(9506),d=a(8871),u=a(1851),h=a(55205),m=a(27473),p=a(76528),v=a(94846),x=a(20807),f=a(38851),g=a(11521),b=a(70297),y=a(68668),j=a(60189);a(13104);var w=a(48246),_=a(3030);let k=(0,c.createContext)(null),N=s.E.create(x.X),C=s.E.create(g.x),S=e=>{let{tabs:t,className:a}=e;return(0,i.jsx)("nav",{className:(0,j.cn)(f.P.list({variant:"underlined"}),a),children:t.list.map(e=>(0,i.jsx)(o.default,{href:e.link,className:f.P.trigger({variant:"underlined"}),"data-state":e.id===t.activeTabId?"active":"inactive",children:e.label},e.id))})},P=(0,l.Pi)(e=>{var t;let a=(0,y.G)(e.tabs||[]),{scrollY:l}=(0,n.v)(),o={container:{x:(0,r.H)(l,[0,40],[0,-8])},heading:{y:(0,r.H)(l,[0,40],[0,30]),scale:(0,r.H)(l,[0,40],[1,.8])},description:{opacity:(0,r.H)(l,[0,24],[1,0]),y:(0,r.H)(l,[0,40],[0,16])},actions:{y:(0,r.H)(l,[0,40],[0,0===a.list.length?20:30]),x:(0,r.H)(l,[0,40],[0,16])}},c={tabs:a},f=(0,b.Y)(e.requiredPermission),g=(0,b.Y)(null===(t=a.activeTab)||void 0===t?void 0:t.requiredPermission),j=f&&g?e.children:null==f||null==g?null:(0,i.jsx)("div",{className:"p-6 text-center text-red-600",children:(0,d.zR)(g?e.requiredPermission:a.activeTab.requiredPermission)});return(0,i.jsxs)(k.Provider,{value:c,children:[e.mobileOnly?null:(0,i.jsx)("header",{className:"hidden lg:block sticky top-[28px] lg:-top-[40px] border-b z-[9]",children:(0,i.jsx)("div",{className:"bg-background/80 backdrop-blur-md flex",children:(0,i.jsxs)(u.MaxWidthContainer,{style:o.container,className:"stack gap-1",disabled:e.withoutNavContainer,children:[(0,i.jsxs)("div",{className:"hstack justify-between items-center w-full px-6 2.5xl:px-4",children:[(0,i.jsxs)("div",{className:"stack gap-0.5 py-[18px] pr-6 max-w-[64rem]",children:[(0,i.jsx)(N,{style:o.heading,size:"xl",className:"origin-left line-clamp-1",role:"heading","aria-level":1,"data-testid":"page-title",children:"function"==typeof e.title?e.title(c):e.title}),(0,i.jsx)(C,{style:o.description,size:"sm",color:"subtle",className:"line-clamp-1 min-h-[1em]",role:"heading","aria-level":2,children:"function"==typeof e.description?e.description(c):e.description})]}),e.actions&&(0,i.jsx)(s.E.div,{className:"min-w-fit",style:o.actions,children:e.actions})]}),a.list.length>0&&(0,i.jsx)(S,{tabs:a,className:"border-none px-6 2.5xl:px-4 -mt-6 2.5xl:-mt-4"})]})})}),(0,i.jsx)("header",{className:"block lg:hidden sticky top-0 border-b z-[9]",children:(0,i.jsxs)("div",{className:"flex flex-col bg-background/80 backdrop-blur-md",children:[(0,i.jsxs)("div",{className:"hstack justify-between items-center",children:[(0,i.jsx)("div",{className:"stack gap-1",children:(0,i.jsx)("div",{className:"p-4 max-w-[64rem]",children:(0,i.jsx)(x.X,{size:"lg",className:"origin-left line-clamp-1",children:"function"==typeof e.title?e.title(c):e.title})})}),(0,i.jsxs)("div",{className:"shrink-0 hstack items-center gap-1.5",children:[(0,i.jsx)(v.C,{}),(0,i.jsx)(m.T,{trigger:p.R,side:"bottom",disableAutoOpen:!0}),(0,i.jsx)("div",{className:"pl-2 pr-4 min-w-fit",children:(0,i.jsx)(_.h,{onClick:()=>{w.py.value=!0},variant:"ghost",size:"lg","aria-label":"Open Sidebar",className:"text-gray-500 hover:text-gray-alpha-950 duration-100 transition-colors",children:(0,i.jsx)(h.zr,{className:"w-5 h-5"})})})]})]}),a.list.length>0&&(0,i.jsx)(S,{tabs:a,className:"border-none -mt-5 px-4"})]})}),e.withoutContainer?(0,i.jsx)("div",{className:"relative flex-[1_1_0]",children:j}):(0,i.jsx)(u.MaxWidthContainer,{className:"p-4 lg:p-6 2.5xl:px-4",children:(0,i.jsx)("div",{className:"relative flex-1 min-h-0",children:j})})]})})},40333:function(e,t,a){"use strict";a.d(t,{_2:function(){return v},jW:function(){return u},q8:function(){return h}});var i=a(68088),s=a(80436),n=a(31398),r=a(73886),l=a(30395),o=a(9506),c=a(60189),d=a(39255);let u=o.forwardRef((e,t)=>{let{...a}=e,[r=!1,l]=(0,n.T)({prop:a.open,onChange:a.onOpenChange,defaultProp:a.defaultOpen});return(0,d.zA)(r),(0,i.jsx)(s.Vq,{...a,open:r,onOpenChange:l})}),h=s.xz;s.x8;let m=s.h_,p=(0,r.j)("fixed inset-0 w-full h-screen-dvh overflow-auto z-50 bg-background p-6 transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-100 data-[state=open]:duration-200 data-[state=closed]:fade-out data-[state=open]:fade-in"),v=o.forwardRef((e,t)=>{let{className:a,alignCloseWithHeader:n=!1,children:r,...o}=e;return(0,i.jsx)(m,{children:(0,i.jsxs)(s.VY,{ref:t,className:(0,c.cn)(p(),a),...o,children:[r,(0,i.jsxs)(s.x8,{className:(0,c.cn)("fixed right-5 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus-ring disabled:pointer-events-none data-[state=open]:bg-secondary",n?"top-7":"top-5"),children:[(0,i.jsx)(l.Z,{className:"h-4 w-4"}),(0,i.jsx)("span",{className:"sr-only",children:"Close"})]})]})})});v.displayName=s.VY.displayName},44463:function(e,t,a){"use strict";a.d(t,{FL:function(){return d},U5:function(){return h},aT:function(){return m},ed:function(){return u},rJ:function(){return c}});var i=a(68088),s=a(9506),n=a(60189),r=a(20807),l=a(74346),o=a(11521);let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,i.jsx)("div",{ref:t,className:(0,n.cn)("rounded-xl border border-gray-alpha-200 bg-gray-alpha-50 stack items-center p-5 md:p-6",a),...s})});c.displayName="InfoCard";let d=s.forwardRef((e,t)=>{let{className:a,children:s,...r}=e;return(0,i.jsx)("div",{ref:t,className:(0,n.cn)("h-12 w-12 border border-subtle rounded-xl center bg-background mt-2 mb-3",a),...r,children:(0,i.jsx)(l.J,{size:"lg",color:"foreground",children:s})})});d.displayName="InfoCardIcon";let u=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,i.jsx)(r.X,{ref:t,className:(0,n.cn)("text-center my-0.5",a),size:"md",...s})});u.displayName="InfoCardHeading";let h=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,i.jsx)(o.x,{ref:t,size:"sm",color:"subtle",className:(0,n.cn)("max-w-md my-0.5 text-center",a),...s})});h.displayName="InfoCardDescription";let m=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,i.jsx)("div",{ref:t,className:(0,n.cn)("hstack gap-2 mt-4 mb-2 flex-wrap items-center justify-center",a),...s})});m.displayName="InfoCardActions"},17050:function(e,t,a){"use strict";a.d(t,{T:function(){return l},z:function(){return o}});var i=a(68088),s=a(40534),n=a(9506);let r=e=>{if(e<2)throw Error("Length must be at least 2");let t=[];for(let a=0;a<e;a++)t.push(a/(e-1));return t},l={linear:e=>{let{direction:t="to-right",opacities:a=[1,0],positions:i,rotate:s=0}=e;i&&i.length===a.length||(i=r(a.length));let n=i.map((e,t)=>"rgba(255, 255, 255, ".concat(a[t],") ").concat("number"==typeof e?100*e+"%":e));return"linear-gradient(".concat(("to-right"===t?90:180)+s,"deg, ").concat(n.join(", "),")")},customLinear:e=>{let{opacityFn:t,stops:a=10,direction:i="to-right",rotate:s=0}=e,n=Array.from({length:a},(e,t)=>t/(a-1)),r=n.map(t),l=n.map((e,t)=>"rgba(255, 255, 255, ".concat(r[t],") ").concat(100*e,"%"));return"linear-gradient(".concat(("to-right"===i?90:180)+s,"deg, ").concat(l.join(", "),")")},circle:e=>{let{opacities:t=[1,0],positions:a}=e;a&&a.length===t.length||(a=r(t.length));let i=a.map((e,a)=>"rgba(255, 255, 255, ".concat(t[a],") ").concat(100*e,"%"));return"radial-gradient(closest-side circle, ".concat(i.join(", "),")")},ellipse:e=>{let{opacities:t=[1,0],positions:a}=e;a&&a.length===t.length||(a=r(t.length));let i=a.map((e,a)=>"rgba(255, 255, 255, ".concat(t[a],") ").concat(100*e,"%"));return"radial-gradient(closest-side, ".concat(i.join(", "),")")}},o=(0,n.forwardRef)((e,t)=>{let{image:a,size:n,...r}=e;return(0,i.jsx)(s.E.div,{...r,ref:t,style:{maskImage:a,WebkitMaskImage:a,maskSize:n,WebkitMaskSize:n,...r.style}})})},72752:function(e,t,a){"use strict";a.d(t,{CJ:function(){return A},KN:function(){return I},LU:function(){return V},O3:function(){return L},PW:function(){return E},Uv:function(){return P},Y$:function(){return T},aP:function(){return N},ak:function(){return M},s8:function(){return S}});var i=a(68088),s=a(53164),n=a(3036),r=a(18743),l=a(40534),o=a(78350),c=a(98780),d=a(79459),u=a(37755),h=a(9506),m=a(34161),p=a(69201),v=a(72228),x=a(4735),f=a(3030),g=a(91105),b=a(11521),y=a(84106),j=a(70554),w=a(60189),_=a(54389);let k=(0,h.forwardRef)((e,t)=>(0,i.jsx)(p.t,{transition:{opacity:{duration:.15}},ref:t,...e})),N=async e=>{e.getTracks().forEach(e=>e.stop())},C=e=>{let t=(0,h.useMemo)(()=>new Audio(e),[e]);return(0,h.useCallback)(()=>{t.currentTime=0;let e=new Promise(e=>{t.addEventListener("ended",()=>e(),{once:!0})});return t.play(),e},[t])},S=()=>{let[e,t]=(0,h.useState)(!1),[a,i]=(0,h.useState)(null);return{requestMic:async e=>{i(null);let a=setTimeout(()=>t(!0),500);try{let i=await navigator.mediaDevices.getUserMedia({audio:{noiseSuppression:{ideal:!0},echoCancellation:{ideal:!0},autoGainControl:{ideal:!0},sampleRate:{ideal:44100},sampleSize:{ideal:16},...e},video:!1});return clearTimeout(a),t(!1),i}catch(e){i(e)}finally{clearTimeout(a),t(!1)}},isRequesting:e,error:a}},P=()=>{let[e,t]=(0,h.useState)(),[a,i]=(0,h.useState)([]);(null==a?void 0:a.length)&&!a.some(t=>t.deviceId===e)&&t(a[0].deviceId);let s=async()=>{var e,t;let a=!1,s=[];try{if(a="granted"===(await navigator.permissions.query({name:"microphone"})).state){let t=(s=await (null===(e=navigator.mediaDevices)||void 0===e?void 0:e.enumerateDevices())).filter(e=>"audioinput"===e.kind);if(1===t.length&&""===t[0].deviceId)throw Error("Empty device list provided")}}catch(e){if(e instanceof TypeError||e instanceof Error&&"Empty device list provided"===e.message)try{let e=await navigator.mediaDevices.getUserMedia({audio:!0,video:!1});a=!0,s=await (null===(t=navigator.mediaDevices)||void 0===t?void 0:t.enumerateDevices()),await N(e)}catch(e){a=!1}}if(!a){i(null);return}i(s.filter(e=>"audioinput"===e.kind))};return(0,h.useEffect)(()=>{let e=()=>s();return e(),navigator.mediaDevices.addEventListener("devicechange",e),()=>{navigator.mediaDevices.removeEventListener("devicechange",e)}},[]),{micDevices:a,fetchMicDevices:s,selectedMicId:e,setSelectedMicId:t}},E=()=>{let[e,t]=(0,h.useState)(0),[a,s]=(0,h.useState)(0),[n,r]=(0,h.useState)(!1),l=(0,h.useRef)(null),o=(0,h.useRef)(null);(0,h.useEffect)(()=>()=>{var e;null===(e=o.current)||void 0===e||e.call(o)},[]);let c=(0,i.jsx)("div",{className:"flex flex-row-reverse gap-6",children:Array.from({length:e},(e,t)=>(0,i.jsx)("span",{className:(0,w.cn)("text-2xl font-bold transition duration-200",t+1===a?"text-gray-alpha-900":"text-gray-alpha-300"),style:{transform:"scale(".concat(t+1===a?1.5:1,")")},children:t+1},t))});return{startCounter:e=>{if(l.current&&o.current)return[()=>{var e;return null===(e=o.current)||void 0===e?void 0:e.call(o)},l.current];t(e),s(e),r(!0);let a=setInterval(()=>{s(e=>e-1)},1e3);return l.current=new Promise(t=>{o.current=()=>{clearInterval(a),r(!1),o.current=null,l.current=null,t()},setTimeout(()=>{var e;null===(e=o.current)||void 0===e||e.call(o)},1e3*e)}),[()=>{var e;return null===(e=o.current)||void 0===e?void 0:e.call(o)},l.current]},showCounter:n,counter:a,CounterUI:c}},D=()=>{let[e,t]=(0,h.useState)(!1);return{startAnalysing:function(e){let a,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=new AudioContext,n=s.createMediaStreamSource(e),r=s.createAnalyser();n.connect(r);let l=new Uint8Array(r.frequencyBinCount),o={checks:0,noise:0},c=e=>{var a,s;++o.checks;let n=null!==(s=i.threshold)&&void 0!==s?s:.1,r=e.some(e=>Math.abs(e-128)/128>n);t(r),r&&++o.noise,null===(a=i.onCheck)||void 0===a||a.call(i,o.noise/o.checks)},d=()=>{r.getByteTimeDomainData(l),c(l),a=window.setTimeout(()=>d(),10)};return d(),async()=>{void 0!==a&&clearTimeout(a),t(!1),n.disconnect(),await s.close()}},hasNoise:e}},A=function(){let{waveformBars:e=25}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[t,a]=(0,h.useState)(Array.from({length:e},()=>0));return{startAnalysing:t=>{let i;let s=new AudioContext,n=s.createMediaStreamSource(t),r=s.createAnalyser();n.connect(r);let l=new Uint8Array(r.frequencyBinCount),o=t=>{a(Array(e).fill(0).map((a,i)=>{let s=Math.floor(i*t.length/e),n=Math.floor((i+1)*t.length/e);return t.slice(s,n).reduce((e,t)=>Math.max(e,Math.abs(t-128)),0)/128}))},c=()=>{r.getByteTimeDomainData(l),o(l),i=window.setTimeout(()=>c(),100)};return c(),async()=>{void 0!==i&&clearTimeout(i),a(Array.from({length:e},()=>0)),n.disconnect(),await s.close()}},waveformData:t}},T=()=>{let[e,t]=(0,h.useState)(!1),[a,i]=(0,h.useState)(0),s=C("/public_app_assets/audio/recording-start.mp3"),n=C("/public_app_assets/audio/recording-stop.mp3");return{startRecording:async function(e){let{formatFileName:a,timeslice:r,onChunk:l,playSfx:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c={};for(let e of["audio/webm","audio/mp4"])MediaRecorder.isTypeSupported(e)&&(c={mimeType:e});let d=new MediaRecorder(e,c),u=[];d.addEventListener("dataavailable",e=>{u.push(e.data),null==l||l(u)});let h=new Promise(e=>{d.addEventListener("stop",()=>{var t;e((0,_.IK)(u,a?a():"Recording",null!==(t=c.mimeType)&&void 0!==t?t:"audio/webm"))})});i(0);let m=setInterval(()=>{i(e=>e+1e3)},1e3);return t(!0),o&&await s(),d.start(r),function(){let{playSfx:a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.stop(),clearInterval(m),t(!1),N(e),a&&n(),h}},isRecording:e,durationMs:a}},V=e=>{let t=(0,n.Z)({start:0,end:e});return[t.hours,t.minutes,t.seconds].filter((e,t)=>t>0||!!e).map(e=>String(e).padStart(2,"0")).join(":")},I=e=>{let{className:t,disabled:a,minDuration:n=0,maxDuration:d=1/0,getReadyCounterFrom:u=3,stopButton:m,formatFileName:p,onChange:_,onRecordingStart:C}=e,{requestMic:I,isRequesting:M,error:L}=S(),{micDevices:z,fetchMicDevices:R,selectedMicId:F,setSelectedMicId:B}=P(),{startCounter:Z,showCounter:O,CounterUI:U}=E(),{startRecording:q,isRecording:H,durationMs:G}=T(),{startAnalysing:W,waveformData:Y}=A(),{startAnalysing:K}=D(),[X,Q]=(0,h.useState)(!1),J=(0,h.useRef)(),$=async()=>{let e=await I({deviceId:F});e&&(N(e),z||setTimeout(()=>R(),250))},ee=async()=>{var e;let t;X&&(Q(!1),await new Promise(e=>setTimeout(e,150)));let a=!1;null===(e=J.current)||void 0===e||e.call(J),J.current=()=>{a=!0};let i=await I({deviceId:F});if(!i)return;if(a){N(i);return}if(null==C||C(),u>0){let e=K(i,{onCheck(e){e>=.6&&Q(!0)}}),[t,s]=Z(u);J.current=()=>{a=!0,t()},await s,e()}if(a){N(i);return}let s=await q(i,{formatFileName:p,playSfx:!0});if(a){s();return}let n=W(i);d<1/0&&(t=window.setTimeout(et,d)),J.current=e=>(a=!0,void 0!==t&&clearTimeout(t),J.current=void 0,n(),s(e))},et=async()=>{if(!J.current)return;let e=await J.current({playSfx:!0});if(!e)return;let t=await (0,j.eM)(e)*1e3;if(t<n){y.toast.error("Recording is too short. Please record at least ".concat(n/1e3,"s of audio."));return}setTimeout(()=>_(e,{duration:t}),150)};return(0,h.useEffect)(()=>()=>{var e;null===(e=J.current)||void 0===e||e.call(J)},[]),(0,h.useEffect)(()=>{if(a){var e;null===(e=J.current)||void 0===e||e.call(J)}},[a]),(0,i.jsxs)("div",{className:(0,w.cn)("h-40 flex items-center justify-center relative",t),children:[(0,i.jsxs)("div",{className:"stack items-center",children:[(0,i.jsx)(r.M,{mode:"wait",initial:!1,children:O?(0,i.jsx)(k,{children:U},"get-ready-counter"):H?(0,i.jsx)(k,{children:(0,i.jsx)(s.g7,{onClick:et,children:null!=m?m:(0,i.jsx)(f.h,{className:"w-12 h-12 rounded-full",variant:"primary","aria-label":"Stop recording",children:(0,i.jsx)("div",{className:"w-3.5 h-3.5 bg-background rounded"})})})},"stop-recording"):null===z?(0,i.jsx)(k,{layout:"position",children:(0,i.jsx)(x.Button,{variant:"primary",size:"lg",leftIcon:(0,i.jsx)(o.Z,{}),onClick:$,disabled:a,loading:M,children:"Enable Microphone"})},"request-mic-permission"):null!==z?(0,i.jsxs)(k,{className:"flex gap-2 items-center",layout:"position",children:[(0,i.jsxs)(g.Select,{disabled:0===z.length,value:F,onValueChange:B,children:[(0,i.jsxs)(g.SelectTrigger,{className:"w-48 h-10 bg-background [&>span]:inline-block [&>span]:truncate [&>span]:mr-auto",children:[(0,i.jsx)(o.Z,{className:"text-gray-500 w-[18px] h-[18px] shrink-0 -ml-1 mr-0.5"}),(0,i.jsx)(g.SelectValue,{placeholder:"Default microphone"})]}),(0,i.jsx)(g.SelectContent,{className:"duration-200",children:null==z?void 0:z.map(e=>(0,i.jsx)(g.SelectItem,{value:e.deviceId,children:e.label},e.deviceId))})]}),(0,i.jsx)(x.Button,{variant:"primary",size:"lg",onClick:ee,disabled:a,children:"Start"})]},"start-recording"):null}),(0,i.jsx)(r.M,{children:L&&("NotAllowedError"===L.name||"PermissionDeniedError"===L.name)&&(0,i.jsx)(k,{layout:"position",className:"px-8",style:{textWrap:"balance"},children:(0,i.jsx)(b.x,{className:"text-error text-center mt-2",weight:"medium",children:"Microphone access denied. Please enable it in your browser settings."})})})]}),(0,i.jsxs)("div",{className:"absolute bottom-5 inset-x-6 flex justify-between items-center",children:[(0,i.jsx)("div",{className:"absolute h-2 left-0 flex gap-0.5 items-center",children:Y.map((e,t)=>(0,i.jsx)(l.E.div,{className:"w-0.5 h-0.5 bg-foreground rounded-full max-h-9",animate:{height:Math.abs(100*e)+2}},t))}),(0,i.jsx)("div",{}),(0,i.jsx)("div",{className:"absolute left-1/2 -translate-x-1/2 bottom-full mb-2 md:bottom-auto md:mb-0",children:(0,i.jsx)(r.M,{children:X&&(0,i.jsx)(k,{children:(0,i.jsxs)(v.Ct,{variant:"destructive",className:"text-[#B52620] bg-[#FDE4E3]",children:[(0,i.jsx)(c.Z,{className:"w-3 h-3 mr-1"})," Background noise detected"]})})})}),(0,i.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,i.jsx)(v.Ct,{variant:"secondary",className:"tabular-nums",children:H?V(G):"00:00"}),d<1/0&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{className:"font-medium text-xs text-gray-400",children:"/"}),(0,i.jsx)(v.Ct,{variant:"secondary",className:"tabular-nums",children:V(d)})]})]})]})]})},M=(e,t)=>{let{maxFileSize:a}=t;e.slice(0,3).map(e=>{let{file:t,errors:i}=e;if(i.some(e=>"file-invalid-type"===e.code))y.toast.error('File "'.concat(t.name,'" is not supported. Please choose an audio file.'));else if(void 0!==a&&i.some(e=>"file-too-large"===e.code))y.toast.error('File "'.concat(t.name,'" is larger than ').concat(a,"MB."));else{var s;y.toast.error('File "'.concat(t.name,'" could not be added, choose another file.'),{description:(null===(s=i.at(0))||void 0===s?void 0:s.message)||void 0})}})},L=e=>{let{className:t,disabled:a=!1,maxFileSize:s,accept:n=_.AP,disallowRecording:l=!1,onAddFiles:c,maxFiles:p,recorder:f={}}=e,[g,y]=(0,h.useState)(!1),j=void 0===p||p>1,N=(e,t)=>{c(e,t)},{isDragActive:C,isFocused:S,getRootProps:P,getInputProps:E}=(0,m.uI)({multiple:j,maxFiles:p,accept:Object.fromEntries(n.map(e=>[e,[]])),maxSize:void 0!==s?1048576*s:void 0,disabled:a||g,onDrop:(e,t)=>{M(t,{maxFileSize:s}),N(e,"upload")}});return(0,i.jsx)("div",{...P({className:(0,w.cn)("relative stack items-center justify-center bg-gray-50 h-[248px] rounded-[14px] outline-2 -outline-offset-1 outline-dotted transition-[outline-color] duration-150",C||S?"outline-gray-400":"outline-gray-300",{"cursor-pointer":!g&&!a},t)}),children:(0,i.jsx)(r.M,{mode:"wait",initial:!1,children:g?(0,i.jsxs)(k,{className:"relative w-full h-full",children:[(0,i.jsx)(x.Button,{size:"xs",className:"absolute bg-background top-5 left-5 z-10",leftIcon:(0,i.jsx)(d.Z,{}),onClick:e=>{e.stopPropagation(),y(!1)},children:"Back"}),(0,i.jsx)(I,{className:"h-full",disabled:a,minDuration:f.minDuration,maxDuration:f.maxDuration,getReadyCounterFrom:f.getReadyCounterFrom,formatFileName:f.formatFileName,onChange:e=>N([e],"record")})]},"recorder"):(0,i.jsxs)(k,{className:"stack items-center py-9",children:[(0,i.jsx)("input",{...E()}),(0,i.jsx)("div",{className:"h-11 w-11 rounded-[10px] bg-background border border-gray-200 flex items-center justify-center",children:(0,i.jsx)(u.Z,{className:"w-[18x] h-[18px]"})}),(0,i.jsx)(b.x,{weight:"medium",size:"sm",className:"mt-2.5",children:C?"Drop the files here!":"Click to upload, or drag and drop"}),(0,i.jsxs)(b.x,{weight:"normal",size:"sm",color:"subtle",className:"mt-0.5",children:["Audio or video file",j?"s":"",void 0!==s&&", up to ".concat(s,"MB").concat(j?" each":"")]}),!l&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(v.Ct,{className:"my-2.5",variant:"secondary",children:"or"}),(0,i.jsx)(x.Button,{variant:"outline",size:"md",className:"bg-background relative z-10",disabled:a,leftIcon:(0,i.jsx)(o.Z,{}),onClick:e=>{e.stopPropagation(),y(!0)},children:"Record audio"})]})]},"file-selector")})})}},82528:function(e,t,a){"use strict";a.d(t,{EH:function(){return y},EX:function(){return x},KL:function(){return b},RA:function(){return f},l$:function(){return g},sE:function(){return p},vO:function(){return m},w5:function(){return v}});var i=a(68088),s=a(97934),n=a(22776),r=a(4728),l=a(40534),o=a(9506),c=a(60189),d=a(17050);let u={mass:.01,damping:2,stiffness:100},h=o.createContext(null),m=()=>{let e=o.useContext(h);if(!e)throw Error("Cannot call useScroll outside of ScrollContainer or WindowScrollProvider");return e},p=e=>{let{className:t,amount:a="3rem"}=e,s=b();return(0,i.jsx)("div",{className:(0,c.cn)("sticky top-[-1px] h-0 z-10 pointer-events-none",t),children:(0,i.jsx)(d.z,{image:d.T.linear({direction:"to-bottom",opacities:[1,0]}),initial:{opacity:0},animate:{opacity:s?0:1,height:a},className:"h-12 bg-background"})})},v=e=>{let{className:t,amount:a="3rem"}=e,s=b({axis:"x"});return(0,i.jsx)("div",{className:(0,c.cn)("sticky left-[-1px] min-h-full w-0 z-10 pointer-events-none",t),children:(0,i.jsx)(d.z,{image:d.T.linear({direction:"to-right",opacities:[1,0]}),initial:{opacity:0},animate:{opacity:s?0:1,width:a},className:"min-h-full bg-background"})})},x=e=>{let{className:t,amount:a}=e,s=y({axis:"x"});return(0,i.jsx)("div",{className:(0,c.cn)("sticky left-[calc(100%+1px)] min-h-full w-0 z-10 pointer-events-none",t),children:(0,i.jsx)(d.z,{image:d.T.linear({direction:"to-right",opacities:[0,1]}),animate:{opacity:s?0:1,width:a},className:"relative w-12 -translate-x-full min-h-full bg-background"})})},f=e=>{let{className:t,amount:a="3rem"}=e,s=y();return(0,i.jsx)("div",{className:(0,c.cn)("sticky bottom-[-1px] h-0 z-10 pointer-events-none",t),children:(0,i.jsx)(d.z,{image:d.T.linear({direction:"to-bottom",opacities:[0,1]}),animate:{opacity:s?0:1,height:a},className:"relative -translate-y-full bg-background"})})},g=o.forwardRef((e,t)=>{let{children:a,...c}=e,d=o.useRef(null),{scrollX:m,scrollXProgress:p,scrollY:v,scrollYProgress:x}=(0,s.v)({container:d}),f=(0,n.q)(m,u),g=(0,r.T)(f),b=(0,n.q)(v,u),y=(0,r.T)(b),j=o.useMemo(()=>({container:d,position:{x:m,y:v},progress:{x:p,y:x},velocity:{x:g,y:y}}),[d,m,v,p,x,g,y]);return o.useImperativeHandle(t,()=>d.current),(0,i.jsx)(h.Provider,{value:j,children:(0,i.jsx)(l.E.div,{...c,ref:d,style:{position:"relative",overflow:"auto",...c.style},children:a})})});g.displayName="ScrollContainer";let b=function(){let{axis:e="y"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=m(),[a,i]=o.useState(!0);return o.useEffect(()=>{let a=t.container.current;if(!a)return;let s=()=>{let{scrollTop:a,scrollLeft:s}=t.container.current;"y"===e?i(a<1):"x"===e&&i(s<1)};return s(),a.addEventListener("scroll",s),()=>{a.removeEventListener("scroll",s)}},[t,e]),a},y=function(){let{axis:e="y"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=m(),[a,i]=o.useState(!1);return o.useEffect(()=>{let a=t.container.current;if(!a)return;let s=()=>{let{scrollTop:t,scrollLeft:s,scrollHeight:n,scrollWidth:r,clientHeight:l,clientWidth:o}=a;"y"===e?i(n-t-l<=1):"x"===e&&i(r-s-o<1)};return s(),a.addEventListener("scroll",s),()=>{a.removeEventListener("scroll",s)}},[t,e]),a}},22869:function(e,t,a){"use strict";a.d(t,{$:function(){return c},i:function(){return d}});var i=a(68088),s=a(81777),n=a(9506),r=a(54995),l=a(60189),o=a(25933);let c={default:e=>e.toFixed(2),percentage:e=>Math.round(100*e)+"%"},d=n.forwardRef((e,t)=>{let{className:a,thumbClassName:n,trackClassName:d,value:u,onValueChange:h,onValueCommit:m,onThumbDoubleClick:p,formatter:v=c.default,"aria-label":x,disabled:f,elId:g,elContext:b,...y}=e,j=(0,r.useExtendCoreComponentWithExternalAccessibility)(t,g,b,e=>{let t=Number(e);Number.isNaN(e)||(null==h||h(t),null==m||m(t))},()=>u);return(0,i.jsxs)(s.fC,{ref:j,value:[u],onValueChange:e=>null==h?void 0:h(e[0]),onValueCommit:e=>null==m?void 0:m(e[0]),className:(0,l.cn)("relative flex w-full touch-none select-none items-center cursor-pointer",f?"opacity-50":"",a),disabled:f,...y,children:[(0,i.jsx)(s.fQ,{className:(0,l.cn)("relative h-1 w-full grow overflow-hidden rounded-full bg-gray-alpha-200",d),children:(0,i.jsx)(s.e6,{className:"absolute h-full bg-primary"})}),(0,i.jsx)(o.Tooltip,{label:null==v?void 0:v(u),openDelay:0,closeOnClick:!1,children:(0,i.jsx)(s.bU,{"aria-label":x,className:(0,l.cn)("block h-3 w-3 scale-100 hover:scale-110 transition-transform rounded-full bg-primary duration-100 focus-ring disabled:pointer-events-none disabled:opacity-50",n),onDoubleClick:p})})]})});d.displayName=s.fC.displayName},38851:function(e,t,a){"use strict";a.d(t,{mQ:function(){return u},nU:function(){return p},dr:function(){return h},SP:function(){return m},P:function(){return c}});var i=a(68088),s=a(21276),n=a(73886),r=a(9506),l=a(60189);let o=new WeakMap,c={list:(0,n.j)("inline-flex text-subtle",{variants:{variant:{pill:"border border-subtle","secondary-pill":"",underlined:"gap-3.5 border-b-[1px] w-full h-11 pt-0.5"}},compoundVariants:[{variant:["pill","secondary-pill"],className:"items-center justify-center rounded-[10px] bg-none h-9 p-1"}]}),trigger:(0,n.j)("whitespace-nowrap ring-offset-background transition-all focus-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{pill:"text-subtle data-[state=active]:bg-foreground data-[state=active]:text-background data-[state=active]:shadow-none","secondary-pill":"text-gray-alpha-500 data-[state=active]:bg-gray-alpha-100 data-[state=active]:text-foreground",underlined:"inline-flex -mb-[1px] items-center justify-center border-b-[1.5px] px-0 py-1 text-sm font-medium border-transparent data-[state=active]:border-gray-alpha-800 data-[state=active]:text-foreground"}},compoundVariants:[{variant:["pill","secondary-pill"],className:"inline-flex items-center justify-center rounded-[7px] px-3 h-full text-sm font-medium"}]})},d=function(e){let t=(0,r.createContext)(void 0),a=t.Provider,s=new Map;return t.Provider=e=>{let{children:t,scope:n,...l}=e,c=(0,r.useMemo)(()=>({...l}),[function(e){let t="";for(let a in e){t+=a;let i=e[a],s=typeof i;if(i&&("object"===s||"function"===s)){if(o.has(i))t+=o.get(i);else{let e=Math.random();o.set(i,e),t+=e}}else t+=s+i}return t}(l)]),d=a;if(n){let e=s.get(n);e||(e=(0,r.createContext)(void 0),s.set(n,e)),d=e.Provider}return(0,i.jsx)(d,{value:c,children:t})},t.props=e,t.context=t,t.useProps=e=>{let a=e?s.get(e):t;return(0,r.useContext)(a)},t}(),u=r.forwardRef((e,t)=>{let{className:a,variant:n="underlined",...r}=e;return(0,i.jsx)(d.Provider,{variant:n,children:(0,i.jsx)(s.fC,{ref:t,className:(0,l.cn)(a),...r})})});u.displayName=s.fC.displayName;let h=r.forwardRef((e,t)=>{let{className:a,...n}=e,r=d.useProps();return(0,i.jsx)(s.aV,{ref:t,className:(0,l.cn)(c.list({...r,className:a})),...n})});h.displayName=s.aV.displayName;let m=r.forwardRef((e,t)=>{let{className:a,...n}=e,r=d.useProps();return(0,i.jsx)(s.xz,{ref:t,className:(0,l.cn)(c.trigger({...r,className:a})),...n})});m.displayName=s.xz.displayName;let p=r.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,i.jsx)(s.VY,{ref:t,className:(0,l.cn)("mt-2 focus-ring",a),...n})});p.displayName=s.VY.displayName},27411:function(e,t,a){"use strict";a.d(t,{Ce:function(){return d},_v:function(){return u},aJ:function(){return c},pn:function(){return l},u:function(){return o}});var i=a(68088),s=a(92355),n=a(9506),r=a(60189);let l=s.zt,o=s.fC,c=s.xz,d=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,i.jsx)(s.Eh,{ref:t,asChild:!0,height:5,width:11,...n,className:(0,r.cn)("fill-foreground",a),children:(0,i.jsx)("svg",{width:"11",height:"5",viewBox:"0 0 11 5",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{d:"M0 0H11L6.50901 4.08272C5.93688 4.60284 5.06312 4.60284 4.49099 4.08272L0 0Z"})})})}),u=n.forwardRef((e,t)=>{let{className:a,sideOffset:n=4,...l}=e;return(0,i.jsx)(s.h_,{children:(0,i.jsx)(s.VY,{ref:t,sideOffset:n,className:(0,r.cn)("z-50 overflow-hidden rounded-lg font-medium bg-foreground py-[0.375em] px-[0.625em] text-xs text-background origin-[--radix-tooltip-content-transform-origin] pointer-events-none",a),...l})})});u.displayName=s.VY.displayName},64197:function(e,t,a){"use strict";var i=a(68088),s=a(81777),n=a(40534),r=a(18743),l=a(9506),o=a(55205),c=a(72752),d=a(60189);let u=[1,1.5,2];t.Z=e=>{let{className:t,...a}=e,h=(0,l.useRef)(null),m=(0,l.useRef)(null),[p,v]=(0,l.useState)(!1),[x,f]=(0,l.useState)(!1),[g,b]=(0,l.useState)(!1),[y,j]=(0,l.useState)(void 0),[w,_]=(0,l.useState)(0),[k,N]=(0,l.useState)(1);return(0,l.useEffect)(()=>{let e=m.current;if(!e)return;let t=()=>{_(e.currentTime)},a=setInterval(()=>{t()},50);return()=>clearInterval(a)},[g]),(0,l.useEffect)(()=>{m.current&&(m.current.playbackRate=k)},[k]),(0,l.useEffect)(()=>{let e;let t=h.current;if(!t)return;let a=new AbortController,{signal:i}=a,s=()=>{window.clearTimeout(e),v(!0)},n=()=>{e=window.setTimeout(()=>{v(!1)},2e3)};return t.addEventListener("mousemove",s,{signal:i}),t.addEventListener("mouseleave",n,{signal:i}),t.addEventListener("focusin",s,{signal:i}),t.addEventListener("focusout",n,{signal:i}),()=>{a.abort(),window.clearTimeout(e)}},[]),(0,i.jsxs)("div",{className:(0,d.cn)("relative w-full aspect-[16/9] overflow-hidden bg-black group/video",t),ref:h,children:[(0,i.jsx)("video",{className:"w-full h-full",ref:m,playsInline:!0,onPlay:()=>{f(!0),b(!0)},onPause:()=>b(!1),onDurationChange:()=>{var e;return j(null===(e=m.current)||void 0===e?void 0:e.duration)},onLoadedMetadata:()=>{var e;return j(null===(e=m.current)||void 0===e?void 0:e.duration)},...a}),(0,i.jsxs)("button",{"aria-label":g?"Pause video":"Play video",onClick:()=>{var e,t;g?null===(e=m.current)||void 0===e||e.pause():null===(t=m.current)||void 0===t||t.play()},onMouseDown:e=>e.preventDefault(),className:(0,d.cn)("absolute inset-0 flex items-center justify-center transition-colors duration-500 group focus-visible:bg-black/25",g?"":"bg-black/25"),children:[(0,i.jsx)("div",{className:(0,d.cn)("transition duration-500 delay-100 group-focus:hidden",g?"opacity-0 scale-50":"opacity-100 scale-100"),children:(0,i.jsx)(o.k6,{size:64,className:"text-white drop-shadow-md"})}),(0,i.jsx)("div",{className:"absolute inset-0 items-center justify-center hidden group-focus-visible:flex",children:(0,i.jsx)("div",{className:"outline-white outline-2 outline-offset-2 group-focus-visible:outline rounded-full",children:g?(0,i.jsx)(o.kx,{size:64,className:"text-white drop-shadow-md"}):(0,i.jsx)(o.k6,{size:64,className:"text-white drop-shadow-md"})})})]}),(0,i.jsxs)("div",{className:"absolute inset-x-0 bottom-0 overflow-hidden pointer-events-none",children:[(0,i.jsx)(n.E.div,{className:"absolute inset-0  bg-gradient-to-b from-transparent to-black/60",animate:{opacity:x&&p?1:0},transition:{duration:.3}}),(0,i.jsxs)(n.E.div,{className:"relative p-4 flex items-center gap-2 pointer-events-auto",animate:{y:x&&p?0:"100%",opacity:x&&p?1:0},transition:{y:{type:"spring",bounce:.25,duration:.7},opacity:{duration:.3}},children:[(0,i.jsxs)("div",{className:"w-full flex items-center gap-2",children:[(0,i.jsx)("span",{className:"text-white font-medium text-xs font-num",children:(0,c.LU)(1e3*w)}),(0,i.jsxs)(s.fC,{value:[w],onValueChange:e=>{let[t]=e;m.current.currentTime=t},max:null!=y?y:1,step:.1,className:"relative flex w-full items-center cursor-pointer",children:[(0,i.jsx)(s.fQ,{className:"block w-full py-1.5",children:(0,i.jsx)("div",{className:"relative w-full h-1 grow bg-white/30 backdrop-blur rounded-full overflow-hidden",children:(0,i.jsx)(s.e6,{className:"absolute h-full bg-white"})})}),(0,i.jsx)(s.bU,{className:"block w-2.5 h-2.5 rounded-full bg-white shadow transition duration-300 hover:scale-150 focus-visible:scale-150 focus-visible:outline outline-1 outline-white outline-offset-2"})]}),(0,i.jsx)("span",{className:"text-white font-medium text-xs font-num",children:(0,c.LU)(y?1e3*y:0)})]}),(0,i.jsx)("div",{className:"self-stretch w-0.5 rounded-full bg-white/30 backdrop-blur"}),(0,i.jsx)("button",{className:"relative flex focus:outline-none focus-visible:outline-white rounded","aria-label":"Playback rate: ".concat(k,"x"),onClick:()=>{let e=(u.indexOf(k)+1)%u.length;N(u[e])},children:(0,i.jsx)(r.M,{initial:!1,mode:"popLayout",children:(0,i.jsxs)(n.E.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.5},className:"text-white font-medium text-xs font-num focus-ring",children:[k.toFixed(1),"x"]},"playback-rate-".concat(k))})})]})]})]})}},70297:function(e,t,a){"use strict";a.d(t,{Y:function(){return l}});var i=a(94814),s=a(30487),n=a(1851),r=a(52888);function l(e){let[t]=(0,r.$)(n.workspaceData),a=(0,s.YEm)({},{staleTime:18e5,enabled:!!e});return!e||(t?!!(null==t.all_members_permissions||t.all_members_permissions.includes(e))||(a.isError?((0,i.Tb)(Error("Failed to load user group permissions with message ".concat(a.error.message)),{level:"fatal",tags:{type:"loading_error"}}),!1):a.isLoading?null:null==a.data||a.data.includes(e)):null)}},8030:function(e,t,a){"use strict";var i=a(23431),s=a(26898);t.Z=e=>{let t=(0,i.usePathname)();return(Array.isArray(e)?e:[e]).some(e=>!!(0,s.EQ)(e,{decode:decodeURIComponent})(t))}},29554:function(e,t,a){"use strict";var i=a(6970),s=a.n(i),n=a(9506),r=a(82374),l=a(13104);let o="recently-used-voice-ids";t.Z=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],[t,a]=(0,r._)(o,{}),i=(0,n.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;a({...l.I.get(o)||{},[e]:Date.now()+t})},[a]);return{recentlyUsedVoices:(0,n.useMemo)(()=>{let a=s()(e,"voice_id").filter(e=>t[e.voice_id]);return a.sort((e,a)=>t[a.voice_id]-t[e.voice_id]),a},[e,t]),addRecentlyUsedVoice:i}}},68668:function(e,t,a){"use strict";a.d(t,{G:function(){return c}});var i=a(83336),s=a.n(i),n=a(23431),r=a(26898),l=a(9506);let o=e=>({isMatch:t=>(Array.isArray(e)?e:[e]).some(e=>!!(0,r.EQ)(e,{decode:decodeURIComponent})(t))}),c=e=>{var t;let a=(0,l.useMemo)(()=>s()(e,"id"),[e]),i=(0,n.usePathname)(),r=(0,n.useRouter)(),c=null===(t=e[0])||void 0===t?void 0:t.id;for(let t of e)if(t.patterns&&o(t.patterns).isMatch(i)){c=t.id;break}return{activeTabId:c,setActiveTabId:e=>{e in a&&r.push(a[e].link)},activeTab:a[c],list:e,byId:a}}},18498:function(e,t,a){"use strict";a.d(t,{K:function(){return c},Y:function(){return o}});var i=a(83336),s=a.n(i),n=a(9506),r=a(82374);let l=(e,t)=>{let a=(0,n.useMemo)(()=>s()(e,"id"),[JSON.stringify(e)]),[i,r]=t;return{activeTabId:i,setActiveTabId:e=>{e in a&&r(e)},activeTab:a[i],list:e,byId:a}},o=(e,t)=>l(e,(0,n.useState)(t||e[0].id)),c=(e,t,a)=>l(e,(0,r._)(t,a||e[0].id))},64108:function(e,t,a){"use strict";a.d(t,{KK:function(){return s},iJ:function(){return n},uZ:function(){return i}});let i=(e,t,a)=>Math.min(Math.max(e,t),a);function s(e,t,a){let[s,n]=t,[r,l]=a,o=!(arguments.length>3)||void 0===arguments[3]||arguments[3],c=r+(e-s)/(n-s)*(l-r);return o?i(c,r,l):c}function n(e){let t;let a=new Map;e.forEach(e=>{a.set(e,(a.get(e)||0)+1)});let i=0;return a.forEach((e,a)=>{e>i&&(i=e,t=a)}),t}},97204:function(e,t,a){"use strict";a.d(t,{EL:function(){return l},P0:function(){return c},fd:function(){return d},g2:function(){return r}});var i=a(83336),s=a.n(i),n=a(55205);let r=function(e,t,a){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!e||!t||e.can_do_voice_conversion&&!e.can_do_text_to_speech||t.high_quality_base_model_ids.includes(e.model_id)&&!i)return null;let s=("eleven_multilingual_v2"!==e.model_id||i)&&(null==a?void 0:a.find(e=>"eleven_multilingual_v2"===e.model_id))||null;if(0===t.high_quality_base_model_ids.length)return s;let n=t.high_quality_base_model_ids[0];return(null==a?void 0:a.find(e=>e.model_id===n))||s},l=e=>["eleven_multilingual_v2","eleven_english_v2"].includes(e.model_id),o=[{model_id:"eleven_monolingual_v1",name:"Eleven English v1",Icon:n.Wq},{model_id:"eleven_multilingual_v1",name:"Eleven Multilingual v1",Icon:n.Wq},{model_id:"eleven_multilingual_v2",name:"Eleven Multilingual v2",Icon:n.Vk},{model_id:"eleven_turbo_v2",name:"Eleven Turbo v2",Icon:n.Vk},{model_id:"eleven_flash_v2",name:"Eleven Flash v2",Icon:n.Vk},{model_id:"eleven_v2",name:"Eleven v2",Icon:n.Vk},{model_id:"eleven_english_v2",name:"Eleven English v2",Icon:n.Vk},{model_id:"eleven_english_sts_v2",name:"Eleven English v2",Icon:n.Vk},{model_id:"eleven_multilingual_sts_v2",name:"Eleven Multilingual v2",Icon:n.Vk},{model_id:"eleven_flash_v2_5",name:"Eleven Flash v2.5",Icon:n.X0},{model_id:"eleven_turbo_v2_5",name:"Eleven Turbo v2.5",Icon:n.X0}],c=s()(o,"model_id"),d=new Set(["eleven_monolingual_v1","eleven_flash_v2","eleven_turbo_v2"])},74021:function(e,t,a){"use strict";a.d(t,{K$:function(){return h},Tl:function(){return d},Ve:function(){return l},Xm:function(){return m},ah:function(){return r},fo:function(){return c},ms:function(){return u},xx:function(){return o}});var i=a(68088),s=a(81158),n=a(77095);let r=e=>e?(0,n.RF)()?["used",e.subscription.character_count]:["remaining",e.subscription.character_limit-e.subscription.character_count]:null,l=e=>{if(!e)return null;let t=e.subscription.character_limit-e.subscription.character_count;return t>0?["remaining",t]:["usedOverLimit",-t]},o=e=>{let t=r(e);return t?[t[0],(0,s.W)(t[1])]:null},c=(e,t)=>{let a=l(e);return a?"remaining"===a[0]?(0,i.jsxs)("span",{children:["You have ",(0,s.W)(a[1])," credits left.",t&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),t]})]}):(0,i.jsxs)("span",{children:["You have used ",(0,s.W)(a[1])," credits over your limit. Additional usage is charged based on your plan. ",t&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),t]})]}):null},d=e=>e?Math.round(100*Math.min(e.subscription.character_count/e.subscription.character_limit,1)):null,u=e=>e?d(e)+"%":null,h=e=>{if(e)return e/6e4},m=e=>{if(e)return e/1e3}},95834:function(e,t,a){"use strict";a.d(t,{S1:function(){return r},Te:function(){return o},VR:function(){return l}});var i=a(14284),s=a(73276),n=a(77095);let r=(e,t)=>{let a=null==t?void 0:t.sharing;return a&&a.public_owner_id===(null==e?void 0:e.public_user_id)?null:(null==a?void 0:a.rate)===1?null:null==a?void 0:a.rate},l=()=>{if((0,n.ko)())return{rate:1,daysLeft:0};let e=(0,i.default)(new Date("2025-07-01"),new Date);return e<=0?{rate:1,daysLeft:0}:{rate:.2,daysLeft:e}},o=(e,t)=>{let a=1;if(e&&e&&t&&t.model_id){var i;let n=null==t?void 0:t.model_id,r=null===(i=e.subscription)||void 0===i?void 0:i.custom_model_rates;a=(null==r?void 0:r[n])?r[n].character_cost_multiplier:(0,s.CY)(n)?l().rate:t.model_rates.character_cost_multiplier}return a}},37456:function(e,t,a){"use strict";a.d(t,{I:function(){return i}});let i=e=>"?".concat(Object.keys(e).filter(t=>null!==e[t]&&void 0!==e[t]).map(t=>encodeURIComponent(t)+"="+encodeURIComponent(e[t])).join("&"))},13104:function(e,t,a){"use strict";a.d(t,{I:function(){return n},n:function(){return i}});let i={clear(){sessionStorage.clear()},get(e){let t=sessionStorage.getItem(e);return"string"==typeof t?JSON.parse(t):t},set(e,t){sessionStorage.setItem(e,JSON.stringify(t))},remove(e){sessionStorage.removeItem(e)}},s=e=>{let t=localStorage.getItem(e);return"string"==typeof t?JSON.parse(t):t},n={clear(){localStorage.clear()},get:s,set(e,t){localStorage.setItem(e,JSON.stringify(t))},remove(e){let t=s(e);return localStorage.removeItem(e),t}}},85286:function(e,t){"use strict";t.Z={src:"/app_assets/_next/static/media/audioplatform.627d3e8b.png",height:80,width:80,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAZlBMVEXvYECHLx+vNh1iRU+ZSEVgQUm2SkG3SkBQPUjjcUecS0ndYkTMV0TLUEM0N0Z6R0lDPEmxOSSQNCZ8Lx6lNB5vLB6nPTHjUjq9QzPbQSaPREHNOx7RQyrIQCnRSzi0OSGXNyWEMR+0jh0UAAAAF3RSTlP94P7u4dvg/vDh/uHh/dT97v3g/f3h4XVQo8sAAAAJcEhZcwAALEsAACxLAaU9lqkAAABHSURBVHicHcZXEoAgDAXAJ13sNYGA5f6XdMb9WoxzCEFrCzvlnGM0MN4zs3dww1VK5RM9UUqyrOiIkohq0ILqrfY//Lzb8QGHlgQgZjFJbAAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8}},89136:function(e,t){"use strict";t.Z={src:"/app_assets/_next/static/media/convai.f4847818.png",height:80,width:80,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAbFBMVEUPDBJCPkdHSFgUGiQ6R2M3MTspOUs1Unw0UnoYFh4yRmMZICgxOEZLUmREVnQ7TG0SDRM7GhsjGyMcDhJBMzo4TnNYJSI2Pk8wKzRnKiBAJSZlREBESGBKLTNGOkYPCQ9KKCtzNSpYNjRaTFT1gDkgAAAAEHRSTlPv7+/h7+/37+Hv7+/v7+/osjnnRgAAAAlwSFlzAAAsSwAALEsBpT2WqQAAAEZJREFUeJwFwQcSgCAQBLAFwQPb0Kvd///RBIqmRTKuQDGX9n4bxH7e6ekrZDhSrZ1DO2ttCwww3ruSBbS5jBsjYQAwj6R+ljkD3TpQlGoAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8}}}]);