try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="94fe360c-58d7-4739-a1fd-be41147b4ef2",e._sentryDebugIdIdentifier="sentry-dbid-94fe360c-58d7-4739-a1fd-be41147b4ef2")}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[63018,2663],{1078:function(e,t,i){Promise.resolve().then(i.t.bind(i,27080,23)),Promise.resolve().then(i.bind(i,34042)),Promise.resolve().then(i.bind(i,84451)),Promise.resolve().then(i.bind(i,39454)),Promise.resolve().then(i.bind(i,1851)),Promise.resolve().then(i.bind(i,754)),Promise.resolve().then(i.bind(i,95855)),Promise.resolve().then(i.bind(i,87972)),Promise.resolve().then(i.bind(i,99673)),Promise.resolve().then(i.bind(i,90179)),Promise.resolve().then(i.bind(i,6400)),Promise.resolve().then(i.bind(i,22021)),Promise.resolve().then(i.bind(i,23636)),Promise.resolve().then(i.bind(i,84106)),Promise.resolve().then(i.t.bind(i,90663,23)),Promise.resolve().then(i.bind(i,27842)),Promise.resolve().then(i.bind(i,64031))},39454:function(e,t,i){"use strict";i.d(t,{default:function(){return a}});var r=i(68088),s=i(26090),n=i(8030);function a(){let e=(0,n.Z)(["/v1/voiceover-studio/:other*","/v1/dubbing/:other*"]);return(0,r.jsx)("div",{className:e?"hidden":"",children:(0,r.jsx)(s.AudioPlayer,{allowUnfocusedKeyboardShortcuts:!e})})}},95855:function(e,t,i){"use strict";var r=i(44743),s=i(6036),n=i(81999),a=i(9506),l=i(1851),u=i(99520),o=i(87069),c=i(99348),h=i(96162);let d=async e=>{if("payment_next_step"===e.event.type&&document.hasFocus()){if(e.event.client_secret){let t=await (0,r.J)((0,c.d)().stripePublishableKey);if(t){await t.confirmCardPayment(e.event.client_secret);return}}if(e.event.redirect_url){window.location.assign(e.event.redirect_url);return}}throw Error("Unhandled event type")},f=(0,n.Pi)(()=>((0,a.useEffect)(()=>{if(null!==h.EA.value&&null!==l.workspaceData.value&&null!==l.userData.value)return(0,s.cf)(h.db.collection(u.Yy).doc(h.EA.value.uid).collection(u.tW).where("create_date_unix_ms",">",Date.now()).orderBy("create_date_unix_ms","asc"),e=>{e.forEach(e=>{d(new o.Vv(e.data(),e.id))})})},[h.EA.value,l.workspaceData.value,l.userData.value]),null));t.default=f},87972:function(e,t,i){"use strict";var r=i(6991),s=i(9506),n=i(71780),a=i(1851),l=i(754),u=i(84106),o=i(52888),c=i(1618);let h=(0,i(21113).Z)("file:///app/src/components/GcpCookieHandler.tsx");t.default=()=>{let{i18n:e}=(0,r.mV)(),[t]=(0,o.$)(a.workspaceData),[i]=(0,o.$)(a.isWorkspaceAdmin);return(0,s.useEffect)(()=>{if(t&&null!=i&&(0,c.Do)(c.yV.GcpBillingJwt)){if("gcp_marketplace"===t.get_payment_provider()){u.toast.error(e.t("GCP is already your payment provider.")),(0,c.nJ)(c.yV.GcpBillingJwt);return}if(!["free","trial"].includes(t.subscription.tier)){u.toast.error(e.t("You must be on a free or trial plan to switch to GCP billing.")),(0,c.nJ)(c.yV.GcpBillingJwt);return}if(!i){u.toast.error(e.t("You must be a workspace admin to switch to GCP billing.")),(0,c.nJ)(c.yV.GcpBillingJwt);return}(async()=>{try{(await l.y.request({title:e.t("Switch to GCP Billing?"),description:e.t("You started sign-up with Google Cloud Platform. Would you like to switch your account to GCP billing?"),confirmText:e.t("Switch to GCP Billing"),cancelText:e.t("Keep Current Billing")})).confirmed?(await (0,n.UE)(),u.toast.success(e.t("Successfully switched to GCP billing."))):(0,c.nJ)(c.yV.GcpBillingJwt)}catch(t){h.error("Error handling GCP billing confirmation:",t),u.toast.error(e.t("Error handling GCP billing confirmation, please try again later."))}})()}},[t,i]),null}},99673:function(e,t,i){"use strict";i.d(t,{default:function(){return Q}});var r=i(68088),s=i(6991),n=i(6036),a=i(81999),l=i(9506),u=i(1851),o=i(4735),c=i(89219),h=i(60493),d=i(99520),f=i(87069),p=i(96162),v=i(76628),m=i(16714),y=i(23431),g=i(21147),b=i(12634),x=i(60358),w=i(81158),C=i(20807),_=i(11521),q=i(97227),j=i(28678),D=i(55205),O=i(57151);let P=(0,a.Pi)(e=>{var t,i,n,a,h;let{isOpen:d,closeModal:f}=e,{i18n:p}=(0,s.mV)(),v=(0,j.Tt)(),P=(0,y.useRouter)(),S=(null===(t=u.workspaceData.value)||void 0===t?void 0:t.subscription.tier)==="trial"?"enterprise":null===(i=u.workspaceData.value)||void 0===i?void 0:i.subscription.tier,A=(null===(n=u.userData.value)||void 0===n?void 0:n.backup_code_hash)!=null,F=(0,b.M)().find(e=>e.plan_id===S);return((0,l.useEffect)(()=>{d&&v(!1)},[d]),S&&F)?(0,r.jsx)(c.Vq,{open:d,children:(0,r.jsxs)(c.cZ,{className:"md:max-w-[650px] px-5 md:px-10 pt-0 border-none overflow-y-auto max-h-screen scrollbar-hide md:!rounded-2xl gap-0",onCloseClicked:()=>f(),autoFocus:!0,hideCloseButton:!0,children:[(0,r.jsx)(c.fK,{className:"p-6 pb-2 md:pb-0",children:(0,r.jsx)(C.X,{className:"text-xl text-center",children:(0,r.jsx)(s.cC,{id:"tLvJk2",values:{0:F.name}})})}),(0,r.jsx)("div",{className:"lg:my-4 pb-2",children:(0,r.jsxs)("div",{className:"relative lg:-mx-4 overflow-hidden",children:[(0,r.jsx)("div",{className:"relative w-full pb-[56%]"}),(0,r.jsx)("div",{className:"absolute top-0 left-0 w-full h-full",children:(0,r.jsx)(O.T,{restartOnMuteChange:!1,source:"https://eleven-public-cdn.elevenlabs.io/video/general/sizzle-reel.webm",color:"foreground",location:"left"})})]})}),(0,r.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,r.jsx)(_.x,{size:"md",weight:"medium",children:(0,r.jsx)(s.cC,{id:"VK4voM"})}),(null===(a=F.features)||void 0===a?void 0:a.instant_voice_cloning)&&(0,r.jsx)(E,{icon:(0,r.jsx)(g.Eu,{className:"w-5 h-5"}),title:p.t("Instant voice clones"),description:p.t("Create voice clones in seconds")}),F.speech.pvc_limit>0&&(0,r.jsx)(E,{icon:(0,r.jsx)(g.Tg,{className:"w-5 h-5"}),title:p.t("Professional voice clones"),description:1===F.speech.pvc_limit?p._(m.ag._({id:"uVDqDY"})):p._(m.ag._({id:"YdWGRm",values:{0:F.speech.pvc_limit}}))}),(0,q.Qd)(S,"starter")&&F.studio.studio_limit&&(0,r.jsx)(E,{icon:(0,r.jsx)(D.cJ,{className:"w-5 h-5"}),title:p.t("Studio â€” our long-form editor"),description:p._(m.ag._({id:"A01Fjc",values:{0:(0,w.W)(F.studio.studio_limit)}}))}),(0,q.Qd)(S,"starter")&&(0,r.jsx)(E,{icon:(0,r.jsx)(D.x1,{className:"w-5 h-5"}),title:p.t("Dubbing editor"),description:p.t("Better control and editing capabilities for your dubs")}),(null===(h=F.usage)||void 0===h?void 0:h.audio_limit_minutes)&&F.character_limit&&(0,r.jsx)(E,{icon:(0,r.jsx)(D.DV,{className:"w-5 h-5"}),title:p._(m.ag._({id:"70/kHs",values:{0:(0,w.W)(F.character_limit)}})),description:p._(m.ag._({id:"9bg6zN",values:{0:F.usage.audio_limit_minutes>60?Math.round(F.usage.audio_limit_minutes/60)+" "+p.t("hours"):F.usage.audio_limit_minutes+" "+p.t("minutes"),1:(0,q.Qd)(S,"creator")?p.t("with higher quality audio output"):""}}))})]}),A?(0,r.jsx)(c.cN,{className:"pt-6",children:(0,r.jsx)(o.Button,{variant:"primary",onClick:()=>f(),tabIndex:0,children:(0,r.jsx)(s.cC,{id:"yz7wBu"})})}):(0,r.jsxs)(c.cN,{className:"pt-6",children:[(0,r.jsx)(o.Button,{variant:"outline",onClick:()=>f(),tabIndex:0,children:(0,r.jsx)(s.cC,{id:"yz7wBu"})}),(0,r.jsx)(o.Button,{variant:"primary",onClick:()=>{f(),P.push(x.VP.settingsTwoFactorAuth)},tabIndex:0,children:(0,r.jsx)(s.cC,{id:"Q6V6T6"})})]})]})}):null}),E=e=>{let{title:t,description:i,icon:s}=e;return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[s,(0,r.jsx)(_.x,{size:"sm",weight:"medium",children:t})]}),(0,r.jsx)("div",{children:(0,r.jsx)(_.x,{size:"sm",color:"subtle",className:"ms-8",children:i})})]})},S=(0,h.t)(null),A=(0,h.t)(null),F=(0,a.Pi)(()=>{var e,t,i,n,a;let u=async()=>{if(null===p.EA.value||null===A.value)return;let e=A.value;A.value=null,await p.db.collection(d.Yy).doc(p.EA.value.uid).collection(d.DC).doc(e.message_id).update({needs_attention:!1,has_been_read:!0})};(0,l.useEffect)(()=>{A.value&&!A.value.needs_attention&&(A.value=null)},[A]);let h=!!(null===(e=A.value)||void 0===e?void 0:e.title.includes("You are now subscribed"));return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(P,{isOpen:h,closeModal:()=>u()}),(0,r.jsx)(c.Vq,{open:null!=A.value&&!h,children:(0,r.jsxs)(c.cZ,{onCloseClicked:u,children:[(0,r.jsx)(c.fK,{children:(0,r.jsx)(c.$N,{children:null===(t=A.value)||void 0===t?void 0:t.title})}),(0,r.jsx)(v.Z,{severity:null!==(a=null===(i=A.value)||void 0===i?void 0:i.severity)&&void 0!==a?a:"info",children:null===(n=A.value)||void 0===n?void 0:n.description}),(0,r.jsx)(c.cN,{children:(0,r.jsx)(o.Button,{variant:"primary",size:"md",onClick:u,children:(0,r.jsx)(s.cC,{id:"yz7wBu"})})})]})})]})});var Q=(0,a.Pi)(()=>((0,l.useEffect)(()=>{if(null!==p.EA.value&&null!==u.workspaceData.value&&null!==u.userData.value)return(0,n.cf)(p.db.collection(d.Yy).doc(p.EA.value.uid).collection(d.DC).where("create_date_unix_ms",">",Date.now()-5184e6).orderBy("create_date_unix_ms","desc"),e=>{let t=[];e.forEach(e=>{let i=new f.SE(e.data(),e.id);i.needs_attention&&(A.value=i),t.push(i)}),S.value=t})},[p.EA.value,u.workspaceData.value,u.userData.value]),(0,r.jsx)(F,{})))},6400:function(e,t,i){"use strict";i.d(t,{E:function(){return u}});var r=i(68088),s=i(61060),n=i(84909),a=i(67814),l=i(35760);let u=new s.S;t.default=e=>{let{children:t}=e;return(0,r.jsxs)(n.QueryClientProvider,{client:u,children:[t,l.env.NEXT_PUBLIC_HIDE_DEV_TOOLS?null:(0,r.jsx)(a.t,{initialIsOpen:!1})]})}},57151:function(e,t,i){"use strict";i.d(t,{T:function(){return h}});var r=i(68088),s=i(58892),n=i(86595),a=i(6991),l=i(9506),u=i(60189);let o=(0,l.forwardRef)((e,t)=>{let{children:i,...s}=e,[n,a]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{let e=new IntersectionObserver(t=>{t[0].isIntersecting&&(a(!0),e.disconnect())},{root:null,rootMargin:"0px",threshold:.1});if(t&&"current"in t)return t.current&&e.observe(t.current),()=>{t.current&&e.unobserve(t.current)}},[]),(0,r.jsx)("video",{ref:t,...s,children:n&&i})});var c=i(26397);let h=e=>{let{source:t,color:i="white",location:h="right",restartOnMuteChange:d=!0}=e,[f,p]=(0,l.useState)(!0),v=(0,l.useRef)(null);(0,l.useEffect)(()=>{v.current&&d&&(v.current.muted=f,v.current.currentTime=0,v.current.play())},[f]);let m="dark"===i;return(0,r.jsxs)("div",{className:(0,u.cn)("group h-full relative flex justify-end items-center rounded-xl","ring-1 ring-inset","lg:rounded-2xl",m?"bg-gray-900/5":"bg-background",m?"ring-gray-900/10":"ring-gray-200"),onClick:()=>{p(!f)},children:[(0,r.jsxs)(o,{ref:v,className:"rounded-xl cursor-pointer",width:"100%",height:"100%",autoPlay:!0,loop:!0,muted:f,playsInline:!0,children:[(0,r.jsx)("source",{src:t,type:"video/mp4"}),(0,r.jsx)(c.default,{variant:"body1",color:"lightGray",children:(0,r.jsx)(a.cC,{id:"1j9aoC"})})]}),(0,r.jsxs)("div",{className:"absolute cursor-pointer bottom-4 md:bottom-8 ".concat("right"===h?"right-4 md:right-8":"left-4 md:left-8"," flex items-center p-3 ").concat(m?"bg-gray-alpha-950":"bg-background"," rounded-full"),children:[f?(0,r.jsx)(s.Z,{className:"h-4 md:h-8 ".concat(m?"text-background":"text-foreground")}):(0,r.jsx)(n.Z,{className:"h-4 md:h-8 ".concat(m?"text-background":"text-foreground")}),(0,r.jsx)("span",{className:"text-foreground text-sm leading-none transition-opacity duration-300 ease-in-out"})]})]})}},90663:function(){},86595:function(e,t,i){"use strict";var r=i(9506);let s=r.forwardRef(function(e,t){let{title:i,titleId:s,...n}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t,"aria-labelledby":s},n),i?r.createElement("title",{id:s},i):null,r.createElement("path",{d:"M10 3.75a.75.75 0 00-1.264-.546L4.703 7H3.167a.75.75 0 00-.7.48A6.985 6.985 0 002 10c0 .887.165 1.737.468 2.52.111.29.39.48.7.48h1.535l4.033 3.796A.75.75 0 0010 16.25V3.75zM15.95 5.05a.75.75 0 00-1.06 1.061 5.5 5.5 0 010 7.778.75.75 0 001.06 1.06 7 7 0 000-9.899z"}),r.createElement("path",{d:"M13.829 7.172a.75.75 0 00-1.061 1.06 2.5 2.5 0 010 3.536.75.75 0 001.06 1.06 4 4 0 000-5.656z"}))});t.Z=s},58892:function(e,t,i){"use strict";var r=i(9506);let s=r.forwardRef(function(e,t){let{title:i,titleId:s,...n}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t,"aria-labelledby":s},n),i?r.createElement("title",{id:s},i):null,r.createElement("path",{d:"M9.547 3.062A.75.75 0 0110 3.75v12.5a.75.75 0 01-1.264.546L4.703 13H3.167a.75.75 0 01-.7-.48A6.985 6.985 0 012 10c0-.887.165-1.737.468-2.52a.75.75 0 01.7-.48h1.535l4.033-3.796a.75.75 0 01.811-.142zM13.28 7.22a.75.75 0 10-1.06 1.06L13.94 10l-1.72 1.72a.75.75 0 001.06 1.06L15 11.06l1.72 1.72a.75.75 0 101.06-1.06L16.06 10l1.72-1.72a.75.75 0 00-1.06-1.06L15 8.94l-1.72-1.72z"}))});t.Z=s},44743:function(e,t,i){"use strict";i.d(t,{J:function(){return y}});var r,s="https://js.stripe.com",n="".concat(s,"/v3"),a=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,l=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,u=function(){for(var e=document.querySelectorAll('script[src^="'.concat(s,'"]')),t=0;t<e.length;t++){var i,r=e[t];if(i=r.src,a.test(i)||l.test(i))return r}return null},o=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",i=document.createElement("script");i.src="".concat(n).concat(t);var r=document.head||document.body;if(!r)throw Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return r.appendChild(i),i},c=function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"5.9.2",startTime:t})},h=null,d=null,f=null,p=function(e,t,i){if(null===e)return null;var r=e.apply(void 0,t);return c(r,i),r},v=!1,m=function(){return r||(r=(null!==h?h:(h=new Promise(function(e,t){if("undefined"==typeof window||"undefined"==typeof document){e(null);return}if(window.Stripe,window.Stripe){e(window.Stripe);return}try{var i,r=u();r?r&&null!==f&&null!==d&&(r.removeEventListener("load",f),r.removeEventListener("error",d),null===(i=r.parentNode)||void 0===i||i.removeChild(r),r=o(null)):r=o(null),f=function(){window.Stripe?e(window.Stripe):t(Error("Stripe.js not available"))},d=function(e){t(Error("Failed to load Stripe.js",{cause:e}))},r.addEventListener("load",f),r.addEventListener("error",d)}catch(e){t(e);return}})).catch(function(e){return h=null,Promise.reject(e)})).catch(function(e){return r=null,Promise.reject(e)}))};Promise.resolve().then(function(){return m()}).catch(function(e){v||console.warn(e)});var y=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];v=!0;var r=Date.now();return m().then(function(e){return p(e,t,r)})}},61060:function(e,t,i){"use strict";i.d(t,{S:function(){return m}});var r=i(2481),s=i(89396),n=i(75906),a=i(78566),l=i(67499);class u extends l.F{constructor(e){super(),this.abortSignalConsumed=!1,this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.logger=e.logger||s._,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||function(e){let t="function"==typeof e.initialData?e.initialData():e.initialData,i=void 0!==t,r=i?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:i?null!=r?r:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:i?"success":"loading",fetchStatus:"idle"}}(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.cache.remove(this)}setData(e,t){let i=(0,r.oE)(this.state.data,e,this.options);return this.dispatch({data:i,type:"success",dataUpdatedAt:null==t?void 0:t.updatedAt,manual:null==t?void 0:t.manual}),i}setState(e,t){this.dispatch({type:"setState",state:e,setStateOptions:t})}cancel(e){var t;let i=this.promise;return null==(t=this.retryer)||t.cancel(e),i?i.then(r.ZT).catch(r.ZT):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(e=>!1!==e.options.enabled)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(e=>e.getCurrentResult().isStale)}isStaleByTime(e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!(0,r.Kp)(this.state.dataUpdatedAt,e)}onFocus(){var e;let t=this.observers.find(e=>e.shouldFetchOnWindowFocus());t&&t.refetch({cancelRefetch:!1}),null==(e=this.retryer)||e.continue()}onOnline(){var e;let t=this.observers.find(e=>e.shouldFetchOnReconnect());t&&t.refetch({cancelRefetch:!1}),null==(e=this.retryer)||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(e,t){var i,s,n,l;if("idle"!==this.state.fetchStatus){if(this.state.dataUpdatedAt&&null!=t&&t.cancelRefetch)this.cancel({silent:!0});else if(this.promise)return null==(n=this.retryer)||n.continueRetry(),this.promise}if(e&&this.setOptions(e),!this.options.queryFn){let e=this.observers.find(e=>e.options.queryFn);e&&this.setOptions(e.options)}Array.isArray(this.options.queryKey);let u=(0,r.G9)(),o={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},c=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>{if(u)return this.abortSignalConsumed=!0,u.signal}})};c(o);let h={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(o)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'")};c(h),null==(i=this.options.behavior)||i.onFetch(h),this.revertState=this.state,("idle"===this.state.fetchStatus||this.state.fetchMeta!==(null==(s=h.fetchOptions)?void 0:s.meta))&&this.dispatch({type:"fetch",meta:null==(l=h.fetchOptions)?void 0:l.meta});let d=e=>{if((0,a.DV)(e)&&e.silent||this.dispatch({type:"error",error:e}),!(0,a.DV)(e)){var t,i,r,s;null==(t=(i=this.cache.config).onError)||t.call(i,e,this),null==(r=(s=this.cache.config).onSettled)||r.call(s,this.state.data,e,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=(0,a.Mz)({fn:h.fetchFn,abort:null==u?void 0:u.abort.bind(u),onSuccess:e=>{var t,i,r,s;if(void 0===e){d(Error(this.queryHash+" data is undefined"));return}this.setData(e),null==(t=(i=this.cache.config).onSuccess)||t.call(i,e,this),null==(r=(s=this.cache.config).onSettled)||r.call(s,e,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:d,onFail:(e,t)=>{this.dispatch({type:"failed",failureCount:e,error:t})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:h.options.retry,retryDelay:h.options.retryDelay,networkMode:h.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(e){this.state=(t=>{var i,r;switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null!=(i=e.meta)?i:null,fetchStatus:(0,a.Kw)(this.options.networkMode)?"fetching":"paused",...!t.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...t,data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:null!=(r=e.dataUpdatedAt)?r:Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":let s=e.error;if((0,a.DV)(s)&&s.revert&&this.revertState)return{...this.revertState};return{...t,error:s,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}})(this.state),n.V.batch(()=>{this.observers.forEach(t=>{t.onQueryUpdate(e)}),this.cache.notify({query:this,type:"updated",action:e})})}}var o=i(45440);class c extends o.l{constructor(e){super(),this.config=e||{},this.queries=[],this.queriesMap={}}build(e,t,i){var s;let n=t.queryKey,a=null!=(s=t.queryHash)?s:(0,r.Rm)(n,t),l=this.get(a);return l||(l=new u({cache:this,logger:e.getLogger(),queryKey:n,queryHash:a,options:e.defaultQueryOptions(t),state:i,defaultOptions:e.getQueryDefaults(n)}),this.add(l)),l}add(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"added",query:e}))}remove(e){let t=this.queriesMap[e.queryHash];t&&(e.destroy(),this.queries=this.queries.filter(t=>t!==e),t===e&&delete this.queriesMap[e.queryHash],this.notify({type:"removed",query:e}))}clear(){n.V.batch(()=>{this.queries.forEach(e=>{this.remove(e)})})}get(e){return this.queriesMap[e]}getAll(){return this.queries}find(e,t){let[i]=(0,r.I6)(e,t);return void 0===i.exact&&(i.exact=!0),this.queries.find(e=>(0,r._x)(i,e))}findAll(e,t){let[i]=(0,r.I6)(e,t);return Object.keys(i).length>0?this.queries.filter(e=>(0,r._x)(i,e)):this.queries}notify(e){n.V.batch(()=>{this.listeners.forEach(({listener:t})=>{t(e)})})}onFocus(){n.V.batch(()=>{this.queries.forEach(e=>{e.onFocus()})})}onOnline(){n.V.batch(()=>{this.queries.forEach(e=>{e.onOnline()})})}}var h=i(78741);class d extends o.l{constructor(e){super(),this.config=e||{},this.mutations=[],this.mutationId=0}build(e,t,i){let r=new h.m({mutationCache:this,logger:e.getLogger(),mutationId:++this.mutationId,options:e.defaultMutationOptions(t),state:i,defaultOptions:t.mutationKey?e.getMutationDefaults(t.mutationKey):void 0});return this.add(r),r}add(e){this.mutations.push(e),this.notify({type:"added",mutation:e})}remove(e){this.mutations=this.mutations.filter(t=>t!==e),this.notify({type:"removed",mutation:e})}clear(){n.V.batch(()=>{this.mutations.forEach(e=>{this.remove(e)})})}getAll(){return this.mutations}find(e){return void 0===e.exact&&(e.exact=!0),this.mutations.find(t=>(0,r.X7)(e,t))}findAll(e){return this.mutations.filter(t=>(0,r.X7)(e,t))}notify(e){n.V.batch(()=>{this.listeners.forEach(({listener:t})=>{t(e)})})}resumePausedMutations(){var e;return this.resuming=(null!=(e=this.resuming)?e:Promise.resolve()).then(()=>{let e=this.mutations.filter(e=>e.state.isPaused);return n.V.batch(()=>e.reduce((e,t)=>e.then(()=>t.continue().catch(r.ZT)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}var f=i(45240),p=i(18041),v=i(82008);class m{constructor(e={}){this.queryCache=e.queryCache||new c,this.mutationCache=e.mutationCache||new d,this.logger=e.logger||s._,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,1===this.mountCount&&(this.unsubscribeFocus=f.j.subscribe(()=>{f.j.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=p.N.subscribe(()=>{p.N.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var e,t;this.mountCount--,0===this.mountCount&&(null==(e=this.unsubscribeFocus)||e.call(this),this.unsubscribeFocus=void 0,null==(t=this.unsubscribeOnline)||t.call(this),this.unsubscribeOnline=void 0)}isFetching(e,t){let[i]=(0,r.I6)(e,t);return i.fetchStatus="fetching",this.queryCache.findAll(i).length}isMutating(e){return this.mutationCache.findAll({...e,fetching:!0}).length}getQueryData(e,t){var i;return null==(i=this.queryCache.find(e,t))?void 0:i.state.data}ensureQueryData(e,t,i){let s=(0,r._v)(e,t,i),n=this.getQueryData(s.queryKey);return n?Promise.resolve(n):this.fetchQuery(s)}getQueriesData(e){return this.getQueryCache().findAll(e).map(({queryKey:e,state:t})=>[e,t.data])}setQueryData(e,t,i){let s=this.queryCache.find(e),n=null==s?void 0:s.state.data,a=(0,r.SE)(t,n);if(void 0===a)return;let l=(0,r._v)(e),u=this.defaultQueryOptions(l);return this.queryCache.build(this,u).setData(a,{...i,manual:!0})}setQueriesData(e,t,i){return n.V.batch(()=>this.getQueryCache().findAll(e).map(({queryKey:e})=>[e,this.setQueryData(e,t,i)]))}getQueryState(e,t){var i;return null==(i=this.queryCache.find(e,t))?void 0:i.state}removeQueries(e,t){let[i]=(0,r.I6)(e,t),s=this.queryCache;n.V.batch(()=>{s.findAll(i).forEach(e=>{s.remove(e)})})}resetQueries(e,t,i){let[s,a]=(0,r.I6)(e,t,i),l=this.queryCache,u={type:"active",...s};return n.V.batch(()=>(l.findAll(s).forEach(e=>{e.reset()}),this.refetchQueries(u,a)))}cancelQueries(e,t,i){let[s,a={}]=(0,r.I6)(e,t,i);return void 0===a.revert&&(a.revert=!0),Promise.all(n.V.batch(()=>this.queryCache.findAll(s).map(e=>e.cancel(a)))).then(r.ZT).catch(r.ZT)}invalidateQueries(e,t,i){let[s,a]=(0,r.I6)(e,t,i);return n.V.batch(()=>{var e,t;if(this.queryCache.findAll(s).forEach(e=>{e.invalidate()}),"none"===s.refetchType)return Promise.resolve();let i={...s,type:null!=(e=null!=(t=s.refetchType)?t:s.type)?e:"active"};return this.refetchQueries(i,a)})}refetchQueries(e,t,i){let[s,a]=(0,r.I6)(e,t,i),l=Promise.all(n.V.batch(()=>this.queryCache.findAll(s).filter(e=>!e.isDisabled()).map(e=>{var t;return e.fetch(void 0,{...a,cancelRefetch:null==(t=null==a?void 0:a.cancelRefetch)||t,meta:{refetchPage:s.refetchPage}})}))).then(r.ZT);return null!=a&&a.throwOnError||(l=l.catch(r.ZT)),l}fetchQuery(e,t,i){let s=(0,r._v)(e,t,i),n=this.defaultQueryOptions(s);void 0===n.retry&&(n.retry=!1);let a=this.queryCache.build(this,n);return a.isStaleByTime(n.staleTime)?a.fetch(n):Promise.resolve(a.state.data)}prefetchQuery(e,t,i){return this.fetchQuery(e,t,i).then(r.ZT).catch(r.ZT)}fetchInfiniteQuery(e,t,i){let s=(0,r._v)(e,t,i);return s.behavior=(0,v.Gm)(),this.fetchQuery(s)}prefetchInfiniteQuery(e,t,i){return this.fetchInfiniteQuery(e,t,i).then(r.ZT).catch(r.ZT)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(e){this.defaultOptions=e}setQueryDefaults(e,t){let i=this.queryDefaults.find(t=>(0,r.yF)(e)===(0,r.yF)(t.queryKey));i?i.defaultOptions=t:this.queryDefaults.push({queryKey:e,defaultOptions:t})}getQueryDefaults(e){if(!e)return;let t=this.queryDefaults.find(t=>(0,r.to)(e,t.queryKey));return null==t?void 0:t.defaultOptions}setMutationDefaults(e,t){let i=this.mutationDefaults.find(t=>(0,r.yF)(e)===(0,r.yF)(t.mutationKey));i?i.defaultOptions=t:this.mutationDefaults.push({mutationKey:e,defaultOptions:t})}getMutationDefaults(e){if(!e)return;let t=this.mutationDefaults.find(t=>(0,r.to)(e,t.mutationKey));return null==t?void 0:t.defaultOptions}defaultQueryOptions(e){if(null!=e&&e._defaulted)return e;let t={...this.defaultOptions.queries,...this.getQueryDefaults(null==e?void 0:e.queryKey),...e,_defaulted:!0};return!t.queryHash&&t.queryKey&&(t.queryHash=(0,r.Rm)(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.useErrorBoundary&&(t.useErrorBoundary=!!t.suspense),t}defaultMutationOptions(e){return null!=e&&e._defaulted?e:{...this.defaultOptions.mutations,...this.getMutationDefaults(null==e?void 0:e.mutationKey),...e,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}},67814:function(e,t,i){"use strict";i.d(t,{t:function(){return r}});let r=function(){return null}},34042:function(e,t,i){"use strict";i.d(t,{NuqsAdapter:function(){return l}});var r=i(79913),s=i(24439),n=i(23431),a=i(9506),l=(0,r.Z0)(function(){let e=(0,n.useRouter)(),t=(0,n.useSearchParams)(),[i,l]=(0,a.useOptimistic)(t);return{searchParams:i,updateUrl:(0,a.useCallback)((t,i)=>{(0,a.startTransition)(()=>{var n,a;i.shallow||l(t);let u=(n=location.origin+location.pathname,a=t,(n.split("#")[0]??"")+(0,r.R)(a)+location.hash);(0,s.f)("[nuqs queue (app)] Updating url: %s",u),("push"===i.history?history.pushState:history.replaceState).call(history,null,"",u),i.scroll&&window.scrollTo(0,0),i.shallow||e.replace(u,{scroll:!1})})},[]),rateLimitFactor:2}})}},function(e){e.O(0,[43358,60454,35832,83061,52774,9042,42039,95327,97983,53510,88459,59287,53943,40534,86166,81999,10301,21546,31254,59781,2897,20098,75941,29764,50276,22279,26221,73215,64641,41228,15984,15348,28322,1851,69562,47402,19180,88864,27842,81397,55579,1744],function(){return e(e.s=1078)}),_N_E=e.O()}]);