try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="acb891b6-ce14-403b-9dd0-f0bd8de27caa",e._sentryDebugIdIdentifier="sentry-dbid-acb891b6-ce14-403b-9dd0-f0bd8de27caa")}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[88864],{65660:function(){},2986:function(e,t,i){"use strict";i.d(t,{T0:function(){return o},a5:function(){return c},f1:function(){return d},xD:function(){return r}});var a=i(97918),s=i(4322),n=i(96162),l=i(30487);let r=async e=>{let{pageSize:t,category:i,gender:a,age:s,accent:l,language:r,useCases:o,search:c,sort:d,page:u,featured:h=!1,owner_id:m,minNoticePeriod:p,includeCustomRates:v}=e,x=new URLSearchParams({page_size:t.toString()});i&&x.append("category",i),a&&x.append("gender",a),s&&x.append("age",s),r&&x.append("language",r),l&&x.append("accent",l),void 0!==v&&x.append("include_custom_rates",v.toString()),null==o||o.forEach(e=>{x.append("use_cases",e)}),c&&x.append("search",c),d&&x.append("sort",d),u&&x.append("page",u.toString()),h&&x.append("featured","true"),m&&x.append("owner_id",m),p&&x.append("min_notice_period_days",p);let g=await (0,n.hP)(),f={"Content-Type":"application/json"};g&&(f.Authorization="Bearer ".concat(g));let b=await fetch("".concat(n.LB,"/v1/shared-voices?").concat(x.toString()),{method:"GET",headers:f});return await b.json()},o=async e=>{let t=new FormData;return t.append("audio_file",e),await (0,l.hho)({headers:{"Content-Type":"multipart/form-data"},body:t})},c=async e=>s.hi.post("/v1/similar-voices-by-id",e),d=function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return(0,a.useQuery)({queryKey:["similar-library-voices-by-id",e],queryFn:()=>c(e),retry:0,enabled:t})}},83359:function(e,t,i){"use strict";i.d(t,{B_:function(){return C},H8:function(){return P},OR:function(){return E},S2:function(){return D},fL:function(){return S},oc:function(){return A},sz:function(){return V}});var a=i(68088),s=i(6991),n=i(16714),l=i(81999),r=i(9506),o=i(34161),c=i(1851),d=i(55205),u=i(97751),h=i(23636),m=i(4735),p=i(74346),v=i(11521),x=i(84106),g=i(96162),f=i(63415),b=i(85753),y=i(70554),j=i(60189),_=i(54389),w=i(60493),k=i(97204),N=i(73276);let C="xi:generator-text",S=(0,w.t)("undefined"==typeof localStorage?"":localStorage.getItem(C)||""),E=(0,w.t)("undefined"==typeof localStorage?[]:(0,N.hB)()),P=e=>{var t,i;if("text-to-speech"===e&&(0,N.CY)(null===(t=c.selectedModelTts.value)||void 0===t?void 0:t.model_id))return;let s=(0,k.g2)(c.selectedModelTts.value,c.selectedVoice.value,null===(i=c.models.value)||void 0===i?void 0:i.filter(t=>"text-to-speech"===e?t.can_do_text_to_speech:t.can_do_voice_conversion));s&&(0,x.toast)("Model Recommendation",{id:"model-recommendation",description:"We recommend switching to ".concat(s.name," to get the best quality for the selected voice."),action:(0,a.jsx)(V,{model:s,onSwitch:()=>{(0,f.eN)(b.B_.speech_synthesis_new_tts_switch_model,{model:null==s?void 0:s.name})}}),closeButton:!0,duration:1e4})},V=(0,l.Pi)(e=>{let{model:t,onSwitch:i}=e,{i18n:n}=(0,s.mV)(),[l,o]=(0,r.useState)(!1);return(0,a.jsx)(m.Button,{size:"sm",onClick:()=>{c.selectedModelTts.value=t,null==i||i(),o(!0)},onPointerDownCapture:e=>e.stopPropagation(),disabled:l,className:"w-32 text-background bg-secondary/10 hover:bg-secondary/20 opacity-100 disabled:opacity-50 transition-all duration-150 ease-out",children:l?n.t("Switched!"):n.t("Switch")})}),D=e=>{let{children:t=(0,a.jsx)(s.cC,{id:"7VRm8T"}),className:i,onChange:n,accept:l=[],maxSize:r,multiple:c=!0,inputRef:d,actionDisabled:u=!1,tabIndex:h=0}=e,m={};return l.forEach(e=>{m[e]=[]}),(0,a.jsx)(o.ZP,{onDrop:(e,t,i)=>{n({files:e,rejectedFiles:t,event:i})},maxSize:r?1048576*r:void 0,accept:m,multiple:c,disabled:u,children:e=>{let{getRootProps:s,getInputProps:n,isDragActive:l}=e,r=n();return(0,a.jsxs)("div",{className:(0,j.cn)("p-3 cursor-pointer center rounded-lg transition-colors",l&&"bg-gray-alpha-100",i),...s(),tabIndex:h,children:[(0,a.jsx)("input",{...r}),(0,a.jsx)("div",{className:"center h-full w-full",children:t})]})}})},A=e=>{let{onChange:t,maxSize:i,minDuration:l=0,maxDuration:o=1/0,allowRecording:c=!0,accept:x=_.AP,actionDisabled:f=!1}=e,{i18n:b}=(0,s.mV)(),[j,w]=(0,r.useState)("upload");return(0,a.jsxs)("div",{className:"h-full",children:["upload"===j&&(0,a.jsx)(D,{className:"h-full",actionDisabled:f,onChange:e=>{let{files:a,rejectedFiles:s}=e,r=a[0];r&&(0,y.eM)(r).then(e=>{e?e<l?(0,h.default)(b._(n.ag._({id:"Ashzh/",values:{minDuration:l}}))):e>o?(0,h.default)(b._(n.ag._({id:"SIcHf9",values:{maxDuration:o}}))):t(r,e):(0,h.default)(b.t("Could not extract file duration."))}),s.forEach(e=>{e.errors.forEach(e=>{"file-too-large"===e.code?(0,h.default)(b._(n.ag._({id:"k4EodX",values:{maxSize:i}}))):"file-invalid-type"===e.code?(0,h.default)(b.t("File is not one of the supported types:")+" "+x.map(e=>g.W$[e]||e)):(0,h.default)(b.t(e.message))})})},maxSize:i,accept:x,children:(0,a.jsxs)("div",{className:"center gap-3",children:[(0,a.jsx)("div",{className:"p-1.5 bg-gray-alpha-100 rounded-full",children:(0,a.jsx)("div",{className:"p-1 bg-gray-alpha-200 rounded-full",children:(0,a.jsx)(p.Z,{size:"md",color:"subtle",children:(0,a.jsx)(d.lJ,{})})})}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(v.x,{size:"sm",color:"subtle",children:(0,a.jsx)(s.cC,{id:"o2ka8y"})}),o<1/0&&(0,a.jsx)(v.x,{size:"xs",color:"subtle",children:(0,a.jsx)(s.cC,{id:"VDSI/Y",values:{maxSize:i}})})]}),(0,a.jsxs)("div",{className:"hstack gap-2",children:[(0,a.jsx)(m.Button,{size:"sm",className:"w-28",disabled:f,children:f?b.t("Uploading..."):b.t("Upload audio")}),c&&(0,a.jsx)(m.Button,{size:"sm",className:"w-28",disabled:f,onClick:e=>{e.stopPropagation(),w("record")},children:(0,a.jsx)(s.cC,{id:"wVRDWC"})})]})]})}),"record"===j&&(0,a.jsx)("div",{className:"h-full center",children:(0,a.jsx)(u.A,{setFile:e=>{(0,y.eM)(e).then(i=>{i?i>o?(0,h.default)(b._(n.ag._({id:"SIcHf9",values:{maxDuration:o}}))):t(e,i):(0,h.default)(b.t("Could not extract file duration."))})},maxDurationSecs:o-.1,showMaxDuration:!1,showToastOnMaxDuration:!1})})]})}},90211:function(e,t,i){"use strict";i.d(t,{t:function(){return n}});var a=i(68088),s=i(40534);let n=(0,i(9506).forwardRef)((e,t)=>(0,a.jsx)(s.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{opacity:{duration:.15},layout:{duration:.5,type:"spring",bounce:.15}},ref:t,...e}));n.displayName="FadeInOut"},9039:function(e,t,i){"use strict";i.d(t,{Ax:function(){return _},Cm:function(){return I},IF:function(){return x},Mm:function(){return S},P3:function(){return v},V1:function(){return k},Vu:function(){return j},a2:function(){return N},aT:function(){return P},eu:function(){return w},jx:function(){return A},kO:function(){return C},k_:function(){return E},v_:function(){return D},vh:function(){return V}});var a=i(68088),s=i(16714),n=i(83336),l=i.n(n),r=i(2231),o=i(7048);i(9506);var c=i(7114),d=i(1851),u=i(92234),h=i(84106),m=i(54752),p=i(73276);let v=[{name:s.ag.t("Any"),key:""},{name:s.ag.t("Male"),key:"male"},{name:s.ag.t("Female"),key:"female"},{name:s.ag.t("Neutral"),key:"neutral"}],x=[{name:s.ag.t("Any"),key:""},{name:s.ag.t("Young"),key:"young"},{name:s.ag.t("Middle Aged"),key:"middle_aged"},{name:s.ag.t("Old"),key:"old"}],g=[{name:s.ag.t("Any"),key:""},{name:s.ag.t("30 days"),shortName:"30d",key:"30"},{name:s.ag.t("90 days"),shortName:"90d",key:"90"},{name:s.ag.t("180 days"),shortName:"180d",key:"180"},{name:s.ag.t("1 year"),shortName:"1y",key:"365"},{name:s.ag.t("2 years"),shortName:"2y",key:"730"}],f=e=>e?[{name:s.ag.t("Exclude"),key:""},{name:s.ag.t("Include"),key:"true"}]:[{name:s.ag.t("Include"),key:""},{name:s.ag.t("Exclude"),key:"false"}],b=[{name:s.ag.t("Include"),key:""},{name:s.ag.t("Exclude"),key:"false"}],y=[{name:s.ag.t("Trending"),key:"trending"},{name:s.ag.t("Latest"),key:"created_date"},{name:s.ag.t("Most users"),key:"cloned_by_count"},{name:s.ag.t("Character usage"),key:"usage_character_count_1y"}],j=[{key:"anxious",name:s.ag.t("Anxious")},{key:"calm",name:s.ag.t("Calm")},{key:"casual",name:s.ag.t("Casual")},{key:"chill",name:s.ag.t("Chill")},{key:"classy",name:s.ag.t("Classy")},{key:"confident",name:s.ag.t("Confident")},{key:"crisp",name:s.ag.t("Crisp")},{key:"cute",name:s.ag.t("Cute")},{key:"deep",name:s.ag.t("Deep")},{key:"excited",name:s.ag.t("Excited")},{key:"formal",name:s.ag.t("Formal")},{key:"gentle",name:s.ag.t("Gentle")},{key:"grumpy",name:s.ag.t("Grumpy")},{key:"hyped",name:s.ag.t("Hyped")},{key:"husky",name:s.ag.t("Husky")},{key:"intense",name:s.ag.t("Intense")},{key:"mature",name:s.ag.t("Mature")},{key:"meditative",name:s.ag.t("Meditative")},{key:"modulated",name:s.ag.t("Modulated")},{key:"neutral",name:s.ag.t("Neutral")},{key:"pleasant",name:s.ag.t("Pleasant")},{key:"professional",name:s.ag.t("Professional")},{key:"raspy",name:s.ag.t("Raspy")},{key:"relaxed",name:s.ag.t("Relaxed")},{key:"robotic",name:s.ag.t("Robotic")},{key:"rough",name:s.ag.t("Rough")},{key:"sad",name:s.ag.t("Sad")},{key:"sassy",name:s.ag.t("Sassy")},{key:"serious",name:s.ag.t("Serious")},{key:"soft",name:s.ag.t("Soft")},{key:"upbeat",name:s.ag.t("Upbeat")},{key:"whispery",name:s.ag.t("Whispery")},{key:"wise",name:s.ag.t("Wise")}],_=[{name:"Any",key:""},...m.CD.map(e=>({name:e.name,key:e.code,sort:e.sort})).sort((e,t)=>e.name.localeCompare(t.name)).sort((e,t)=>Number("Standard"===t.name)-Number("Standard"===e.name))],w=[{name:s.ag.t("Any"),key:""},...m.Q4.map(e=>({key:e.languageCode,flagCode:e.flagCode,name:e.name})).sort((e,t)=>e.name.localeCompare(t.name))],k=[{name:"Any",key:""},...m.sj.map(e=>({key:e.languageCode,flagCode:e.flagCode,name:e.name})).sort((e,t)=>e.name.localeCompare(t.name))],N=[{name:s.ag.t("Narrative & Story"),key:"narrative_story"},{name:s.ag.t("Conversational"),key:"conversational"},{name:s.ag.t("Characters & Animation"),key:"characters_animation"},{name:s.ag.t("Social Media"),key:"social_media"},{name:s.ag.t("Entertainment & TV"),key:"entertainment_tv"},{name:s.ag.t("Advertisement"),key:"advertisement"},{name:s.ag.t("Informative & Educational"),key:"informative_educational"}],C=l()(N.filter(e=>e.key),"key"),S=l()(j.filter(e=>e.key),"key"),E=l()(k.filter(e=>e.key),"key"),P=l()(_.filter(e=>e.key),"key"),V=l()(v.filter(e=>e.key),"key"),D=l()(x.filter(e=>e.key),"key"),A=l()(g.filter(e=>e.key),"key"),T=[{name:s.ag.t("Any"),key:""},{name:s.ag.t("High-Quality"),key:"high_quality"}],I=(e,t)=>{let i=(0,p.MM)(d.models.value),n={filters:{language:{title:s.ag.t("Language"),options:i?k:w,type:"select",renderValue:(e,t)=>{let i=k.find(t=>t.key===e);return i?(0,a.jsxs)("span",{className:"hstack items-center gap-1",children:["flagCode"in i?(0,a.jsx)(c.Z,{countryCode:i.flagCode,svg:!0,style:{width:"0.9rem",height:"0.9rem"},"aria-hidden":!0,className:"rounded-full w-4 h-4 object-cover text-xl"}):(0,a.jsx)("div",{className:"w-4 h-4 stack justify-center",children:(0,a.jsx)("div",{className:"w-full h-1 bg-gray-alpha-200 rounded-full"})}),(0,a.jsx)("span",{children:i.name})]}):e}},accent:{title:s.ag.t("Accent"),options:_,triggerTooltip:e=>0===e.length?s.ag.t("Select a language first"):void 0,renderValue:(e,t)=>{var i;return(null===(i=P[t.language+"-"+String(e)])||void 0===i?void 0:i.name)||e},filterOptions:e=>e.language?_.filter(t=>t.key.startsWith(e.language)||""===t.key):[],type:"select"},use_cases:{title:s.ag.t("Category"),multiple:!0,options:N},descriptives:{title:s.ag.t("Description"),multiple:!0,options:j,hidden:!0},category:{title:s.ag.t("Quality"),options:T},gender:{title:s.ag.t("Gender"),options:v,renderValue:e=>"string"==typeof e&&V[e]?(0,a.jsxs)("span",{className:"hstack items-center gap-1",children:["male"===e&&(0,a.jsx)(r.Z,{className:"w-4 h-4"}),"female"===e&&(0,a.jsx)(o.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:V[e].name})]}):s.ag.t("Any")},age:{title:s.ag.t("Age"),options:x},featured:{title:s.ag.t("Featured"),hidden:!0},sort:{title:s.ag.t("Sort"),options:y,hidden:!0},min_notice_period_days:{title:s.ag.t("Notice period"),options:g},include_custom_rates:{title:s.ag.t("Custom rates"),options:f(t)},include_live_moderated:{title:s.ag.t("Live moderation enabled"),options:b},voiceId:{title:s.ag.t("Voice"),hidden:!0},voice:{title:s.ag.t("Voice"),hidden:!0,renderValue:e=>{if("string"!=typeof e)return;let[t,i,s]=e.split(":")||[];return(0,a.jsxs)("span",{className:"hstack items-center gap-1",children:[(0,a.jsx)(u.v,{voice:{voice_id:t,name:s,category:null},size:"0.9rem"})," ",s]})}}},sideEffect:e=>{let t={...e};(!t.language&&t.accent||t.language&&t.accent&&!P[t.language+"-"+t.accent])&&delete t.accent;let i={...e};return delete i.search,i.voice&&Object.keys(i).length>1&&(h.toast.warning(s.ag.t("Filters are not supported with similar voice search. The similar voice search was reset.")),delete t.voice),t}};return e&&delete n.filters.include_custom_rates,n}},43479:function(e,t,i){"use strict";i.d(t,{qu:function(){return tx},RG:function(){return tu},Vh:function(){return tv},Uf:function(){return tg},Fz:function(){return th}});var a=i(68088),s=i(4111),n=i(6991),l=i(40534),r=i(21782),o=i(46736),c=i(30395),d=i(81999),u=i(93281),h=i(9506),m=i(1851),p=i(89219),v=i(3030),x=i(11521),g=i(63415),f=i(85753),b=i(60189),y=i(64903),j=i(2544),_=i(82986),w=i(17466),k=i(28798),N=i(17024),C=i(64883),S=i(6496),E=i(4035),P=i(16714),V=i(72120),D=i(81777),A=i(55673),T=i(41087),I=i.n(T),M=i(77513),z=i(89008),L=i(26336),R=i(94809),F=i(21368),B=i(46887),O=i(19835),Z=i(80533),U=i(97968),q=i(2713),H=i(1960),G=i(41236),W=i(5479),K=i(72929),Y=i(50276),X=i(82374),Q=i(4322),J=i(23636),$=i(96162);let ee=async(e,t,i,a,s)=>{let n={"Content-Type":"application/json"},l=await (0,$.hP)();l&&(n.Authorization="Bearer ".concat(l));let r=await fetch("".concat($.LB,"/v1/text-to-voice/create-voice-from-preview"),{method:"POST",headers:n,body:JSON.stringify({voice_name:e,voice_description:t,generated_voice_id:i,played_not_selected_voice_ids:a,labels:s})});if(!r.ok){let{detail:e,...t}=await r.json();throw e.length&&e.map(e=>{let{loc:t,msg:i,type:a}=e;return(0,J.default)("".concat(i[0].toUpperCase()+i.slice(1),": ").concat(t.join(".")))}),e}};var et=i(30487),ei=i(42032),ea=i(4735),es=i(46547),en=i(96474),el=i(50113),er=i(82528),eo=i(65204),ec=i(84106),ed=i(25933),eu=i(29554),eh=i(54389),em=i(39255),ep=i(77095),ev=i(15750),ex=i(326),eg=i(21147),ef=i(64172),eb=i(43941),ey=i(22869),ej=i(64108);let e_=e=>{let{disabled:t,onReset:i}=e,{i18n:s}=(0,n.mV)(),l=(0,h.useId)();return(0,a.jsxs)("div",{className:"stack gap-2",children:[(0,a.jsx)(en.Label,{htmlFor:l,className:"w-fit underline decoration-dotted underline-offset-2 decoration-gray-alpha-400 select-none",tooltip:s.t("Controls the volume level of the generated voice."),onDoubleClick:()=>!t&&(null==i?void 0:i()),children:(0,a.jsx)(n.cC,{id:"UA5uC4"})}),(0,a.jsxs)("div",{className:"hstack justify-between",children:[(0,a.jsx)(en.Label,{size:"xs",color:"subtle",weight:"normal",children:(0,a.jsx)(n.cC,{id:"r1MpXi"})}),(0,a.jsx)(en.Label,{size:"xs",color:"subtle",weight:"normal",children:(0,a.jsx)(n.cC,{id:"5Kl5wN"})})]}),(0,a.jsx)(Y.Qr,{name:"loudness",render:e=>{let{field:n}=e;return(0,a.jsx)(ey.i,{id:l,"aria-label":s.t("Loudness"),min:0,max:100,formatter:e=>"".concat(e.toFixed(0),"%"),value:(0,ej.KK)(n.value,[-1,1],[0,100]),onValueChange:e=>n.onChange((0,ej.KK)(e,[0,100],[-1,1])),onThumbDoubleClick:i,disabled:t,step:1})}})]})},ew=e=>{let{disabled:t,onReset:i}=e,{i18n:s}=(0,n.mV)(),l=(0,h.useId)();return(0,a.jsxs)("div",{className:"stack gap-2",children:[(0,a.jsx)(en.Label,{htmlFor:l,className:"w-fit underline decoration-dotted underline-offset-2 decoration-gray-alpha-400 select-none",tooltip:s.t("Controls how closely the AI follows the prompt. Lower numbers give the AI more freedom to be creative, while higher numbers force it to stick more to the prompt."),onDoubleClick:()=>!t&&(null==i?void 0:i()),children:(0,a.jsx)(n.cC,{id:"7zc/aP"})}),(0,a.jsxs)("div",{className:"hstack justify-between",children:[(0,a.jsx)(en.Label,{size:"xs",color:"subtle",weight:"normal",children:(0,a.jsx)(n.cC,{id:"nTWWCZ"})}),(0,a.jsx)(en.Label,{size:"xs",color:"subtle",weight:"normal",children:(0,a.jsx)(n.cC,{id:"yx/fMc"})})]}),(0,a.jsx)(Y.Qr,{name:"guidanceScale",render:e=>{let{field:n}=e;return(0,a.jsx)(ey.i,{id:l,"aria-label":s.t("Guidance Scale"),min:0,max:100,formatter:e=>"".concat(e.toFixed(0),"%"),value:(0,ej.KK)(n.value,[2,10],[0,100]),onValueChange:e=>n.onChange((0,ej.KK)(e,[0,100],[2,10])),onThumbDoubleClick:i,disabled:t,step:1})}})]})},ek=e=>{let{disabled:t,onReset:i}=e;return(0,a.jsxs)("fieldset",{children:[(0,a.jsx)("legend",{className:"sr-only",children:(0,a.jsx)(n.cC,{id:"t5nJTO"})}),(0,a.jsxs)("div",{className:(0,b.cn)("mb-2 flex justify-between items-center transition-opacity duration-100",{"opacity-50":t}),children:[(0,a.jsx)(x.x,{color:"subtle",size:"xs",weight:"medium",children:(0,a.jsx)(n.cC,{id:"G2cO0Z"})}),(0,a.jsx)(x.x,{color:"subtle",size:"xs",weight:"medium",children:(0,a.jsx)(n.cC,{id:"0vjp5r"})})]}),(0,a.jsx)(Y.Qr,{name:"promptStrength",render:e=>{let{field:s}=e;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(ey.i,{"aria-label":"Prompt strength",className:"transition-opacity duration-100",disabled:t,value:1-s.value,onValueChange:e=>s.onChange(1-e),min:0,max:1,step:.01,ref:s.ref,onBlur:s.onBlur,formatter:ey.$.percentage,onThumbDoubleClick:i})})}})]})},eN=e=>{let{disabled:t}=e,{i18n:i}=(0,n.mV)(),s=(0,h.useId)(),{register:l,setValue:r,resetField:o}=(0,Y.Gc)();return(0,a.jsxs)("fieldset",{className:"stack gap-6",disabled:t,children:[(0,a.jsx)("legend",{className:"sr-only",children:(0,a.jsx)(n.cC,{id:"Tz0i8g"})}),(0,a.jsxs)("div",{className:"stack gap-2",children:[(0,a.jsx)(en.Label,{htmlFor:s,className:"w-fit underline decoration-dotted underline-offset-2 decoration-gray-alpha-400",tooltip:i.t("Random number that controls the voice generation. Same seed with same inputs produces same voice."),children:(0,a.jsx)(n.cC,{id:"gq6UJs"})}),(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)(es.I,{id:s,type:"number",min:"0",max:"2147483647",step:"1",placeholder:i.t("Auto-generated"),className:"relative rounded-lg rounded-r-none bg-background h-8 focus:z-10",...l("seed",{setValueAs:e=>""===e?void 0:+e,min:0,max:2147483647})}),(0,a.jsx)(ea.Button,{className:"relative -ml-px rounded-l-none bg-background focus:z-10",size:"sm",type:"button","aria-label":i.t("Generate random seed"),onClick:()=>r("seed",eC()),children:(0,a.jsx)(n.cC,{id:"I2K8PB"})})]})]}),(0,a.jsx)(e_,{disabled:t,onReset:()=>o("loudness")}),(0,a.jsx)(ew,{disabled:t,onReset:()=>o("guidanceScale")})]})},eC=()=>Math.floor(1e6*Math.random());var eS=i(7484),eE=i(38869),eP=i(68606),eV=i(10389),eD=i(96202),eA=i(90206),eT=i(59509),eI=i(56742),eM=i(85456),ez=i(73276);let eL=eT.NB.create({name:"paragraph",priority:1e3,group:"block",content:"inline*",parseHTML:()=>[{tag:"p"}],renderHTML(e){let{HTMLAttributes:t}=e;return["p",t,0]}}),eR=e=>e.getText({blockSeparator:"\n"});var eF=e=>{let{value:t,onChange:i,id:s,placeholder:n="",className:l,classes:r,disabled:o,...c}=e,d=(0,eI.jE)({extensions:[eS.Z,eL,eD.Z,eE.Z,eM.Z.configure({audioTagClassName:(0,b.cn)("text-sm p-0 border-none rounded-none",null==r?void 0:r.audioTags)}),eV.Z.configure({placeholder:n,emptyNodeClass:(0,b.cn)("before:content-[attr(data-placeholder)] before:float-left before:text-muted-foreground before:pointer-events-none before:h-0",null==r?void 0:r.placeholder)}),eP.Z],editable:!o,immediatelyRender:!1,editorProps:{attributes:{"aria-disabled":o?"true":"false",class:(0,b.cn)(eo.i,"block outline-none aria-disabled:cursor-not-allowed aria-disabled:opacity-50",l)},transformPasted:e=>new eA.p2(e.content,Math.max(e.openStart,1),Math.max(e.openEnd,1))},onUpdate:e=>{let{editor:t}=e;i(eR(t))}});return(0,h.useEffect)(()=>{if(!d||eR(d)===t)return;let e=(0,ez.Y7)(t);d.chain().setContent({type:"doc",content:e}).scrollIntoView().setTextSelection(d.state.selection).run()},[d,t]),(0,a.jsx)(eI.kg,{id:s,editor:d,className:null==r?void 0:r.wrapper,...c})},eB=i(78350),eO=i(52816),eZ=i(34161),eU=i(49317),eq=i(8020),eH=i(20308),eG=i(72752),eW=i(91105),eK=i(70554),eY=i(77491),eX=i(90211);let eQ=(0,d.Pi)(e=>{let{file:t}=e,{togglePlay:i,isPlaying:s}=(0,ef.kY)(t);return(0,a.jsxs)(ea.Button,{size:"sm",className:"group bg-background max-w-full overflow-hidden rounded-r-none focus-visible:z-10",type:"button",leftIcon:s?(0,a.jsx)(E.Z,{className:"!w-3.5 !h-3.5 shrink-0"}):(0,a.jsx)("span",{className:"inline-flex items-center justify-center !w-3.5 !h-3.5 shrink-0",children:(0,a.jsx)(eg.JF,{className:"w-3 h-3"})}),onClick:i,children:[(0,a.jsx)("span",{className:"truncate min-w-0",children:t.name}),(0,a.jsx)("span",{className:"inline-flex items-center justify-center ml-1 shrink-0 text-subtle font-medium group-disabled:text-inherit transition-colors duration-75",children:(0,eY.LU)(t.duration/1e3)})]})}),eJ=e=>{let{minDuration:t=0,maxDuration:i=1/0,onChange:s}=e,{i18n:r}=(0,n.mV)(),c=(0,h.useRef)(),{isRecording:d,durationMs:u,startRecording:m}=(0,eG.Y$)(),{selectedMicId:p,setSelectedMicId:g,micDevices:f}=(0,eG.Uv)(),{requestMic:y}=(0,eG.s8)(),{startAnalysing:j,waveformData:_}=(0,eG.CJ)({waveformBars:3}),w=async()=>{var e;let t;let a=!1;null===(e=c.current)||void 0===e||e.call(c),c.current=()=>{a=!0};let s=await y({deviceId:p});if(!s)return;if(a){(0,eG.aP)(s);return}let n=await m(s,{formatFileName:()=>r.t("Recording"),playSfx:!0});if(a){n();return}let l=j(s);i<1/0&&(t=window.setTimeout(N,i)),c.current=async e=>(a=!0,void 0!==t&&clearTimeout(t),l(),c.current=void 0,await n(e))},{isLoading:k,mutate:N}=(0,A.useMutation)({mutationFn:async()=>{if(!c.current)return;let e=await c.current({playSfx:!0});if(!e)return;let i=await (0,eK.eM)(e)*1e3;if(i<t){eU.toast.error(r._(P.ag._({id:"V5LVct",values:{0:t/1e3}})));return}s(e,{duration:i})}});return(0,h.useEffect)(()=>()=>{var e;null===(e=c.current)||void 0===e||e.call(c)},[]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(v.h,{size:"sm","aria-label":d?r.t("Stop recording"):r.t("Start recording"),tooltip:d?r.t("Stop recording"):r.t("Start recording"),className:"bg-background shrink-0",type:"button",loading:k,onClick:()=>{d?N():w()},children:(0,a.jsx)("div",{className:(0,b.cn)("w-2.5 h-2.5 bg-red-500 transition-all duration-200",d?"rounded":"rounded-xl")})}),(0,a.jsx)(o.M,{mode:"wait",initial:!1,children:d||k?(0,a.jsxs)(eX.t,{className:"flex items-center gap-2",children:[(0,a.jsxs)(x.x,{weight:"medium",className:"tabular-nums",children:[(0,eY.LU)(u/1e3)," /"," ",(0,eY.LU)(i/1e3)]}),(0,a.jsx)("div",{className:"flex gap-0.5 items-center",children:_.map((e,t)=>(0,a.jsx)(l.E.div,{className:"w-[3px] h-[3px] bg-foreground rounded-full max-h-5",animate:{height:Math.abs(50*e)+3}},t))})]},"recording-duration"):(0,a.jsx)(eX.t,{children:(0,a.jsxs)(eW.Select,{value:p,onValueChange:g,children:[(0,a.jsx)(eW.SelectTrigger,{asChild:!0,className:"w-48 h-8 bg-background rounded-lg [&>span]:inline-block [&>span]:truncate [&>span]:mr-auto [&>span]:text-xs",children:(0,a.jsxs)(ea.Button,{size:"sm",type:"button",children:[(0,a.jsx)(eB.Z,{className:"text-gray-500 w-3.5 h-3.5 shrink-0 -ml-1 mr-0.5"}),(0,a.jsx)(eW.SelectValue,{})]})}),(0,a.jsx)(eW.SelectContent,{className:"duration-200",children:null==f?void 0:f.map(e=>(0,a.jsx)(eW.SelectItem,{value:e.deviceId,children:e.label},e.deviceId))})]})},"mic-devices")})]})},e$=(0,a.jsx)("div",{className:"h-8 flex items-center justify-center text-center text-gray-alpha-500",children:(0,a.jsx)(x.x,{size:"sm",weight:"medium",children:(0,a.jsx)(n.cC,{id:"sU9Jv4"})})});var e0=e=>{let{disabled:t}=e,{i18n:i}=(0,n.mV)(),{formState:{isSubmitting:s},control:r,resetField:d,watch:u}=(0,Y.Gc)(),{field:p}=(0,Y.bc)({name:"referenceVoice",control:r}),g=u("referenceVoice"),{mutate:f,isLoading:y}=(0,A.useMutation)(async e=>{let t=await ef.rf.create(e);if(t.duration<3e3){eU.toast.error(i._(P.ag._({id:"KCqBBO",values:{0:3}})));return}if(t.duration>3e5){eU.toast.error(i._(P.ag._({id:"C2DIV1",values:{0:300}})));return}p.onChange(t),C(!1)}),{open:j,isDragActive:_,getInputProps:w,getRootProps:k}=(0,eZ.uI)({noClick:!0,accept:Object.fromEntries(eh.ug.map(e=>[e,[]])),multiple:!1,maxSize:20971520,onDrop:async(e,t)=>{(0,eG.ak)(t,{maxFileSize:20}),0!==e.length&&f(e[0])}}),[N,C]=(0,h.useState)(!1),{requestMic:S,error:E}=(0,eG.s8)(),V=async()=>{let e=await S();e&&((0,eG.aP)(e),C(!0))};return(0,h.useEffect)(()=>{if(E&&("NotAllowedError"===E.name||"PermissionDeniedError"===E.name)){let e=eU.toast.error(i.t("Microphone access denied. Please enable it in your browser settings."));return()=>{eU.toast.dismiss(e)}}},[E,i]),(0,h.useEffect)(()=>{s&&C(!1)},[s,C]),(0,a.jsxs)("div",{className:"stack gap-2",...k(),children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)(en.Label,{children:(0,a.jsx)(n.cC,{id:"dG7KQE"})}),(0,a.jsx)(x.x,{color:"subtle",weight:"medium",children:(0,a.jsx)(n.cC,{id:"LLAa/9"})})]}),(0,a.jsx)("input",{...w()}),(0,a.jsx)(l.E.div,{className:(0,b.cn)("bg-gray-alpha-50 rounded-xl border border-subtle flex justify-center items-center relative overflow-hidden transition-colors duration-75",{"border-gray-alpha-300":_&&!s}),layout:!0,children:(0,a.jsx)(o.M,{initial:!1,mode:"wait",children:N?(0,a.jsxs)(eX.t,{className:"w-full p-3 flex items-center gap-2",layout:"position",children:[(0,a.jsx)(eJ,{minDuration:3e3,maxDuration:3e5,onChange:e=>f(e)}),(0,a.jsx)(v.h,{"aria-label":i.t("Close recorder"),size:"sm",className:"ml-auto bg-background shrink-0",type:"button",onClick:()=>{p.onChange(void 0),C(!1)},children:(0,a.jsx)(c.Z,{})})]},"recorder"):void 0!==g?(0,a.jsxs)(eX.t,{className:"stack w-full",layout:"position",children:[(0,a.jsx)(o.M,{initial:!1,mode:"wait",children:_?(0,a.jsx)(eX.t,{className:"p-3",children:e$},"drag-active"):(0,a.jsxs)(eX.t,{className:"p-3 self-center flex justify-center items-center overflow-hidden max-w-full",children:[g instanceof ef.rf?(0,a.jsx)(eQ,{file:g}):(0,a.jsx)(eq.Q,{filterFn:e=>!!e.is_owner,disabled:t,value:g,onValueChange:p.onChange,formStylingSize:"sm",buttonClassName:"w-auto bg-background px-2 rounded-r-none focus-visible:z-10",popoverContentClassName:"ml-8",hideFindMoreVoices:!0}),(0,a.jsx)(v.h,{"aria-label":i.t("Remove voice reference"),size:"sm",className:"bg-background shrink-0 rounded-l-none border-l-0 focus-visible:border-l",type:"button",onClick:()=>p.onChange(void 0),children:(0,a.jsx)(c.Z,{})})]},"voice-reference-asset")}),(0,a.jsx)("div",{className:"px-5 pt-3.5 pb-4 bg-background border-t border-subtle",children:(0,a.jsx)(ek,{disabled:t,onReset:()=>d("promptStrength")})})]},"voice-reference"):_?(0,a.jsx)(eX.t,{className:"p-3",children:e$},"drag-active"):(0,a.jsx)(eX.t,{layout:"position",className:"m-3",children:(0,a.jsxs)(eH.h_,{children:[(0,a.jsx)(eH.$F,{disabled:t,asChild:!0,children:(0,a.jsxs)(ea.Button,{variant:"ghost",className:"static group h-8 hover:bg-transparent active:bg-transparent radix-state-open:bg-transparent disabled:bg-transparent",type:"button",leftIcon:(0,a.jsx)(eO.Z,{}),tooltip:i.t("Use an audio/voice sample to guide generation"),tooltipProps:{openDelay:500,isDisabled:y},loading:y,children:[(0,a.jsx)("div",{className:"absolute inset-0 rounded-[10px] group-hover:bg-gray-alpha-100 group-active:bg-gray-alpha-200 group-disabled:bg-transparent transition-colors duration-200","aria-hidden":!0}),(0,a.jsx)(n.cC,{id:"hyFePd"})]})}),(0,a.jsxs)(eH.AW,{className:"duration-200 w-[156px]",children:[(0,a.jsx)(eH.Xi,{onSelect:j,children:(0,a.jsx)(n.cC,{id:"Vn8Iyg"})}),(0,a.jsx)(eH.Xi,{onSelect:V,children:(0,a.jsx)(n.cC,{id:"vjFh3k"})}),(0,a.jsx)(eH.Xi,{onClick:()=>{var e;let t=null===(e=m.voices.value)||void 0===e?void 0:e.find(e=>!0===e.is_owner);p.onChange(t)},children:(0,a.jsx)(n.cC,{id:"uQofZ7"})})]})]})},"add-reference-audio")})})]})};let e1=[{label:"Evil Ogre",prompt:"A deep, booming male voice of a massive evil ogre in his middle years. Thick, gravelly tone with a resonant, theatrical quality that's both menacing and absurdly silly. Speaking at a quick, excited pace with erratic bursts of maniacal energy. Perfect audio quality.",previewText:"Your weapons are but toothpicks to me. [laughs] Surrender now and I may grant you a swift end. I've toppled kingdoms and devoured armies. What hope do you have against me?"},{label:"Little Mouse",prompt:"A tiny, high-pitched female voice of a mouse with an adorable, squeaky timbre. Light and airy tone with a playful, mischievous energy. Speaking at a quick, excited pace with frequent giggles and animated inflections. Has a slight lisp that adds to the cuteness factor. The voice is sweet but with a hint of sassy confidence, like a cartoon character. Perfect audio quality.",previewText:"I may be small, but my attitude is anything but! [giggles] Watch it, big feet, or I'll give your toes a nibble you won't forget!"},{label:"Southern Woman",prompt:"An older woman with a thick Southern accent. She is sweet and sarcastic.",previewText:"Well sugar, if all we ever do is chase titles and trophies, we’re gonna miss the whole darn point. [light chuckle] I’d rather build somethin’ that makes folks’ lives easier—and if I can do it in heels with a smile and a touch of sass, even better."},{label:"Movie Trailer voice",prompt:"Dramatic voice, used to build anticipation in movie trailers, typically associated with action or thrillers",previewText:"In a world on the brink of chaos, one hero will rise. Prepare yourself for a story of epic proportions, coming soon to the big screen."},{label:"British CEO",prompt:"Excellent audio quality. A woman in her 30s to early 40s with a thick British accent speaking at a natural pace like she's talking excitedly and candidly to a friend.",previewText:"So I’m pitching to this investor, and you’ll never guess what they asked me? [laughs] They wanted to see a REVENUE graph! Mate, come on. We’ll monetise later! Can’t you see our signup graph is shaped like a cricket bat – [gasp] Did I say cricket bat? [hurriedly] Forget I said that! It is NOT linear. It's definitely exponential. [clears throat] God, this is awkward."},{label:"Angry Pirate",prompt:'A gruff, weathered male pirate in his 60s with a deep voice roughened by years at sea. Thick, booming tone with a harsh quality from shouting over ocean winds. Speaking at a moderate pace but with explosive bursts of anger and dramatic emphasis. Heavy nautical accent with rolled R\'s and dropped consonants - "ye scurvy dogs" delivery. Voice carries the weight of authority and decades of command, alternating between menacing growls and thunderous bellows. Perfect audio quality.',previewText:"I've faced storms that would turn your hair white and sea monsters that would make your knees quake. You think you can cross Captain Blackheart and live to tell the tale?"},{label:"New York accent",prompt:"Deep, gravelly thick New York accent, tough and world-weary, often cynical",previewText:"I've been walking these streets longer than you can imagine, kid. There's nothing you can say or do that'll surprise me anymore."}],e2={seed:void 0,loudness:.5,guidanceScale:5,promptStrength:.25},e5=e=>"voice_description:".concat(e.voice_description,",text:").concat(e.text,",loudness:").concat(e.loudness,",guidance_scale:").concat(e.guidance_scale),e3=new Map(e1.map(e=>[e5({voice_description:e.prompt,text:e.previewText,loudness:e2.loudness,guidance_scale:e2.guidanceScale}),0])),e4=e=>{let t=e5(e),i=e3.get(t);return[i,()=>{e3.set(t,(i||0)+1)}]};function e6(){let e=(0,C._)(["","%"]);return e6=function(){return e},e}let e8=()=>null===m.workspaceData.value?null:(0,ep.RF)()?{used:m.workspaceData.value.subscription.character_count}:{remaining:m.workspaceData.value.subscription.character_limit-m.workspaceData.value.subscription.character_count,usedPercent:m.workspaceData.value.subscription.character_count/m.workspaceData.value.subscription.character_limit*100};class e7{get playingVoiceId(){return this.paused?null:this.activeVoiceId}loadDataSource(e,t){this.audio&&(this.audio.src="data:audio/mpeg;base64,".concat(t),this.audio.autoplay=!0,this.audio.currentTime=0,this.activeVoiceId=e)}toggle(){this.audio&&(this.paused?this.audio.play():this.audio.pause())}kill(){this.audio&&(this.audio.src="",this.audio.currentTime=0,this.activeVoiceId=null)}constructor(){(0,N._)(this,"audio",new Audio),(0,N._)(this,"activeVoiceId",null),(0,N._)(this,"paused",!0),this.audio&&(this.audio.addEventListener("pause",()=>{this.paused=!0}),this.audio.addEventListener("play",()=>{this.paused=!1})),(0,W.rC)(this,{activeVoiceId:W.LO,paused:W.LO,playingVoiceId:W.Fl})}}let e9=new e7,te=()=>{let[e,t]=(0,h.useState)(0);return(0,h.useEffect)(()=>{let e=window.setInterval(()=>{e9.audio&&!e9.audio.paused&&t(e9.audio.currentTime/e9.audio.duration*100)},25);return()=>window.clearInterval(e)},[]),(0,a.jsxs)(D.fC,{className:"py-1 relative group flex items-center",value:[e],onValueChange:e=>{let[i]=e;if(!e9.audio)return;t(i);let a=i/100*e9.audio.duration;Number.isFinite(a)&&(e9.audio.currentTime=a)},children:[(0,a.jsx)(D.fQ,{className:"block h-px w-full bg-gray-200 rounded-full relative",children:(0,a.jsx)(D.e6,{className:"block h-full bg-gray-alpha-950 rounded-full absolute"})}),(0,a.jsx)(D.bU,{className:"block w-2.5 h-2.5 bg-gray-950 border border-gray-alpha-950 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200"})]})},tt=()=>{let{container:e}=(0,er.vO)(),t=(0,er.KL)({axis:"x"});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(er.w5,{amount:"5rem",className:"[--background:var(--gray-50)]"}),(0,a.jsx)("div",{className:"sticky left-[-1px] min-h-full w-0 z-10 flex items-center","aria-hidden":!0,children:(0,a.jsx)(o.M,{children:!t&&(0,a.jsx)(l.E.div,{role:"button",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},tabIndex:-1,className:"py-4 pr-2",onClick:()=>{var t;null===(t=e.current)||void 0===t||t.scrollTo({left:e.current.scrollLeft-200,behavior:"smooth"})},children:(0,a.jsx)(R.Z,{className:"text-gray-alpha-950 w-3 h-3 shrink-0",strokeWidth:3})})})})]})},ti=()=>{let{container:e}=(0,er.vO)(),t=(0,er.EH)({axis:"x"});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(er.EX,{amount:"6rem",className:"[--background:var(--gray-50)]"}),(0,a.jsx)("div",{className:"sticky left-[calc(100%-20px)] min-h-full w-0 z-10 flex items-center","aria-hidden":!0,children:(0,a.jsx)(o.M,{children:!t&&(0,a.jsx)(l.E.div,{role:"button",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"py-4 pl-2 inline-flex justify-end",tabIndex:-1,onClick:()=>{var t;null===(t=e.current)||void 0===t||t.scrollTo({left:e.current.scrollLeft+200,behavior:"smooth"})},children:(0,a.jsx)(F.Z,{className:"text-gray-alpha-950 w-3 h-3 shrink-0",strokeWidth:3})})})})]})},ta=(0,d.Pi)(e=>{let{disabled:t}=e,[i,s]=(0,h.useState)(0),r=(0,h.useId)(),{control:o,setValue:c,trigger:d}=(0,Y.Gc)(),{field:u,fieldState:{error:m}}=(0,Y.bc)({control:o,name:"voiceDescription",rules:{required:{message:"Voice prompt is required",value:!0},minLength:{message:"Voice prompt should be at least 20 characters long",value:20},maxLength:{message:"Voice prompt should be less than 1000 characters",value:1e3}}}),p=e=>{u.onChange(e.prompt),c("previewText",e.previewText)};return(0,a.jsxs)("div",{className:"stack gap-2",children:[(0,a.jsxs)(l.E.div,{layout:"position",className:"flex items-end justify-between",children:[(0,a.jsx)(en.Label,{htmlFor:r,children:(0,a.jsx)(n.cC,{id:"W9uQXX"})}),(0,a.jsxs)(el.Un,{href:"https://elevenlabs.io/docs/product-guides/voices/voice-design#prompting-guide",target:"_blank",className:"inline-flex items-center gap-0.5 text-sm",children:[(0,a.jsx)(n.cC,{id:"RBcn+R"}),(0,a.jsx)(B.Z,{className:"w-4 h-4 shrink-0"})]})]}),(0,a.jsx)(l.E.div,{layout:"position",children:(0,a.jsxs)("div",{className:"relative rounded-lg border border-subtle [&:has(textarea:focus-visible)]:border-foreground [&:has(textarea:focus-visible)]:ring-[0.5px] ring-foreground transition duration-100 overflow-hidden",children:[(0,a.jsx)(eo.g,{id:r,rows:5,placeholder:"e.g. old British man. Calm, clear and relaxing.",className:"rounded-lg scroll-pb-2 max-h-44 border-none !ring-0",...u,onChange:e=>{u.onChange(e),m&&d("voiceDescription")}}),(0,a.jsxs)("div",{className:"pl-2 flex items-center gap-0.5 bg-gray-alpha-50 border-t border-subtle",children:[(0,a.jsx)(v.h,{type:"button",size:"xs",className:"bg-background rounded-full shrink-0 relative z-20","aria-label":"Randomize prompt",tooltip:"Choose a random prompt",onClick:function(){let e=(i+1)%e1.length;p(e1[e]),s(e)},children:(0,a.jsx)(O.Z,{})}),(0,a.jsxs)(er.l$,{className:"flex no-scrollbar",children:[(0,a.jsx)(tt,{}),(0,a.jsx)(ti,{}),(0,a.jsx)("div",{className:"flex gap-1.5 p-2 pl-1",children:e1.map(e=>(0,a.jsx)(ea.Button,{type:"button",size:"xs",className:"bg-background rounded-full shrink-0",onClick:()=>p(e),leftIcon:(0,a.jsx)("div",{className:(0,b.cn)("!w-auto !h-auto transition-opacity duration-100",{"opacity-50":t}),children:(0,a.jsx)(ei.qE,{id:e.label,name:e.label,size:"1rem",imgSize:32})}),children:e.label},e.label))})]})]})]})}),(0,a.jsx)(eb.du,{layout:"position",children:(null==m?void 0:m.type)==="blocked_generation"?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(n.cC,{id:"2ZrzQL",components:{0:(0,a.jsx)("a",{href:"https://elevenlabs.io/use-policy",target:"_blank",rel:"noopener noreferrer",className:"underline"})}})}):null==m?void 0:m.message})]})}),ts=new Set,tn=e=>1/(1+Math.exp(-e)),tl=(e,t)=>2*(tn(6*Math.min(e/t,1))-.5)*99,tr=e=>{let{isGenerating:t,previewTextLength:i}=e,[s,n]=(0,h.useState)(!1),r=(0,M.c)(0),o=(0,h.useRef)(null),c=.05*i+15;return(0,h.useEffect)(()=>{if(!t){(0,z.j)(r,100,{duration:.2}),n(!1),o.current&&(clearInterval(o.current),o.current=null);return}n(!0),r.jump(0),o.current&&clearInterval(o.current);let e=Date.now();return o.current=window.setInterval(()=>{let t=tl((Date.now()-e)/1e3,c);r.set(t),t>=98.9&&(clearInterval(o.current),o.current=null)},10),()=>{o.current&&(window.clearInterval(o.current),o.current=null)}},[t,i,r,c]),(0,a.jsx)(l.E.div,{className:"absolute inset-y-0 left-0 w-1/3 bg-gray-alpha-100",style:{width:(0,L.Y)(e6(),r)},animate:{opacity:s?1:0},transition:{opacity:{duration:.2}}})},to=(0,d.Pi)(e=>{var t,i,s,r,d,u;let{generatedVoices:m,selectedVoiceId:v,showAdvancedSettings:y,onGenerateVoice:j,onSelectVoice:_,onToggleAdvancedSettings:w,onCopyShareLink:k,onNext:N}=e,{i18n:C}=(0,n.mV)(),D=(0,h.useId)(),A=(0,em.bs)("lg"),{formState:{isSubmitting:T,errors:I,defaultValues:M},register:z,watch:L,getValues:R,setValue:F,setError:B,trigger:O,handleSubmit:W}=(0,Y.Gc)(),X=L("previewText"),{field:{onChange:Q}}=(0,Y.bc)({name:"previewText",rules:{required:{message:C.t("Please provide sample text to preview your generated voice"),value:!0},validate:e=>"string"==typeof e&&eu(e)||C._(P.ag._({id:"TRefXM",values:{0:el.min.formatted,1:el.max.formatted}}))}}),J=(0,h.useRef)(null),{data:$}=(0,et.SCz)({}),{isLoading:ee,mutate:ei}=(0,et.YcF)({onMutate(){var e;null===(e=J.current)||void 0===e||e.loadingStart()},async onSuccess(e){var t;let i=e.text;(0,g.eN)(f.B_.voice_lab_ttv_preview_text_generated,{prompt:R("voiceDescription"),previewText:i}),await (null===(t=J.current)||void 0===t?void 0:t.start(()=>{F("previewText",i)}))},onError(e){var t;null===(t=J.current)||void 0===t||t.loadingEnd(),"status"in e?B("voiceDescription",{type:e.errorType,message:e.message}):ec.toast.error(C.t("We are sorry, something went wrong."),{description:e.message})}}),es=async e=>{await O("voiceDescription")&&ei({body:{voice_description:e,model_id:"eleven_ttv_v3"}})};(0,h.useEffect)(()=>{let e=window.setTimeout(async()=>{!(null==M?void 0:M.voiceDescription)||R("previewText")||es(M.voiceDescription)},1);return()=>window.clearTimeout(e)},[]);let el={min:{value:null!==(i=null==$?void 0:$.minimum_characters)&&void 0!==i?i:0,formatted:null!==(s=null==$?void 0:$.minimum_characters.toLocaleString())&&void 0!==s?s:""},max:{value:null!==(r=null==$?void 0:$.maximum_characters)&&void 0!==r?r:0,formatted:null!==(d=null==$?void 0:$.maximum_characters.toLocaleString())&&void 0!==d?d:""}},er=e8(),eo=(null==er?void 0:er.remaining)?C._(P.ag._({id:"E7duNB",values:{0:er.remaining.toLocaleString()}})):(null==er?void 0:er.used)?C._(P.ag._({id:"m8fdzW",values:{0:er.used.toLocaleString()}})):"",eu=e=>el.min.value<=e.trim().length&&e.trim().length<=el.max.value,eh=T||ee;return(0,a.jsx)("form",{onSubmit:W(async e=>{(0,g.eN)(f.B_.voice_lab_ttv_voices_generate,{prompt:e.voiceDescription,previewText:e.previewText,seed:e.seed,loudness:e.loudness,guidanceScale:e.guidanceScale}),await j(e)}),children:(0,a.jsxs)("div",{className:"relative flex flex-col lg:flex-row sm:-mt-28 sm:-mb-8",children:[(0,a.jsxs)("div",{className:"relative lg:w-14u sm:pt-28 sm:pb-8",children:[(0,a.jsx)(p.GG,{className:"hidden sm:block absolute z-10 -right-3 top-5 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus-ring disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground","aria-label":C.t("Close"),children:(0,a.jsx)(c.Z,{className:"h-4 w-4"})}),(0,a.jsxs)("fieldset",{className:"contents",disabled:eh,children:[(0,a.jsx)(l.E.div,{layout:"position",children:(0,a.jsx)(ta,{disabled:eh})}),K.ZP.isFeatureEnabled("voice-remix")&&(0,a.jsx)(l.E.div,{layout:"position",className:"mt-8",children:(0,a.jsx)(e0,{disabled:eh})}),(0,a.jsxs)(l.E.div,{layout:"position",className:"mt-8 stack gap-2",children:[(0,a.jsxs)("div",{className:"flex items-end justify-between",children:[(0,a.jsx)(en.Label,{id:D,children:(0,a.jsx)(n.cC,{id:"EzLMDI"})}),(0,a.jsx)(ea.Button,{size:"xs",leftIcon:(0,a.jsx)(Z.Z,{}),type:"button",loading:ee,disabled:!L("voiceDescription"),onClick:()=>{es(R("voiceDescription"))},children:(0,a.jsx)(n.cC,{id:"AnkjKz"})})]}),(0,a.jsxs)("div",{className:"rounded-lg border border-subtle focus-within:border-foreground focus-within:ring-[0.5px] ring-foreground transition duration-100 aria-disabled:opacity-50","aria-disabled":eh,children:[(0,a.jsx)(ex.f1,{ref:J,children:(0,a.jsx)(eF,{value:X,onChange:e=>Q(e),className:"scroll-pb-2 h-[7.25rem] overflow-y-auto border-none !ring-0 aria-disabled:opacity-100",classes:{wrapper:"h-[7.25rem] rounded-md overflow-hidden"},disabled:eh,"aria-labelledby":D})}),(0,a.jsxs)("div",{className:"border-t border-subtle pt-2.5 pb-3 px-4 flex items-center justify-between",children:[(0,a.jsx)(ed.Tooltip,{label:C._(P.ag._({id:"273if5",values:{0:el.min.formatted,1:el.max.formatted}})),children:(0,a.jsxs)(x.x,{as:"div",className:(0,b.cn)("inline-block pointer-events-auto transition-colors duration-150",eu(X)||ee?"text-gray-500":"text-error",0===el.max.value?"invisible":"visible"),size:"xs",children:[X.trim().length.toLocaleString(),"/",el.max.formatted]})}),(0,a.jsxs)("div",{className:"flex items-center gap-1.5",children:[(null==er?void 0:er.remaining)&&(0,a.jsx)(S.D,{thickness:"10px",color:"black",size:"0.875rem",className:"mt-px",value:er.usedPercent}),(0,a.jsx)(x.x,{as:"span",size:"xs",className:!(0,ep.RF)()&&(null!==(u=null==er?void 0:er.remaining)&&void 0!==u?u:0)<L("voiceDescription").length?"text-error":"text-gray-500",children:eo})]})]})]}),(0,a.jsx)(o.M,{initial:!1,mode:"wait",children:(0,a.jsx)(l.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.1},children:I.previewText?(0,a.jsx)(x.x,{className:"text-error",size:"sm",children:null===(t=I.previewText)||void 0===t?void 0:t.message}):(0,a.jsx)(x.x,{color:"subtle",size:"xs",className:(0,b.cn)("mt-1 text-center transition-opacity duration-100",{"opacity-50":eh}),children:(0,a.jsx)(n.cC,{id:"cqSvuE"})})},I.previewText?"error":"help-text")})]})]}),!A&&(0,a.jsxs)("div",{className:"mt-3",children:[(0,a.jsxs)("button",{type:"button",className:"py-2 mb-2 w-full flex items-center justify-between rounded-md focus-ring","aria-expanded":y,"aria-controls":"advanced-settings",onClick:w,children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:(0,a.jsx)(n.cC,{id:"06oHbK",values:{0:y?C.t("Hide"):C.t("Show")}})}),(0,a.jsx)(U.Z,{className:(0,b.cn)("w-4 h-4 duration-150",{"rotate-180":y})})]}),(0,a.jsx)("div",{id:"advanced-settings",children:(0,a.jsx)(o.M,{initial:!1,children:y&&(0,a.jsx)(l.E.div,{className:"pb-2",initial:{opacity:0},animate:{opacity:1,transition:{delay:.2}},exit:{opacity:0},children:(0,a.jsx)(eN,{disabled:T})})})})]}),(0,a.jsxs)(l.E.div,{layout:"position",className:"mt-5 flex gap-2",children:[(0,a.jsxs)(ea.Button,{type:"submit",className:"w-full bg-background overflow-hidden disabled:text-gray-400",disabled:T||ee,children:[(0,a.jsx)(tr,{isGenerating:T,previewTextLength:X.length}),(0,a.jsx)("span",{className:"relative",children:T?C.t("Generating voice..."):C.t("Generate voice")})]}),(0,a.jsx)(ea.Button,{type:"button",className:"shrink-0 bg-background hidden lg:flex","aria-expanded":y,"aria-controls":"advanced-settings",onClick:w,leftIcon:y?(0,a.jsx)(q.Z,{className:"!w-3.5 !h-3.5"}):(0,a.jsx)(H.Z,{className:"!w-3.5 !h-3.5"}),children:(0,a.jsx)(n.cC,{id:"Tz0i8g"})})]}),(0,a.jsx)(o.M,{mode:"wait",initial:!1,children:!T&&m&&"previews"in m&&(0,a.jsxs)(l.E.div,{layout:"position",initial:{opacity:0},animate:{opacity:1,transition:{delay:.3}},exit:{opacity:0},ref:e=>{null==e||e.scrollIntoView({behavior:"smooth"})},children:[(0,a.jsx)("div",{className:"my-5",children:(0,a.jsx)(te,{})}),(0,a.jsx)(V.fC,{className:"grid grid-cols-1 sm:grid-cols-3 gap-1.5",value:v,onValueChange:e=>{_(e);let t=m.previews.find(t=>t.generated_voice_id===e);t&&(ts.add(e),e9.loadDataSource(t.generated_voice_id,t.audio_base_64))},children:m.previews.map((e,t)=>(0,a.jsxs)(V.ck,{value:e.generated_voice_id,className:"group flex items-center gap-2 py-3.5 px-3.5 data-[state=checked]:bg-gray-alpha-50 rounded-lg data-[state=checked]:shadow-xs border border-gray-200 focus-visible:border-gray-alpha-950 focus:outline-none",onClick:()=>{e9.activeVoiceId!==e.generated_voice_id?(ts.add(e.generated_voice_id),e9.loadDataSource(e.generated_voice_id,e.audio_base_64)):e9.toggle()},children:[e9.playingVoiceId===e.generated_voice_id?(0,a.jsx)(E.Z,{className:"w-3.5 h-3.5"}):(0,a.jsx)("span",{className:"w-3.5 h-3.5 inline-flex items-center justify-center",children:(0,a.jsx)(eg.JF,{className:"w-3 h-3"})}),(0,a.jsxs)(x.x,{size:"sm",weight:"medium",children:[(0,a.jsx)(n.cC,{id:"KAXSwC"})," ",t+1]}),(0,a.jsx)(G.Z,{className:"w-4 h-4 hidden ml-auto group-data-[state=checked]:block"})]},e.generated_voice_id))}),(0,a.jsxs)(p.cN,{className:"mt-6 sm:justify-between",children:[(0,a.jsx)(ea.Button,{type:"button",onClick:k,children:(0,a.jsx)(n.cC,{id:"RGCCrg"})}),(0,a.jsx)(ea.Button,{type:"button",variant:"primary",disabled:!v,onClick:()=>{e9.kill(),(0,g.eN)(f.B_.voice_lab_ttv_voice_select,{generated_audio_id:v}),N()},children:(0,a.jsx)(n.cC,{id:"7sKzS5"})})]})]},"generated-voices")})]}),A&&(0,a.jsx)("div",{id:"advanced-settings",className:"relative -mr-8 pl-8",children:(0,a.jsx)(o.M,{mode:"popLayout",initial:!1,children:y&&(0,a.jsx)(l.E.div,{className:"h-full hidden lg:block w-80 border-l pt-28 pb-8 px-8 bg-gray-alpha-50",layout:!0,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,a.jsx)(l.E.div,{layout:"position",className:"mt-2",children:(0,a.jsx)(eN,{disabled:T})})})})})]})})}),tc=e=>{var t,i;let{onBack:s,onNext:r}=e,{i18n:o}=(0,n.mV)(),d={voiceName:(0,h.useId)(),description:(0,h.useId)()},{formState:{errors:u,isSubmitting:m},register:v,handleSubmit:x}=(0,Y.Gc)(),b=(0,ev.XE)(),{addRecentlyUsedVoice:y}=(0,eu.Z)(),{mutateAsync:j}=(0,A.useMutation)({mutationFn:async e=>{var t,i,a,s;let{voiceName:n,description:l,voiceId:r,labels:o}=e,c=Object.fromEntries(o.map(e=>[e.label,e.value])),d=Array.from(ts).filter(e=>e!==r);ts.clear(),await ee(n,l,r,d,c),b(),y(r),(0,g.eN)(f.B_.voice_lab_ttv_voice_created,{generated_audio_id:r,name:n,description:l,labels:c,language:null===(t=o.find(e=>{let{label:t}=e;return"language"===t}))||void 0===t?void 0:t.value,age:null===(i=o.find(e=>{let{label:t}=e;return"age"===t}))||void 0===i?void 0:i.value,gender:null===(a=o.find(e=>{let{label:t}=e;return"gender"===t}))||void 0===a?void 0:a.value,accent:null===(s=o.find(e=>{let{label:t}=e;return"accent"===t}))||void 0===s?void 0:s.value})},onSuccess(){r()},onError(e){e instanceof Error&&ec.toast.error(o.t("We are sorry, something went wrong."),{description:e.message})},retry:(e,t)=>"invalid_generated_voice_id"===t.status?e<30:e<3,retryDelay:2e3});return(0,a.jsxs)("div",{className:"relative sm:pt-28 sm:pb-8 sm:-mt-28 sm:-mb-8",children:[(0,a.jsx)(p.GG,{className:"hidden sm:block absolute z-10 -right-3 top-5 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus-ring disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground","aria-label":o.t("Close"),children:(0,a.jsx)(c.Z,{className:"h-4 w-4"})}),(0,a.jsxs)("form",{onSubmit:x(e=>j(e)),children:[(0,a.jsxs)("fieldset",{disabled:m,className:"stack gap-8 lg:w-14u",children:[(0,a.jsxs)(l.E.div,{layout:"position",className:"stack gap-2",children:[(0,a.jsx)(en.Label,{htmlFor:d.voiceName,children:(0,a.jsx)(n.cC,{id:"6YtxFj"})}),(0,a.jsx)(es.I,{id:d.voiceName,placeholder:o.t("e.g. old British man"),className:"rounded-lg",...v("voiceName",{validate:e=>0!==e.trim().length||o.t("Please give your voice a name")})}),(0,a.jsx)(eb.du,{children:null===(t=u.voiceName)||void 0===t?void 0:t.message})]}),(0,a.jsx)(eb.nH,{}),(0,a.jsxs)(l.E.div,{layout:"position",className:"stack gap-2",children:[(0,a.jsx)(en.Label,{htmlFor:d.description,children:(0,a.jsx)(n.cC,{id:"Nu4oKW"})}),(0,a.jsx)(eo.g,{id:d.description,rows:4,className:"rounded-lg max-h-44",...v("description",{required:{value:!0,message:o.t("Description is required")},maxLength:{value:500,message:o.t("Description should be less than 500 characters")},minLength:{value:20,message:o.t("Description should have at least 20 characters")}})}),(0,a.jsx)(eb.du,{children:null===(i=u.description)||void 0===i?void 0:i.message})]})]}),(0,a.jsx)(l.E.div,{layout:"position",className:"mt-6",children:(0,a.jsxs)(p.cN,{className:"gap-3 sm:justify-between",children:[(0,a.jsx)(ea.Button,{type:"button",onClick:s,disabled:m,children:(0,a.jsx)(n.cC,{id:"iH8pgl"})}),(0,a.jsx)(ea.Button,{type:"submit",variant:"primary",disabled:m,loading:m,children:(0,a.jsx)(n.cC,{id:"7J/sPs"})})]})})]})]})},td=e=>{var t,i,s,r,c,d;let u,{onComplete:m,initialValues:p}=e,{i18n:v}=(0,n.mV)(),[x,b]=(0,h.useState)("generate"),[y,_]=(0,h.useState)(!1),w=(0,Y.cI)({defaultValues:{voiceDescription:null!==(t=null==p?void 0:p.voiceDescription)&&void 0!==t?t:e1[0].prompt,previewText:(null==p?void 0:p.voiceDescription)?null!==(i=p.previewText)&&void 0!==i?i:"":e1[0].previewText,seed:null!==(s=null==p?void 0:p.seed)&&void 0!==s?s:e2.seed,loudness:null!==(r=null==p?void 0:p.loudness)&&void 0!==r?r:e2.loudness,guidanceScale:null!==(c=null==p?void 0:p.guidanceScale)&&void 0!==c?c:e2.guidanceScale,promptStrength:null!==(d=null==p?void 0:p.promptStrength)&&void 0!==d?d:e2.promptStrength}}),k=(0,X.tm)(),N=(0,Y.cI)({defaultValues:{voiceId:"",voiceName:"",labels:[{label:"language",value:""}],description:""}}),{mutateAsync:C,data:S,variables:E}=(0,A.useMutation)({mutationFn:async e=>{let t={model_id:"eleven_ttv_v3",voice_description:e.voice_description,text:e.text,auto_generate_text:e.auto_generate_text,seed:e.seed,loudness:e.loudness,guidance_scale:e.guidance_scale};if(e.reference_audio&&!(e.reference_audio instanceof ef.rf))return(0,et.a$h)({pathParams:{voiceId:e.reference_audio.voice_id},body:{...t,prompt_strength:e.prompt_strength}});{let[i,a]=e4(t);return 0===i&&void 0===w.getValues("seed")&&(t.seed=1,a()),(0,et.gI6)({body:{...t,...e.reference_audio?{reference_audio_base64:await (0,eh.sT)(await e.reference_audio.file()),prompt_strength:e.prompt_strength}:void 0}})}},onSuccess(e){if(!e)return;let t=e.previews[0];t&&(N.setValue("voiceId",t.generated_voice_id),k()&&(ts.add(t.generated_voice_id),e9.loadDataSource(t.generated_voice_id,t.audio_base_64)))},onError(e){e instanceof Q.oo&&w.setError("voiceDescription",{type:e.errorType,message:e.message})}}),[P]=(0,j.F7)();switch((0,h.useEffect)(()=>()=>{e9.kill()},[]),x){case"generate":u=(0,a.jsx)(Y.RV,{...w,children:(0,a.jsx)(to,{generatedVoices:S,selectedVoiceId:N.watch("voiceId"),showAdvancedSettings:y,onGenerateVoice:async e=>{var t;e9.kill(),await C({voice_description:e.voiceDescription,text:e.previewText,auto_generate_text:!1,seed:null!==(t=e.seed)&&void 0!==t?t:eC(),loudness:e.loudness,guidance_scale:e.guidanceScale,prompt_strength:e.referenceVoice?e.promptStrength:void 0,reference_audio:e.referenceVoice})},onSelectVoice:e=>N.setValue("voiceId",e),onToggleAdvancedSettings:()=>_(e=>!e),onCopyShareLink:()=>{if(!E)return;let e={prompt:E.voice_description,previewText:E.text,seed:E.seed,loudness:E.loudness,guidanceScale:E.guidance_scale};(0,g.eN)(f.B_.voice_lab_ttv_share_link_copied,e),I()(P(e)),ec.toast.success("Shareable link copied to clipboard")},onNext:()=>{b("save"),N.setValue("description",w.getValues("voiceDescription"))}})});break;case"save":u=(0,a.jsx)(Y.RV,{...N,children:(0,a.jsx)(tc,{onBack:()=>b("generate"),onNext:m})})}return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(tu,{title:v.t("Voice Design"),icon:(0,a.jsx)(eg.K0,{className:"w-7 h-7"})}),(0,a.jsx)(o.M,{initial:!1,mode:"wait",children:(0,a.jsx)(l.E.div,{className:"mt-3",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:u},x)})]})},tu=e=>{let{icon:t,title:i,className:s,hideClose:n}=e;return(0,a.jsxs)(l.E.div,{layout:"position",className:(0,b.cn)("flex text-center sm:text-left flex-row space-y-0 items-center gap-4",s),children:[t&&(0,a.jsx)("div",{className:"w-12 h-12 shadow-natural-xs rounded-xl flex items-center justify-center",children:t}),(0,a.jsx)(p.$N,{className:"font-waldenburg-ht font-medium text-xl",children:i}),!n&&(0,a.jsx)(p.GG,{className:"self-start ml-auto -mr-2 relative -top-2 sm:hidden",asChild:!0,children:(0,a.jsx)(v.h,{variant:"ghost",size:"sm","aria-label":"Close Dialog",children:(0,a.jsx)(c.Z,{className:"!w-5 !h-5"})})})]})},th={canUseIVC(){var e;return null===(e=m.workspaceData.value)||void 0===e?void 0:e.subscription.can_use_instant_voice_cloning},canUsePVC:()=>!!m.workspaceData.value&&m.workspaceData.value.get_professional_voice_limit()>0},tm=["voiceDesign","cloneVoice","professionalVoiceClone","chooseVoiceType"],tp=(e,t)=>{switch(e){case"voiceDesign":return t;case"cloneVoice":return th.canUseIVC();case"professionalVoiceClone":return th.canUsePVC();case"chooseVoiceType":return!0}},tv=(0,d.Pi)(e=>{let t,{open:i,onOpenChange:d,type:u,onTypeChange:m,trigger:v,initialStep:b="chooseVoiceType",initialValues:j,includeVoiceLibraryOption:N=!0}=e,{i18n:C}=(0,n.mV)(),S=(0,h.useRef)(null),E=(0,y.AY)(),P=void 0===E;if(P||!1!==tp(u,E)||m("chooseVoiceType"),P)t=(0,a.jsxs)("div",{className:"flex items-center justify-center gap-3 w-[28rem] max-w-full h-40",children:[(0,a.jsx)(s.$,{size:"sm"}),(0,a.jsx)(x.x,{weight:"medium",size:"md",children:(0,a.jsx)(n.cC,{id:"yQE2r9"})})]});else switch(u){case"chooseVoiceType":t=(0,a.jsx)(_.L,{onSelect:e=>{m(e)},closeDialog:()=>d(!1),includeVoiceLibraryOption:N});break;case"voiceDesign":t=(0,a.jsx)(td,{onComplete:()=>d(!1),initialValues:null==j?void 0:j.voiceDesign});break;case"cloneVoice":case"professionalVoiceClone":t=void 0}let V=e=>{d(e),e?m(b):(setTimeout(()=>{m("chooseVoiceType")},1e3),(0,g.eN)(f.B_.add_new_voice_closed,{type:u}))};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(p.Vq,{open:i&&void 0!==t,onOpenChange:V,children:[v&&(0,a.jsx)(p.hg,{asChild:!0,children:v}),(0,a.jsx)(r.S,{children:(0,a.jsx)(p.cZ,{asChild:!0,hideCloseButton:!0,className:"h-full max-h-screen sm:h-auto sm:p-8 lg:max-w-none lg:w-max overflow-x-hidden",onPointerDownOutside:e=>"voiceDesign"===u?e.preventDefault():null,children:(0,a.jsxs)(l.E.div,{ref:S,className:"max-sm:!rounded-none",layout:!0,transformTemplate:(e,t)=>"translate(-50%, -50%) ".concat(t),style:{borderRadius:24,transitionDuration:"0s"},onLayoutAnimationStart:()=>{S.current&&(S.current.style.overflowY="hidden")},onLayoutAnimationComplete:()=>{S.current&&(S.current.style.overflowY="auto")},children:[(0,a.jsx)(o.M,{initial:!1,mode:"wait",children:(0,a.jsxs)(l.E.div,{layout:"position",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"stack gap-5 min-w-0",children:[(0,a.jsx)(p.Be,{className:"sr-only",children:(0,a.jsx)(n.cC,{id:"6ZVW4g"})}),t]},u)}),"voiceDesign"!==u&&(0,a.jsx)(p.GG,{asChild:!0,className:"hidden sm:block absolute right-5 top-5 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus-ring disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:(0,a.jsx)(l.E.button,{layout:"position","aria-label":C.t("Close"),children:(0,a.jsx)(c.Z,{className:"h-4 w-4"})})})]})})})]}),void 0===t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(w.Th,{open:i&&"cloneVoice"===u,onOpenChange:V}),(0,a.jsx)(k.i,{open:i&&"professionalVoiceClone"===u,onOpenChange:V})]})]})}),tx=e=>{let[t,i]=(0,h.useState)(!1),[s,n]=(0,h.useState)("chooseVoiceType");return(0,a.jsx)(tv,{...e,open:t,onOpenChange:i,type:s,onTypeChange:n})},tg=e=>{var t,i,s,n,l;let{initialValues:r,...o}=e,[c,d]=(0,j.tT)(),[h,m]=(0,u.v1)("creationType",(0,u.km)(tm).withDefault("chooseVoiceType").withOptions({history:"push"})),[,p]=(0,j.F7)(),v=p();return(0,a.jsx)(tv,{open:"create"===c,onOpenChange:e=>d(e?"create":"none"),type:h,onTypeChange:m,initialValues:{voiceDesign:{voiceDescription:null!==(t=v.prompt)&&void 0!==t?t:void 0,previewText:null!==(i=v.previewText)&&void 0!==i?i:void 0,seed:null!==(s=v.seed)&&void 0!==s?s:void 0,loudness:null!==(n=v.loudness)&&void 0!==n?n:void 0,guidanceScale:null!==(l=v.guidanceScale)&&void 0!==l?l:void 0},...r},...o})}},82986:function(e,t,i){"use strict";i.d(t,{L:function(){return T},p:function(){return A}});var a=i(68088),s=i(6496),n=i(6991),l=i(16714),r=i(95978),o=i(81999),c=i(73862),d=i(9506),u=i(30487),h=i(1851),m=i(60358),p=i(55205),v=i(81158),x=i(72228),g=i(4735),f=i(50113),b=i(11521),y=i(25933),j=i(70297),_=i(63415),w=i(85753),k=i(60189),N=i(64903),C=i(8871),S=i(43479),E=i(21147),P=i(66895);let V=e=>{let{disabled:t,children:i}=e;return(0,a.jsxs)("div",{className:"relative -m-0.5",role:"none",children:[(0,a.jsxs)("div",{className:(0,k.cn)("absolute inset-0 bg-background overflow-hidden rounded-2xl",{hidden:t}),"aria-hidden":!0,children:[(0,a.jsx)("div",{className:"absolute top-0 left-0 w-[125%] translate-x-[-12%] translate-y-[-40%]",style:{aspectRatio:"1"},children:(0,a.jsx)("div",{"aria-hidden":!0,className:"absolute inset-0 transition animate-spin pointer-events-none",style:{backgroundImage:"linear-gradient(140deg, transparent 50%, #66fdffaa 60%, #de4bf2aa 70%, #fe6301 80%)",animationDuration:"12s"}})}),(0,a.jsx)("div",{"aria-hidden":!0,className:"absolute inset-0 mix-blend-color-dodge invert",style:{backgroundImage:"url(/public_app_assets/image/noise.png)",backgroundSize:"75%"}})]}),(0,a.jsx)("div",{className:"relative bg-background/95 backdrop-blur-lg m-[3px] rounded-[13px]",role:"none",children:i})]})},D=e=>{let{title:t,description:i,icon:s,badges:l,href:r,className:o,disabled:u,disabledReason:h,showSubscribeLink:p,onClick:v,onSubscribeClick:x,requiredPermission:f}=e,y=(0,j.Y)(f),_=(0,d.useId)(),w=r&&!u?c.default:"button",N=y?u?h:null:null===y?null:(0,C.zR)(f);return(0,a.jsxs)("li",{className:(0,k.cn)("border border-gray-200 rounded-2xl",o),children:[(0,a.jsxs)(w,{href:null!=r?r:"",className:"w-full p-5 stack gap-2 items-start group rounded-[inherit] focus:outline-gray-alpha-950 transition-colors duration-200 hover:bg-gray-alpha-50 disabled:hover:bg-transparent",disabled:u||!y,onClick:v,"aria-labelledby":_,children:[(0,a.jsxs)("div",{className:"w-full flex items-center gap-1.5 text-sm font-medium group-disabled:text-gray-500",children:[(0,a.jsx)("span",{className:"flex-shrink-0",children:s}),(0,a.jsx)("h3",{id:_,className:"text-left flex-1",children:t})]}),(0,a.jsx)(b.x,{size:"xs",className:"leading-normal text-gray-500 text-left",children:i}),l&&(0,a.jsx)("div",{className:"flex items-center gap-1.5 flex-wrap",children:l})]}),N&&(0,a.jsxs)("div",{className:"flex items-center gap-3 px-5 py-3.5 bg-gray-alpha-50 border-t border-gray-200 rounded-b-[inherit]",children:[(0,a.jsx)(E._V,{className:"w-5 h-5 shrink-0 text-gray-500 hidden sm:block"}),(0,a.jsx)(b.x,{size:"xs",children:N}),p&&y&&(0,a.jsx)(g.Button,{asChild:!0,size:"xs",className:"ml-auto bg-background",onClick:x,children:(0,a.jsx)(c.default,{href:m.VP.subscription,children:(0,a.jsx)(n.cC,{id:"EDl9kS"})})})]})]})},A=()=>{var e,t;let{i18n:i}=(0,n.mV)(),{data:s,isLoading:r}=(0,u.DS0)({},{refetchOnWindowFocus:!1}),{data:o}=(0,P.M_)(),c=null!==(e=null==o?void 0:o.length)&&void 0!==e?e:0;if(null===h.workspaceData.value||r)return{isLoading:!0};if(!S.Fz.canUsePVC())return{disabledReason:i.t("You need to be on at least the Creator plan to use Professional Voice Cloning")};let d=null!==(t=null==s?void 0:s.professional_voice_slots_used)&&void 0!==t?t:0,m=h.workspaceData.value.get_professional_voice_limit(),p=d>=m,v=S.Fz.canUsePVC(),x=i._(l.ag._({id:"cBrCUU",values:{proVoiceLimit:m}}));return["creator","pro","growing_business"].includes(h.workspaceData.value.subscription.tier)?(x=i._(l.ag._({id:"ymLqWG",values:{proVoiceLimit:m}})),v=!0):"scale_2024_08_10"===h.workspaceData.value.subscription.tier&&(x=(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(n.cC,{id:"iIkCgB",values:{proVoiceLimit:m},components:{0:(0,a.jsx)(f.Un,{href:"https://elevenlabs.io/contact-sales",target:"_blank"})}})}),v=!1),{limit:m,totalCount:d,availableCount:Math.max(m-d,0),disabledReason:p?x:void 0,showSubscribeLink:v,draftsCount:c}},T=(0,o.Pi)(e=>{let{onSelect:t,includeVoiceLibraryOption:i,closeDialog:o}=e,{i18n:c}=(0,n.mV)(),d=A(),u=(0,N.AY)();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(S.RG,{title:c.t("Add a new voice"),icon:(0,a.jsx)(E.Ky,{className:"w-7 h-7"})}),(0,a.jsxs)("ul",{className:"stack gap-3 max-w-md",children:[(0,a.jsx)(V,{children:(0,a.jsx)(D,{className:"border-none ring-1 ring-gray-alpha-200 rounded-[13px]",title:(0,a.jsx)("span",{className:"flex items-center justify-between",children:(0,a.jsx)(n.cC,{id:"jEvdkz",components:{0:(0,a.jsx)(x.Ct,{variant:"secondary","aria-label":c.t("New for v3")}),1:(0,a.jsx)(p.Mp,{className:"h-3.5 -mr-1 ml-1"})}})}),description:c.t("Design an entirely new voice from a text prompt."),icon:(0,a.jsx)(E.K0,{className:"w-5 h-5"}),badges:[(0,a.jsx)(x.Ct,{variant:"secondary",children:(0,a.jsx)(n.cC,{id:"I+9jBK"})},"duration")],onClick:()=>{(0,_.eN)(w.B_.add_new_voice_choose_type,{type:"textToVoice"}),t("voiceDesign")},disabled:!u,disabledReason:c.t("You’ve used all of your custom voice slots. Upgrade to unlock more"),showSubscribeLink:!u,onSubscribeClick:()=>{(0,_.eN)(w.B_.add_new_voice_subscribe,{type:"textToVoice"})}})}),(0,a.jsx)(D,{title:c.t("Instant Voice Clone"),description:c.t("Clone your voice with only 10 seconds of audio."),icon:(0,a.jsx)(E.Eu,{className:"w-5 h-5"}),badges:[(0,a.jsx)(x.Ct,{variant:"secondary",children:(0,a.jsx)(n.cC,{id:"3GhezV"})},"duration")],requiredPermission:"create_instant_voice_clone",onClick:()=>{(0,_.eN)(w.B_.add_new_voice_choose_type,{type:"cloneVoice"}),t("cloneVoice")},disabled:!h.workspaceData.value||!S.Fz.canUseIVC(),disabledReason:c.t("You need to be on at least the Starter plan to use Instant Voice Cloning"),showSubscribeLink:!S.Fz.canUseIVC(),onSubscribeClick:()=>{(0,_.eN)(w.B_.add_new_voice_subscribe,{type:"cloneVoice"})}}),(0,a.jsx)(D,{title:(0,a.jsxs)("span",{className:"flex items-center gap-1.5",children:[(0,a.jsx)(n.cC,{id:"EH2bM9"}),(0,a.jsx)(y.Tooltip,{label:(0,a.jsxs)("div",{className:"stack gap-4",children:[(0,a.jsx)("p",{children:(0,a.jsx)(n.cC,{id:"GTHsAJ"})}),(0,a.jsx)("p",{children:(0,a.jsx)(n.cC,{id:"ju9Ygb"})})]}),children:(0,a.jsx)("span",{"aria-hidden":!0,children:(0,a.jsx)(r.Z,{className:"w-3.5 h-3.5"})})})]}),description:c.t("Create the most realistic digital replica of your voice. Requires at least 30 minutes of clean audio."),icon:(0,a.jsx)(E.Tg,{className:"w-5 h-5"}),badges:[(0,a.jsx)(x.Ct,{variant:"secondary",children:(0,a.jsx)(n.cC,{id:"PEGxvo"})},"duration"),...void 0!==d.availableCount&&void 0!==d.totalCount&&void 0!==d.limit?[(0,a.jsxs)(x.Ct,{variant:"secondary",className:"gap-1",children:[(0,a.jsx)(s.D,{value:d.totalCount,max:d.limit,color:"black",trackColor:"#E5E7EB",size:"12px",capIsRound:!0,className:"-ml-1"}),0===d.availableCount?c.t("No slots available"):1===d.availableCount?c._(l.ag._({id:"5ShkuJ",values:{0:(0,v.W)(d.availableCount)}})):c._(l.ag._({id:"ApQ2/x",values:{0:(0,v.W)(d.availableCount)}}))]},"slots-available"),d.draftsCount&&d.draftsCount>0?(0,a.jsx)(y.Tooltip,{label:1===d.draftsCount?c._(l.ag._({id:"BmeeVA",values:{0:d.draftsCount}})):c._(l.ag._({id:"mtd3aO",values:{0:d.draftsCount}})),children:(0,a.jsx)(x.Ct,{variant:"secondary",children:1===d.draftsCount?(0,a.jsx)(n.cC,{id:"nArxk1",values:{0:d.draftsCount}}):(0,a.jsx)(n.cC,{id:"MWkuot",values:{0:d.draftsCount}})})},"draft-voices"):void 0].filter(Boolean):[]],requiredPermission:"create_professional_voice_clone",onClick:()=>{(0,_.eN)(w.B_.add_new_voice_choose_type,{type:"professionalVoiceClone"}),t("professionalVoiceClone")},disabled:d.isLoading||!!d.disabledReason,disabledReason:d.disabledReason,showSubscribeLink:d.showSubscribeLink,onSubscribeClick:()=>{(0,_.eN)(w.B_.add_new_voice_subscribe,{type:"professionalVoiceClone"})}}),i&&(0,a.jsx)(D,{title:c.t("Voice Library"),description:c.t("Choose from thousands of high quality voices across different ages, accents, and styles."),icon:(0,a.jsx)(E.Zl,{className:"w-5 h-5"}),href:m.VP.voiceLibrary,requiredPermission:"add_voice_from_voice_library",onClick:()=>{(0,_.eN)(w.B_.add_new_voice_choose_type,{type:"voiceLibrary"}),o()},onSubscribeClick:()=>{(0,_.eN)(w.B_.add_new_voice_subscribe,{type:"voiceLibrary"})}})]})]})})},17466:function(e,t,i){"use strict";i.d(t,{Th:function(){return eI},Ne:function(){return eL},gz:function(){return eF}});var a=i(68088),s=i(6991),n=i(46736),l=i(81999),r=i(9506),o=i(50276),c=i(69201),d=i(81398),u=i(93062),h=i(40333),m=i(43479),p=i(21147),v=i(17024),x=i(6496),g=i(5132),f=i(4035),b=i(16714),y=i(94814),j=i(55673),_=i(40534),w=i(21782),k=i(91011),N=i(690),C=i(78350),S=i(6056),E=i(98780),P=i(89652),V=i(47607),D=i(5479),A=i(30487),T=i(4735),I=i(12567),M=i(3030),z=i(96474),L=i(32689),R=i(72752),F=i(11521),B=i(84106),O=i(63415),Z=i(85753),U=i(60189),q=i(77491),H=i(64172),G=i(6526);let W=()=>{let[e,t]=(0,r.useState)(!1),{i18n:i}=(0,s.mV)();return(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)(_.E.div,{className:"stack gap-4 md:grid md:grid-cols-3 md:gap-2.5 [--height:120px] md:[--height:auto] overflow-y-hidden",initial:{height:e?"auto":"var(--height)"},animate:{height:e?"auto":"var(--height)"},transition:{duration:.3,type:"spring"},children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex gap-2 items-center md:stack md:items-start",children:[(0,a.jsx)(k.Z,{className:"w-4 h-4 shrink-0"}),(0,a.jsx)(F.x,{color:"foreground",weight:"medium",size:"sm",children:(0,a.jsx)(s.cC,{id:"D8+w4t"})})]}),(0,a.jsx)(F.x,{color:"subtle",size:"sm",className:"mt-1",children:(0,a.jsx)(s.cC,{id:"V9k0Gn"})})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex gap-2 items-center md:stack md:items-start",children:[(0,a.jsx)(N.Z,{className:"w-4 h-4 shrink-0"}),(0,a.jsx)(F.x,{color:"foreground",weight:"medium",size:"sm",children:(0,a.jsx)(s.cC,{id:"XXsN3E"})})]}),(0,a.jsx)(F.x,{color:"subtle",size:"sm",className:"mt-1",children:(0,a.jsx)(s.cC,{id:"LJsOV5"})})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex gap-2 items-center md:stack md:items-start",children:[(0,a.jsx)(C.Z,{className:"w-4 h-4 shrink-0 scale-[1.125] origin-top-left"}),(0,a.jsx)(F.x,{color:"foreground",weight:"medium",size:"sm",children:(0,a.jsx)(s.cC,{id:"jSV6WF"})})]}),(0,a.jsx)(F.x,{color:"subtle",size:"sm",className:"mt-1",children:(0,a.jsx)(s.cC,{id:"5QFozZ"})})]})]}),(0,a.jsx)(n.M,{initial:!1,children:!e&&(0,a.jsx)(c.t,{className:"absolute bottom-0 inset-x-0 flex justify-center bg-gradient-to-t from-background from-[8px] pt-8 to-transparent md:hidden",transition:{duration:.3},children:(0,a.jsx)(T.Button,{className:"bg-background",size:"sm",onClick:()=>t(!0),children:(0,a.jsx)(s.cC,{id:"ZDDvXN"})})})})]})},K=(0,l.Pi)(e=>{let{file:t,disableRemove:i,onRemove:n}=e,{isLoading:l,isPlaying:r,togglePlay:o}=(0,H.kY)(t),{i18n:c}=(0,s.mV)();return(0,a.jsxs)(L.HC,{className:"px-0 py-1.5","aria-label":t.name,children:[(0,a.jsxs)(L.Ek,{children:[(0,a.jsx)(F.x,{size:"sm",weight:"medium",className:"truncate",children:t.name}),(0,a.jsx)(F.x,{size:"sm",color:"subtle",children:t.duration&&(0,R.LU)(t.duration)})]}),(0,a.jsxs)(L.cT,{className:"gap-1",children:[(0,a.jsx)(M.h,{"aria-label":r?c.t("Pause audio"):c.t("Play audio"),variant:"ghost",loading:l,onClick:o,children:r?(0,a.jsx)(f.Z,{className:"!w-3.5 !h-3.5"}):(0,a.jsx)(p.JF,{className:"!w-3 !h-3"})}),(0,a.jsx)(M.h,{"aria-label":c.t("Remove audio"),variant:"ghost",disabled:i,onClick:n,children:(0,a.jsx)(S.Z,{className:"!w-3.5 !h-3.5"})})]})]})});class Y extends u.h8{get label(){return this.editVoice?b.ag.t("Edit Audio"):b.ag.t("Upload Audio")}get isComplete(){let e=this.files.value.length<=25;return this.files.isAllOriginalRemoteFiles?e:e&&1e4<=this.allFilesDuration&&this.allFilesDuration<27e5}get allFilesDuration(){return this.files.localFiles.reduce((e,t)=>e+t.duration,0)}get isDirty(){return this.files.isDirty||this.removeNoise.isDirty}flushFields(){this.files.flush(),this.removeNoise.flush()}setVoiceToEdit(e){var t,i,a;this.editVoice=e,this.voicePreview={voice_id:e.voice_id,preview:{type:"url",url:null!==(i=e.preview_url)&&void 0!==i?i:""}},this.files.value=null!==(a=null===(t=e.samples)||void 0===t?void 0:t.map(t=>H.tY.create(t,e.voice_id)))&&void 0!==a?a:[],this.files.flush()}constructor(e){super(e),(0,v._)(this,"files",(0,H.Cd)()),(0,v._)(this,"removeNoise",(0,G.M)(!0)),(0,v._)(this,"numRecordings",0),(0,v._)(this,"editVoice",void 0),(0,v._)(this,"voicePreview",void 0),(0,v._)(this,"Content",(0,l.Pi)(()=>{let{i18n:e}=(0,s.mV)(),{mutateAsync:t,isLoading:i}=(0,j.useMutation)(async()=>{let e=await Promise.all(this.files.localFiles.map(e=>e.file()));return this.editVoice?(0,A.F3x)({pathParams:{voiceId:this.editVoice.voice_id},body:{files:e,sample_ids_to_remove:this.files.changes.toRemove.map(e=>e.id),remove_background_noise:this.removeNoise.value},headers:{"Content-Type":"multipart/form-data"}}):(0,A.Cdk)({body:{files:e,remove_background_noise:this.removeNoise.value},headers:{"Content-Type":"multipart/form-data"}})}),l=async()=>{try{if(this.isDirty){(0,O.eN)(Z.B_.voice_lab_instant_voice_cloning_preview_started,{n_samples:this.files.value.length,n_new_samples:this.files.localFiles.length,isolateSamples:this.removeNoise.value});let e=await (0,u.Cl)(this.stepper,t);this.voicePreview={voice_id:e.generated_voice_id,preview:{type:"base64",base64:e.audio_base_64,mediaType:e.media_type}},(0,O.eN)(Z.B_.voice_lab_instant_voice_cloning_preview_created,{voice_id:this.voicePreview.voice_id,n_samples:this.files.value.length,n_new_samples:this.files.localFiles.length,isolateSamples:this.removeNoise.value})}this.flushFields(),this.stepper.goToNext()}catch(e){(0,y.Tb)(e),B.toast.errorHttp(e)}};return(0,r.useEffect)(()=>{0===this.files.localFiles.length&&this.flushFields()},[this.files.localFiles.length]),(0,a.jsxs)(w.S,{children:[(0,a.jsx)(W,{}),(0,a.jsx)(R.O3,{maxFileSize:10,disabled:i,recorder:{minDuration:5e3,maxDuration:3e4,formatFileName:()=>e.t("Recording")+" "+(this.numRecordings+1)},className:"mt-6",onAddFiles:async(t,i)=>{"record"===i&&this.numRecordings++;let a=await Promise.all(t.map(e=>H.rf.create(e)));a=a.filter(t=>{if(t.duration<5e3){let i=e._(e._({id:"Jfxop1",values:{seconds:5,0:t.name}}));return B.toast.error(i,{duration:6e3}),!1}return!0}),this.files.concat(a)}}),(0,a.jsx)(n.M,{initial:!1,children:this.files.value.length>0&&(0,a.jsxs)(c.t,{className:"mt-6 mb-2",children:[(0,a.jsx)(L.aV,{children:(0,a.jsx)(n.M,{initial:!1,children:this.files.value.map(e=>(0,a.jsx)(_.E.div,{role:"none",initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0,transition:{opacity:{duration:.1}}},className:"px-1 -mx-1 overflow-hidden",children:(0,a.jsx)(K,{file:e,disableRemove:i,onRemove:()=>this.files.remove(e)})},e.id))})}),(0,a.jsx)(n.M,{children:this.files.localFiles.length>0&&(0,a.jsx)(c.t,{className:"mt-4",children:(0,a.jsxs)(z.Label,{className:"flex w-fit items-center gap-2 cursor-pointer disabled:cursor-not-allowed",disabled:i,children:[(0,a.jsx)(I.X,{checked:this.removeNoise.value,disabled:i,onCheckedChange:e=>{this.removeNoise.value=!!e}}),(0,a.jsx)("span",{children:(0,a.jsx)(s.cC,{id:"dCcLWv"})})]})})})]})}),(0,a.jsxs)(_.E.div,{className:"sticky bg-background/70 backdrop-blur md:bg-transparent md:backdrop-blur-none -bottom-6 -mx-6 px-6 pb-6 pt-4 md:mx-0 md:mb-28 md:px-0 md:pb-0 md:static [mask:var(--mask)] md:[mask:none] flex items-center justify-between gap-4",layout:"position",style:{"--mask":"linear-gradient(to bottom, transparent, white 12px)"},"aria-live":"polite",children:[(0,a.jsx)(n.M,{mode:"wait",initial:!1,children:this.allFilesDuration>=27e5?(0,a.jsxs)(c.t,{className:"flex items-center gap-2",children:[(0,a.jsx)(E.Z,{className:"w-5 h-5 text-error shrink-0"}),(0,a.jsx)(F.x,{className:"text-error",size:"sm",weight:"medium",children:(0,a.jsx)(s.cC,{id:"zXVetp",values:{0:45}})})]},"uploads-max-duration-exceeded"):this.files.value.length>25?(0,a.jsxs)(c.t,{className:"flex items-center gap-2",children:[(0,a.jsx)(E.Z,{className:"w-5 h-5 text-error shrink-0"}),(0,a.jsx)(F.x,{className:"text-error",size:"sm",weight:"medium",children:(0,a.jsx)(s.cC,{id:"6NpnbM",values:{MAX_SAMPLES_PER_VOICE:25}})})]},"uploads-max-samples-per-voice-exceeded"):this.allFilesDuration>=18e4&&this.isComplete?(0,a.jsxs)(c.t,{className:"flex items-center gap-2",children:[(0,a.jsx)(P.Z,{className:"w-5 h-5 text-green-500"}),(0,a.jsx)(F.x,{weight:"medium",size:"sm",children:(0,a.jsx)(s.cC,{id:"LcJwTY"})})]},"uploads-perfect"):(0,a.jsxs)(c.t,{className:"flex items-center gap-2",children:[(0,a.jsx)(x.D,{value:this.files.isAllOriginalRemoteFiles?18e4:this.allFilesDuration,max:18e4,color:this.isComplete?"rgb(34,197,94)":"black",trackColor:"#E5E7EB",size:"20px",capIsRound:!0,children:(0,a.jsx)(n.M,{children:this.isComplete&&(0,a.jsx)(g.i,{as:c.t,children:(0,a.jsx)(V.Z,{className:"inline text-green-500 w-2 h-2",strokeWidth:4.5})})})}),(0,a.jsx)(n.M,{mode:"wait",children:this.isComplete?(0,a.jsxs)(c.t,{className:"h-6",children:[(0,a.jsx)(F.x,{size:"sm",weight:"medium",children:(0,a.jsx)(s.cC,{id:"ckH3fT"})}),(0,a.jsx)(F.x,{size:"xs",color:"subtle",className:"col-start-2",style:{textWrap:"balance"},children:(0,a.jsx)(s.cC,{id:"1oJdGn"})})]},"uploads-ready"):(0,a.jsx)(c.t,{children:(0,a.jsx)(F.x,{size:"sm",weight:"medium",className:(0,U.cn)("transition-colors duration-150",{"text-error":this.allFilesDuration>0}),children:(0,a.jsx)(s.cC,{id:"2HsDJP",values:{0:10}})})},"uploads-progress-text")})]},"uploads-duration-progress")}),(0,a.jsx)(T.Button,{variant:"primary",size:"lg",loading:i,disabled:!this.isComplete,tooltip:!this.files.isAllOriginalRemoteFiles&&this.allFilesDuration<1e4?e._(e._({id:"V/plea",values:{0:(0,q.GK)(10)}})):void 0,onClick:l,children:(0,a.jsx)(s.cC,{id:"hXzOVo"})})]})]})})),(0,D.rC)(this,{voicePreview:D.LO.ref,allFilesDuration:D.Fl,isDirty:D.Fl,flushFields:D.aD,setVoiceToEdit:D.aD})}}class X extends Y{get isComplete(){return!0}get isDisabled(){return!0}}var Q=i(4111),J=i(42454),$=i(73063),ee=i(38028),et=i(19803),ei=i(73862),ea=i(23431),es=i(74508),en=i(82069),el=i(4322),er=i(2986),eo=i(10258),ec=i(1851),ed=i(60358),eu=i(26090),eh=i(92234),em=i(20807),ep=i(54389),ev=i(15750),ex={src:"/app_assets/_next/static/media/conv-ai.80031e15.png"},eg={src:"/app_assets/_next/static/media/projects.ed27cca6.png"},ef={src:"/app_assets/_next/static/media/text-to-speech.12f5ca49.png"};let eb=e=>{let{title:t="Voice verification attempt failed",message:i,showControls:n,onPlay:l,onRetry:r}=e;return(0,a.jsxs)("div",{className:"stack items-center text-center",children:[(0,a.jsx)(E.Z,{className:"w-5 h-5 text-red-600"}),(0,a.jsx)(F.x,{className:"mt-1.5",weight:"medium",children:t}),i&&(0,a.jsx)(F.x,{className:"mt-1 text-balance",children:i}),n&&(0,a.jsxs)("div",{className:"mt-2.5 flex gap-2.5",children:[(0,a.jsx)(T.Button,{onClick:l,children:(0,a.jsx)(s.cC,{id:"574fPg"})}),(0,a.jsx)(T.Button,{onClick:r,children:(0,a.jsx)(s.cC,{id:"KDw4GX"})})]})]})},ey=(0,l.Pi)(e=>{let{voice:t,clonedVoice:i}=e,{i18n:n}=(0,s.mV)(),l=(0,ea.useRouter)(),r=(0,eo.XM)(),{mutate:o,isLoading:c}=(0,j.useMutation)({mutationFn:()=>r(t.public_owner_id,t.voice_id,t.name),onSuccess:async()=>{ec.models.value=await (0,en.f)()},onError:e=>{(0,B.toast)((null==e?void 0:e.message)||n.t("Failed to add voice to my voices."))}}),d=eu.yA.value&&!!eu.Qu.value&&eu.Qu.value.id===t.preview_url,u=async()=>{if(t.is_added_by_user){let e=await (0,A.EzY)({pathParams:{voiceId:t.voice_id}});ec.selectedVoice.value=e,l.push(ed.VP.speechSynthesis)}(0,O.eN)(Z.B_.voice_lab_instant_voice_cloning_captcha_alternative_voice_used,{voice:i,alternative_voice:t})};return(0,a.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,a.jsx)("div",{className:"shrink-0",children:(0,a.jsx)(eh.v,{voice:t,hideIndicator:!0,showPreview:!1,size:"1.25rem"})}),(0,a.jsx)(F.x,{weight:"medium",className:"truncate",children:t.name}),(0,a.jsxs)("div",{className:"ml-auto flex gap-1.5",children:[(0,a.jsx)(M.h,{"aria-label":n.t("Play voice"),size:"sm",onClick:()=>{d?(0,eu.pt)():((0,eo.d4)(t.preview_url,t.name,t.voice_id),(0,O.eN)(Z.B_.voice_lab_instant_voice_cloning_captcha_alternative_voice_played,{voice:i,alternative_voice:t}))},children:d?(0,a.jsx)(f.Z,{className:"!w-3 !h-3"}):(0,a.jsx)(p.JF,{className:"!w-2.5 !h-2.5"})}),t.is_added_by_user?(0,a.jsx)(M.h,{"aria-label":n.t("Use voice"),tooltip:n.t("Use voice"),size:"sm",onClick:u,children:(0,a.jsx)(V.Z,{className:"!w-3.5 !h-3.5"})}):(0,a.jsx)(M.h,{"aria-label":n.t("Add voice"),tooltip:n.t("Add voice"),size:"sm",onClick:()=>o(),loading:c,children:(0,a.jsx)(J.Z,{className:"!w-3.5 !h-3.5"})})]})]})});class ej extends u.h8{get label(){return this.verified?"Finish up":"Verification"}get voice(){return void 0!==this.voiceToVerify?this.voiceToVerify:this.prev.voiceSaved}set voice(e){this.voiceToVerify=e}get isDisabled(){var e;return this.forceDisable||!this.voice||(null===(e=this.prev)||void 0===e?void 0:e.isDisabled)||Reflect.get(u.h8.prototype,"isDisabled",this)}set isDisabled(e){this.forceDisable=e}get isComplete(){return this.showFinishUp}reset(){this.verified=!0,this.showFinishUp=!1,this.verification.reset(),this.similarVoices.reset()}constructor(e){super(e),(0,v._)(this,"verified",!0),(0,v._)(this,"showFinishUp",!1),(0,v._)(this,"voiceToVerify",void 0),(0,v._)(this,"forceDisable",!0),(0,v._)(this,"similarVoices",(0,G.u)({fetchFn:async()=>{var e,t,i;let a=this.voice;if(!a)return;let s=this.stepper.steps[0],n=await (null!==(i=null===(e=s.files.localFiles.at(0))||void 0===e?void 0:e.file())&&void 0!==i?i:null===(t=s.files.value.at(0))||void 0===t?void 0:t.file());if(!n)return;let l=(await (0,er.T0)(n)).voices.slice(0,4);return l.length>0&&(0,O.eN)(Z.B_.voice_lab_instant_voice_cloning_captcha_show_alternative_voices,{voice:a,alternative_voice_ids:l.map(e=>e.voice_id)}),l}})),(0,v._)(this,"verification",(0,G.u)({fetchFn:async e=>{let t=this.voice;t&&(await (0,u.Cl)(this.stepper,()=>(0,eo.kk)(t.voice_id,e)),this.verified=!0,(0,O.eN)(Z.B_.voice_lab_instant_voice_cloning_captcha_succeeded,{voice_id:t.voice_id,name:t.name}),(0,O.eN)(Z.B_.voice_lab_instant_voice_cloning_created,{voice_id:t.voice_id,name:t.name}))},onError:e=>{let t=this.voice;t&&(this.similarVoices.data||this.similarVoices.fetch(),(0,O.eN)(Z.B_.voice_lab_instant_voice_cloning_captcha_failed,{voice_id:t.voice_id,name:t.name,reason:e.message}))}})),(0,v._)(this,"Content",(0,l.Pi)(e=>{var t;let{onComplete:i}=e,{i18n:l}=(0,s.mV)(),o=this.voice;if(!o)throw Error("Unreachable: IVC Verify and Finish step render without a voice clone");let[d,u]=(0,r.useState)(!1);(0,r.useEffect)(()=>{if(this.isComplete)return this.stepper.disabled=!0,()=>{this.stepper.disabled=!1}},[this.isComplete]);let{mutate:h,isLoading:m,error:p,data:v,reset:x}=(0,j.useMutation)({mutationFn:()=>(0,eo.Jp)(o.voice_id),onError:e=>{e instanceof el.oo&&"already_verified"===e.errorType&&(this.verified=!0,this.showFinishUp=!0)}}),g=(0,ev.XE)(),{fetch:f,isLoading:b,error:y,variables:w,reset:k}=this.verification;return(0,a.jsx)(n.M,{initial:!1,mode:"wait",children:this.showFinishUp?(0,a.jsxs)(c.t,{children:[(0,a.jsx)(em.X,{size:"lg",children:this.verified?l.t("Try out your new clone"):l.t("Voice verification skipped")}),(0,a.jsx)(F.x,{className:"mt-1",children:this.verified?l.t("Your voice is now ready to be used throughout the product."):l.t("Once you’ve verified your voice, you’ll be able to use it throughout the product.")}),(0,a.jsxs)("div",{className:"mt-5 stack gap-3",children:[(0,a.jsxs)(ei.default,{href:ed.VP.speechSynthesis,onClick:()=>{this.verified&&(ec.selectedVoice.value=o),(0,O.eN)(Z.B_.voice_lab_instant_voice_cloning_finish_product_clicked,{product:"text-to-speech",voice:o}),null==i||i()},className:"flex items-center p-1.5 pr-6 border border-gray-alpha-200 rounded-[18px] gap-4 outline-gray-alpha-950 hover:bg-gray-alpha-50 transition duration-200",children:[(0,a.jsx)(et.default,{src:ef.src,alt:"",width:70,height:70,className:"aspect-1 object-cover rounded-xl shrink-0"}),(0,a.jsxs)("div",{className:"grow",children:[(0,a.jsx)(em.X,{children:(0,a.jsx)(s.cC,{id:"1eSPL8"})}),(0,a.jsx)(F.x,{children:(0,a.jsx)(s.cC,{id:"6lKdAz"})})]}),(0,a.jsx)("div",{className:"shrink-0 text-gray-alpha-500",children:(0,a.jsx)(ee.Z,{className:"w-5 h-5"})})]}),(0,a.jsxs)(ei.default,{href:ed.VP.conversationalAi,className:"flex items-center p-1.5 pr-6 border border-gray-alpha-200 rounded-[18px] gap-4 outline-gray-alpha-950 hover:bg-gray-alpha-50 transition duration-200",onClick:()=>{(0,O.eN)(Z.B_.voice_lab_instant_voice_cloning_finish_product_clicked,{product:"conversational-ai",voice:o,verified:this.verified}),null==i||i()},children:[(0,a.jsx)(et.default,{src:ex.src,alt:"",width:70,height:70,className:"aspect-1 object-cover rounded-xl shrink-0"}),(0,a.jsxs)("div",{className:"grow",children:[(0,a.jsx)(em.X,{children:(0,a.jsx)(s.cC,{id:"XHd2jp"})}),(0,a.jsxs)(F.x,{children:[(0,a.jsx)("span",{className:"md:hidden",children:(0,a.jsx)(s.cC,{id:"RZWIn2"})}),(0,a.jsx)("span",{className:"hidden md:inline",children:(0,a.jsx)(s.cC,{id:"XEi6Oo"})})]})]}),(0,a.jsx)("div",{className:"shrink-0 text-gray-alpha-500",children:(0,a.jsx)(ee.Z,{className:"w-5 h-5"})})]}),(0,a.jsxs)(ei.default,{href:ed.VP.studio,className:"flex items-center p-1.5 pr-6 border border-gray-alpha-200 rounded-[18px] gap-4 outline-gray-alpha-950 hover:bg-gray-alpha-50 transition duration-200",onClick:()=>{(0,O.eN)(Z.B_.voice_lab_instant_voice_cloning_finish_product_clicked,{product:"projects",voice:o,verified:this.verified}),null==i||i()},children:[(0,a.jsx)(et.default,{src:eg.src,alt:"",width:70,height:70,className:"aspect-1 object-cover rounded-xl shrink-0"}),(0,a.jsxs)("div",{className:"grow",children:[(0,a.jsx)(em.X,{children:(0,a.jsx)(s.cC,{id:"C9Rlf4"})}),(0,a.jsx)(F.x,{children:(0,a.jsx)(s.cC,{id:"sFOgSU"})})]}),(0,a.jsx)("div",{className:"shrink-0 text-gray-alpha-500",children:(0,a.jsx)(ee.Z,{className:"w-5 h-5"})})]})]}),(0,a.jsx)("div",{className:"mt-5 flex gap-2.5 justify-end",children:(0,a.jsx)(T.Button,{size:"lg",variant:"primary",onClick:()=>{(0,O.eN)(Z.B_.voice_lab_instant_voice_cloning_finish_skipped,{voice:o,verified:this.verified}),null==i||i()},children:this.verified?l.t("Skip"):l.t("Continue")})})]},"finish-up"):(0,a.jsxs)(c.t,{children:[(0,a.jsx)(em.X,{size:"lg",children:(0,a.jsx)(s.cC,{id:"O7egWX"})}),(0,a.jsx)(F.x,{className:"mt-1",children:(0,a.jsx)(s.cC,{id:"/kXfoO"})}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("div",{className:"border border-subtle rounded-t-3xl flex items-center justify-center min-h-[250px] px-6 md:px-12 py-10",children:(0,a.jsx)(n.M,{mode:"wait",initial:!1,children:y||p?(0,a.jsx)(c.t,{children:p instanceof el.oo&&"max_verification_attempts_reached"===p.errorType?(0,a.jsx)(eb,{title:l.t("Maximum voice verification attempts reached."),message:l.t("If you believe this is a mistake, you can delete the voice clone and try again by creating new one.")}):(0,a.jsx)(eb,{message:(null==y?void 0:y.message)||(null==p?void 0:p.message),showControls:!!y,onPlay:async()=>{if(!w)return;let e=await (0,ep.sT)(w);(0,eu.GM)(e,{id:(0,es.k$)(),autoStart:!0,fileName:null,name:w.name,type:"other",isFirstRequest:!0,player:{title:l.t("Voice verification recording")}})},onRetry:()=>{x(),k(),u(!1)}})},"verification-error"):this.verified?(0,a.jsxs)(c.t,{className:"stack items-center text-center",children:[(0,a.jsx)(P.Z,{className:"w-5 h-5 text-green-500"}),(0,a.jsx)(F.x,{className:"mt-1.5",weight:"medium",children:(0,a.jsx)(s.cC,{id:"JD00od"})}),(0,a.jsx)(F.x,{className:"mt-1",children:(0,a.jsx)(s.cC,{id:"zx5gLh"})})]},"verification-success"):v?(0,a.jsx)(c.t,{children:m||b?(0,a.jsx)(Q.$,{}):d?(0,a.jsx)("img",{src:v,className:"md:scale-75 dark:invert"}):(0,a.jsx)(F.x,{className:"text-center",size:"md",weight:"medium",children:(0,a.jsx)(s.cC,{id:"NxV9C/"})})},"verification-captcha"):(0,a.jsx)(c.t,{children:(0,a.jsx)(F.x,{className:"text-center",size:"md",weight:"medium",children:(0,a.jsx)(s.cC,{id:"YxqEVU"})})},"verification-info")})}),(0,a.jsx)("div",{className:"border border-t-0 border-subtle rounded-b-3xl",children:(0,a.jsx)(R.KN,{className:"h-56 -mt-8 md:h-40 md:mt-0",maxDuration:15e3,disabled:!!p||!!y||this.verified||b,stopButton:(0,a.jsx)(T.Button,{variant:"primary",leftIcon:(0,a.jsx)($.Z,{}),children:(0,a.jsx)(s.cC,{id:"EXr/GZ"})}),onChange:async e=>{try{await f(e),g()}catch(e){}u(!1)},onRecordingStart:()=>{var e;h(),setTimeout(()=>{u(!0)},3e3),(null===(e=this.similarVoices.data)||void 0===e?void 0:e.length)?(0,O.eN)(Z.B_.voice_lab_instant_voice_cloning_captcha_with_alternative_voices,{voice:o}):(0,O.eN)(Z.B_.voice_lab_instant_voice_cloning_captcha_without_alternative_voices,{voice:o})}})})]}),(0,a.jsx)(n.M,{children:!!(null===(t=this.similarVoices.data)||void 0===t?void 0:t.length)&&!this.verified&&(0,a.jsxs)(c.t,{className:"mt-6 mb-8",children:[(0,a.jsx)(em.X,{size:"lg",children:(0,a.jsx)(s.cC,{id:"1mwB4r"})}),(0,a.jsx)("div",{className:"mt-3 grid grid-cols-2 gap-x-8 gap-y-2.5",children:this.similarVoices.data.map(e=>(0,a.jsx)(ey,{voice:e,clonedVoice:o},e.voice_id))})]})}),(0,a.jsx)(_.E.div,{layout:"position",className:"mt-5 flex gap-2.5 justify-end",children:this.verified?(0,a.jsx)(T.Button,{size:"lg",variant:"primary",onClick:()=>{this.showFinishUp=!0},children:(0,a.jsx)(s.cC,{id:"lezqR+"})}):(0,a.jsx)(T.Button,{size:"lg",variant:"ghost",onClick:()=>{this.showFinishUp=!0,(0,O.eN)(Z.B_.voice_lab_instant_voice_cloning_captcha_skip,{voice:o})},children:(0,a.jsx)(s.cC,{id:"hnlGzG"})})})]},"voice-verification")})})),(0,D.rC)(this,{verified:D.LO,showFinishUp:D.LO,label:D.Fl,reset:D.aD})}}var e_=i(89775),ew=i(94809),ek=i(42032),eN=i(46547),eC=i(65204),eS=i(29554),eE=i(39255),eP=i(26897),eV=i(43941);class eD extends u.h8{get voicePreview(){return this.prev.voicePreview}get isDisabled(){let e=this.prev;return!this.voicePreview||e.isDirty||Reflect.get(u.h8.prototype,"isDisabled",this)}get isComplete(){return void 0!==this.voiceSaved}constructor(e){super(e),(0,v._)(this,"label","Voice Information"),(0,v._)(this,"voiceSaved",void 0),(0,v._)(this,"refetchVoiceSaved",async()=>{var e,t;if(null===(e=this.voicePreview)||void 0===e?void 0:e.voice_id)try{return this.voiceSaved=await (0,A.EzY)({pathParams:{voiceId:null===(t=this.voicePreview)||void 0===t?void 0:t.voice_id}}),this.voiceSaved}catch(e){}}),(0,v._)(this,"Content",(0,l.Pi)(e=>{var t,i,n,l,c;let{onComplete:d}=e,{i18n:h}=(0,s.mV)(),m={voiceName:(0,r.useId)(),description:(0,r.useId)(),acceptTerms:(0,r.useId)()},v=(0,eE.bs)("md"),x=!this.voicePreview||"url"===this.voicePreview.preview.type&&!this.voicePreview.preview.url,g=this.prev,f=(0,ev.XE)(),{formState:{errors:b,isSubmitting:y},register:j,getValues:k,resetField:N,handleSubmit:C}=(0,o.Gc)(),[S,E]=(0,r.useState)(k().voiceName),[P]=(0,r.useState)(g&&!g.files.isAllUploaded);(0,r.useEffect)(()=>{(null==g?void 0:g.files.isDirty)&&!(null==g?void 0:g.files.isAllUploaded)&&N("agreeToTerms")},[null==g?void 0:g.files.isDirty,null==g?void 0:g.files.isAllUploaded]),(0,r.useEffect)(()=>{var e;(null===(e=this.voicePreview)||void 0===e?void 0:e.voice_id)&&this.refetchVoiceSaved()},[null===(t=this.voicePreview)||void 0===t?void 0:t.voice_id]);let{addRecentlyUsedVoice:V}=(0,eS.Z)([]),D=async e=>{let t=this.voicePreview;if(!t)return;let i=this.next,a=Object.fromEntries(e.labels.map(e=>[e.label,e.value]));null==i||i.reset();let s=null==g?void 0:g.files.value.length,n=null==g?void 0:g.files.changes,l=null==n?void 0:n.toAdd.length;try{var r,o,c,h,m;let p;this.voiceSaved?(p=this.voiceSaved,p=await (0,u.Cl)(this.stepper,async()=>{var t,i;await Promise.all(null!==(t=null==n?void 0:n.toRemove.map(e=>(0,eo.sb)(p.voice_id,e.id)))&&void 0!==t?t:[]);let s=await Promise.all(null!==(i=null==n?void 0:n.toAdd.map(e=>e.file()))&&void 0!==i?i:[]);return await (0,eo.IM)({...p,name:e.voiceName,description:e.description,labels:a},s.map(e=>({file:e})),null==g?void 0:g.removeNoise.value),null==g||g.files.commitChanges(),f(),await this.refetchVoiceSaved()}),(0,O.eN)(Z.B_.voice_lab_edit_voice,{voice_id:p.voice_id,name:e.voiceName,description:e.description,labels:a,n_samples:s,n_new_samples:l,isolateSamples:null==g?void 0:g.removeNoise.value})):(p=await (0,u.Cl)(this.stepper,async()=>(this.voiceSaved=await (0,A.ZHZ)({body:{cloned_voice_preview_id:t.voice_id,voice_name:e.voiceName,voice_description:e.description,labels:a}}),null==g||g.files.commitChanges(),f(),this.voiceSaved)),(0,O.eN)(Z.B_.voice_lab_instant_voice_cloning_started,{voice_id:p.voice_id,requires_verification:null===(r=p.voice_verification)||void 0===r?void 0:r.requires_verification,name:e.voiceName,description:e.description,labels:a,n_samples:s,isolateSamples:null==g?void 0:g.removeNoise.value}),(null===(o=p.voice_verification)||void 0===o?void 0:o.requires_verification)||((0,O.eN)(Z.B_.voice_lab_instant_voice_cloning_created,{voice_id:p.voice_id,requires_verification:null===(c=p.voice_verification)||void 0===c?void 0:c.requires_verification,name:e.voiceName,description:e.description,labels:a,n_samples:s,isolateSamples:null==g?void 0:g.removeNoise.value}),V(p.voice_id))),i&&(i.isDisabled=!1,i.verified=!(null===(h=p.voice_verification)||void 0===h?void 0:h.requires_verification),i.showFinishUp=!(null===(m=p.voice_verification)||void 0===m?void 0:m.requires_verification)),this.next&&!this.next.isDisabled&&this.stepper.goToNext(),null==d||d()}catch(t){(0,e_.$e)(i=>{var n,r,o;i.setTag("step","ivc-save");let c=null!==(o=null===(n=this.voiceSaved)||void 0===n?void 0:n.voice_id)&&void 0!==o?o:null===(r=this.voicePreview)||void 0===r?void 0:r.voice_id;c&&i.setTag("voice_id",c),i.setContext("values",{name:e.voiceName,description:e.description,labels:a,isolateSamples:null==g?void 0:g.removeNoise.value,n_samples:s,n_new_samples:l}),i.captureException(t)}),B.toast.errorHttp(t)}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(ek.Yx,{id:null===(i=this.voicePreview)||void 0===i?void 0:i.voice_id,name:S,size:v?"4.5rem":"3rem",imgSize:144}),(0,a.jsx)(eP.G7,{category:"cloned",size:v?"2rem":"1.6rem"})]}),(0,a.jsx)(T.Button,{leftIcon:(0,a.jsx)(p.JF,{className:"!w-3 !h-3 !-ml-0.5"}),disabled:x,onClick:()=>{var e;this.voicePreview&&((0,O.eN)(Z.B_.voice_lab_instant_voice_cloning_preview_voice_clicked,{voice_id:this.voicePreview.voice_id,preview:this.voicePreview.preview}),"base64"===this.voicePreview.preview.type?(0,eu.GM)("data:".concat(this.voicePreview.preview.mediaType,";base64,").concat(this.voicePreview.preview.base64),{fileName:"voice-preview.mp3",id:this.voicePreview.voice_id,name:"voice-preview.mp3",isFirstRequest:!0,autoStart:!0,type:"other",player:{title:h.t("Instant Voice Clone Preview"),voice_id:this.voicePreview.voice_id}}):"url"===this.voicePreview.preview.type&&this.voicePreview.preview.url&&(null===(e=this.voiceSaved)||void 0===e?void 0:e.voice_id)===this.voicePreview.voice_id&&(0,eo.d4)(this.voicePreview.preview.url,this.voiceSaved.name,this.voicePreview.voice_id))},children:x?h.t("Preview unavailable"):h.t("Preview voice")})]}),(0,a.jsx)(w.S,{children:(0,a.jsx)("form",{className:"mt-8",onSubmit:C(D),children:(0,a.jsxs)("fieldset",{className:"stack gap-8",disabled:y,children:[(0,a.jsxs)(_.E.div,{layout:"position",className:"stack gap-2",children:[(0,a.jsx)(z.Label,{htmlFor:m.voiceName,children:"Name"}),(0,a.jsx)(eN.I,{id:m.voiceName,placeholder:h.t("e.g. old British man"),className:"rounded-lg",...j("voiceName",{validate:e=>0!==e.trim().length||h.t("Please give your voice a name"),onBlur:()=>E(k().voiceName)})}),(0,a.jsx)(eV.du,{children:null===(n=b.voiceName)||void 0===n?void 0:n.message})]}),(0,a.jsx)(eV.nH,{}),(0,a.jsxs)(_.E.div,{layout:"position",className:"stack gap-2",children:[(0,a.jsx)(z.Label,{htmlFor:m.description,children:"Description"}),(0,a.jsx)(eC.g,{id:m.description,rows:3,className:"rounded-lg max-h-44",...j("description",{maxLength:{value:500,message:h.t("Description should be less than 500 characters")}})}),(0,a.jsx)(eV.du,{children:null===(l=b.description)||void 0===l?void 0:l.message})]}),P&&(0,a.jsxs)(_.E.div,{layout:"position",className:"flex gap-3",children:[(0,a.jsx)(o.Qr,{name:"agreeToTerms",rules:{required:{value:!0,message:h.t("Please agree to the terms")}},render:e=>{let{field:{value:t,onChange:i,...s}}=e;return(0,a.jsx)(I.X,{id:m.acceptTerms,className:"rounded-lg",checked:t,onCheckedChange:i,...s})}}),(0,a.jsxs)("div",{className:"stack gap-2",children:[(0,a.jsx)(F.x,{as:"div",size:"sm",color:"subtle",children:(0,a.jsx)("label",{htmlFor:m.acceptTerms,children:(0,a.jsx)(s.cC,{id:"A2OeDY",components:{0:(0,a.jsx)("a",{href:"https://elevenlabs.io/terms-of-use",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-gray-700 transition-colors duration-150"}),1:(0,a.jsx)("a",{href:"https://elevenlabs.io/use-policy",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-gray-700 transition-colors duration-150"}),2:(0,a.jsx)("a",{href:"https://elevenlabs.io/privacy-policy",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-gray-700 transition-colors duration-150"})}})})}),(0,a.jsx)(eV.du,{children:null===(c=b.agreeToTerms)||void 0===c?void 0:c.message})]})]}),(0,a.jsxs)(_.E.div,{layout:"position",className:"sticky bg-background/70 backdrop-blur md:bg-transparent md:backdrop-blur-none -bottom-6 -mx-6 px-6 pb-6 pt-5 md:mx-0 md:mb-28 md:px-0 md:pb-0 md:static [mask:var(--mask)] md:[mask:none] flex gap-2.5 justify-between xl:justify-end",style:{"--mask":"linear-gradient(to bottom, transparent, white 12px)"},children:[!this.prev||this.prev instanceof X?(0,a.jsx)("div",{}):(0,a.jsxs)(T.Button,{size:"lg",type:"button",className:"bg-background",onClick:()=>this.stepper.goToPrev(),leftIcon:(0,a.jsx)(ew.Z,{className:"xl:hidden !w-3.5 !h-3.5 !mr-1"}),children:[(0,a.jsx)("span",{className:"xl:hidden",children:this.prev.label}),(0,a.jsx)("span",{className:"hidden xl:inline",children:(0,a.jsx)(s.cC,{id:"iH8pgl"})})]}),(0,a.jsx)(T.Button,{variant:"primary",size:"lg",type:"submit",loading:y,children:(0,a.jsx)(s.cC,{id:"7J/sPs"})})]})]})})})]})})),(0,D.rC)(this,{voicePreview:D.Fl,voiceSaved:D.LO})}}class eA extends eD{get isComplete(){return!0}get isDisabled(){return!0}}let eT=(0,l.Pi)(e=>{let{onComplete:t}=e,{i18n:i}=(0,s.mV)(),l=(0,o.cI)({defaultValues:{voiceName:"",labels:[{label:"language",value:""}],description:"",agreeToTerms:!1}}),h=(0,r.useMemo)(()=>new u.vF([Y,eD,ej]),[]);return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(u.jE,{stepper:h,title:i.t("Instant Voice Clone"),icon:(0,a.jsx)("div",{className:"w-10 h-10 rounded-[10px] shadow-sm ring-1 ring-gray-alpha-200 flex items-center justify-center",children:(0,a.jsx)(p.Eu,{className:"w-5 h-5"})}),classes:{container:"max-w-2xl"},stepsActions:(0,a.jsx)("div",{className:"mt-6",children:(0,a.jsx)(d.o,{source:"instant-voice-clone-create"})}),children:[(0,a.jsx)(m.RG,{title:i.t("Instant Voice Clone"),icon:(0,a.jsx)(p.Eu,{className:"w-7 h-7"}),className:"mb-8 md:hidden",hideClose:!0}),(0,a.jsx)(n.M,{mode:"wait",initial:!1,children:(0,a.jsx)(c.t,{children:h.activeStep instanceof eD?(0,a.jsx)(o.RV,{...l,children:(0,a.jsx)(h.activeStep.Content,{})}):h.activeStep instanceof ej?(0,a.jsx)(h.activeStep.Content,{onComplete:t}):(0,a.jsx)(h.activeStep.Content,{})},h.activeStep.id)})]})})}),eI=e=>{let{open:t,onOpenChange:i}=e;return(0,a.jsx)(h.jW,{open:t,onOpenChange:i,children:(0,a.jsx)(h._2,{onEscapeKeyDown:e=>e.preventDefault(),children:(0,a.jsx)(eT,{onComplete:()=>i(!1)})})})};var eM=i(2544);let ez=(0,l.Pi)(e=>{var t;let{onComplete:i,voice:l}=e,{i18n:h}=(0,s.mV)(),v=(0,o.cI)({defaultValues:{voiceName:l.name,labels:(0,eV.OI)(Object.entries({language:"",...l.labels}).filter(e=>{let[t]=e;return eV.B6.has(t)}).map(e=>{let[t,i]=e;return{label:t,value:i}})),description:null!==(t=l.description)&&void 0!==t?t:void 0,agreeToTerms:!1}}),x=(0,r.useMemo)(()=>{let e=new u.vF([Y,eD,ej]),t=e.steps[0],i=e.steps[1];return t.setVoiceToEdit(l),e.setActiveStepId(i.isDisabled?t.id:i.id),e},[]);return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(u.jE,{stepper:x,title:h.t("Instant Voice Clone"),icon:(0,a.jsx)("div",{className:"w-10 h-10 rounded-[10px] shadow-sm ring-1 ring-gray-alpha-200 flex items-center justify-center",children:(0,a.jsx)(p.Eu,{className:"w-5 h-5"})}),classes:{container:"max-w-2xl"},stepsActions:(0,a.jsx)("div",{className:"mt-6",children:(0,a.jsx)(d.o,{source:"instant-voice-clone-edit"})}),children:[(0,a.jsx)(m.RG,{title:h.t("Instant Voice Clone"),icon:(0,a.jsx)(p.Eu,{className:"w-7 h-7"}),className:"mb-8 md:hidden",hideClose:!0}),(0,a.jsx)(n.M,{mode:"wait",initial:!1,children:(0,a.jsx)(c.t,{children:x.activeStep instanceof eD?(0,a.jsx)(o.RV,{...v,children:(0,a.jsx)(x.activeStep.Content,{})}):x.activeStep instanceof ej?(0,a.jsx)(x.activeStep.Content,{onComplete:i}):(0,a.jsx)(x.activeStep.Content,{})},x.activeStep.id)})]})})}),eL=e=>{let{voice:t,children:i,shouldOpen:s,onOpenChange:n}=e,[l,r]=(0,eM.tT)();return(0,a.jsxs)(h.jW,{open:"boolean"==typeof s?s&&"edit"===l:"edit"===l,onOpenChange:e=>{r(e?"edit":"none"),null==n||n(e)},children:[i&&(0,a.jsx)(h.q8,{asChild:!0,children:i}),(0,a.jsx)(h._2,{onEscapeKeyDown:e=>e.preventDefault(),children:(0,a.jsx)(ez,{onComplete:()=>r("none"),voice:t})})]})},eR=(0,l.Pi)(e=>{let{onComplete:t,voice:i}=e,{i18n:n}=(0,s.mV)(),l=(0,r.useMemo)(()=>{let e=new u.vF([X,eA,ej]),t=e.steps[2];t.isDisabled=!1;let a=(0,ev.Gp)(i,ec.userData.value);return t.verified=!a,t.showFinishUp=!a,t.voice=i,e.setActiveStepId(t.id),e},[]);return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(u.jE,{stepper:l,title:n.t("Instant Voice Clone"),icon:(0,a.jsx)("div",{className:"w-10 h-10 rounded-[10px] shadow-sm ring-1 ring-gray-alpha-200 flex items-center justify-center",children:(0,a.jsx)(p.Eu,{className:"w-5 h-5"})}),classes:{container:"max-w-2xl"},stepsActions:(0,a.jsx)("div",{className:"mt-6",children:(0,a.jsx)(d.o,{source:"instant-voice-clone-verification"})}),children:[(0,a.jsx)(m.RG,{title:n.t("Instant Voice Clone"),icon:(0,a.jsx)(p.Eu,{className:"w-7 h-7"}),className:"mb-8 md:hidden",hideClose:!0}),(0,a.jsx)(l.activeStep.Content,{onComplete:t})]})})}),eF=(0,l.Pi)(e=>{let{voice:t,children:i,shouldOpen:s,onOpenChange:n}=e,[l,o]=(0,eM.tT)();return(0,r.useEffect)(()=>{let e=(0,ev.Gp)(t,ec.userData.value);"verify"!==l||e||o("none")},[]),(0,a.jsxs)(h.jW,{open:"boolean"==typeof s?s&&"verify"===l:"verify"===l,onOpenChange:e=>{o(e?"verify":"none"),null==n||n(e)},children:[i&&(0,a.jsx)(h.q8,{asChild:!0,children:i}),(0,a.jsx)(h._2,{onEscapeKeyDown:e=>e.preventDefault(),children:(0,a.jsx)(eR,{onComplete:()=>o("none"),voice:t})})]})})},66895:function(e,t,i){"use strict";i.d(t,{Ht:function(){return Y},IP:function(){return W},M_:function(){return K},ZP:function(){return X}});var a=i(17024),s=i(68088),n=i(6991),l=i(16714),r=i(47368),o=i(94814),c=i(97918),d=i(84909),u=i(46736),h=i(40534),m=i(92858),p=i(97968),v=i(5479),x=i(81999),g=i(73862),f=i(93281),b=i(9506),y=i(30487),j=i(45301),_=i(36474),w=i(69201),k=i(60358),N=i(92234),C=i(93062),S=i(4735),E=i(81069),P=i(20807),V=i(11521),D=i(84106),A=i(64197),T=i(58987),I=i(63415),M=i(85753),z=i(39255),L=i(15750),R=i(2544),F=i(52389),B=i(82986);let O=(0,b.createContext)(null),Z=e=>{var t;let{value:i,defaultValue:a,onValueChange:n,...l}=e,[o,c]=(0,b.useState)(null!==(t=null!=i?i:a)&&void 0!==t?t:"");return(0,s.jsx)(O.Provider,{value:{value:o,setValue:c},children:(0,s.jsx)(r.fC,{value:o,onValueChange:e=>{c(e),null==n||n(e)},...l})})},U=()=>{let e=(0,b.useContext)(O);if(!e)throw Error("Accordions must be wrapped within <AccordionRoot />");return e},q=e=>{let{title:t,description:i,value:a}=e,{value:n}=U(),l=Array.isArray(n)?n.includes(a):n===a;return(0,s.jsxs)(r.ck,{value:a,className:"border border-gray-alpha-200 rounded-xl",children:[(0,s.jsxs)(r.xz,{className:"px-5 py-4 group text-sm font-semibold flex text-left items-center w-full rounded-xl focus-ring",children:[(0,s.jsx)("span",{className:"block w-full",children:t}),(0,s.jsx)(p.Z,{className:"w-4 h-4 text-gray-alpha-400 transition-transform duration-200 group-data-[state=open]:rotate-180","aria-hidden":!0})]}),(0,s.jsx)(u.M,{initial:!1,children:l&&(0,s.jsx)(r.VY,{asChild:!0,forceMount:!0,children:(0,s.jsxs)(h.E.div,{className:"px-5 overflow-y-hidden",initial:{opacity:0,height:0,marginTop:0},animate:{opacity:1,height:"auto",marginTop:-16},exit:{opacity:0,height:0,marginTop:0},transition:{opacity:{duration:.2},height:{type:"spring",duration:.5,bounce:.15},marginTop:{type:"spring",duration:.5,bounce:.15}},children:[(0,s.jsx)("div",{className:"h-1.5"}),(0,s.jsx)(V.x,{color:"subtle",children:i}),(0,s.jsx)("div",{className:"h-4"})]})})})]})},H=e=>(0,s.jsx)(h.E.div,{variants:{initial:{y:40,opacity:0},animate:{y:0,opacity:1,transition:{duration:1,type:"tween",ease:"easeInOut"}}},...e}),G=e=>{let{title:t,description:i}=e;return(0,s.jsx)(H,{role:"none",children:(0,s.jsxs)("li",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute top-0 -left-12 w-8 h-8 rounded-full border border-gray-alpha-200 hidden md:flex items-center justify-center after:w-2.5 after:h-2.5 after:bg-foreground after:rounded-full"}),(0,s.jsx)(V.x,{weight:"semi-bold",className:"md:text-md",children:t}),(0,s.jsx)(V.x,{color:"subtle",className:"md:text-md",children:i})]})})},W=e=>{let{open:t,onOpenChange:i,children:a,showCreateCloneButton:l,onCreateClone:r,autoPlayVideo:o}=e,{i18n:c}=(0,n.mV)(),d="https://storage.googleapis.com/eleven-public-cdn/video/pvc/pvc-guide.mp4";return(0,s.jsxs)(E.dy,{open:t,onOpenChange:i,children:[a&&(0,s.jsx)(E.Qz,{asChild:!0,children:a}),o&&(0,s.jsx)("video",{src:d,className:"hidden"}),(0,s.jsx)(E.sc,{className:"max-w-3xl mx-auto max-h-[90%] overflow-hidden",hideHandle:!0,children:(0,s.jsxs)("div",{className:"flex-1 overflow-y-auto p-2 lg:p-4 pb-8",children:[(0,s.jsxs)(E.OX,{className:"gap-0.5",children:[(0,s.jsxs)(E.iI,{className:"text-md",children:[(0,s.jsx)("span",{className:"hidden md:inline",children:(0,s.jsx)(n.cC,{id:"me50WR"})}),(0,s.jsx)("span",{className:"md:hidden",children:(0,s.jsx)(n.cC,{id:"D9yyqE"})})]}),(0,s.jsx)(E.u6,{children:(0,s.jsx)(n.cC,{id:"sVTTmn"})}),(0,s.jsx)(E.$m,{})]}),(0,s.jsxs)("div",{className:"px-4 pt-2 pb-4",children:[(0,s.jsx)(A.Z,{className:"rounded-xl",autoPlay:o,poster:"https://storage.googleapis.com/eleven-public-cdn/images/pvc/pvc-guide-thumbnail.jpg",src:d}),(0,s.jsxs)(Z,{type:"single",collapsible:!0,defaultValue:"professional-recording-equipment",className:"mt-5 flex flex-col gap-4",children:[(0,s.jsx)(q,{title:c.t("Use professional recording equipment"),description:c.t("Use high-quality recording equipment for optimal results as the AI will clone everything about the audio. High-quality input = high-quality output. Any microphone will work, but an XLR mic going into a dedicated audio interface would be our recommendation. A few general recommendations on low-end would be something like an Audio Technica AT2020 or a Rode NT1 going into a Focusrite interface or similar."),value:"professional-recording-equipment"}),(0,s.jsx)(q,{title:c.t("Use a Pop filter"),description:c.t("Using a pop-filter when recording will minimize plosives when recording."),value:"pop-filter"}),(0,s.jsx)(q,{title:c.t("Keep the recording noise free"),description:c.t("Ensure that the audio input doesn't have any interference, like background music or noise. The AI cloning works best with clean, uncluttered audio."),value:"recording-noise-free"}),(0,s.jsx)(q,{title:c.t("Record in acoustically-treated room"),description:c.t("Preferably, record in an acoustically-treated room. This reduces unwanted echoes and background noises, leading to clearer audio input for the AI. You can make something temporary using a thick duvet or quilt to dampen the recording space."),value:"acoustically-treated-room"}),(0,s.jsx)(q,{title:c.t("Audio pre-processing"),description:c.t('Consider editing your audio beforehand if you\'re aiming for a specific sound output. For instance, if you want a polished podcast-like output, pre-process your audio to match that quality, of if you have long pauses or many "uhm"s and "ahm"s between words as the AI will mimic those as well.'),value:"audio-pre-processing"}),(0,s.jsx)(q,{title:c.t("Volume control"),description:c.t("Maintain a consistent volume that's loud enough to be clear but not so loud that it causes distortion. The goal is to achieve a balanced and steady audio level. The ideal would be between -23dB and -18dB RMS with a true peak of -3dB."),value:"volume-control"}),(0,s.jsx)(q,{title:c.t("Sufficient Audio Length"),description:c.t("Provide at least 30 minutes of high-quality audio that follows the above guidelines for best results - preferably closer to 3 hours of audio. The more quality data you can feed into the AI, the better the voice clone will be. The number of samples is irrelevant; the total runtime is what matters. However, if you plan to upload multiple hours of audio, it is better to split it into multiple ~30-minute samples. This makes it easier to upload."),value:"sufficient-audio-length"}),(0,s.jsx)(q,{title:c.t("Verify Your Voice"),description:c.t("Once everything is recorded and uploaded, you will be asked to verify your voice. To ensure a smooth experience, please try to verify your voice using the same or similar equipment used to record the samples and in a tone and delivery that is similar to what was present in the samples. If you do not have access to the same equipment, try verifying the best you can. If it fails, you will have to reach out to support."),value:"verify-your-voice"})]})]}),l&&(0,s.jsx)(E.ze,{className:"flex flex-row justify-end items-center sticky -bottom-8 lg:-bottom-4 mt-auto bg-background/70 backdrop-blur",children:(0,s.jsx)(E.uh,{asChild:!0,children:(0,s.jsx)(S.Button,{variant:"primary",type:"submit",size:"lg",onClick:r,children:(0,s.jsx)(n.cC,{id:"CMlgZk"})})})})]})})]})},K=()=>{let e=async(e,t)=>{let i;let a=[];for(;!i||i.has_more;){(null==i?void 0:i.next_page_token)&&e.queryParams&&(e.queryParams.next_page_token=i.next_page_token),i=await (0,y.K5f)(e);let s=t?t(i.voices):i.voices;a.push(...s)}return a};return(0,c.useQuery)({queryKey:["voices-v2","pvc-sessions"],queryFn:async()=>(await Promise.all([e({queryParams:{sort:"created_at_unix",sort_direction:"desc",voice_type:"personal",category:"professional",fine_tuning_state:"draft",include_total_count:!1,page_size:100}}),e({queryParams:{sort:"created_at_unix",sort_direction:"desc",voice_type:"personal",category:"professional",fine_tuning_state:"not_verified",include_total_count:!1,page_size:100}}),e({queryParams:{sort:"created_at_unix",sort_direction:"desc",voice_type:"personal",category:"professional",fine_tuning_state:"not_started",include_total_count:!1,page_size:100}},e=>e.filter(e=>(0,F.nJ)(e)))])).flat().filter(e=>e.is_owner).sort((e,t)=>{var i,a;return(null!==(i=t.created_at_unix)&&void 0!==i?i:0)-(null!==(a=e.created_at_unix)&&void 0!==a?a:0)}),refetchOnWindowFocus:!1})},Y="createdVoiceId";class X extends C.h8{constructor(e){super(e),(0,a._)(this,"label","Introduction"),(0,a._)(this,"animate",!0),(0,a._)(this,"createdVoiceId",void 0),(0,a._)(this,"Content",(0,x.Pi)(e=>{let{resetSteps:t,onEditVoice:i}=e,{i18n:a}=(0,n.mV)(),r=(0,m.hO)(),[c,p]=(0,b.useState)(!1),v=(0,z.bs)("md"),[,x]=(0,f.v1)(Y,f.Oi),[C]=(0,R.tT)(),E=(0,B.p)(),A=(0,d.useQueryClient)(),{queryKeyFn:F}=(0,j.H)(),O=e=>{this.createdVoiceId=e,"create"===C&&x(e)},{data:Z,isLoading:U}=K(),{isLoading:q,mutateAsync:X}=(0,y.PsM)({onSuccess:(e,i)=>{let{voice_id:a}=e,{body:{name:s,language:n}}=i;O(a),t({voiceName:s,language:n}),(0,I.eN)(M.B_.voice_lab_professional_voice_cloning_draft_created,{voiceId:a,name:s,language:n}),A.invalidateQueries(F({path:"/v1/user/subscription",operationId:"getUserSubscriptionInfoV1UserSubscriptionGet",variables:{}}))},onError:e=>{(0,o.Tb)(e),D.toast.errorHttp(e,a.t("Could not create a new voice due to some error"))}}),Q=(0,L.XE)(),J=async()=>{try{await X({body:{name:a.t("Untitled voice"),language:"en",labels:{language:"en"}}}),this.setComplete(!0),this.stepper.goToNext(),Q()}catch(e){}},$=e=>{O(e.voice_id),i(e),this.setComplete(!0)};return(0,s.jsx)(u.M,{initial:!0,children:(0,s.jsxs)(h.E.div,{className:"flex flex-col justify-center items-center min-h-full pt-14",initial:this.animate?"initial":"animate",animate:U?"initial":"animate",onAnimationComplete:()=>{U||(this.animate=!1)},children:[(0,s.jsxs)(h.E.div,{className:"mt-auto relative origin-bottom saturate-150 [--size-from:120px] [--size-to:76px] md:[--size-from:160px] md:[--size-to:96px]",variants:{initial:{width:"var(--size-from)",height:"var(--size-from)"},animate:{width:"var(--size-to)",height:"var(--size-to)",transition:{duration:1,delay:1.5,type:"tween",ease:"easeInOut"}}},children:[(0,s.jsx)(T.tl,{className:"absolute -inset-5 blur-lg",delay:500,initial:{opacity:0},animate:{opacity:1},transition:{duration:2.5,delay:.5},children:(0,s.jsx)(_.default,{colors:["#ffd4e9","#ebf4ff"],resizeDebounce:0,seed:1})}),(0,s.jsx)("div",{className:"relative w-full h-full",children:(0,s.jsx)(_.default,{colors:["#ffd4e9","#ebf4ff"],resizeDebounce:0,seed:1})})]}),(0,s.jsx)(P.X,{as:"h2",className:"text-3xl md:text-4xl mt-11 text-center px-5 text-balance",children:(0,s.jsx)(n.cC,{id:"x1RXba"})}),(0,s.jsx)(V.x,{color:"subtle",className:"md:text-md mt-4 text-center px-5",children:(0,s.jsx)(n.cC,{id:"iEi/jc"})}),(0,s.jsxs)(h.E.div,{className:"mt-14 w-full px-5",variants:{initial:{height:0,overflow:"hidden"},animate:{height:"auto",transition:{type:"tween",ease:"easeInOut",delay:1.5,delayChildren:1.5,duration:1,staggerChildren:.2},transitionEnd:{overflow:"visible"}}},children:[Z&&Z.length>0?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"text-center",children:(0,s.jsx)(V.x,{weight:"semi-bold",className:"md:text-md",children:(0,s.jsx)(n.cC,{id:"x4Wn6c"})})}),(0,s.jsx)("ul",{className:"mt-4 max-w-2xl mx-auto stack gap-4 min-h-[30vh]",children:Z.map(e=>(0,s.jsx)(H,{role:"none",children:(0,s.jsxs)("li",{className:"relative w-full rounded-2xl border px-4 py-5 flex items-center gap-4 overflow-hidden",children:[(0,s.jsx)("div",{className:"self-start",children:(0,s.jsx)(N.v,{voice:e,size:"2rem",hideIndicator:!0})}),(0,s.jsxs)("div",{children:[(0,s.jsx)(V.x,{weight:"medium",className:"md:text-md",children:(0,s.jsxs)("button",{className:"text-left focus-ring group rounded",disabled:v,onClick:()=>$(e),children:[(0,s.jsx)("span",{className:"absolute inset-0 transition-colors duration-200 group-enabled:hover:bg-gray-alpha-50 group-enabled:group-active:bg-gray-alpha-100"}),e.name]})}),e.created_at_unix&&(0,s.jsx)(V.x,{color:"subtle",children:(0,s.jsx)(n.cC,{id:"FCASiu",values:{0:new Date(1e3*e.created_at_unix).toLocaleDateString(a.locale,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0})}})})]}),(0,s.jsx)(S.Button,{className:"max-md:hidden ml-auto",variant:"ghost","aria-label":a._(l.ag._({id:"M58sAs",values:{0:e.name}})),onClick:()=>$(e),children:(0,s.jsx)(n.cC,{id:"bObOD4"})})]})},e.voice_id))})]}):(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("ul",{className:"max-w-2xl mx-auto stack gap-8 lg:pl-4",children:[(0,s.jsx)(G,{title:a.t("Noise-free recordings work best"),description:a.t("While we can help with post-processing, for the best results consider a quiet environment or recordings where there isn’t much background noise.")}),(0,s.jsx)(G,{title:a.t("Start with high quality recordings"),description:a.t("For the best results, we’ll need at least 30 minutes of recorded audio with up to two hours as a recommendation, you can provide audio and video files or record live.")}),(0,s.jsx)(G,{title:a.t("Verify and start using"),description:a.t("Once you’ve provided samples, you will be asked to verify your voice with a live recording, once that passes our moderation checks, your voice clone will be prepared for use.")})]})}),(0,s.jsx)("div",{className:"h-24","aria-hidden":!0})]}),(0,s.jsx)("footer",{className:"mt-auto p-5 border-t border-gray-alpha-200 w-full sticky z-10 bottom-0 bg-background/70 backdrop-blur",children:(0,s.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,s.jsx)(u.M,{initial:!1,mode:"wait",children:E.disabledReason?(0,s.jsxs)(w.t,{className:"flex flex-col gap-4 md:flex-row md:justify-between md:items-center",children:[(0,s.jsx)(V.x,{weight:"medium",className:"text-center md:text-left text-balance",children:E.disabledReason}),E.showSubscribeLink?(0,s.jsx)(S.Button,{asChild:!0,variant:"primary",size:v?"lg":"md",onClick:()=>{(0,I.eN)(M.B_.voice_lab_professional_voice_cloning_subscribe)},children:(0,s.jsx)(g.default,{href:k.VP.subscription,children:(0,s.jsx)(n.cC,{id:"EDl9kS"})})}):(0,s.jsx)(S.Button,{variant:"primary",size:v?"lg":"md",disabled:!0,children:(0,s.jsx)(n.cC,{id:"CMlgZk"})})]},"subscribe"):(0,s.jsxs)(w.t,{className:"flex flex-col gap-2 md:flex-row md:justify-between md:items-center",children:[(0,s.jsx)(W,{autoPlayVideo:!0,children:(0,s.jsx)(S.Button,{className:"bg-background",size:v?"lg":"md",onClick:()=>p(!0),children:(0,s.jsx)(n.cC,{id:"UHYnAE"})})}),(0,s.jsx)(W,{showCreateCloneButton:!0,onCreateClone:()=>J(),children:(0,s.jsx)(S.Button,{variant:"primary",size:v?"lg":"md",disabled:!r||E.isLoading,loading:q,onClick:e=>{c?(e.preventDefault(),J()):p(!0)},children:(0,s.jsx)(n.cC,{id:"CMlgZk"})})})]},"create-pvc")})})})]})})})),(0,v.rC)(this,{animate:v.LO}),(0,v.EH)(()=>{this.isComplete&&(this.animate=!1)})}}},55681:function(e,t,i){"use strict";var a=i(68088),s=i(77513),n=i(89008),l=i(40534),r=i(46736),o=i(85961),c=i.n(o),d=i(9506),u=i(36474),h=i(58987),m=i(60189),p=i(64108);function v(e,t,i){return 25<e&&e<195&&(i/=1.05,t/=1.25),"hsl(".concat(e,", ").concat(t,"%, ").concat(i,"%)")}let x=(0,d.memo)(e=>{let{className:t,primaryHue:i,secondaryHue:o,motionStrength:x,colorStrength:g,shadow:f=!0}=e,b=(0,s.c)(0);(0,d.useEffect)(()=>{let e,t;let i=()=>{let a=Math.random()*x;t=(0,n.j)(b,a,{type:"tween",duration:a}),e=window.setTimeout(i,1e3*a)};return e=window.setTimeout(i,1e3),()=>{window.clearTimeout(e),null==t||t.stop()}},[x,b]);let y=(0,a.jsx)(u.default,{seed:1,resizeDebounce:0,colors:[v((0,p.KK)(g,[0,.5],[c()(i-5,0,360),i]),(0,p.KK)(g,[0,1],[20,80],!1),(0,p.KK)(g,[0,1],[90,80],!1)),v((0,p.KK)(g,[0,1],[c()(o-5,0,360),c()(o+5,0,360)]),(0,p.KK)(g,[0,1],[20,80],!1),(0,p.KK)(g,[0,1],[100,95],!1))],getOutputVolume:()=>b.get()});return(0,a.jsx)("div",{className:(0,m.cn)("flex items-center justify-center",t),children:(0,a.jsxs)(l.E.div,{className:"relative w-full h-full",variants:{inactive:{filter:"blur(8px)",opacity:.5,width:156,height:156,transition:{delay:.375,type:"spring"}},active:{filter:"blur(0)",opacity:1,width:156,height:156}},transition:{duration:.75},children:[(0,a.jsx)(r.M,{children:f&&(0,a.jsx)(h.tl,{className:"absolute -inset-3 blur-lg opacity-70",delay:500,initial:{opacity:0},animate:{opacity:1},transition:{duration:2.5,delay:.5},children:y})}),y]})})});x.displayName="PvcOrb",t.Z=x},30349:function(e,t,i){"use strict";i.d(t,{ZP:function(){return ec},_B:function(){return es},h1:function(){return en}});var a=i(17024),s=i(68088),n=i(4111),l=i(6991),r=i(16714),o=i(55673),c=i(11653),d=i(46736),u=i(40534),h=i(92858),m=i(88440),p=i(54114),v=i(6056),x=i(41236),g=i(64173),f=i(98780),b=i(79459),y=i(5479),j=i(81999),_=i(73862),w=i(9506),k=i(34161),N=i(50276),C=i(74508),S=i(4322),E=i(30487),P=i(69201),V=i(1851),D=i(60358),A=i(26090),T=i(81398),I=i(81158),M=i(93062),z=i(4735),L=i(81069),R=i(20807),F=i(74346),B=i(3030),O=i(96474),Z=i(50113),U=i(32689),q=i(11521),H=i(65204),G=i(84106),W=i(63415),K=i(85753),Y=i(54389),X=i(39255),Q=i(58397),J=i(15750),$=i(43941),ee=i(6526),et=i(55681),ei=i(69436),ea=i(75515);let es=5,en=5,el=e=>{var t,i;let{voice:a,onClose:n,onSubmit:o}=e,{i18n:c}=(0,l.mV)(),{control:h,formState:{errors:x,isSubmitting:g},register:f,watch:b,handleSubmit:y}=(0,N.cI)({defaultValues:{files:[],extraText:""}}),{field:j}=(0,N.bc)({name:"files",control:h,rules:{required:c.t("You must provide at least one supporting document."),validate:{maxCount:e=>e.length<=en||c._(r.ag._({id:"YiUPul",values:{MAX_MANUAL_VERIFICATION_FILES:en}})),maxSize:e=>10485760>e.reduce((e,t)=>e+t.file.size,0)||c._(r.ag._({id:"gGcCzy",values:{0:(0,I.W)(10)}}))}}}),{getRootProps:_,getInputProps:w,open:S,isDragActive:V}=(0,k.uI)({noClick:!0,noKeyboard:!0,multiple:!0,disabled:g,accept:{"application/pdf":[".pdf"],"image/jpeg":[".jpg",".jpeg"],"image/png":[".png"]},onDrop:e=>{j.onChange([...j.value,...e.map(e=>({file:e,id:(0,C.k$)()}))])}}),D=async e=>{try{await (0,E.Ak8)({pathParams:{voiceId:a.voice_id},body:{files:e.files.map(e=>e.file),extra_text:e.extraText},headers:{"Content-Type":"multipart/form-data"}}),await o(),G.toast.success(c.t("Manual verification request has been sent.")),n()}catch(e){G.toast.errorHttp(e)}},A=c._(r.ag._({id:"/EdRxM",values:{0:(0,I.W)(1e3)}}));return(0,s.jsxs)("div",{className:"stack relative flex-1 overflow-y-auto",..._(),children:[(0,s.jsxs)(L.OX,{className:"pl-5 pr-8 lg:px-7 pt-8 pb-6 text-balance",children:[(0,s.jsx)(L.iI,{className:"text-md",children:(0,s.jsx)(l.cC,{id:"lqj7n5",values:{0:a.name}})}),(0,s.jsx)(L.$m,{})]}),(0,s.jsxs)("form",{className:"stack flex-1",onSubmit:y(D),children:[(0,s.jsx)("input",{...w()}),(0,s.jsxs)("fieldset",{disabled:g,className:"flex-1",children:[(0,s.jsx)("legend",{className:"sr-only",children:(0,s.jsx)(l.cC,{id:"lqj7n5",values:{0:a.name}})}),(0,s.jsxs)("div",{className:"stack gap-6 px-5 lg:px-7",children:[(0,s.jsxs)("div",{className:"stack gap-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(O.Label,{children:(0,s.jsx)(l.cC,{id:"NVDTPN"})}),(0,s.jsx)(q.x,{color:"subtle",children:(0,s.jsx)(l.cC,{id:"jTQfRL"})})]}),(0,s.jsxs)("button",{className:"w-full h-32 rounded-2xl border flex flex-col items-center justify-center gap-1 focus-ring transition-colors duration-200 hover:bg-gray-alpha-50 active:bg-gray-alpha-100",type:"button",onClick:()=>S(),children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(m.Z,{className:"w-4 h-4"}),(0,s.jsx)(q.x,{as:"span",weight:"medium",children:(0,s.jsx)(l.cC,{id:"sCtyHQ"})})]}),(0,s.jsx)(q.x,{as:"span",weight:"normal",color:"subtle",size:"xs",children:"PDF, JPEG, PNG"})]}),(0,s.jsx)(U.aV,{children:(0,s.jsx)(d.M,{initial:!1,children:b("files").map(e=>(0,s.jsx)(u.E.div,{role:"none",initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0,transition:{opacity:{duration:.1}}},className:"px-1 -mx-1 overflow-hidden",children:(0,s.jsxs)(U.HC,{className:"px-0",children:[(0,s.jsx)(U.L9,{children:(0,s.jsx)(F.Z,{className:"text-gray-alpha-900",children:(0,s.jsx)(p.Z,{})})}),(0,s.jsxs)(U.Ek,{children:[(0,s.jsx)(q.x,{weight:"medium",children:e.file.name}),(0,s.jsx)(q.x,{color:"subtle",size:"xs",className:"mt-0.5",children:(0,Q.KS)(e.file.size)})]}),(0,s.jsx)(U.cT,{children:(0,s.jsx)(B.h,{"aria-label":c.t("Remove document"),tooltip:c.t("Remove document"),variant:"ghost",type:"button",onClick:()=>{j.onChange(j.value.filter(t=>t.id!==e.id))},children:(0,s.jsx)(v.Z,{className:"!w-3.5 h-3.5"})})})]})},e.id))})}),(0,s.jsx)($.du,{children:null===(t=x.files)||void 0===t?void 0:t.message})]}),(0,s.jsxs)("div",{className:"stack gap-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(O.Label,{children:(0,s.jsx)(l.cC,{id:"QbG4Nv"})}),(0,s.jsx)(q.x,{color:"subtle",children:(0,s.jsx)(l.cC,{id:"q13/sv"})})]}),(0,s.jsx)(H.g,{className:"rounded-2xl h-32 resize-none",...f("extraText",{maxLength:{value:1e3,message:A}})}),(0,s.jsx)($.du,{children:null===(i=x.extraText)||void 0===i?void 0:i.message})]})]})]}),(0,s.jsxs)(L.ze,{className:"flex flex-row justify-between items-center sticky bottom-0 px-5 lg:px-7 py-6 bg-background/70 backdrop-blur",children:[(0,s.jsx)(L.uh,{asChild:!0,children:(0,s.jsx)(z.Button,{type:"button",className:"bg-background",children:(0,s.jsx)(l.cC,{id:"dEgA5A"})})}),(0,s.jsx)(z.Button,{variant:"primary",type:"submit",loading:g,children:(0,s.jsx)(l.cC,{id:"kRFJmp"})})]})]}),(0,s.jsx)(d.M,{children:V&&(0,s.jsx)(P.t,{className:"absolute inset-0 z-30 flex items-center justify-center bg-background/60 backdrop-blur-lg",children:(0,s.jsx)(R.X,{as:"h4",className:"text-4xl",children:(0,s.jsx)(l.cC,{id:"44MsLf"})})})})]})},er=e=>{var t;let{voice:i,children:a}=e,{i18n:n}=(0,l.mV)();return(0,s.jsxs)(L.dy,{children:[(0,s.jsx)(L.Qz,{asChild:!0,children:a}),(0,s.jsx)(L.sc,{className:"max-w-xl mx-auto max-h-[90%] overflow-hidden",hideHandle:!0,children:(0,s.jsxs)("div",{className:"flex-1 overflow-y-auto",children:[(0,s.jsxs)(L.OX,{className:"px-5 lg:px-7 pt-8 pb-6",children:[(0,s.jsx)(L.iI,{className:"text-md",children:(0,s.jsx)(l.cC,{id:"2iRGf3"})}),(0,s.jsx)(L.$m,{})]}),(0,s.jsx)("div",{className:"px-5 lg:px-7 pb-12",children:(0,s.jsx)(U.aV,{className:"stack gap-6",children:null===(t=i.fine_tuning)||void 0===t?void 0:t.verification_failures.map((e,t)=>{var a,r;return(0,s.jsxs)(U.HC,{className:"p-0",children:[(0,s.jsx)(U.L9,{className:"w-auto h-auto bg-transparent",children:(null===(a=i.fine_tuning)||void 0===a?void 0:a.is_allowed_to_fine_tune)&&"None"===e?(0,s.jsx)(x.Z,{className:"text-green-500 h-5 w-5"}):(0,s.jsx)(g.Z,{className:"text-error h-5 w-5"})}),(0,s.jsxs)(U.Ek,{className:"ml-2",children:[(0,s.jsx)(q.x,{size:"xs",weight:"medium",children:(0,s.jsx)(l.cC,{id:"HW9IRC",values:{0:t+1}})}),(null===(r=i.fine_tuning)||void 0===r?void 0:r.is_allowed_to_fine_tune)&&"None"===e?(0,s.jsx)(q.x,{className:"text-green-500",weight:"medium",children:(0,s.jsx)(l.cC,{id:"zzDlyQ"})}):(0,s.jsx)(q.x,{className:"text-error",weight:"medium",children:"None"!==e?e:n.t("Failed due to an unknown error")})]})]},t)})})})]})})]})},eo=e=>{let{title:t="Voice verification attempt failed",message:i,showPlay:a,showRetry:n,showManualVerification:r,manualVerificationRequested:o,onPlay:c,onRetry:d,onManualVerification:u}=e,{i18n:h}=(0,l.mV)();return(0,s.jsxs)("div",{className:"stack items-center text-center",children:[(0,s.jsx)(f.Z,{className:"w-5 h-5 text-red-600"}),(0,s.jsx)(q.x,{className:"mt-1.5",weight:"medium",children:t}),i&&(0,s.jsx)(q.x,{className:"mt-1 text-balance",children:i}),(n||r||a)&&(0,s.jsxs)("div",{className:"mt-6 flex gap-2.5 flex-wrap justify-center",children:[a&&(0,s.jsx)(z.Button,{onClick:c,children:(0,s.jsx)(l.cC,{id:"574fPg"})}),n&&(0,s.jsx)(z.Button,{onClick:d,children:(0,s.jsx)(l.cC,{id:"KDw4GX"})}),r&&(0,s.jsx)(z.Button,{onClick:u,disabled:o,children:o?h.t("Manual verification requested"):h.t("Manual verification")})]})]})};class ec extends M.h8{reset(){this._voiceToVerify=void 0,this.verification.reset()}async refetchVoice(){var e;if(null===(e=this.voice)||void 0===e?void 0:e.voice_id)try{return this.voice=await (0,E.EzY)({pathParams:{voiceId:this.voice.voice_id}}),this.voice}catch(e){}}get voiceDataStep(){return this.stepper.steps.find(e=>e instanceof ea.ZP)}get voice(){var e;return void 0!==this._voiceToVerify?this._voiceToVerify:null===(e=this.voiceDataStep)||void 0===e?void 0:e.voiceSaved}set voice(e){this._voiceToVerify=e}get verified(){var e,t;return!!(null===(t=this.voice)||void 0===t?void 0:null===(e=t.fine_tuning)||void 0===e?void 0:e.is_allowed_to_fine_tune)}get isEditLocked(){return!this.prev||this.prev instanceof ea.Nu}constructor(e){super(e),(0,a._)(this,"label","Verification"),(0,a._)(this,"_voiceToVerify",void 0),(0,a._)(this,"verification",(0,ee.u)({fetchFn:async e=>{let t=this.voice;t&&(await (0,M.Cl)(this.stepper,async()=>{try{await (0,E.yZW)({pathParams:{voiceId:t.voice_id},body:{recording:e},headers:{"Content-Type":"multipart/form-data"}})}finally{await this.refetchVoice()}}),(0,W.eN)(K.B_.voice_lab_professional_voice_cloning_captcha_succeeded,{voice_id:t.voice_id,name:t.name}))},onError:e=>{let t=this.voice;t&&(0,W.eN)(K.B_.voice_lab_professional_voice_cloning_captcha_failed,{voice_id:t.voice_id,name:t.name,reason:e.message})}})),(0,a._)(this,"Content",(0,j.Pi)(e=>{var t,i,a,r,u,m,p,v;let{onSkip:x}=e,{i18n:g}=(0,l.mV)(),f=this.voice;if(!f)throw Error(g.t("Unreachable: PVC Verification step rendered without a voice clone"));let y=(0,h.hO)(),j=(0,X.bs)("md"),[k,N]=(0,w.useState)(!1),[I,M]=(0,w.useState)(!1),F=(0,J.XE)(),{mutate:B,isLoading:O,error:U,data:H,reset:W}=(0,o.useMutation)({mutationFn:async()=>{let e=await (0,E.HcS)({pathParams:{voiceId:f.voice_id}});return URL.createObjectURL(e)},onError:e=>{e instanceof S.oo&&"already_verified"===e.errorType&&(G.toast.success(g.t("You have already verified this voice.")),this.stepper.goToNext())}});(0,w.useEffect)(()=>{this.verified&&this.stepper.goToNext()},[this.verified]);let{fetch:K,isLoading:Q,error:$,variables:ee,reset:ea}=this.verification;if(null===(i=V.workspaceData.value)||void 0===i?void 0:null===(t=i.subscription)||void 0===t?void 0:t.can_bypass_voice_captcha)return this.stepper.goToNext(),null;let en=(null===(a=f.fine_tuning)||void 0===a?void 0:a.max_verification_attempts)||es,ec=(null===(r=f.fine_tuning)||void 0===r?void 0:r.verification_attempts_count)||0,ed=en-ec,eu=null===(u=V.workspaceData.value)||void 0===u?void 0:u.subscription.can_request_manual_pro_voice_verification,eh=(null==f?void 0:null===(m=f.fine_tuning)||void 0===m?void 0:m.manual_verification_requested)||!1,em=(null===(p=f.fine_tuning)||void 0===p?void 0:p.next_max_verification_attempts_reset_unix_ms)?new Date(f.fine_tuning.next_max_verification_attempts_reset_unix_ms):null,ep=em&&em>new Date,ev=ep?(0,c.Z)(em,{addSuffix:!0}):null,ex=ep&&(ec>=en||U instanceof S.oo&&"max_verification_attempts_reached"===U.errorType);return(0,s.jsxs)("div",{className:"stack justify-center items-center min-h-full",children:[(0,s.jsxs)("div",{className:"flex-1 stack justify-center items-center pt-14 pb-4",children:[(null===(v=this.voiceDataStep)||void 0===v?void 0:v.orbData.value)&&(0,s.jsx)("div",{className:"w-20 h-20 md:w-40 md:h-40",children:(0,s.jsx)(et.Z,{className:"w-full h-full",...this.voiceDataStep.orbData.value})}),(0,s.jsx)(R.X,{as:"h2",className:"text-3xl md:text-4xl mt-6 md:mt-10 text-center px-5 text-balance",children:(0,s.jsx)(l.cC,{id:"BKOMY9"})}),(0,s.jsx)(q.x,{color:"subtle",className:"mt-4 max-w-3xl mx-auto text-center px-5",children:(0,s.jsx)(l.cC,{id:"NcEqA8",components:{0:(0,s.jsx)(Z.Un,{href:D.ZP.termsofuse,target:"_blank",rel:"noopener noreferrer"}),1:(0,s.jsx)(Z.Un,{href:D.ZP.privacyprivacy,target:"_blank",rel:"noopener noreferrer"})}})}),(0,s.jsx)("div",{className:"mt-8 md:mt-14 w-full lg:w-[780px] mx-auto px-2 lg:px-0",children:(0,s.jsxs)("div",{className:"stack gap-5 w-full border border-subtle rounded-3xl p-3 lg:p-7",children:[(0,s.jsx)("div",{className:"relative flex items-center justify-center min-h-[250px]",children:(0,s.jsx)(d.M,{mode:"wait",initial:!1,children:$||U||ex?(0,s.jsx)(P.t,{children:ex?(0,s.jsx)(eo,{title:g.t("Maximum voice verification attempts reached."),message:ev?(0,s.jsx)(l.cC,{id:"qqPp7R",values:{timeUntilReset:ev}}):(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(l.cC,{id:"PMTL7m",components:{0:(0,s.jsx)(Z.Un,{href:D.ZP.helpCenter,target:"_blank"})}})}),showManualVerification:eu,manualVerificationRequested:eh,onManualVerification:()=>N(!0)}):(0,s.jsx)(eo,{message:(null==$?void 0:$.message)?(0,s.jsxs)(s.Fragment,{children:[$.message,(0,s.jsx)("br",{}),1===ed?(0,s.jsx)(l.cC,{id:"NrJvQ6",values:{attemptsLeft:ed}}):(0,s.jsx)(l.cC,{id:"Oc7KLQ",values:{attemptsLeft:ed}})]}):null==U?void 0:U.message,showPlay:!0,onPlay:async()=>{if(!ee)return;let e=await (0,Y.sT)(ee);(0,A.GM)(e,{id:(0,C.k$)(),autoStart:!0,fileName:null,name:ee.name,type:"other",isFirstRequest:!0,player:{title:g.t("Voice verification recording")}})},showRetry:!!$,onRetry:()=>{W(),ea(),M(!1)},showManualVerification:eu,manualVerificationRequested:eh,onManualVerification:()=>N(!0)})},"verification-error"):H?(0,s.jsx)(P.t,{children:O||Q||this.verified?(0,s.jsx)(n.$,{}):I?(0,s.jsx)("img",{src:H,className:"md:scale-75 dark:invert"}):(0,s.jsx)(q.x,{className:"md:text-md text-center text-balance",weight:"medium",children:(0,s.jsx)(l.cC,{id:"NxV9C/"})})},"verification-captcha"):(0,s.jsxs)(P.t,{children:[(0,s.jsx)(q.x,{className:"md:text-md text-center text-balance",weight:"medium",children:(0,s.jsx)(l.cC,{id:"zropuk",components:{0:(0,s.jsx)("strong",{className:"font-semibold"})}})}),(0,s.jsx)(q.x,{className:"text-xs md:text-sm absolute inset-x-0 bottom-0 text-center text-balance",color:"subtle",children:(0,s.jsx)(l.cC,{id:"Sq6lao",components:{0:(0,s.jsx)(_.default,{className:"underline outline-gray-alpha-900",href:"https://help.elevenlabs.io/hc/requests/new",target:"_blank",rel:"noopener noreferrer"})}})})]},"verification-info")})}),(0,s.jsx)(ei.IR,{children:(0,s.jsx)(ei.jp,{maxDuration:15e3,stopButtonLabel:g.t("Submit recording"),disabled:!!U||!!$||ex||this.verified||Q,onChange:async e=>{try{await K(await e.file())}finally{F()}M(!1)},onRecordingStart:()=>{B(),setTimeout(()=>{M(!0)},3e3)}})})]})}),(0,s.jsx)(d.M,{children:ed<=3&&ep&&(0,s.jsx)(P.t,{className:"mt-4",children:(0,s.jsx)(er,{voice:f,children:(0,s.jsx)(z.Button,{variant:"ghost",size:"xs",className:"font-medium text-center text-subtle underline underline-offset-2",children:1===ed?(0,s.jsx)(l.cC,{id:"Iv7LHC",values:{attemptsLeft:ed}}):(0,s.jsx)(l.cC,{id:"sCbiwE",values:{attemptsLeft:ed}})})})})})]}),(0,s.jsxs)("footer",{className:"shrink-0 mt-auto p-5 md:px-8 md:h-20 border-t border-gray-alpha-200 w-full sticky z-10 bottom-0 bg-background/70 backdrop-blur flex items-center gap-3",children:[!this.isEditLocked&&(0,s.jsx)(z.Button,{size:j?"lg":"md",leftIcon:(0,s.jsx)(b.Z,{className:"!w-4 !h-4"}),onClick:()=>this.stepper.goToPrev(),disabled:!y||this.isDisabled,children:(0,s.jsx)(l.cC,{id:"iH8pgl"})}),(0,s.jsx)("div",{className:"max-md:hidden",children:(0,s.jsx)(T.o,{source:"professional-voice-clone-verifcation",buttonSize:"lg",iconClassName:"!w-4 !h-4"})}),(0,s.jsx)("div",{className:"ml-auto"}),eu&&(0,s.jsx)(z.Button,{size:j?"lg":"md",onClick:()=>N(!0),disabled:this.isDisabled||eh,children:eh?g.t("Manual verification requested"):g.t("Manual verification")}),(0,s.jsx)(z.Button,{size:j?"lg":"md",disabled:!y||this.isDisabled,onClick:()=>null==x?void 0:x(),children:this.isEditLocked?g.t("Cancel"):g.t("Skip")})]}),(0,s.jsx)(L.dy,{open:k,onOpenChange:N,children:(0,s.jsx)(L.sc,{className:"max-w-xl mx-auto max-h-[90%] overflow-hidden",hideHandle:!0,children:(0,s.jsx)(el,{voice:f,onSubmit:async()=>{await Promise.all([this.refetchVoice(),F()]),this.stepper.goToNext()},onClose:()=>N(!1)})})})]})})),(0,y.rC)(this,{_voiceToVerify:y.LO,voice:y.Fl,verified:y.Fl,isEditLocked:y.Fl,reset:y.aD})}}},75515:function(e,t,i){"use strict";i.d(t,{Nu:function(){return to},oR:function(){return ta},ZP:function(){return tr}});var a=i(17024),s=i(68088),n=i(16714),l=i(6991),r=i(89775),o=i(55673),c=i(40534),d=i(46736),u=i(92858),h=i(88440),m=i(79459),p=i(47607),v=i(5479),x=i(81999),g=i(19803),f=i(9506),b=i(34161),y=i(50276),j=i(4322),_=i(30487),w=i(69201),k=i(1851),N=i(42032),C=i(13774),S=i(754),E=i(81398),P=i(29047),V=i(93062),D=i(4735),A=i(20807),T=i(46547),I=i(96474),M=i(32689),z=i(72752),L=i(11521),R=i(65204),F=i(84106),B=i(63415),O=i(85753),Z=i(70554),U=i(60189),q=i(54389),H=i(39255),G=i(54752),W=i(64108),K=i(58397),Y=i(15750),X=i(52389),Q=i(43479),J=i(21147),$=i(43941),ee=i(4111),et=i(4035),ei=i(58603),ea=i(81777),es=i(94814),en=i(98780),el=i(92655),er=i(42910),eo=i(54384),ec=i(6056),ed=i(33802),eu=i(50339),eh=i(68403),em=i(89477),ep=i(26090),ev=i(22021),ex=i(81069),eg=i(20308),ef=i(74346),eb=i(3030),ey=i(22869),ej=i(29815),e_=i(77491),ew=i(64172),ek=i(43614);let eN=function(e){let{voiceId:t,sampleId:i}=e,a=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return(0,_.Hab)({pathParams:{voiceId:t,sampleId:i}},{enabled:a,refetchInterval:e=>(null==e?void 0:e.status)==="pending"&&5e3,retry:!1,retryDelay:5e3,refetchOnWindowFocus:!1,refetchOnReconnect:!1})},eC=["#5D79DF","#EB534C","#E9CA39","#10B978","#F36F1C","#BD74DC"],eS=(0,x.Pi)(e=>{var t,i;let{file:a}=e,{i18n:n}=(0,l.mV)(),r=(0,f.useId)(),o=(0,f.useMemo)(()=>{var e,t;return(null===(t=a.sample)||void 0===t?void 0:null===(e=t.speaker_separation)||void 0===e?void 0:e.speakers)&&Object.values(a.sample.speaker_separation.speakers)},[null===(i=a.sample)||void 0===i?void 0:null===(t=i.speaker_separation)||void 0===t?void 0:t.speakers]),{control:c,watch:d}=(0,y.Gc)(),u=d("selectedSpeakerIds"),h=d("trim"),m=(0,f.useCallback)(e=>1e3*e.start>=h[0]&&1e3*e.start<=h[1]||1e3*e.end>=h[0]&&1e3*e.end<=h[1],[h]),[v,x,g]=(0,f.useMemo)(()=>{let e=o?o.flatMap(e=>{var t;return null!==(t=e.utterances)&&void 0!==t?t:[]}).filter(m):void 0,t=Math.max(Math.min(...(e=(null==e?void 0:e.length)?e:[{start:0,end:1}]).map(e=>{let{start:t}=e;return t})),h[0]/1e3),i=Math.min(Math.max(...e.map(e=>{let{end:t}=e;return t})),h[1]/1e3);return[t,i,i-t]},[o,m,h]),b=e=>u.includes(e),j=(0,f.useMemo)(()=>{let e=u.length>0&&o?o.filter(e=>b(e.speaker_id)).flatMap(e=>e.utterances).filter(e=>!!e).filter(m).map(e=>({start:Math.max(e.start,v),end:Math.min(e.end,x)})):void 0;return null!=e||(e=[{start:v,end:x}]),e.sort((e,t)=>e.start-t.start),e},[u,o,v,x,m]),[_,w]=(0,f.useState)(v),{isActive:k,isPlaying:N,togglePlay:C,isLoading:S}=(0,ew.kY)(a);(0,f.useEffect)(()=>{let e;if(!N||!ep._m.value)return;let t=ep._m.value,i=()=>{let i=t.currentTime;w(i);let a=j.filter(e=>i<=Math.floor(e.end)),s=a.at(0);if(s&&s.start<=i&&i<=Math.floor(s.end))return;let n=a.at(0);if(n)t.currentTime=n.start;else if(e)(0,ep.pt)(),window.clearInterval(e),e=void 0;else{var l,r;t.currentTime=null!==(r=null===(l=j.at(0))||void 0===l?void 0:l.start)&&void 0!==r?r:0}};return i(),e=window.setInterval(i,25),()=>window.clearInterval(e)},[ep._m.value,j,N,w]);let E=e=>eC[e%eC.length];return(0,s.jsxs)("fieldset",{children:[(0,s.jsx)("legend",{className:"sr-only",children:(0,s.jsx)(l.cC,{id:"Quycet"})}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(I.Label,{weight:"semi-bold",children:(0,s.jsx)(l.cC,{id:"/9y+8w"})}),(0,s.jsx)(L.x,{color:"subtle",className:"text-xs sm:text-sm",children:(0,s.jsx)(l.cC,{id:"CZJ1TW"})})]}),(0,s.jsx)(D.Button,{type:"button",size:"sm",loading:S,leftIcon:N?(0,s.jsx)(et.Z,{className:"!w-3 !h-3"}):(0,s.jsx)(J.JF,{className:"!w-2.5 !h-2.5"}),onClick:()=>{k?N?(0,ep.pt)():(0,ep.Sk)():C()},children:N?n.t("Pause selection"):n.t("Play selection")})]}),null==o?void 0:o.map((e,t)=>(0,s.jsx)(y.Qr,{name:"selectedSpeakerIds",control:c,render:i=>{let{field:a}=i;return(0,s.jsx)("div",{className:"mt-4 stack gap-3",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)(I.Label,{htmlFor:"".concat(r,"-").concat(e.speaker_id),className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-2 h-2 rounded-full bg-red-500",style:{backgroundColor:E(t)}}),(0,s.jsx)("span",{children:(0,s.jsx)(l.cC,{id:"lip0az",values:{0:t+1}})})]}),(0,s.jsx)("div",{className:"ml-auto"}),(0,s.jsx)(ei.fC,{id:"".concat(r,"-").concat(e.speaker_id),checked:b(e.speaker_id),onCheckedChange:t=>{t?a.onChange([...a.value,e.speaker_id]):a.onChange(a.value.filter(t=>t!==e.speaker_id))},asChild:!0,children:b(e.speaker_id)?(0,s.jsx)(D.Button,{size:"sm",variant:"primary",leftIcon:(0,s.jsx)(p.Z,{}),type:"button",children:(0,s.jsx)(l.cC,{id:"br2/DY"})}):(0,s.jsx)(D.Button,{size:"sm",type:"button",children:(0,s.jsx)(l.cC,{id:"C9RnGH"})})})]})})}},e.speaker_id)),(0,s.jsxs)("div",{className:"w-full mt-8 bg-gray-alpha-50 rounded-[10px] border relative",style:{scrollbarWidth:"thin","--width-per-second":"calc(100% / ".concat(g,")")},children:[(0,s.jsx)("div",{className:"stack w-full divide-y",children:null==o?void 0:o.map((e,t)=>{var i,a;return(0,s.jsx)("div",{className:"relative inline-flex items-center h-6 transition-opacity duration-200",style:{opacity:0===u.length||b(e.speaker_id)?1:.2,width:"calc(".concat(g," * var(--width-per-second))")},children:null===(a=e.utterances)||void 0===a?void 0:null===(i=a.filter(m).map(e=>({start:Math.max(e.start,v),end:Math.min(e.end,x)})))||void 0===i?void 0:i.map(e=>(0,s.jsx)("div",{className:"absolute h-1",style:{backgroundColor:E(t),left:"calc(".concat(e.start-v," * var(--width-per-second))"),width:"calc(".concat(e.end-e.start," * var(--width-per-second))")}},e.start))},e.speaker_id)})}),(0,s.jsxs)(ea.fC,{className:"absolute left-0 inset-y-0 [&>span:has(>[role='slider'])]:inset-y-0",min:0,max:g,step:.01,value:[_-v],onValueChange:e=>{let[t]=e;if(!ep._m.value)return;(0,ep.pt)();let i=t+v;ep._m.value.currentTime=i,w(i)},style:{width:"calc(".concat(g," * var(--width-per-second))")},children:[(0,s.jsx)(ea.fQ,{className:"absolute inset-0"}),(0,s.jsxs)(ea.bU,{className:"w-0.5 stack items-center h-full relative focus:outline-foreground focus:outline-offset-4","aria-valuetext":"".concat((0,e_.zG)(Math.floor(_-v))," of ").concat((0,e_.zG)(Math.floor(g))),"aria-label":"Audio player seek",children:[(0,s.jsx)("div",{className:"-mt-2 relative w-2 h-2 rounded-full bg-background border-2 border-foreground"}),(0,s.jsx)("div",{className:"w-0.5 flex-1 bg-foreground rounded-b-full"})]})]})]}),(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsx)(L.x,{color:"subtle",className:"text-xs sm:text-sm",children:(0,s.jsx)(l.cC,{id:"axiNYJ"})})})]})}),eE=(0,s.jsx)("div",{className:"h-full flex items-center justify-center group",children:(0,s.jsx)("div",{className:"w-0.5 h-2 bg-background rounded-full group-hover:h-3 transition-all duration-200"})}),eP=e=>1-Math.cos(e*Math.PI/2),eV=e=>{var t;let{file:i,voiceId:a}=e;if(!i.sample)throw Error("Unreachable: Audio file does not appear to be uploaded");if(void 0===i.duration)throw Error("Unreachable: Audio file does not have duration");let n=i.duration,r=(0,f.useRef)(0),{control:o}=(0,y.Gc)(),{field:c}=(0,y.bc)({control:o,name:"trim"}),u=(0,f.useRef)(null),[h,m]=(0,f.useState)(10);(0,H.yU)(u,()=>{var e,t;m(null!==(t=null===(e=u.current)||void 0===e?void 0:e.clientWidth)&&void 0!==t?t:0)});let p=(0,f.useRef)(null),v=(0,f.useRef)(null),x=(0,f.useRef)(null),[g,b]=(0,f.useState)(0),[j,k]=(0,f.useState)(!1),[N,C]=(0,f.useState)(null),[S,E]=(0,f.useState)(null),{data:P,error:V,isLoading:D}=(0,_.YJu)({pathParams:{voiceId:a,sampleId:i.sample.sample_id}},{refetchOnWindowFocus:!1});(0,f.useEffect)(()=>{let e;if(!P&&!V)return;let t=!1,a=em.Z.create();return(async()=>{let s={container:p.current,waveColor:"light"===ev.themeManager.get()?"#d6d6da":"#494950",progressColor:"light"===ev.themeManager.get()?"#0f0f10":"#ffffff",barWidth:2,barHeight:1,normalize:!0,cursorWidth:2,cursorColor:"#ff0000",barRadius:2,height:"auto",dragToSeek:!0,plugins:[a]};P&&P.visual_waveform.length>0&&(s.peaks=[P.visual_waveform],s.duration=n/1e3),i instanceof ek.X4?s.url=await i.signedUrl():s.url=await (0,q.sT)(await i.file()),e=eh.Z.create(s),s.peaks&&0!==s.peaks.length||await e.loadBlob(await i.file());let l=()=>{var t;return k(null!==(t=null==e?void 0:e.isPlaying())&&void 0!==t&&t)};e.on("init",()=>{t?(null==e||e.unAll(),null==e||e.destroy()):(C(e),E(a))}),e.on("play",l),e.on("pause",l),a.on("region-out",()=>{(null==e?void 0:e.isPlaying())&&e.pause()})})(),()=>{t=!0,a.unAll(),a.destroy(),null==e||e.unAll(),null==e||e.destroy()}},[P,V,n,C,E,k]),(0,f.useEffect)(()=>{var e,t;null===(t=x.current)||void 0===t||null===(e=t.resizableElement.current)||void 0===e||e.scrollIntoView({behavior:"instant",block:"nearest"})},[g]),(0,f.useEffect)(()=>{N&&S&&(S.clearRegions(),S.addRegion({start:c.value[0]/1e3,end:c.value[1]/1e3,color:"transparent",drag:!1,resize:!1}))},[c.value,S,N]);let A=c.value,T=h+Math.max((5*(null!==(t=null==P?void 0:P.visual_waveform.length)&&void 0!==t?t:0)||n)-h,0)*eP(g/100);return(0,s.jsx)("fieldset",{className:"contents",children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(I.Label,{weight:"semi-bold",children:(0,s.jsx)(l.cC,{id:"saFksK"})}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(I.Label,{size:"xs",children:(0,s.jsx)(l.cC,{id:"ACjxWW"})}),(0,s.jsx)(ey.i,{value:g,onValueChange:b,className:"w-32","aria-label":"Zoom",disabled:D,formatter:e=>"".concat(e,"%")})]}),j?(0,s.jsx)(eb.h,{"aria-label":"Pause",tooltip:"Pause",type:"button",onClick:()=>null==N?void 0:N.pause(),disabled:D,children:(0,s.jsx)(et.Z,{className:"!w-3.5 !h-3.5"})}):(0,s.jsx)(eb.h,{"aria-label":"Play",tooltip:"Play",type:"button",disabled:D,onClick:()=>{let e=null==S?void 0:S.getRegions()[0];null==e||e.play()},children:(0,s.jsx)(J.JF,{className:"!w-3 !h-3"})})]})]}),(0,s.jsx)("div",{className:(0,U.cn)("mt-4 max-w-full overflow-x-hidden transition-opacity duration-150",{"pointer-events-none opacity-0":D}),style:{width:T},tabIndex:-1,ref:v,children:(0,s.jsxs)("div",{className:"relative h-4",style:{width:T},children:[(0,s.jsx)("div",{className:"absolute top-0 text-xs font-semibold tabular-nums",style:{left:A[0]*T/n},children:(0,e_.zG)(A[0]/1e3)}),(0,s.jsx)("div",{className:"absolute top-0 text-xs font-semibold text-right -translate-x-full tabular-nums",style:{left:A[1]*T/n},children:(0,e_.zG)(A[1]/1e3)})]})}),(0,s.jsx)("div",{className:"w-full bg-gray-alpha-50 rounded-[10px] border overflow-hidden",children:(0,s.jsxs)("div",{className:"relative max-w-full overflow-x-auto py-4",ref:u,style:{scrollbarWidth:"thin"},onScroll:e=>{v.current&&(v.current.scrollLeft=e.currentTarget.scrollLeft)},children:[(0,s.jsx)("div",{ref:p,className:"h-16 [&_::part(region)]:!pointer-events-none",style:{width:T}}),(0,s.jsxs)("div",{className:"absolute left-0 inset-y-0 z-10 pointer-events-none",style:{width:T},children:[(0,s.jsx)(d.M,{initial:!1,children:D&&(0,s.jsxs)(w.t,{className:"absolute inset-0 flex items-center justify-center gap-2",transition:{duration:.15},style:{width:T},children:[(0,s.jsx)(ee.$,{size:"sm"}),(0,s.jsx)(L.x,{weight:"medium",children:(0,s.jsx)(l.cC,{id:"UcVyuw"})})]})}),(0,s.jsx)("div",{className:(0,U.cn)("absolute inset-y-0 left-0 bg-gray-alpha-200 pointer-events-none transition-opacity duration-150",D?"opacity-0":"opacity-100"),style:{width:A[0]*T/n+(j?0:6)}}),(0,s.jsx)("div",{className:(0,U.cn)("absolute inset-y-0 right-0 bg-gray-alpha-200 pointer-events-none transition-opacity duration-150",D?"opacity-0":"opacity-100"),style:{left:A[1]*T/n-(j?0:6)}}),(0,s.jsx)(eu.s,{className:(0,U.cn)("border-foreground border-y-2 border-x-[6px] rounded-[9px] h-full transition-opacity duration-150 pointer-events-auto",{"pointer-events-none opacity-0":D||j}),ref:x,bounds:"parent",resizeHandleComponent:{left:eE,right:eE},size:{height:"100%",width:(A[1]-A[0])*(T/n)},position:{x:A[0]*(T/n),y:0},minWidth:T/n*1e3,enableResizing:{bottom:!1,bottomLeft:!1,bottomRight:!1,left:!0,right:!0,top:!1,topLeft:!1,topRight:!1},dragAxis:"x",resizeHandleClasses:{left:"!-left-1.5 !w-1.5",right:"!-right-1.5 !w-1.5"},onResizeStart:(e,t)=>{r.current="left"===t?A[0]:A[1]},onResize:(e,t,i,a)=>{"left"===t?c.onChange([Math.round((0,W.uZ)(r.current-a.width*n/T,0,n)),A[1]]):c.onChange([A[0],Math.round((0,W.uZ)(r.current+a.width*n/T,0,n))])},onDrag:(e,t)=>{c.onChange([Math.round((0,W.uZ)(A[0]+t.deltaX*n/T,0,n-(A[1]-A[0]))),Math.round((0,W.uZ)(A[1]+t.deltaX*n/T,A[0],n))])}})]})]})})]})})},eD=e=>{var t;let i="isolated-preview-".concat(e.id),{i18n:a}=(0,l.mV)(),{mutate:s,isLoading:r}=(0,o.useMutation)({mutationFn:e=>{let{sampleId:t,voiceId:i,removeBackgroundNoise:a}=e;return(0,_.Y0R)({pathParams:{sampleId:t,voiceId:i},queryParams:{remove_background_noise:a}})},onSuccess:(t,s)=>{let{removeBackgroundNoise:l}=s,r=l?a._(n.ag._({id:"GdWpzV",values:{0:e.name}})):a._(n.ag._({id:"SxCqaV",values:{0:e.name}}));(0,ep.GM)("data:audio/mpeg;base64,".concat(t.audio_base_64),{id:i,name:r,autoStart:!0,fileName:r,isFirstRequest:!0,player:{title:r},type:"other"})}}),c=(null===(t=ep.Qu.value)||void 0===t?void 0:t.id)===i,d=ep.yA.value&&c;return(0,f.useEffect)(()=>()=>{var e;(null===(e=ep.Qu.value)||void 0===e?void 0:e.id)===i&&(0,ep.ob)()},[]),{fetchIsolatedPreview:s,isFetchingIsolatedPreview:r,isIsolatedPreviewPlaying:d,isIsolatedPreviewActive:c}},eA=(0,x.Pi)(e=>{var t,i,a,n,r,o,c,u,h,m,p,v,x;let{voiceId:g,file:b,onSave:j}=e,{i18n:k}=(0,l.mV)();if(!b.sample)throw Error("Unreachable: Audio file does not appear to be uploaded");let N=b.sample.sample_id,C={backgroundNoise:(0,f.useId)(),speakerSelection:(0,f.useId)()},S=(0,y.cI)({defaultValues:{removeBackgroundNoise:null!==(u=null===(t=b.sample)||void 0===t?void 0:t.remove_background_noise)&&void 0!==u&&u,selectedSpeakerIds:null!==(h=null===(a=b.sample)||void 0===a?void 0:null===(i=a.speaker_separation)||void 0===i?void 0:i.selected_speaker_ids)&&void 0!==h?h:[],trim:[null!==(m=null===(n=b.sample)||void 0===n?void 0:n.trim_start)&&void 0!==m?m:0,null!==(v=null===(r=b.sample)||void 0===r?void 0:r.trim_end)&&void 0!==v?v:Math.trunc(null!==(p=b.duration)&&void 0!==p?p:1e3)]}}),{formState:{isSubmitting:E,dirtyFields:P},control:V,watch:A,handleSubmit:T}=S,M=(0,Y.XE)(),{mutateAsync:z}=(0,_.gm$)({onSuccess:()=>{M()}}),{fetchIsolatedPreview:R,isFetchingIsolatedPreview:Z,isIsolatedPreviewActive:U,isIsolatedPreviewPlaying:q}=eD(b),{data:H,refetch:G}=eN({voiceId:g,sampleId:N}),{mutate:W,error:K,isLoading:X}=(0,_.n_u)({onSuccess:()=>G()}),Q=X||(null==H?void 0:H.status)==="pending",$=!!K||(null==H?void 0:H.status)==="failed",ei=(null===(c=b.sample)||void 0===c?void 0:null===(o=c.speaker_separation)||void 0===o?void 0:o.speakers)&&Object.values(b.sample.speaker_separation.speakers).length,ea=async e=>{try{var t,i,a,s,n;await z({pathParams:{voiceId:g,sampleId:N},body:{remove_background_noise:P.removeBackgroundNoise?e.removeBackgroundNoise:void 0,selected_speaker_ids:P.selectedSpeakerIds?e.selectedSpeakerIds:void 0,...b.duration?{trim_start_time:P.trim?null!==(a=e.trim.at(0))&&void 0!==a?a:0:void 0,trim_end_time:P.trim?null!==(s=e.trim.at(1))&&void 0!==s?s:Math.trunc(b.duration):void 0}:void 0}}),b.sample&&(b.sample.remove_background_noise=e.removeBackgroundNoise,b.sample.speaker_separation&&(b.sample.speaker_separation={...b.sample.speaker_separation,selected_speaker_ids:e.selectedSpeakerIds}),b.sample.trim_start=e.trim[0],b.sample.trim_end=e.trim[1]),(0,B.eN)(O.B_.voice_lab_professional_voice_cloning_sample_edited,{voiceId:g,sampleId:N,removeBackgroundNoise:e.removeBackgroundNoise,selectedSpeakerIds:e.selectedSpeakerIds,duration:b.duration,nSpeakers:Object.keys(null!==(n=null===(i=b.sample)||void 0===i?void 0:null===(t=i.speaker_separation)||void 0===t?void 0:t.speakers)&&void 0!==n?n:{}).length,trim_start:e.trim[0],trim_end:e.trim[1]}),j()}catch(e){(0,es.Tb)(e),F.toast.errorHttp(e,k.t("Could not save audio settings, please try again after some time."))}};return(0,s.jsxs)("div",{className:"stack relative flex-1 overflow-y-auto",children:[(0,s.jsxs)(ex.OX,{className:"px-5 lg:px-7 pt-8 pb-6",children:[(0,s.jsx)(ex.iI,{className:"text-md",children:(0,s.jsx)(l.cC,{id:"Tz0i8g"})}),(0,s.jsx)(ex.$m,{})]}),(0,s.jsx)(y.RV,{...S,children:(0,s.jsxs)("form",{className:"stack flex-1",onSubmit:T(ea),children:[(0,s.jsx)("fieldset",{className:"flex-1 contents",disabled:E,role:"none",children:(0,s.jsxs)("div",{className:"px-5 lg:px-7 stack gap-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(I.Label,{weight:"semi-bold",htmlFor:C.backgroundNoise,children:(0,s.jsx)(l.cC,{id:"E5UUkN"})}),(0,s.jsx)(L.x,{color:"subtle",className:"text-xs sm:text-sm",children:(0,s.jsx)(l.cC,{id:"S17S7m"})})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(y.Qr,{name:"removeBackgroundNoise",control:V,render:e=>{let{field:t}=e;return(0,s.jsx)(ej.r,{id:C.backgroundNoise,checked:t.value,onCheckedChange:e=>{t.onChange(e),U&&(0,ep.ob)()}})}}),q?(0,s.jsx)(eb.h,{"aria-label":k.t("Pause preview"),tooltip:k.t("Pause preview"),type:"button",onClick:()=>(0,ep.pt)(),children:(0,s.jsx)(et.Z,{className:"!w-3.5 !h-3.5"})}):(0,s.jsx)(eb.h,{"aria-label":k.t("Play preview"),tooltip:k.t("Play preview"),type:"button",loading:Z,onClick:()=>{R({sampleId:N,voiceId:g,removeBackgroundNoise:A("removeBackgroundNoise")})},children:(0,s.jsx)(J.JF,{className:"!w-3 !h-3"})})]})]}),void 0!==b.duration&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("hr",{className:"border-subtle"}),(0,s.jsx)(eV,{file:b,voiceId:g})]}),(0,s.jsx)("hr",{className:"border-subtle"}),(0,s.jsx)(d.M,{mode:"wait",initial:!1,children:ei&&ei>0?(0,s.jsx)(w.t,{children:(0,s.jsx)(eS,{file:b})},"settings-select-speaker"):(0,s.jsxs)(w.t,{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(I.Label,{weight:"semi-bold",children:(0,s.jsx)(l.cC,{id:"vNtKka"})}),(0,s.jsx)(L.x,{color:"subtle",className:"text-xs sm:text-sm",children:(0,s.jsx)(l.cC,{id:"dycQzm"})})]}),(0,s.jsx)(d.M,{initial:!1,children:0!==ei&&(0,s.jsx)(w.t,{children:(0,s.jsx)(D.Button,{type:"button",disabled:Q,onClick:()=>{(0,B.eN)(O.B_.voice_lab_professional_voice_cloning_speaker_separation_started,{voiceId:g,sampleId:N,duration:b.duration}),W({pathParams:{voiceId:g,sampleId:N}})},children:(0,s.jsx)(l.cC,{id:"XtBp6T"})})})})]}),(0,s.jsx)(d.M,{mode:"wait",initial:!1,children:Q?(0,s.jsxs)(w.t,{className:"py-8 flex items-center justify-center gap-2",children:[(0,s.jsx)(ee.$,{size:"sm"}),(0,s.jsx)(L.x,{weight:"medium",children:(0,s.jsx)(l.cC,{id:"mJUasP"})})]},"settings-speaker-separation-loading"):0===ei?(0,s.jsx)(w.t,{className:"py-8 text-center",children:(0,s.jsx)(L.x,{color:"subtle",children:(0,s.jsx)(l.cC,{id:"PG9fQk"})})},"settings-speaker-separation-empty"):$?(0,s.jsxs)(w.t,{className:"py-8 flex items-center justify-center gap-2",children:[(0,s.jsx)(en.Z,{className:"w-5 h-5 text-error"}),(0,s.jsx)(L.x,{weight:"medium",className:"text-error",children:(null==H?void 0:H.status)==="failed"?k.t("Failed to separate speakers"):null!==(x=null==K?void 0:K.message)&&void 0!==x?x:k.t("Failed to start speaker separation")})]},"settings-speaker-separation-error"):null})]},"settings-speaker-separation")})]})}),(0,s.jsxs)(ex.ze,{className:"stack items-stretch gap-0 sticky bottom-0 p-0 mt-auto backdrop-blur z-10",children:[(0,s.jsxs)("div",{className:"flex flex-row justify-between items-center px-5 lg:px-7 py-4 bg-background/70",children:[(0,s.jsx)(ex.uh,{asChild:!0,children:(0,s.jsx)(D.Button,{type:"button",className:"bg-background",disabled:E,children:(0,s.jsx)(l.cC,{id:"dEgA5A"})})}),(0,s.jsx)(D.Button,{variant:"primary",type:"submit",loading:E,children:(0,s.jsx)(l.cC,{id:"NUwmnf"})})]}),(0,s.jsx)("div",{className:"border-t px-5 lg:px-7 py-2 bg-gray-50/70",children:(0,s.jsx)(L.x,{className:"text-[10px] text-center",children:(0,s.jsx)(l.cC,{id:"6IYYST"})})})]})]})})]})}),eT=e=>{let{open:t,onOpenChange:i,voiceId:a,file:n}=e;if(!n.sample)throw Error("Unreachable: Audio file does not appear to be uploaded");let l=n.sample.sample_id,r=(0,Y.XE)(),{data:o}=eN({voiceId:a,sampleId:l},void 0!==n.sample);return(0,f.useEffect)(()=>{if((null==o?void 0:o.status)==="completed"&&n.sample){var e;(0,B.eN)(O.B_.voice_lab_professional_voice_cloning_speaker_separation_completed,{voiceId:a,sampleId:l,duration:n.duration,nSpeakers:Object.keys(null!==(e=o.speakers)&&void 0!==e?e:{}).length}),n.sample.speaker_separation=o,r()}},[o,r,l,n.sample]),(0,s.jsx)(ex.dy,{open:t,onOpenChange:i,children:(0,s.jsx)(ex.sc,{className:"max-w-xl mx-auto max-h-[90%] overflow-hidden",style:{minHeight:"min(800px, 90%)"},hideHandle:!0,children:(0,s.jsx)(eA,{voiceId:a,file:n,onSave:()=>i(!1)})})})},eI=(0,x.Pi)(e=>{var t,i,a,n;let{voiceId:r,file:o,onReupload:c,onRemove:u}=e,{i18n:h}=(0,l.mV)(),{isLoading:m,isPlaying:p,togglePlay:v}=(0,ew.kY)(o),[x,g]=(0,f.useState)(!1),{mutateAsync:b,isLoading:y}=(0,ew.P0)(o),j=(0,H.bs)("sm"),k=(0,Y.XE)(),{mutateAsync:N,isLoading:C}=(0,_.qvn)({onSuccess:()=>{k()}}),S="type"in o&&"recording"===o.type,E=o.sample&&("number"==typeof o.sample.trim_start&&o.sample.trim_start>0||"number"==typeof o.sample.trim_end&&o.duration&&o.sample.trim_end<Math.trunc(o.duration)),P=o.sample&&(o.sample.remove_background_noise||!!(null===(i=o.sample.speaker_separation)||void 0===i?void 0:null===(t=i.selected_speaker_ids)||void 0===t?void 0:t.length)||E),V=async()=>{o.sample&&await N({pathParams:{voiceId:r,sampleId:o.sample.sample_id}}),u(o)},A=(0,s.jsx)(d.M,{initial:!1,children:P&&(0,s.jsx)(w.t,{"aria-hidden":!0,className:"absolute -top-0.5 -right-0.5 w-2 h-2 rounded-full bg-blue-500 ring-2 ring-background"})});return(0,s.jsxs)(M.HC,{className:"px-0 py-4","aria-label":o.name,children:[(0,s.jsx)(M.L9,{children:(0,s.jsx)(ef.Z,{className:"text-gray-alpha-900",children:S?(0,s.jsx)(J.XQ,{}):(0,s.jsx)(el.Z,{})})}),(0,s.jsxs)(M.Ek,{children:[(0,s.jsx)(L.x,{size:"sm",weight:"medium",className:"truncate",children:o.name}),o instanceof ek.EU&&"error"===o.status&&o.error?(0,s.jsxs)("div",{className:"flex items-center gap-2 mt-0.5",children:[(0,s.jsx)(L.x,{size:"sm",weight:"medium",className:"text-error",children:o.error.message}),"warning"===o.error.type&&(0,s.jsx)(D.Button,{size:"xs",variant:"link",className:"underline",onClick:()=>c(o),children:(0,s.jsx)(l.cC,{id:"ONWvwQ"})}),(0,s.jsx)(D.Button,{size:"xs",variant:"link",className:"underline",onClick:()=>u(o),children:(0,s.jsx)(l.cC,{id:"t/YqKh"})})]}):(0,s.jsx)(L.x,{size:"sm",color:"subtle",className:"mt-0.5",children:["number"==typeof(null===(a=o.sample)||void 0===a?void 0:a.trim_start)&&"number"==typeof(null===(n=o.sample)||void 0===n?void 0:n.trim_end)?"".concat((0,z.LU)(o.sample.trim_end-o.sample.trim_start)):o.duration?(0,z.LU)(o.duration):void 0,"size"in o&&"number"==typeof o.size?(0,K.KS)(o.size):void 0,S?h.t("Recording"):h.t("File upload")].filter(Boolean).join(" • ")})]}),(0,s.jsxs)(M.cT,{className:"gap-1",children:[(0,s.jsx)(eb.h,{"aria-label":p?h.t("Pause audio"):h.t("Play audio"),tooltip:p?h.t("Pause audio"):h.t("Play audio"),loading:m,disabled:C,onClick:v,children:p?(0,s.jsx)(et.Z,{className:"!w-3.5 !h-3.5"}):(0,s.jsx)(J.JF,{className:"!w-3 !h-3"})}),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(eb.h,{className:"max-sm:hidden","aria-label":h.t("Download file"),tooltip:h.t("Download file"),loading:y,disabled:C,onClick:()=>b(),children:(0,s.jsx)(er.Z,{})}),o.sample&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(eb.h,{className:"relative max-sm:hidden","aria-label":h.t("Audio settings"),tooltip:h.t("Audio settings"),disabled:C,onClick:()=>{(0,ep.pt)(),g(!0)},children:(0,s.jsxs)("div",{className:"flex items-center justify-center",children:[A,(0,s.jsx)(eo.Z,{className:"w-4 h-4"})]})}),(0,s.jsx)(eT,{open:x,onOpenChange:g,voiceId:r,file:o})]}),(0,s.jsx)(eb.h,{className:"max-sm:hidden","aria-label":h.t("Remove audio sample"),tooltip:h.t("Remove audio sample"),loading:C,onClick:V,children:(0,s.jsx)(ec.Z,{className:"!w-3.5 !h-3.5"})})]}),!j&&(0,s.jsxs)(eg.h_,{children:[(0,s.jsx)(eg.$F,{asChild:!0,children:(0,s.jsx)(eb.h,{className:"relative","aria-label":h.t("More options"),tooltip:h.t("More options"),children:(0,s.jsxs)("div",{children:[A,(0,s.jsx)(ed.Z,{className:"w-4 h-4"})]})})}),(0,s.jsxs)(eg.AW,{children:[(0,s.jsxs)(eg.Xi,{className:"gap-1.5",disabled:C||y,onSelect:e=>{e.preventDefault(),b()},children:[(0,s.jsx)(er.Z,{className:"w-3.5 h-3.5"}),y?h.t("Downloading..."):h.t("Download")]}),(0,s.jsxs)(eg.Xi,{className:"gap-1.5",disabled:C,onSelect:()=>{(0,ep.pt)(),g(!0)},children:[(0,s.jsx)(eo.Z,{className:"w-3.5 h-3.5"}),(0,s.jsx)(l.cC,{id:"Tz0i8g"}),(0,s.jsx)(d.M,{children:P&&(0,s.jsx)(w.t,{"aria-hidden":!0,className:"ml-auto w-1.5 h-1.5 rounded-full bg-blue-500"})})]}),(0,s.jsxs)(eg.Xi,{className:"gap-1.5",disabled:C,onSelect:e=>{e.preventDefault(),V()},children:[(0,s.jsx)(ec.Z,{className:"w-3.5 h-3.5"}),C?h.t("Removing..."):h.t("Remove")]})]})]})]})]})}),eM=(0,x.Pi)(e=>{let{file:t}=e,{i18n:i}=(0,l.mV)();return(0,s.jsxs)(M.HC,{className:"px-0 py-4 animate-pulse",style:{animationDuration:"2s"},children:[(0,s.jsx)(M.L9,{children:(0,s.jsx)(ee.$,{size:"sm"})}),(0,s.jsxs)(M.Ek,{children:[(0,s.jsx)(L.x,{size:"sm",weight:"medium",className:"truncate",children:t.name}),(0,s.jsx)(L.x,{size:"sm",color:"subtle",className:"mt-0.5",children:t.loadingText||i.t("Uploading")})]}),(0,s.jsxs)(M.cT,{className:"gap-1",children:[(0,s.jsx)(eb.h,{"aria-label":i.t("Play audio"),disabled:!0,children:(0,s.jsx)(J.JF,{className:"!w-3 !h-3"})}),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(eb.h,{className:"max-sm:hidden","aria-label":i.t("Download file"),disabled:!0,children:(0,s.jsx)(er.Z,{})}),(0,s.jsx)(eb.h,{className:"max-sm:hidden","aria-label":i.t("Audio settings"),disabled:!0,children:(0,s.jsx)(eo.Z,{})}),(0,s.jsx)(eb.h,{className:"max-sm:hidden","aria-label":i.t("Remove audio"),disabled:!0,children:(0,s.jsx)(ec.Z,{className:"!w-3.5 !h-3.5"})})]}),(0,s.jsx)(eb.h,{className:"sm:hidden","aria-label":i.t("More options"),disabled:!0,children:(0,s.jsx)(ed.Z,{})})]})]})});var ez=i(40882),eL=i(11629),eR=i(75349),eF=i(92879),eB=i(57537);let eO=(0,x.Pi)(e=>{var t;let{files:i}=e,{i18n:a}=(0,l.mV)(),[n,r]=(0,f.useState)(0),{mutate:u,isLoading:h}=(0,o.useMutation)({mutationFn:e=>(0,ew.Ae)(e)}),{mutate:m,isLoading:p}=(0,o.useMutation)({mutationFn:e=>(0,ew.Ae)(e)});(0,f.useEffect)(()=>{if(!ep._m.value)return;let e=ep._m.value,t=()=>r(e.currentTime);return e.addEventListener("timeupdate",t),()=>{e.removeEventListener("timeupdate",t)}},[ep._m.value,r]);let v=i.findIndex(e=>{var t;return e.id===(null===(t=ep.Qu.value)||void 0===t?void 0:t.id)}),x=i.at(v),g=x instanceof ek.EU&&"recording"===x.type,b=(null!==(t=null==x?void 0:x.duration)&&void 0!==t?t:0)/1e3;return(0,s.jsx)(d.M,{children:x&&-1!==v&&(0,s.jsxs)(c.E.div,{className:"stack w-full gap-0.5 justify-between",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.4,ease:"easeOut"},children:[(0,s.jsxs)("div",{className:"grid grid-cols-[auto,auto] lg:grid-cols-3 items-center gap-0.5 pl-5 pr-3 h-20 md:h-auto md:px-2",children:[(0,s.jsxs)("div",{className:"hstack items-center gap-2 min-w-0",children:[(0,s.jsx)("div",{className:"h-8 w-8 center bg-gray-alpha-100 rounded-lg shrink-0",children:(0,s.jsx)(ef.Z,{className:"text-gray-alpha-900",children:g?(0,s.jsx)(J.XQ,{}):(0,s.jsx)(el.Z,{})})}),(0,s.jsx)(L.x,{size:"sm",weight:"medium",className:"block truncate",truncate:!0,children:x.name})]}),(0,s.jsxs)("div",{className:"justify-self-end lg:justify-self-center hstack items-center gap-2",children:[(0,s.jsx)(eb.h,{variant:"ghost",className:"w-9 h-9 p-0 flex rounded-full","aria-label":a.t("Play previous sample"),tooltip:a.t("Play previous sample"),disabled:0===v||p,loading:h,onClick:()=>{u(i[Math.max(v-1,0)])},children:(0,s.jsx)(ez.Z,{})}),(0,s.jsx)(eR.JM,{}),(0,s.jsx)(eb.h,{variant:"ghost",className:"w-9 h-9 p-0 flex rounded-full","aria-label":a.t("Play next sample"),tooltip:a.t("Play next sample"),disabled:v===i.length-1||h,loading:p,onClick:()=>{let e=Math.min(v+1,i.length-1);m(i[e])},children:(0,s.jsx)(eL.Z,{})})]})]}),(0,s.jsxs)("div",{className:"hstack grow flex-nowrap gap-2 -mb-3 max-md:absolute max-md:top-0 max-md:left-0 max-md:right-0",children:[(0,s.jsx)(eF.z,{time:n}),(0,s.jsx)(eB.j,{max:b,maxSettable:b,step:.1,value:n||0,onValueChange:e=>{null!==ep._m.value&&(ep._m.value.currentTime=e)},formatter:e=>(0,e_.zG)(e)}),(0,s.jsx)(eF.z,{time:b})]})]})})});var eZ=i(22776),eU=i(47078),eq=i(77513),eH=i(89008);let eG=Math.PI,eW=(0,f.createContext)(null),eK=()=>{let e=(0,f.useContext)(eW);if(!e)throw Error("useCircularProgressContext must be used within CircularProgressProvider");return e},eY=e=>e-eG/2,eX=(0,f.memo)(e=>{let{index:t}=e,{value:i,max:a,numTicks:n,size:l,tickSize:r}=eK(),o=l/2,d=(0,eZ.q)((0,eU.H)(i,e=>{let i=(0,W.KK)(t,[0,n],[0,a]),s=(0,W.KK)(t+1,[0,n],[0,a]);return(0,W.KK)(e,[i,s],[0,1])}),{bounce:.3}),u=(0,eU.H)(d,e=>r[0]+e*r[1]),h=(0,eU.H)(d,[0,.1],"light"===ev.themeManager.get()?["#d6d6da","#0f0f10"]:["#494950","#ffffff"]),m=eY(t/n*2*eG),p=o+o*Math.cos(m)-r[0]/2,v=(0,eU.H)(u,e=>o+o*Math.sin(m)-e);return(0,s.jsx)(c.E.div,{className:"rounded-full bg-gray-alpha-300 absolute origin-bottom",style:{width:r[0],height:u,left:p,top:v,backgroundColor:h,transform:"rotate(".concat(m+eG/2,"rad)")}},t)}),eQ=e=>{let{value:t,children:i,className:a,offset:n=0}=e,{size:l,max:r,numTicks:o,tickSize:c}=eK(),d=(0,W.KK)(Math.round((0,W.KK)(t,[0,r],[0,o]))-1,[0,o],[0,2*eG]),u=(d=eY(d))>eG/2;return(0,s.jsx)("div",{className:"absolute top-1/2 left-1/2 flex origin-left",style:{width:l/2+c[0]+c[1]+n,transform:"rotate(".concat(d,"rad)")},children:(0,s.jsxs)("div",{className:(0,U.cn)("absolute left-full flex items-end bottom-0",{"top-0 -scale-y-100":u}),children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 38 10",className:"w-10",children:(0,s.jsx)("path",{className:"stroke-gray-alpha-300",strokeLinecap:"round",d:"m1.423 8.726 20.587-.083a17 17 0 0 0 11.525-4.567L37.077.773"})}),(0,s.jsx)("div",{className:a,style:{transform:"".concat(u?"scaleY(-1) translateY(50%)":"translateY(-50%)"," translateX(-50%) rotate(").concat(-1*d,"rad)")},children:i})]})})},eJ=(0,f.memo)(e=>{let{value:t,children:i,size:a,max:n,numTicks:l=75,tickSize:r=[5,15]}=e,o=(0,eq.c)(t);return(0,f.useEffect)(()=>{(0,eH.j)(o,t,{ease:"easeInOut",duration:.5})},[t]),(0,s.jsx)(eW.Provider,{value:{value:o,max:n,size:a,numTicks:l,tickSize:r},children:(0,s.jsxs)("div",{className:"rounded-full relative",style:{width:a,height:a},children:[i,[...Array(l)].map((e,t)=>(0,s.jsx)(eX,{index:t},t))]})})});eJ.displayName="CircularProgress";var e$=i(66895),e0=i(55681),e1=i(97918),e2=i(89219),e5=i(19208);let e3=(0,x.Pi)(e=>{let{file:t}=e,{i18n:i}=(0,l.mV)(),{isLoading:a,isPlaying:n,togglePlay:r}=(0,ew.kY)(t),{mutateAsync:o,isLoading:c}=(0,ew.P0)(t);return(0,s.jsxs)(M.HC,{className:"px-0 py-1.5 gap-4","aria-label":t.name,value:t.id,children:[(0,s.jsxs)(M.Ek,{children:[(0,s.jsx)(L.x,{size:"sm",weight:"medium",className:"truncate",children:t.name}),(0,s.jsx)(L.x,{size:"sm",color:"subtle",children:t.duration&&(0,z.LU)(t.duration)})]}),(0,s.jsxs)(M.cT,{className:"gap-1",children:[(0,s.jsx)(eb.h,{variant:"ghost","aria-label":n?i.t("Pause audio"):i.t("Play audio"),loading:a,onClick:r,children:n?(0,s.jsx)(et.Z,{className:"!w-3.5 !h-3.5"}):(0,s.jsx)(J.JF,{className:"!w-3 !h-3"})}),(0,s.jsx)(eb.h,{variant:"ghost","aria-label":i.t("Download file"),loading:c,onClick:()=>o(),children:(0,s.jsx)(er.Z,{})})]})]})}),e4=e=>{let{onRecordings:t}=e,{i18n:i}=(0,l.mV)(),[a,n]=(0,f.useState)(!1),[r,o]=(0,f.useState)([]),{data:c}=(0,e1.useQuery)({queryKey:["pvc-recording-backup-recovery"],queryFn:async()=>{let e=await e5.M.getMany("pvc");return e.length?(await Promise.allSettled(e.map((e,t)=>{let a=(0,q.IK)(e,i.t("Recording ")+(t+1));return ew.rf.create(a)}))).filter(e=>"fulfilled"===e.status).map(e=>e.value):[]},cacheTime:0,retry:2,refetchOnWindowFocus:!1,refetchOnReconnect:!1,refetchOnMount:!1});return(0,f.useEffect)(()=>{c&&c.length>0&&n(!0)},[c,n]),(0,s.jsx)(e2.Vq,{open:a,onOpenChange:n,children:(0,s.jsxs)(e2.cZ,{onInteractOutside:e=>e.preventDefault(),onEscapeKeyDown:e=>e.preventDefault(),children:[(0,s.jsxs)(e2.fK,{children:[(0,s.jsx)(e2.$N,{children:(0,s.jsx)(l.cC,{id:"HthbKe"})}),(0,s.jsx)(e2.Be,{children:(0,s.jsx)(l.cC,{id:"EjKxT7"})})]}),(0,s.jsx)(M.aV,{className:"stack gap-1",mode:M.tF.Edit,selection:r,onSelectionChange:o,children:null==c?void 0:c.map(e=>(0,s.jsx)(e3,{file:e},e.id))}),(0,s.jsxs)(e2.cN,{children:[(0,s.jsx)(D.Button,{onClick:()=>{n(!1),e5.M.clearMany("pvc")},children:(0,s.jsx)(l.cC,{id:"6Uau97"})}),(0,s.jsx)(D.Button,{variant:"primary",disabled:0===r.length,onClick:async()=>{let e=null==c?void 0:c.filter(e=>r.includes(e.id));if(e&&0!==e.length)try{(0,B.eN)(O.B_.voice_lab_professional_voice_cloning_recording_recovered,{n_backups:c.length,n_recovered:e.length,recovered_duration:e.reduce((e,t)=>e+t.duration,0)}),await t(e),n(!1),e5.M.clearMany("pvc")}catch(e){(0,es.Tb)(e)}},children:(0,s.jsx)(l.cC,{id:"GO4mEb"})})]})]})})};var e6=i(78190),e8=i(69436);let e7=e=>{let{title:t,description:i}=e;return(0,s.jsxs)("li",{className:"px-4 py-3 border border-gray-alpha-200 rounded-2xl stack gap-1",children:[(0,s.jsx)(L.x,{as:"div",weight:"semi-bold",children:t}),(0,s.jsx)(L.x,{color:"subtle",children:i})]})},e9=e=>{let{script:t,...i}=e,{i18n:a}=(0,l.mV)(),{recorder:{isRecording:n},speechRecognitionHighlighting:{readWords:r,error:o},audioWaveform:{waveformData:u}}=(0,e8.$4)(),h=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ",i=(0,eq.c)(0),[a,s]=(0,f.useState)(0),[n,l]=(0,f.useState)(e),[r,o]=(0,f.useState)(!0);return n===e||(l(e),o(e.startsWith(n)),e.startsWith(n)||s(0)),(0,f.useEffect)(()=>{r||i.jump(0);let a=(0,eH.j)(i,e.split(t).length,{duration:3,ease:"easeOut",onUpdate(e){s(Math.floor(e))}});return()=>a.stop()},[i,r,e]),e.split(t).slice(0,a).join(t)}(r);return(0,s.jsxs)(w.t,{className:"stack flex-1 overflow-y-auto",children:[(0,s.jsxs)(ex.OX,{className:"px-5 lg:px-7 py-8",children:[(0,s.jsx)(ex.iI,{className:"text-md",children:(0,s.jsx)(l.cC,{id:"agcwy1"})}),(0,s.jsx)(ex.$m,{})]}),(0,s.jsx)("div",{className:"flex-1 px-5 lg:px-7 relative",children:(0,s.jsx)(d.M,{initial:!1,mode:"wait",children:void 0!==t?(0,s.jsxs)(w.t,{className:"text-xl/loose md:text-2xl/loose font-medium",children:[(0,s.jsx)(d.M,{children:h.length>0&&!o&&(0,s.jsx)(w.t,{className:"absolute top-0 inset-x-5 lg:inset-x-7 pointer-events-none text-transparent","aria-hidden":!0,children:(0,s.jsx)("span",{className:"inline bg-cyan-100 rounded py-0.5 whitespace-pre-line",children:h})})}),(0,s.jsx)("p",{className:"relative whitespace-pre-line",children:t.text})]},"recorder-script-".concat((0,e6.vp)(t.text))):n?(0,s.jsx)(w.t,{className:"h-full flex gap-1 items-center justify-center",children:u.map((e,t)=>(0,s.jsx)(c.E.div,{className:"w-1 h-1 bg-foreground rounded-full max-h-32",animate:{height:Math.abs(300*e)+4}},t))},"recorder-waveform"):(0,s.jsx)(w.t,{children:(0,s.jsxs)("ul",{className:"stack gap-3",children:[(0,s.jsx)(e7,{title:a.t("Use a pro-grade mic"),description:a.t("For the best results we recommend using a professional microphone, a MacBook or Laptop one will not yield the best results.")}),(0,s.jsx)(e7,{title:a.t("Avoid noisy environments"),description:a.t("For the best results, record in a quiet environment to avoid noise being added to your recordings.")}),(0,s.jsx)(e7,{title:a.t("Use a pre-selected script"),description:a.t("We have scripts that will help you craft your voice clone depending on the type of clone you’re creating.")}),(0,s.jsx)(e7,{title:a.t("Feel free to save smaller recordings if you need to take a break"),description:a.t("If you need to take a couple of minutes between reading, just save your recording and create multiple samples.")})]})},"recorder-instructions")})}),(0,s.jsx)(ex.ze,{className:"px-5 lg:px-7 py-6 sticky bottom-0 z-10",children:(0,s.jsx)(e8.jp,{showRestart:!0,showScriptSelector:!0,script:t,backupInterval:3e4,...i})})]})},te=e=>{let{open:t,onOpenChange:i,disabled:a,onChange:n,language:l,...r}=e,[o,c]=(0,f.useState)(),{recorder:{isRecording:u}}=(0,e8.$4)();return(0,f.useEffect)(()=>{t&&c(void 0)},[t,c]),(0,s.jsx)(ex.dy,{open:!a&&t,onOpenChange:i,children:(0,s.jsx)(ex.sc,{className:"max-w-3xl mx-auto max-h-[90%] h-full",classes:{overlay:(0,U.cn)("!transition !duration-500",{"bg-gray-alpha-800 dark:bg-gray-alpha-300 backdrop-blur":u})},hideHandle:!0,onInteractOutside:e=>{u&&e.preventDefault()},onEscapeKeyDown:e=>{u&&e.preventDefault()},"data-vaul-no-drag":!!u||null,children:(0,s.jsx)(d.M,{initial:!1,mode:"wait",children:(0,s.jsx)(e9,{disabled:a,language:l,script:o,onScriptChange:c,onChange:e=>{(0,B.eN)(O.B_.voice_lab_professional_voice_cloning_recording_created,{duration:e.duration,script:null==o?void 0:o.type,language:l}),n(e),setTimeout(()=>i(!1),400)},...r},"create-recording")})})})};var tt=e=>(0,s.jsx)(e8.IR,{children:(0,s.jsx)(te,{...e})});let ti=G.Q4.map(e=>({key:e.languageCode,name:e.name})),ta=6e5,ts=e=>(0,v.ky)({primaryHue:360*Math.random(),get secondaryHue(){return(this.primaryHue+40+20*(2*Math.random()-1))%360},motionStrength:0,colorStrength:0,get value(){return{primaryHue:this.primaryHue,secondaryHue:this.secondaryHue,motionStrength:e.allFilesHasDuration?(0,W.KK)(e.allFilesDuration,[0,36e5],[0,2.5]):1,colorStrength:e.allFilesHasDuration?(0,W.KK)(e.allFilesDuration,[0,18e5],[0,1]):1}},updateHues(e,t){this.primaryHue=(206+(0,N.r4)(e,t))%360}}),tn=e=>{let{i18n:t}=(0,l.mV)(),{formState:i,watch:a,getValues:s,getFieldState:n,reset:c,trigger:d}=(0,y.Gc)(),u=(0,Y.XE)(),{mutateAsync:h,...m}=(0,o.useMutation)({mutationFn:async a=>{let n=a.labels?Object.fromEntries(a.labels.map(e=>[e.label,e.value])):void 0;if(a.language?(null!=n||(n={}),n.language=a.language):n&&(n.language=s("language")),n){var l;null!==(l=a.language)&&void 0!==l||(a.language=n.language)}try{await (0,V.Cl)(e.stepper,async()=>{let{voice_id:t}=await (0,_.OJo)({pathParams:{voiceId:e.voiceId},body:{name:a.voiceName,description:a.description,language:a.language,labels:n}});e.voiceSaved=await (0,_.EzY)({pathParams:{voiceId:t}}),u()}),c({...i.defaultValues,...a},{keepValues:!0,keepErrors:!0,keepDirtyValues:!0})}catch(i){throw(0,r.$e)(t=>{t.setTag("step","pvc-save"),t.setTag("voice_id",e.voiceId),t.setContext("values",{name:a.voiceName,description:a.description,language:a.language,labels:n,n_samples:e.files.length,size_samples:e.allFilesSize}),t.captureException(i)}),F.toast.errorHttp(i,t.t("Could not save changes to the voice due to an internal error.")),i}}});return(0,f.useEffect)(()=>{let e;let{unsubscribe:t}=a(async(t,i)=>{let{name:a}=i;window.clearTimeout(e),a&&(a=a.split(".")[0],await d(a)&&("language"!==a||await d("labels"))&&("labels"!==a||await d("language"))&&(e=window.setTimeout(()=>{try{h({[a]:t[a]})}catch(e){}},1e3)))});return()=>{window.clearTimeout(e),t()}},[a,d,n,h]),{triggerSave:h,...m}},tl=async e=>{let t=await Promise.all(e.filter(e=>!(e instanceof ek.X4)).map(e=>e.file())),i=e.filter(e=>"uploaded"===e.status||"uploading"===e.status),a=i.length,s=i.reduce((e,t)=>e+t.size,0);return async function(e){if(e.duration<3e4)return{type:"error",code:"min-duration",file:e,message:n.ag._(n.ag._({id:"9iPFhA",values:{0:30}}))};if(i.some(t=>t!==e&&t.language!==e.language))return{type:"error",code:"language-mismatch",file:e,message:n.ag.t("All audio samples must be in the same language")};let l=await e.file(),r=t.filter(e=>e!==l),o="duplicate_file";return!e.skippedWarningCodes.has(o)&&r.some(e=>e.name===l.name&&e.lastModified===l.lastModified&&e.size===l.size&&e.type===l.type)?{type:"warning",code:o,message:n.ag.t("Uploading duplicate files could result in poor clone"),file:e}:a>=100?{type:"error",code:"max-samples-per-voice-exceeded",file:e,message:n.ag._(n.ag._({id:"faTsPH",values:{MAX_SAMPLES_PER_VOICE:100}}))}:(++a,s+e.size>=15e8)?{type:"error",code:"max-samples-size-exceeded",file:e,message:n.ag._(n.ag._({id:"ojIf08",values:{0:(0,K.KS)(15e8)}}))}:(s+=e.size,!0)}};class tr extends V.h8{reset(){this.voiceSaved=void 0,this.files=[],this.numRecordings=0}get isComplete(){return void 0!==this.voiceSaved}get voiceId(){if(this.voiceSaved)return this.voiceSaved.voice_id;let e=this.prev,t=null==e?void 0:e.createdVoiceId;if(!t)throw Error("voiceId is required for VoiceDataStep");return t}get uploadedFiles(){return this.files.filter(e=>"uploaded"===e.status)}get allFilesHasDuration(){return this.uploadedFiles.every(e=>void 0!==e.duration)}get allFilesDuration(){return this.uploadedFiles.reduce((e,t)=>{var i;return t.sample&&"number"==typeof t.sample.trim_start&&"number"==typeof t.sample.trim_end?e+(t.sample.trim_end-t.sample.trim_start):e+(null!==(i=t.duration)&&void 0!==i?i:0)},0)}get allFilesSize(){return this.uploadedFiles.reduce((e,t)=>e+t.size,0)}constructor(e){super(e),(0,a._)(this,"label","Voice Data"),(0,a._)(this,"voiceSaved",void 0),(0,a._)(this,"numRecordings",0),(0,a._)(this,"files",[]),(0,a._)(this,"orbData",ts(this)),(0,a._)(this,"Orb",(0,f.memo)((0,x.Pi)(e=>{let{animateOrbUp:t}=e,i=this.allFilesHasDuration?this.allFilesDuration:0,a=(0,f.useMemo)(()=>[4,15],[]),n=(0,H.bs)("md")?200:164;return(0,s.jsxs)(c.E.div,{layout:"position",className:"max-w-md px-5 lg:px-8 mx-auto",children:[(0,s.jsxs)(c.E.div,{className:"flex w-fit mx-auto relative",initial:t?"active":"inactive",animate:t?"active":"inactive",children:[(0,s.jsx)(c.E.div,{className:"flex items-center justify-center border-2 rounded-full",style:{width:n,height:n},variants:{inactive:{borderColor:"var(--gray-alpha-50)"},active:{borderColor:"rgba(0,0,0,0)"}},transition:{duration:.75},children:(0,s.jsx)(c.E.div,{variants:{inactive:{opacity:0},active:{opacity:1}},transition:{duration:.75},children:(0,s.jsx)(eJ,{value:i,max:9e6,size:n,numTicks:60,tickSize:a,children:this.allFilesHasDuration&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(eQ,{offset:10,className:"ml-3.5",value:18e5,children:(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsx)("span",{className:"text-xs font-medium",children:(0,s.jsx)(l.cC,{id:"OEEQKT"})}),(0,s.jsx)("span",{className:"text-xs text-gray-500 whitespace-nowrap",children:(0,s.jsx)(l.cC,{id:"3NKv8+",values:{0:30}})})]})}),(0,s.jsx)(eQ,{offset:10,className:"ml-3.5",value:36e5,children:(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsx)("span",{className:"text-xs font-medium",children:(0,s.jsx)(l.cC,{id:"GoesgD"})}),(0,s.jsx)("span",{className:"text-xs text-gray-500 whitespace-nowrap",children:(0,s.jsx)(l.cC,{id:"34rlDC",values:{0:1}})})]})}),(0,s.jsx)(eQ,{offset:10,className:"ml-3.5",value:72e5,children:(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsx)("span",{className:"text-xs font-medium",children:(0,s.jsx)(l.cC,{id:"KYr9vA"})}),(0,s.jsx)("span",{className:"text-xs text-gray-500 whitespace-nowrap",children:(0,s.jsx)(l.cC,{id:"SxRkF2",values:{0:2}})})]})})]})})})}),(0,s.jsx)(e0.Z,{className:"absolute inset-0",shadow:!1,...this.orbData.value})]}),(0,s.jsx)("div",{className:"mt-10 text-center",children:(0,s.jsx)(d.M,{mode:"wait",initial:!1,children:0===this.uploadedFiles.length?(0,s.jsx)(w.t,{className:"h-4"},"empty"):this.allFilesDuration>=72e5?(0,s.jsx)(w.t,{children:(0,s.jsx)(L.x,{weight:"medium",size:"xs",children:(0,s.jsx)(l.cC,{id:"LcJwTY"})})},"uploads-perfect"):this.allFilesHasDuration?this.allFilesDuration>=ta?(0,s.jsxs)(w.t,{children:[(0,s.jsx)(L.x,{weight:"medium",size:"xs",children:(0,s.jsx)(l.cC,{id:"qHYE5f",values:{0:(0,ek.Wp)(Math.floor(i/1e3))}})}),(0,s.jsx)(L.x,{className:"mt-1",size:"xs",color:"subtle",style:{textWrap:"balance"},children:(0,s.jsx)(l.cC,{id:"1oJdGn"})})]},"uploads-ready"):(0,s.jsx)(w.t,{children:(0,s.jsx)(L.x,{weight:"medium",size:"xs",children:(0,s.jsx)(l.cC,{id:"EAJDKs",values:{0:(0,ek.Wp)(Math.ceil((ta-i)/1e3))}})})},"uploads-progress-text"):(0,s.jsx)(w.t,{children:(0,s.jsx)(L.x,{weight:"medium",size:"xs",children:(0,s.jsx)(l.cC,{id:"KOI3ob"})})},"uploads-indeterminate")})})]})}))),(0,a._)(this,"Content",(0,x.Pi)(()=>{var e,t,i,a,n;let{i18n:v}=(0,l.mV)(),x=(0,f.useId)(),N={voiceName:(0,f.useId)(),language:(0,f.useId)(),description:(0,f.useId)()},G=(0,u.hO)(),[W,ee]=(0,f.useState)(!1),et=(0,H.bs)("md"),ei=(0,H.bs)("lg"),{formState:{errors:ea,isDirty:es,isValid:en,isSubmitting:el},trigger:er,register:eo,watch:ec,getValues:ed,handleSubmit:eu}=(0,y.Gc)(),eh=ec("language"),{triggerSave:em,isLoading:ep}=tn(this),ev=(0,Y.XE)(),{mutate:ex,mutateAsync:eg}=(0,o.useMutation)({mutationFn:async e=>{let t=[];Array.isArray(e)?(t=await Promise.all(e.map(async e=>e instanceof File?ek.EU.create(e,"local",{status:"pending",duration:0,language:ed("language")}):ek.EU.create(await e.file(),"recording",{status:"pending",duration:e.duration,language:ed("language")}))),this.files=[...this.files,...t]):(e.setPending(),this.files=[...this.files],t=[e]),await Promise.all(t.map(async e=>{if("pending"===e.status&&!e.duration)try{let t=await e.file(),i=await (0,Z.IJ)(t);(void 0===i||i<0||i===1/0||Number.isNaN(i))&&(i=await (0,Z.eM)(t)),e.duration=1e3*i}catch(t){e.setError({code:"indeterminate-duration",message:v.t("Could not determine audio duration, try another file"),type:"error"})}}));let i=await tl(this.files),a=await Promise.all(t.map(async e=>{let t=await i(e);return!0!==t&&e.setError({type:t.type,code:t.code,message:t.message}),t})),s=t.filter((e,t)=>!0===a[t]);if(0!==s.length)try{let e=(0,ek.hx)(s);for(let t=0;t<e.length;++t){let i=e[t],a=await Promise.all(i.map(e=>(e.setUploading(v.t("Uploading")),e.file())));(await (0,ek.ho)({pathParams:{voiceId:this.voiceId},body:{files:a}},e=>{let t=v.t("Processing");i.forEach(i=>{i.loadingText!==t&&i.setUploading(e+v.t("% uploaded"))}),100===e&&setTimeout(()=>{i.forEach(e=>{"uploading"===e.status&&e.setUploading(t)})},2e3)})).forEach((e,t)=>{var a;let s=i[t];s.setUploaded(e),(0,B.eN)(O.B_.voice_lab_professional_voice_cloning_sample_uploaded,{voice_id:this.voiceId,voice_name:null===(a=this.voiceSaved)||void 0===a?void 0:a.name,sample_id:e.sample_id,duration:e.duration_secs,size:e.size_bytes,type:s.type})}),this.files=[...this.files],await new Promise(e=>setTimeout(e,100))}}catch(e){throw t.forEach(t=>{"type"in t&&"recording"===t.type&&"uploading"===t.status&&(e instanceof j.oo?t.setError({type:"error",code:e.errorType,message:e.message}):t.setError({type:"warning",code:"internal",message:v.t("Upload failed due to an internal error.")}))}),e}finally{let e=t.filter(e=>"pending"===e.status||"uploading"===e.status);this.files=this.files.filter(t=>t instanceof ek.X4||!e.some(e=>e.id===t.id))}},onSuccess:async()=>{er("language"),this.voiceSaved=await (0,_.EzY)({pathParams:{voiceId:this.voiceId}}),ev()},onError:(e,t)=>{(0,r.$e)(i=>{i.setTag("step","pvc-samples-upload"),i.setTag("voice_id",this.voiceId),i.setContext("values",{n_samples:this.files.length,n_new_samples:Array.isArray(t)?t.length:1,size_samples:this.allFilesSize,size_new_samples:(Array.isArray(t)?t:[t]).reduce((e,t)=>e+("size"in t?t.size:0),0),reupload:t instanceof ek.EU}),i.captureException(e)}),F.toast.errorHttp(e,v.t("Could not upload audio samples due to an internal error."))}}),{getRootProps:ef,getInputProps:eb,isDragActive:ey,open:ej}=(0,b.uI)({noClick:!0,noKeyboard:!0,multiple:!0,accept:Object.fromEntries(q.AP.map(e=>[e,[]])),onDrop:async(e,t)=>{(0,z.ak)(t,{}),ex(e)}}),e_=ec("voiceName");(0,f.useEffect)(()=>{this.voiceSaved||this.orbData.updateHues(this.voiceId,e_)},[e_]);let ew=(0,f.useCallback)(e=>{e instanceof ek.EU&&ex(e)},[]),eN=(0,f.useCallback)(e=>{this.files=this.files.filter(t=>t!==e),er("language")},[this.files,er]),eC=(0,f.useMemo)(()=>(0,s.jsx)(y.Qr,{name:"language",rules:{validate:e=>this.files.filter(e=>"uploading"===e.status||"uploaded"===e.status).every(t=>t.language===e)||v.t("All audio samples must be in the same language")},render:e=>{let{field:t}=e;return(0,s.jsx)($.mg,{id:N.language,value:t.value,onValueChange:e=>t.onChange(e),options:ti})}}),[N.language]),eS=(0,f.useMemo)(()=>[...this.files].reverse(),[this.files]),eE=this.files.length>0;return(0,s.jsxs)("div",{className:"flex flex-col min-h-full lg:max-h-screen lg:overflow-y-hidden",...ef(),children:[(0,s.jsx)("input",{...eb()}),(0,s.jsxs)("div",{className:"flex-1 stack lg:grid lg:grid-cols-[1fr,2.1fr] relative lg:h-full min-h-0",children:[(0,s.jsxs)("div",{className:"p-5 lg:px-8 lg:py-10 lg:border-r lg:border-gray-alpha-200 lg:max-h-full lg:overflow-y-auto",children:[(0,s.jsx)("div",{"aria-hidden":!0,className:"lg:hidden",children:(0,s.jsx)(Q.RG,{title:v.t("Professional Voice Clone"),icon:(0,s.jsx)(J.Tg,{className:"w-7 h-7"}),hideClose:!0})}),(0,s.jsxs)("div",{className:"gap-3 hidden lg:stack",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-[10px] shadow-sm ring-1 ring-gray-alpha-200 flex items-center justify-center",children:(0,s.jsx)(J.Tg,{className:"w-6 h-6 -mr-0.5"})}),(0,s.jsx)(A.X,{className:"text-xl lg:text-2xl",children:(0,s.jsx)(l.cC,{id:"EH2bM9"})})]}),(0,s.jsx)(L.x,{color:"subtle",size:"md",className:"mt-2 hidden lg:block",children:(0,s.jsx)(l.cC,{id:"SHpBrB"})}),(0,s.jsxs)("form",{id:x,className:"mt-6 lg:mt-8 stack gap-6 lg:gap-8",onSubmit:eu(async e=>{try{if(this.allFilesHasDuration&&this.allFilesDuration<18e5){let{confirmed:e}=await S.y.request({title:v.t("Are you sure you want to continue?"),description:(0,s.jsx)(l.cC,{id:"T17WFu",values:{0:(0,ek.Wp)(1800)}}),confirmWaitSeconds:3});if(!e)return}await (0,V.Cl)(this.stepper,async()=>{await em(e)});let t=Object.fromEntries(e.labels.map(e=>[e.label,e.value]));(0,B.eN)(this.voiceSaved&&(0,X.nJ)(this.voiceSaved)?O.B_.voice_lab_professional_voice_cloning_created:O.B_.voice_lab_professional_voice_cloning_edited,{voice_id:this.voiceId,name:e.voiceName,description:e.description,labels:t,n_samples:this.files.filter(e=>"uploaded"===e.status).length}),this.stepper.goToNext()}catch(e){}}),children:[(0,s.jsxs)(c.E.div,{className:"stack gap-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(I.Label,{weight:"semi-bold",htmlFor:N.voiceName,children:(0,s.jsx)(l.cC,{id:"/qW8ul"})}),(0,s.jsx)(L.x,{color:"subtle",className:"text-xs sm:text-sm",children:(0,s.jsx)(l.cC,{id:"6VNwWF"})})]}),(0,s.jsx)(T.I,{id:N.voiceName,placeholder:v.t("Old British man"),className:"rounded-lg",...eo("voiceName",{validate:e=>0!==e.trim().length||v.t("Please give your voice a name"),onBlur:()=>{this.orbData.updateHues(this.voiceId,ed("voiceName"))}})}),(0,s.jsx)($.du,{children:null===(e=ea.voiceName)||void 0===e?void 0:e.message})]}),(0,s.jsxs)(c.E.div,{layout:"position",className:"stack gap-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(I.Label,{weight:"semi-bold",htmlFor:N.language,children:(0,s.jsx)(l.cC,{id:"C3W8VH"})}),(0,s.jsx)(L.x,{color:"subtle",className:"text-xs sm:text-sm",children:(0,s.jsx)(l.cC,{id:"uFSZdp"})})]}),eC,(0,s.jsx)($.du,{children:null===(t=ea.language)||void 0===t?void 0:t.message})]}),(0,s.jsxs)(c.E.div,{layout:"position",className:"stack gap-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(I.Label,{weight:"semi-bold",htmlFor:N.description,children:(0,s.jsx)(l.cC,{id:"Nu4oKW"})}),(0,s.jsx)(L.x,{color:"subtle",className:"text-xs sm:text-sm",children:(0,s.jsx)(l.cC,{id:"gD2MzV"})})]}),(0,s.jsx)(R.g,{id:N.description,rows:3,className:"rounded-lg max-h-44",...eo("description",{maxLength:{value:500,message:v.t("Description should be less than 500 characters")}})}),(0,s.jsx)($.du,{children:null===(i=ea.description)||void 0===i?void 0:i.message})]}),(0,s.jsx)($.nH,{language:eh,labelClassName:"font-semibold",valueClassName:"font-semibold"})]})]}),(0,s.jsxs)(c.E.div,{className:(0,U.cn)("w-full self-center py-10 lg:pt-20 lg:max-h-full lg:overflow-y-auto",eE?"h-full":""),layout:!0,transition:ei?{layout:{duration:.75}}:void 0,children:[(0,s.jsx)(this.Orb,{animateOrbUp:eE}),(0,s.jsx)(c.E.div,{layout:"position",className:"mt-11 max-w-md px-5 lg:px-8 mx-auto sticky -top-6 z-10",children:(0,s.jsxs)("div",{className:"flex bg-background/70 backdrop-blur ring-1 ring-gray-alpha-200 p-1 gap-1 rounded-2xl shadow-lg",children:[(0,s.jsx)(D.Button,{variant:"ghost",className:"w-full rounded-xl",leftIcon:(0,s.jsx)(h.Z,{className:"!mr-2"}),onClick:ej,children:(0,s.jsx)(l.cC,{id:"uWpcPd"})}),(0,s.jsx)(D.Button,{variant:"ghost",className:"w-full rounded-xl",leftIcon:(0,s.jsx)(J.XQ,{className:"!mr-2"}),onClick:async()=>{let e=this.files.some(e=>"type"in e&&"recording"===e.type);if(0===this.files.length||e){ee(!0);return}ee((await S.y.request({title:v.t("Start a New Recording?"),description:(0,s.jsx)("span",{className:"block mb-2",children:(0,s.jsx)(l.cC,{id:"Yqvu2Y"})}),confirmText:v.t("Record new sample"),cancelText:v.t("Cancel")})).confirmed)},children:(0,s.jsx)(l.cC,{id:"br6SKo"})}),(0,s.jsx)(tt,{open:W,onOpenChange:ee,minDuration:3e4,language:eh,formatFileName:()=>v.t("Recording")+" "+(this.numRecordings+1),onChange:e=>ex([e])})]})}),(0,s.jsx)(c.E.div,{className:"mt-8 relative",layout:"position",children:(0,s.jsx)(d.M,{initial:!1,mode:"popLayout",children:0===this.files.length?(0,s.jsxs)(w.t,{className:"px-5 lg:px-8 max-w-md mx-auto stack gap-3",animate:{opacity:1,transition:{delay:.75}},children:[(0,s.jsx)(e$.IP,{children:(0,s.jsx)("button",{className:"group p-1 ring-1 ring-gray-alpha-200 rounded-2xl text-left focus:outline-black",children:(0,s.jsxs)("div",{className:"py-4 px-3 flex gap-2 items-center rounded-xl transition-colors duration-200 group-hover:bg-gray-alpha-100",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(L.x,{as:"div",weight:"medium",children:(0,s.jsx)(l.cC,{id:"4cM68R"})}),(0,s.jsx)(L.x,{as:"div",color:"subtle",className:"mt-1",children:(0,s.jsx)(l.cC,{id:"F+wTSo"})})]}),(0,s.jsx)("div",{className:"px-5 md:px-7 shrink-0",children:(0,s.jsxs)("div",{className:"inline-block relative",children:[(0,s.jsx)(g.default,{width:56,height:56,src:C.Z,alt:"",className:"rounded-full",style:{filter:"hue-rotate(50deg) saturate(120%)"}}),(0,s.jsx)("span",{className:"inline-flex items-center justify-center w-7 h-7 rounded-full absolute left-1/2 -translate-x-1/2 top-1/2 -translate-y-1/2 backdrop-blur-lg bg-foreground/10 transition-transform duration-150 group-hover:scale-110",children:(0,s.jsx)(J.JF,{className:"w-3 h-3 text-background"})})]})})]})})}),(0,s.jsxs)("div",{className:"group px-5 py-4 ring-1 ring-gray-alpha-200 rounded-2xl flex gap-2 items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(L.x,{as:"div",weight:"medium",children:(0,s.jsx)(l.cC,{id:"Er0f5e"})}),(0,s.jsx)(L.x,{as:"div",color:"subtle",className:"mt-1",children:(0,s.jsx)(l.cC,{id:"0i7Rre"})})]}),(0,s.jsxs)("div",{className:"flex items-center px-5 shrink-0",children:[(0,s.jsx)(g.default,{width:32,height:32,src:C.Z,alt:"",className:"-translate-y-2 translate-x-1.5 rounded-full",style:{filter:"hue-rotate(50deg) saturate(120%)"}}),(0,s.jsx)(g.default,{width:38,height:38,src:C.Z,alt:"",className:"translate-y-2 -translate-x-1.5 rounded-full ring-2 ring-background",style:{filter:"hue-rotate(15deg) saturate(120%)"}})]})]})]},"tips"):(0,s.jsxs)(w.t,{className:"px-5 lg:px-10 max-w-4xl mx-auto",animate:{opacity:1,transition:{delay:.75}},children:[(0,s.jsxs)("div",{className:"flex gap-2 items-baseline",children:[(0,s.jsx)(L.x,{weight:"medium",children:(0,s.jsx)(l.cC,{id:"ouhZ6O"})}),this.allFilesSize>0&&(0,s.jsx)(L.x,{color:"subtle",children:(0,K.KS)(this.allFilesSize)})]}),(0,s.jsx)(M.aV,{className:"mt-2",children:(0,s.jsx)(d.M,{initial:!1,children:eS.map(e=>(0,s.jsx)(c.E.div,{role:"none",initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0,transition:{opacity:{duration:.1}}},className:"px-1 -mx-1 overflow-hidden",children:"pending"===e.status||"uploading"===e.status?(0,s.jsx)(eM,{file:e}):(0,s.jsx)(eI,{voiceId:this.voiceId,file:e,onReupload:ew,onRemove:eN})},e.id))})}),(0,s.jsx)("div",{className:"mt-6",children:(0,s.jsx)(P.i,{trainingUse:!(null===(n=k.workspaceData.value)||void 0===n?void 0:null===(a=n.training_opt_out)||void 0===a?void 0:a.training_opt_out)})})]},"recordings")})})]}),(0,s.jsx)(d.M,{children:ey&&(0,s.jsx)(w.t,{className:"absolute inset-0 z-30 flex items-center justify-center bg-background/60 backdrop-blur-lg",children:(0,s.jsx)(A.X,{as:"h4",className:"text-4xl",children:(0,s.jsx)(l.cC,{id:"44MsLf"})})})})]}),(0,s.jsxs)("footer",{className:"shrink-0 mt-auto border-t border-gray-alpha-200 w-full sticky z-10 bottom-0 bg-background/70 backdrop-blur",children:[(0,s.jsxs)("div",{className:"p-5 md:h-20 md:py-0 md:px-8 grid grid-cols-[1fr_3fr_1fr] items-center gap-8",children:[(0,s.jsxs)("div",{className:"flex gap-3",children:[this.prev&&(0,s.jsx)(D.Button,{size:et?"lg":"md",leftIcon:(0,s.jsx)(m.Z,{className:"!w-4 !h-4"}),className:"bg-background",disabled:!G||el||this.files.some(e=>"pending"===e.status||"uploading"===e.status),onClick:()=>this.stepper.goToPrev(),children:(0,s.jsx)(l.cC,{id:"iH8pgl"})}),(0,s.jsx)("div",{className:"max-md:hidden",children:(0,s.jsx)(E.o,{source:"professional-voice-clone-edit",buttonSize:"lg",iconClassName:"!w-4 !h-4"})})]}),(0,s.jsx)("div",{children:et&&(0,s.jsx)(eO,{files:this.files})}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)(d.M,{mode:"wait",initial:!1,children:es?(0,s.jsx)(w.t,{className:"ml-auto",children:(0,s.jsx)(D.Button,{size:et?"lg":"md",type:"button",disabled:!G||el,loading:ep,onClick:()=>{if(en)try{em(ed())}catch(e){}else F.toast.error(v.t("Some form fields are invalid, please review them before saving."),{position:"bottom-left"})},children:(0,s.jsx)(l.cC,{id:"tfDRzk"})})},"save-changes"):(0,s.jsx)(w.t,{className:"ml-auto",children:(0,s.jsx)(D.Button,{size:et?"lg":"md",type:"button",disabled:!0,className:"bg-background",tooltip:v.t("Changes are automatically saved"),rightIcon:(0,s.jsx)(p.Z,{className:"!w-3.5 !h-3.5"}),children:(0,s.jsx)(l.cC,{id:"hWdhyB"})})},"auto-saved")}),(0,s.jsx)(D.Button,{variant:"primary",size:et?"lg":"md",type:"submit",form:x,tooltip:this.allFilesHasDuration&&this.allFilesDuration<ta?(0,s.jsx)(l.cC,{id:"xp8UpP",values:{0:(0,ek.Wp)(ta/1e3)}}):"",loading:el,disabled:!G||el||this.allFilesHasDuration&&this.allFilesDuration<ta||this.files.some(e=>"pending"===e.status||"uploading"===e.status),onClick:()=>{en||F.toast.error(v.t("Some form fields are invalid, please review them before saving."),{position:"bottom-left"})},children:(0,s.jsx)(l.cC,{id:"hXzOVo"})})]})]}),!et&&(0,s.jsx)("div",{className:"relative",children:(0,s.jsx)(eO,{files:this.files})})]}),(0,s.jsx)(e4,{onRecordings:e=>eg(e)})]})})),(0,v.rC)(this,{files:v.LO,voiceSaved:v.LO,voiceId:v.Fl,uploadedFiles:v.Fl,allFilesHasDuration:v.Fl,allFilesDuration:v.Fl,allFilesSize:v.Fl}),(0,v.EH)(()=>{this.voiceSaved&&this.orbData.updateHues(this.voiceSaved.voice_id,this.voiceSaved.name)})}}class to extends tr{get isComplete(){return!0}get isDisabled(){return!0}constructor(...e){super(...e),(0,a._)(this,"Content",()=>(0,s.jsx)(s.Fragment,{}))}}},28798:function(e,t,i){"use strict";i.d(t,{i:function(){return O},zX:function(){return Z},dC:function(){return U}});var a=i(68088),s=i(4111),n=i(9506),l=i(30487),r=i(40333),o=i(78190),c=i(2544),d=i(66895),u=i(6991),h=i(21782),m=i(46736),p=i(81999),v=i(50276),x=i(69201),g=i(93062),f=i(63415),b=i(85753),y=i(43479),j=i(21147),_=i(43941),w=i(17024),k=i(94814),N=i(4322),C=i(60358),S=i(4735),E=i(20807),P=i(50113),V=i(11521),D=i(84106),A=i(15750),T=i(55681),I=i(75515);class M extends g.h8{get voiceDataStep(){return this.stepper.steps.find(e=>e instanceof I.ZP)}constructor(...e){super(...e),(0,w._)(this,"label","Finish"),(0,w._)(this,"Content",(0,p.Pi)(e=>{var t,i,s;let{onComplete:r}=e,{i18n:h}=(0,u.mV)(),[m]=(0,c.tT)(),p=(0,A.XE)();return(0,n.useEffect)(()=>{var e;let t=null===(e=this.voiceDataStep)||void 0===e?void 0:e.voiceId;if(t){(0,o.R9)(d.Ht);try{(0,l.Wjt)({pathParams:{voiceId:t}}).then(()=>{p()})}catch(e){if(e instanceof N.oo&&"fine_tuning_already_queued"===e.errorType)return;(0,k.Tb)(e),D.toast.errorHttp(e,h.t("Failed to start fine tuning"))}}},[]),(0,a.jsxs)("div",{className:"flex flex-col justify-center items-center min-h-full pt-14",children:[(null===(t=this.voiceDataStep)||void 0===t?void 0:t.orbData.value)&&(0,a.jsx)("div",{className:"-mt-28 w-20 h-20 md:w-40 md:h-40",children:(0,a.jsx)(T.Z,{className:"w-full h-full",...this.voiceDataStep.orbData.value})}),(0,a.jsx)(E.X,{as:"h2",className:"mt-8 max-w-2xl mx-auto text-3xl md:text-4xl text-center px-5 text-balance",children:(0,a.jsx)(u.cC,{id:"7jdemZ"})}),(0,a.jsxs)("div",{className:"mt-8 max-w-3xl mx-auto stack gap-6 text-center text-balance px-5",children:[(0,a.jsx)(V.x,{color:"subtle",size:"md",children:(null===(s=this.voiceDataStep)||void 0===s?void 0:null===(i=s.voiceSaved)||void 0===i?void 0:i.voice_id)?(0,a.jsx)(u.cC,{id:"BvXyAI",components:{0:(0,a.jsx)("strong",{className:"font-semibold text-foreground"}),1:(0,a.jsx)(P.Un,{href:"".concat(C.VP.voiceLab,"?voiceId=").concat(this.voiceDataStep.voiceSaved.voice_id),onClick:()=>{"none"===m&&(null==r||r())}}),2:(0,a.jsx)(P.Un,{href:"https://help.elevenlabs.io/hc/en-us/requests/new",target:"_blank"})}}):(0,a.jsx)(u.cC,{id:"4DISlr",components:{0:(0,a.jsx)("strong",{className:"font-semibold text-foreground"}),1:(0,a.jsx)(P.Un,{href:"https://help.elevenlabs.io/hc/en-us/requests/new",target:"_blank"})}})}),(0,a.jsx)(V.x,{weight:"semi-bold",size:"md",children:(0,a.jsx)(u.cC,{id:"wNYfGv"})})]}),(0,a.jsx)(S.Button,{className:"mt-10",variant:"primary",size:"lg",onClick:r,children:(0,a.jsx)(u.cC,{id:"FH7K4/"})})]})}))}}var z=i(43614),L=i(30349);let R={voiceName:"",language:"en",labels:[{label:"accent",value:""}],description:""},F=(0,p.Pi)(e=>{let{mode:t,voice:i,onComplete:s}=e,{i18n:l}=(0,u.mV)(),r=(0,v.cI)({mode:"onChange",defaultValues:R}),o=(e,t)=>{r.reset({...R,...t}),e.steps.forEach(e=>{"reset"in e&&"function"==typeof e.reset&&e.reset()})},c=(e,t)=>{var i,a,s,n,l,r;(0,f.eN)(b.B_.voice_lab_professional_voice_cloning_draft_edited,{voiceId:t.voice_id,name:t.name,language:null===(i=t.fine_tuning)||void 0===i?void 0:i.language});let c=null!==(s=null===(a=t.fine_tuning)||void 0===a?void 0:a.language)&&void 0!==s?s:"en";o(e,{voiceName:t.name,description:null!==(n=t.description)&&void 0!==n?n:"",language:c,labels:(0,_.OI)(Object.entries({accent:"",...t.labels}).filter(e=>{let[t]=e;return"language"!==t&&_.B6.has(t)}).map(e=>{let[t,i]=e;return{label:t,value:i}}))});let d=e.steps.find(e=>e instanceof I.ZP);d&&(d.voiceSaved=t,d.files=null!==(r=null===(l=t.samples)||void 0===l?void 0:l.map(e=>z.X4.create(e,t.voice_id,c)).reverse())&&void 0!==r?r:[]);let u=e.steps.find(e=>e instanceof L.ZP);u&&(u.voice=t),d&&Object.getPrototypeOf(d)===I.ZP.prototype?e.setActiveStepId(d.id):u&&e.setActiveStepId(u.id)},p=(0,n.useMemo)(()=>{let e;switch(t){case"create":e=new g.vF([d.ZP,I.ZP,L.ZP,M]);break;case"edit":e=new g.vF([I.ZP,L.ZP,M]);break;case"verify":e=new g.vF([I.Nu,L.ZP,M])}return i&&c(e,i),e},[t]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(y.RG,{title:l.t("Professional Voice Clone"),icon:(0,a.jsx)(j.Tg,{className:"w-7 h-7"}),className:"sr-only",hideClose:!0}),(0,a.jsx)(h.S,{children:(0,a.jsx)(m.M,{mode:"wait",initial:!1,children:(0,a.jsx)(x.t,{className:"h-full",children:(0,a.jsx)(v.RV,{...r,children:p.activeStep instanceof M?(0,a.jsx)(p.activeStep.Content,{onComplete:s}):p.activeStep instanceof L.ZP?(0,a.jsx)(p.activeStep.Content,{onSkip:s}):p.activeStep instanceof d.ZP?(0,a.jsx)(p.activeStep.Content,{resetSteps:e=>o(p,e),onEditVoice:e=>c(p,e)}):(0,a.jsx)(p.activeStep.Content,{})})},p.activeStep.id)})})]})}),B=e=>{let{onComplete:t}=e,i=(0,n.useMemo)(()=>(0,o.wo)(d.Ht),[]),r=!!i,{data:c,isLoading:u}=(0,l.qt5)({pathParams:{voiceId:null!=i?i:""}},{enabled:r,refetchOnWindowFocus:!1});return r&&u?(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,a.jsx)(s.$,{})}):(0,a.jsx)(F,{mode:"create",voice:c,onComplete:t})},O=e=>{let{open:t,onOpenChange:i}=e,s=e=>{i(e),e||(0,o.R9)(d.Ht)};return(0,a.jsx)(r.jW,{open:t,onOpenChange:s,modal:!1,children:(0,a.jsx)(r._2,{className:"p-0",onEscapeKeyDown:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:(0,a.jsx)(B,{onComplete:()=>s(!1)})})})},Z=e=>{let{voice:t,children:i,shouldOpen:s,onOpenChange:n}=e,[l,o]=(0,c.tT)();return(0,a.jsxs)(r.jW,{open:"boolean"==typeof s?s&&"edit"===l:"edit"===l,onOpenChange:e=>{o(e?"edit":"none"),null==n||n(e)},modal:!1,children:[i&&(0,a.jsx)(r.q8,{asChild:!0,children:i}),(0,a.jsx)(r._2,{className:"p-0",onEscapeKeyDown:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:(0,a.jsx)(F,{mode:"edit",voice:t,onComplete:()=>o("none")})})]})},U=e=>{let{voice:t,children:i,shouldOpen:s,onOpenChange:l}=e,[o,d]=(0,c.tT)();return(0,n.useEffect)(()=>{var e;"verify"===o&&(null===(e=t.fine_tuning)||void 0===e?void 0:e.is_allowed_to_fine_tune)&&d("none")},[]),(0,a.jsxs)(r.jW,{open:"boolean"==typeof s?s&&"verify"===o:"verify"===o,onOpenChange:e=>{d(e?"verify":"none"),null==l||l(e)},children:[i&&(0,a.jsx)(r.q8,{asChild:!0,children:i}),(0,a.jsx)(r._2,{className:"p-0",children:(0,a.jsx)(F,{mode:"verify",voice:t,onComplete:()=>d("none")})})]})}},69436:function(e,t,i){"use strict";i.d(t,{jp:function(){return J},IR:function(){return Q},$4:function(){return X}});var a=i(68088),s=i(2923),n=i(6991),l=i(16714),r=i(89775),o=i(55673),c=i(40534),d=i(46736),u=i(77646),h=i(78350),m=i(9506),p=i(754),v=i(4735),x=i(72752),g=i(91105),f=i(11521),b=i(84106),y=i(60189),j=i(39255),_=i(21147),w=i(64172),k=i(19208),N=i(17024),C=i(25884),S=i.n(C),E=i(96162),P=i(4629);class V{addEventListener(e,t,i){this.target.addEventListener(e,t,i)}removeEventListener(e,t,i){this.target.removeEventListener(e,t,i)}dispatchEvent(e){return this.target.dispatchEvent(e)}constructor(){(0,N._)(this,"target",new EventTarget)}}class D extends Event{constructor(e){super("result"),(0,N._)(this,"transcript",void 0),this.transcript=e}}class A extends Event{constructor(e,t){super("error"),(0,N._)(this,"error",void 0),(0,N._)(this,"message",void 0),this.error=e,this.message=t}}let T=new Blob(['\n      const BIAS = 0x84;\n      const CLIP = 32635;\n      const encodeTable = [\n        0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,\n        4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,\n        5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,\n        5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,\n        6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,\n        6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,\n        6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,\n        6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,\n        7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,\n        7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,\n        7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,\n        7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,\n        7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,\n        7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,\n        7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,\n        7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7\n      ];\n      \n      function encodeSample(sample) {\n        let sign;\n        let exponent;\n        let mantissa;\n        let muLawSample;\n        sign = (sample >> 8) & 0x80;\n        if (sign !== 0) sample = -sample;\n        sample = sample + BIAS;\n        if (sample > CLIP) sample = CLIP;\n        exponent = encodeTable[(sample>>7) & 0xFF];\n        mantissa = (sample >> (exponent+3)) & 0x0F;\n        muLawSample = ~(sign | (exponent << 4) | mantissa);\n        \n        return muLawSample;\n      }\n    \n      class RawAudioProcessor extends AudioWorkletProcessor {\n        constructor() {\n          super();\n                    \n          this.port.onmessage = ({ data }) => {\n            this.buffer = []; // Initialize an empty buffer\n            this.bufferSize = data.sampleRate / 4;\n            \n            if (globalThis.LibSampleRate && sampleRate !== data.sampleRate) {\n              globalThis.LibSampleRate.create(1, sampleRate, data.sampleRate).then(resampler => {\n                this.resampler = resampler;\n              });\n            } \n          };\n        }\n        process(inputs) {\n          if (!this.buffer) {\n            return true;\n          }\n          \n          const input = inputs[0]; // Get the first input node\n          if (input.length > 0) {\n            let channelData = input[0]; // Get the first channel\'s data\n\n            // Resample the audio if necessary\n            if (this.resampler) {\n              channelData = this.resampler.full(channelData);\n            }\n\n            // Add channel data to the buffer\n            this.buffer.push(...channelData);\n            // Get max volume \n            let sum = 0.0;\n            for (let i = 0; i < channelData.length; i++) {\n              sum += channelData[i] * channelData[i];\n            }\n            const maxVolume = Math.sqrt(sum / channelData.length);\n            // Check if buffer size has reached or exceeded the threshold\n            if (this.buffer.length >= this.bufferSize) {\n              const float32Array = new Float32Array(this.buffer)\n              let encodedArray = this.format === "ulaw"\n                ? new Uint8Array(float32Array.length)\n                : new Int16Array(float32Array.length);\n\n              // Iterate through the Float32Array and convert each sample to PCM16\n              for (let i = 0; i < float32Array.length; i++) {\n                // Clamp the value to the range [-1, 1]\n                let sample = Math.max(-1, Math.min(1, float32Array[i]));\n\n                // Scale the sample to the range [-32768, 32767]\n                let value = sample < 0 ? sample * 32768 : sample * 32767;\n                if (this.format === "ulaw") {\n                  value = encodeSample(Math.round(value));\n                }\n\n                encodedArray[i] = value;\n              }\n\n              // Send the buffered data to the main script\n              this.port.postMessage([encodedArray, maxVolume]);\n\n              // Clear the buffer after sending\n              this.buffer = [];\n            }\n          }\n          return true; // Continue processing\n        }\n      }\n      registerProcessor("raw-audio-processor", RawAudioProcessor);\n  '],{type:"application/javascript"}),I=URL.createObjectURL(T);class M extends V{createSocket(){if(this.socket&&(this.socket.readyState===WebSocket.OPEN||this.socket.readyState===WebSocket.CONNECTING))return;let e=(0,E.Vz)();this.socket=new WebSocket("".concat(P.U).concat(this.path),["convai","bearer.".concat(e)]),this.socket.addEventListener("open",()=>{var e;(null===(e=this.socket)||void 0===e?void 0:e.readyState)===WebSocket.OPEN&&this.socket.send(JSON.stringify({language:this.language}))}),this.socket.addEventListener("message",e=>{let t=JSON.parse(e.data);switch(t.type){case"ping":break;case"user_transcript":{let e=t.user_transcription_event.user_transcript;this.buffer=(this.buffer+" "+e).trim(),this.dispatchEvent(new D(this.buffer));break}default:"error"in t&&this.dispatchEvent(new A("network",t.error))}}),this.socket.addEventListener("error",()=>{this.dispatchEvent(new A("network","Network error"))}),this.socket.addEventListener("close",e=>{})}static async create(e,t,i){let a=navigator.mediaDevices.getSupportedConstraints().sampleRate,s=new AudioContext(a?{sampleRate:16e3}:{}),n=s.createAnalyser();a||await s.audioWorklet.addModule("https://cdn.jsdelivr.net/npm/@alexanderolsen/libsamplerate-js@2.1.2/dist/libsamplerate.worklet.js"),await s.audioWorklet.addModule(I);let l=s.createMediaStreamSource(t),r=new AudioWorkletNode(s,"raw-audio-processor");r.port.postMessage({type:"setFormat",format:"pcm",sampleRate:16e3});let o=new M(e,t,s,i);return r.port.onmessage=e=>{var t;if((null===(t=o.socket)||void 0===t?void 0:t.readyState)!==WebSocket.OPEN)return;let i=e.data[0];e.data[1],o.socket.send(JSON.stringify({user_audio_chunk:function(e){let t=new Uint8Array(e);return window.btoa(String.fromCharCode(...t))}(i.buffer)}))},l.connect(n),n.connect(r),o}start(){return"closed"===this.audioCtx.state&&this.dispatchEvent(new A("aborted","Tried to start recognition on a closed instance")),this.buffer="",this.createSocket(),this.audioCtx.resume()}stop(){return this.dispatchEvent(new D(this.buffer)),this.dispatchEvent(new Event("end")),this.audioCtx.suspend()}close(){var e;return null===(e=this.socket)||void 0===e||e.close(),this.audioCtx.close()}constructor(e,t,i,a){super(),(0,N._)(this,"path",void 0),(0,N._)(this,"stream",void 0),(0,N._)(this,"audioCtx",void 0),(0,N._)(this,"language",void 0),(0,N._)(this,"socket",void 0),(0,N._)(this,"buffer",void 0),(0,N._)(this,"smoothingFactor",void 0),this.path=e,this.stream=t,this.audioCtx=i,this.language=a,this.buffer="",this.smoothingFactor=1,this.createSocket()}}class z extends Error{constructor(e,t){super(t),(0,N._)(this,"code",void 0),(0,N._)(this,"message",void 0),this.code=e,this.message=t,this.name="SpeechRecognitionError"}}let L=()=>{let[e,t]=(0,m.useState)(""),[i,a]=(0,m.useState)(void 0),s=(0,m.useRef)(0),n=()=>{t(""),s.current=0},l=async(e,i)=>{let l,{script:r,language:o="en",chunkDuration:c=2e4}=i;n();let d=new AbortController,u=await M.create("/v1/voices/pvc/speech-to-text/stream-input",e,o);d.signal.addEventListener("abort",()=>{u.stop()});let h=()=>new Promise(e=>{let i=0,n=e=>{let a=e.transcript,n=r.split(" ").slice(s.current),l=a.split(" ");if(l.length<5)return;let o=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e=e.map(e=>e.toLowerCase()),t=t.map(e=>e.toLowerCase());let a=e.length,s=t.length,n=Array(s+1).fill(void 0).map(()=>({score:0,lastIndex:-1})),l=Array(s+1).fill(void 0).map(()=>({score:0,lastIndex:-1})),r=0,o=-1;for(let c=1;c<=a;c++){for(let a=1;a<=s;a++){let s=S()(e[c-1],t[a-1]),d=function(e,t,i){let{posWeight:a=.5,levWeight:s=.5,posScale:n=10,maxLevDistance:l=5}=i;return t>l?0:Math.max(0,Math.min(1,a*Math.exp(-e/n)+s*(1-t/l)))}(-1===n[a-1].lastIndex?0:a-1-n[a-1].lastIndex,s,i);if(d>(i.minProbability||.1)){let e=d*(1+n[a-1].score);e>r&&(r=e,o=a-1),l[a]={score:e,lastIndex:a-1}}else{let e=l[a-1].score,t=n[a].score;l[a]=e>=t?{...l[a-1]}:{...n[a]}}}[n,l]=[l,n]}return o}(l,n),c=0===i?1:u.smoothingFactor;i=o*c+i*(1-c),t(r.split(" ").slice(0,s.current+i+1).join(" "))},l=()=>{u.removeEventListener("result",n),u.removeEventListener("end",l),s.current=i,e()};u.addEventListener("result",n,{signal:d.signal}),u.addEventListener("error",e=>{a(new z(e.error,e.message)),d.abort()},{signal:d.signal}),u.addEventListener("end",l),u.start()}),m=setInterval(async()=>{if(d.signal.aborted){clearInterval(m);return}u.stop(),await l,l=h()},c);return l=h(),()=>{d.abort(),u.close(),clearInterval(m)}};return{readWords:e,error:i,resetReadWords:n,startRecognition:l}};var R=i(86370),F=i(97968),B=i(24469),O=i(34161),Z=i(30487),U=i(20308);let q=()=>({conversational:{label:l.ag.t("Conversational"),description:l.ag.t("Great for voice clones that are a conversational style for podcasts")},narrative:{label:l.ag.t("Narrative"),description:l.ag.t("Great for voices that will be suited for storytelling")},"social-media":{label:l.ag.t("Advertisement"),description:l.ag.t("Expressive script perfect for radio or TV commercials")}}),H=()=>({en:{label:l.ag.t("English"),styles:{conversational:"/public_app_assets/scripts/pvc/en/conversational.txt",narrative:"/public_app_assets/scripts/pvc/en/narrative.txt","social-media":"/public_app_assets/scripts/pvc/en/social-media.txt"}},zh:{label:l.ag.t("Chinese"),styles:{conversational:"/public_app_assets/scripts/pvc/zh/conversational.txt",narrative:"/public_app_assets/scripts/pvc/zh/narrative.txt","social-media":"/public_app_assets/scripts/pvc/zh/social-media.txt"}},es:{label:l.ag.t("Spanish"),styles:{conversational:"/public_app_assets/scripts/pvc/es/conversational.txt",narrative:"/public_app_assets/scripts/pvc/es/narrative.txt","social-media":"/public_app_assets/scripts/pvc/es/social-media.txt"}},pt:{label:l.ag.t("Portugese"),styles:{conversational:"/public_app_assets/scripts/pvc/pt/conversational.txt",narrative:"/public_app_assets/scripts/pvc/pt/narrative.txt","social-media":"/public_app_assets/scripts/pvc/pt/social-media.txt"}},fr:{label:l.ag.t("French"),styles:{conversational:"/public_app_assets/scripts/pvc/fr/conversational.txt",narrative:"/public_app_assets/scripts/pvc/fr/narrative.txt","social-media":"/public_app_assets/scripts/pvc/fr/social-media.txt"}},de:{label:l.ag.t("German"),styles:{conversational:"/public_app_assets/scripts/pvc/de/conversational.txt",narrative:"/public_app_assets/scripts/pvc/de/narrative.txt","social-media":"/public_app_assets/scripts/pvc/de/social-media.txt"}},ru:{label:l.ag.t("Russian"),styles:{conversational:"/public_app_assets/scripts/pvc/ru/conversational.txt",narrative:"/public_app_assets/scripts/pvc/ru/narrative.txt","social-media":"/public_app_assets/scripts/pvc/ru/social-media.txt"}},ko:{label:l.ag.t("Korean"),styles:{conversational:"/public_app_assets/scripts/pvc/ko/conversational.txt",narrative:"/public_app_assets/scripts/pvc/ko/narrative.txt","social-media":"/public_app_assets/scripts/pvc/ko/social-media.txt"}},it:{label:l.ag.t("Italian"),styles:{conversational:"/public_app_assets/scripts/pvc/it/conversational.txt",narrative:"/public_app_assets/scripts/pvc/it/narrative.txt","social-media":"/public_app_assets/scripts/pvc/it/social-media.txt"}},hr:{label:l.ag.t("Croatian"),styles:{conversational:"/public_app_assets/scripts/pvc/hr/conversational.txt",narrative:"/public_app_assets/scripts/pvc/hr/narrative.txt","social-media":"/public_app_assets/scripts/pvc/hr/social-media.txt"}}}),G=e=>{let{style:t,onSelect:i}=e;return(0,a.jsxs)(U.Xi,{className:"flex-col items-start gap-1",onSelect:i,children:[(0,a.jsx)(f.x,{as:"div",weight:"medium",children:q()[t].label}),(0,a.jsx)(f.x,{color:"subtle",size:"xs",className:"max-w-[12rem]",children:q()[t].description})]})};var W=e=>{let{language:t,disabled:i,onChange:s}=e,{i18n:l}=(0,n.mV)(),r=(0,j.bs)("md"),{isLoading:c,mutate:d}=(0,o.useMutation)({mutationFn:async e=>{let t;let i=(await Promise.all(e.map(e=>e.text()))).join("\n---\n").trim();if(""===i){b.toast.warning(l.t("The script file selected is empty."));return}try{t=(await (0,Z.oG)({body:{text:i.slice(0,100)}})).detected_languages.at(0)}catch(e){}await s({type:"custom",text:i,language:t})}}),{isLoading:u,mutate:h}=(0,o.useMutation)({mutationFn:async e=>{let{type:t,src:i,language:a}=e,n=await fetch(i);if(!n.ok){b.toast.error(l.t("Could not load the script file. Try another script or upload your own script."));return}s({type:t,text:await n.text(),language:a})},onError(){b.toast.error(l.t("Could not load the script file. Try another script or upload your own script."))}}),{getInputProps:m,open:p}=(0,O.uI)({multiple:!0,accept:{"text/plain":[]},maxSize:10485760,onDrop(e,t){t.forEach(e=>{var t;let{file:i,errors:a}=e;b.toast.error(l._(l._({id:"dtAUlQ",values:{0:i.name}})),{description:null===(t=a.at(0))||void 0===t?void 0:t.message})}),0!==e.length&&d(e)}});return(0,a.jsxs)(U.h_,{children:[(0,a.jsx)("input",{...m()}),(0,a.jsx)(U.$F,{className:"[&>span]:inline-block [&>span]:truncate [&>span]:mr-auto border-none",disabled:i,asChild:!0,children:(0,a.jsx)(v.Button,{variant:"ghost",className:"w-full rounded-xl",leftIcon:(0,a.jsx)(R.Z,{className:"!mr-2"}),rightIcon:(0,a.jsx)(F.Z,{className:"h-4 w-4 opacity-50"}),loading:c||u,children:(0,a.jsx)(n.cC,{id:"WkQoKh"})})}),(0,a.jsxs)(U.AW,{className:"duration-200",sideOffset:10,children:[(0,a.jsxs)(U.Xi,{className:"font-medium gap-6",onSelect:p,children:[(0,a.jsx)(n.cC,{id:"S8+p6H"}),(0,a.jsx)(B.Z,{className:"w-4 h-4"})]}),(0,a.jsx)(U.VD,{}),r||!t?Object.entries(H()).map(e=>{let[t,i]=e;return(0,a.jsxs)(U.Ph,{children:[(0,a.jsx)(U.kt,{className:"font-medium",children:i.label}),(0,a.jsx)(U.cq,{children:(0,a.jsx)(U.TG,{sideOffset:8,className:"max-w-[240px]",children:Object.entries(i.styles).map(e=>{let[i,s]=e;return(0,a.jsx)(G,{style:i,onSelect:()=>{h({type:"".concat(t,"-").concat(i),src:s,language:t})}},"".concat(t,"-").concat(i))})})})]},t)}):t in H()?Object.entries(H()[t].styles).map(e=>{let[i,s]=e;return(0,a.jsx)(G,{style:i,onSelect:()=>{h({type:"".concat(t,"-").concat(i),src:s,language:t})}},"".concat(t,"-").concat(i))}):(0,a.jsx)("div",{className:"max-w-[12rem] text-center px-2 py-5",children:(0,a.jsx)(f.x,{color:"subtle",size:"xs",children:(0,a.jsx)(n.cC,{id:"Wrk3o3"})})})]})]})};let K=(0,m.forwardRef)((e,t)=>(0,a.jsx)(c.E.div,{initial:{y:"100%",opacity:0},animate:{y:0,opacity:1},exit:{y:"-100%",opacity:0},transition:{y:{duration:.3,type:"spring",bounce:.05},opacity:{duration:.3}},ref:t,...e}));K.displayName="SlideInOut";let Y=(0,m.createContext)(null),X=()=>{let e=(0,m.useContext)(Y);if(!e)throw Error("useRecorderContext must be used within a RecorderRoot");return e},Q=e=>{let{children:t}=e;return(0,a.jsx)(Y.Provider,{value:{micDevices:(0,x.Uv)(),recorder:(0,x.Y$)(),audioWaveform:(0,x.CJ)({waveformBars:40}),speechRecognitionHighlighting:L()},children:t})},J=e=>{let{disabled:t,minDuration:i=0,maxDuration:N=1/0,getReadyCounterFrom:C=3,backupInterval:S,language:E,showRestart:P,stopButtonLabel:V,showScriptSelector:D,script:A,onScriptChange:T,formatFileName:I,onChange:M,onRecordingStart:z}=e,{i18n:L}=(0,n.mV)(),{micDevices:{micDevices:R,fetchMicDevices:F,selectedMicId:B,setSelectedMicId:O},recorder:{startRecording:Z,isRecording:U,durationMs:q},audioWaveform:{startAnalysing:H},speechRecognitionHighlighting:{startRecognition:G,resetReadWords:Y}}=X(),{requestMic:Q,isRequesting:J,error:$}=(0,x.s8)(),{startCounter:ee,showCounter:et,CounterUI:ei}=(0,x.PW)(),ea=(0,m.useRef)(),[es,en]=(0,m.useState)(!1),el=(0,j.bs)("md"),er=(0,m.useRef)(null),[eo,ec]=(0,m.useState)(0);(0,j.yU)(er,e=>ec(e.target.getBoundingClientRect().height));let ed=async()=>{let e=await Q({deviceId:B});e&&((0,x.aP)(e),R||F())},eu=async()=>{var e,t;let i,a;let s=!1;null===(e=ea.current)||void 0===e||e.call(ea),ea.current=()=>{s=!0};let n=navigator.userAgent.toLowerCase().includes("firefox"),l=await Q({deviceId:B,...n?{noiseSuppression:void 0,echoCancellation:void 0,autoGainControl:void 0}:{noiseSuppression:!1,echoCancellation:!1}});if(!l)return;if(s){(0,x.aP)(l);return}if(null==z||z(),C>0){let[e,t]=ee(C);ea.current=()=>{s=!0,e()},await t}if(s){(0,x.aP)(l);return}let o=new k.M("pvc"),c=await Z(l,{formatFileName:I,playSfx:!0,timeslice:S,onChunk:e=>o.save(e)});if(s){c(),o.clear();return}let d=H(l);if(void 0!==A&&void 0!==E){let e=null!==(t=A.language)&&void 0!==t?t:E;try{i=await G(l,{script:A.text,language:e})}catch(t){(0,r.$e)(i=>{i.setTag("step","recorder-speech-recognition"),i.setContext("values",{language:e}),i.captureException(t)})}}N<1/0&&(a=window.setTimeout(em,N)),ea.current=async e=>{s=!0,void 0!==a&&clearTimeout(a),null==i||i(),d(),ea.current=void 0;let t=await c(e);return o.clear(),t}},{isLoading:eh,mutate:em}=(0,o.useMutation)({mutationFn:async()=>{if(!ea.current)return;let e=await ea.current({playSfx:!0});if(!e)return;let t=await w.rf.create(e);if(t.duration<i){b.toast.error(L._(l.ag._({id:"V5LVct",values:{0:i/1e3}})));return}M(t)}});return(0,m.useEffect)(()=>()=>{var e;null===(e=ea.current)||void 0===e||e.call(ea),Y()},[]),(0,m.useEffect)(()=>{if(t){var e;null===(e=ea.current)||void 0===e||e.call(ea)}},[t]),(0,m.useEffect)(()=>{if($&&("NotAllowedError"===$.name||"PermissionDeniedError"===$.name)){let e=b.toast.error(L.t("Microphone access denied. Please enable it in your browser settings."));return()=>{b.toast.dismiss(e)}}},[$,L]),(0,a.jsx)(c.E.div,{className:"relative bg-background/80 backdrop-blur ring-1 ring-gray-alpha-200 rounded-2xl shadow-lg overflow-hidden",animate:{height:eo>0?eo:void 0},transition:{type:"spring",bounce:0,duration:.3},children:(0,a.jsx)("div",{ref:er,className:"p-1",children:(0,a.jsx)(d.M,{initial:!1,mode:"popLayout",children:et||es&&!U?(0,a.jsx)(K,{children:(0,a.jsx)("div",{className:"flex items-center justify-center h-9 scale-75",children:ei})},"get-ready-counter"):U?(0,a.jsxs)(K,{className:(0,y.cn)("grid gap-1 grid-cols-2",{"md:grid-cols-3":P}),children:[(0,a.jsxs)("div",{className:"w-full flex items-center justify-center gap-2 text-red-500",children:[(0,a.jsx)(_.XQ,{className:"w-4 h-4"}),(0,a.jsx)(f.x,{as:"span",weight:"medium",className:"text-current tabular-nums",children:(0,x.LU)(q)})]}),P&&(0,a.jsx)(v.Button,{variant:"ghost",className:"w-full rounded-xl",disabled:t,leftIcon:(0,a.jsx)(u.Z,{className:"!mr-2"}),onClick:async()=>{var e;en(!0),await (null===(e=ea.current)||void 0===e?void 0:e.call(ea)),Y(),await eu(),en(!1)},children:(0,a.jsx)(n.cC,{id:"6qYa6I"})}),(0,a.jsx)(v.Button,{variant:!el&&P?"primary":"ghost",className:(0,y.cn)("w-full rounded-xl",{"col-span-2 md:col-span-1":P}),leftIcon:(0,a.jsx)(s.Z,{className:"!mr-2"}),onClick:()=>em(),children:null!=V?V:L.t("Stop recording")})]},"stop-recording"):null===R?(0,a.jsx)(K,{children:(0,a.jsx)(v.Button,{variant:"ghost",className:"w-full rounded-xl",leftIcon:(0,a.jsx)(h.Z,{}),onClick:ed,disabled:t,loading:J,children:(0,a.jsx)(n.cC,{id:"OHsKTp"})})},"request-mic-permission"):(0,a.jsxs)(K,{className:(0,y.cn)("grid gap-1 grid-cols-2",{"md:grid-cols-3":D}),children:[(0,a.jsxs)(g.Select,{disabled:0===R.length||t,value:B,onValueChange:O,children:[(0,a.jsx)(g.SelectTrigger,{className:"[&>span]:inline-block [&>span]:truncate [&>span]:mr-0 border-none disabled:opacity-100 justify-center",placeholder:L.t("No device selected"),asChild:!0,children:(0,a.jsx)(v.Button,{variant:"ghost",className:"w-full rounded-xl",leftIcon:(0,a.jsx)(h.Z,{className:"!mr-2 shrink-0"}),children:(0,a.jsx)(g.SelectValue,{placeholder:L.t("Default microphone")})})}),(0,a.jsx)(g.SelectContent,{className:"rounded-xl duration-200",sideOffset:8,alignOffset:-4,children:null==R?void 0:R.map(e=>(0,a.jsx)(g.SelectItem,{value:e.deviceId,children:e.label},e.deviceId))})]}),D&&(0,a.jsx)(W,{language:E,disabled:t,onChange:async e=>{U||(e.language&&E&&e.language!==E&&await p.y.request({title:L.t("Language Mismatch"),description:L.t("The language of the script does not match the selected audio samples language. Keep the selected language consistent across audio samples."),confirmText:L.t("Continue"),showCancel:!1}),null==T||T(e))}}),(0,a.jsx)(v.Button,{variant:!el&&D?"primary":"ghost",className:(0,y.cn)("w-full rounded-xl",{"col-span-2 md:col-span-1":D}),leftIcon:(0,a.jsx)(_.XQ,{className:"!mr-2"}),disabled:t,loading:eh,onClick:eu,children:(0,a.jsx)(n.cC,{id:"IJaotC"})})]},"start-recording")})})})}},43614:function(e,t,i){"use strict";i.d(t,{EU:function(){return h},Wp:function(){return p},X4:function(){return m},ho:function(){return x},hx:function(){return v}});var a=i(17024),s=i(5479),n=i(74508),l=i(4322),r=i(30487),o=i(99748),c=i(96162),d=i(70554),u=i(77491);class h{get status(){return this._status}get name(){return this._file.name}get size(){return this._file.size}static async create(e,t,i){let{id:a,language:s,status:l,duration:r,sample:o}=i;return new h(e,l,t,null!=a?a:(0,n.k$)(),null!=r?r:Math.ceil(await (0,d.eM)(e)*1e3),s,o)}file(){return Promise.resolve(this._file)}setPending(){var e;(null===(e=this.error)||void 0===e?void 0:e.type)==="warning"&&this.skippedWarningCodes.add(this.error.code),this.error=void 0,this.loadingText="",this._status="pending"}setUploading(e){this.loadingText=e,this.error=void 0,this._status="uploading"}setUploaded(e){this.sample=e,e.duration_secs&&(this.duration=1e3*e.duration_secs),this.error=void 0,this.skippedWarningCodes=new Set,this._status="uploaded"}setError(e){this.sample=void 0,this.error=e,this._status="error"}constructor(e,t,i,n,l,r,o){(0,a._)(this,"_file",void 0),(0,a._)(this,"_status",void 0),(0,a._)(this,"type",void 0),(0,a._)(this,"id",void 0),(0,a._)(this,"duration",void 0),(0,a._)(this,"language",void 0),(0,a._)(this,"sample",void 0),(0,a._)(this,"skippedWarningCodes",void 0),(0,a._)(this,"error",void 0),(0,a._)(this,"loadingText",void 0),this._file=e,this._status=t,this.type=i,this.id=n,this.duration=l,this.language=r,this.sample=o,this.skippedWarningCodes=new Set,this.loadingText="",(0,s.rC)(this,{duration:s.LO,sample:s.LO,error:s.LO,loadingText:s.LO,setPending:s.aD,setUploading:s.aD,setUploaded:s.aD,setError:s.aD})}}class m{get status(){return"uploaded"}get name(){return this.sample.file_name}get size(){return this.sample.size_bytes}static create(e,t,i){return new m(e,t,e.sample_id,i,e.duration_secs?1e3*e.duration_secs:void 0)}async signedUrl(){return this._signedUrl&&void 0!==this.signedUrlExpiresAt&&this.signedUrlExpiresAt>Date.now()||(this._signedUrl=(await (0,r.AHz)({pathParams:{voiceId:this.voiceId,sampleId:this.id}})).signed_url,this.signedUrlExpiresAt=Date.now()+36e5),this._signedUrl}async file(){if(!this._file){let e=await (0,o.P)({url:"/v1/voices/".concat(this.voiceId,"/samples/").concat(this.id,"/audio"),method:"GET"});this._file=new File([e],this.name,{type:this.sample.mime_type})}return void 0===this.duration&&(this.duration=Math.ceil(await (0,d.eM)(this._file)*1e3)),this._file}constructor(e,t,i,n,l){(0,a._)(this,"sample",void 0),(0,a._)(this,"voiceId",void 0),(0,a._)(this,"id",void 0),(0,a._)(this,"language",void 0),(0,a._)(this,"duration",void 0),(0,a._)(this,"_file",void 0),(0,a._)(this,"_signedUrl",void 0),(0,a._)(this,"signedUrlExpiresAt",void 0),this.sample=e,this.voiceId=t,this.id=i,this.language=n,this.duration=l,(0,s.rC)(this,{duration:s.LO,sample:s.LO})}}let p=e=>{let[t,i,a]=(0,u.TD)(e),s="",n="",l="";return t>0&&(s="".concat(t," ").concat(1===t?"hour":"hours")),i>0&&t>=0&&(n="".concat(i," ").concat(1===i?"minute":"minutes")),a>0&&0===i&&0===t&&(l="".concat(a," ").concat(1===a?"second":"seconds")),"".concat(s," ").concat(n," ").concat(l).trim()};function v(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,i=1048576*t,a=[],s=[],n=0;for(let t=0;t<e.length;++t){let l=e[t];l.size>i?(s.length&&a.push(s),a.push([l]),s=[],n=0):n+l.size>i?(a.push(s),s=[l],n=l.size):(s.push(l),n+=l.size)}return s.length&&a.push(s),a}let x=(e,t)=>{let{pathParams:i,body:a}=e;return new Promise((e,s)=>{let n=new FormData;for(let e=0;e<a.files.length;e++)n.append("files",a.files[e]);a.remove_background_noise&&n.append("remove_background_noise",a.remove_background_noise.toString());let r=(0,c.Vz)(),o=new XMLHttpRequest,d="".concat(c.LB,"/v1/voices/pvc/").concat(i.voiceId,"/samples");o.open("POST",d),o.setRequestHeader("Authorization","Bearer ".concat(r)),o.upload.onprogress=e=>{e.lengthComputable&&t(Math.round(e.loaded/e.total*100))},o.onload=()=>{if(200===o.status)e(JSON.parse(o.responseText));else try{var t,i;let e=JSON.parse(o.responseText),a=(null===(t=e.detail)||void 0===t?void 0:t.message)||o.statusText,n=(null===(i=e.detail)||void 0===i?void 0:i.status)||o.statusText;s(new l.oo(o.status,a,n))}catch(e){s(Error(o.statusText))}},o.onerror=()=>{s(Error("A network error ocurred, please check your connection."))},o.send(n)})}},21147:function(e,t,i){"use strict";i.d(t,{Eu:function(){return r},H8:function(){return g},JF:function(){return u},K0:function(){return l},Ky:function(){return n},Oq:function(){return m},Tg:function(){return o},WS:function(){return h},XQ:function(){return p},Zl:function(){return c},_V:function(){return d},cC:function(){return x},fe:function(){return f},tN:function(){return v}});var a=i(68088),s=i(9506);let n=e=>(0,a.jsxs)("svg",{viewBox:"0 0 28 29",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,a.jsx)("path",{d:"M22.006 7.5a11.011 11.011 0 012.494 7c0 2.659-.936 5.098-2.494 7M19.163 9.337A8.126 8.126 0 0121 14.5c0 1.96-.69 3.76-1.837 5.162M16.275 11.044A5.454 5.454 0 0117.5 14.5c0 1.313-.46 2.517-1.225 3.456M13.431 12.881c.356.44.569 1.004.569 1.62 0 .614-.213 1.178-.569 1.618",stroke:"currentColor",strokeWidth:1.75,strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M16.603 6.786a9.078 9.078 0 100 15.56",stroke:"currentColor",strokeWidth:2.1875,strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:"0 4.68"})]}),l=e=>(0,a.jsxs)("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,a.jsx)("path",{d:"M9.672 16.392a6.484 6.484 0 11.053-12.497",stroke:"currentColor",strokeWidth:1.5625,strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:"0 3.34"}),(0,a.jsx)("path",{d:"M9.501 7a.5.5 0 01.5-.5h3.25a.5.5 0 010 1h-3.25a.5.5 0 01-.5-.5zM10 8.5a.5.5 0 000 1h1.501a.5.5 0 000-1H10zM17.276 7a1 1 0 00-1.415 0l-4.214 4.214a.5.5 0 00-.146.354V13.5a.5.5 0 00.5.5h1.932a.5.5 0 00.354-.146l4.214-4.214a1 1 0 000-1.415L17.276 7z",fill:"currentColor"})]}),r=e=>(0,a.jsxs)("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,a.jsx)("path",{d:"M9.672 16.392a6.484 6.484 0 11.053-12.497",stroke:"currentColor",strokeWidth:1.5625,strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:"0 3.34"}),(0,a.jsx)("path",{d:"M15 5.2c0-.741-.961-1.033-1.373-.415l-4.033 6.049A.75.75 0 0010.218 12h2.783v2.8c0 .741.962 1.033 1.374.415l4.033-6.049A.75.75 0 0017.784 8H15V5.2z",fill:"currentColor"})]}),o=e=>(0,a.jsxs)("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,a.jsx)("path",{d:"M9.672 16.392a6.484 6.484 0 11.053-12.497",stroke:"currentColor",strokeWidth:1.5625,strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:"0 3.34"}),(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.234 5.35a1.015 1.015 0 011.532 0l.68.781a.015.015 0 00.013.005l1.023-.162a1.015 1.015 0 011.174.985l.018 1.035c0 .005.003.01.007.013l.888.533c.529.318.654 1.03.266 1.51l-.652.804a.015.015 0 00-.002.014l.337.98c.201.583-.16 1.21-.766 1.327l-1.017.197a.015.015 0 00-.011.01l-.371.966c-.22.576-.9.824-1.44.524l-.906-.502a.015.015 0 00-.014 0l-.906.502c-.54.3-1.22.052-1.44-.524l-.37-.966a.015.015 0 00-.012-.01l-1.017-.197a1.015 1.015 0 01-.766-1.328l.337-.979a.015.015 0 00-.002-.014l-.652-.805a1.015 1.015 0 01.266-1.509l.888-.533a.015.015 0 00.007-.013l.018-1.035a1.015 1.015 0 011.174-.985l1.023.162c.005 0 .01-.001.014-.005l.679-.782zm2.37 4.254a.5.5 0 10-.708-.708L13.5 10.293l-.396-.397a.5.5 0 10-.708.708l.574.573a.75.75 0 001.06 0l1.574-1.573z",fill:"currentColor"})]}),c=e=>(0,a.jsx)("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,a.jsx)("path",{d:"M5.938 3.75a2.188 2.188 0 100 4.375 2.188 2.188 0 000-4.375zM2.5 5.938a3.437 3.437 0 116.875 0 3.437 3.437 0 01-6.875 0zM5.938 11.875a2.188 2.188 0 100 4.375 2.188 2.188 0 000-4.375zM2.5 14.063a3.437 3.437 0 116.875 0 3.437 3.437 0 01-6.875 0zM14.063 3.75a2.188 2.188 0 100 4.375 2.188 2.188 0 000-4.375zm-3.438 2.188a3.437 3.437 0 116.875 0 3.437 3.437 0 01-6.875 0zM14.063 11.875a2.188 2.188 0 100 4.375 2.188 2.188 0 000-4.375zm-3.438 2.188a3.437 3.437 0 116.875 0 3.437 3.437 0 01-6.875 0z",fill:"currentColor"})}),d=e=>(0,a.jsx)("svg",{viewBox:"0 0 20 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,a.jsx)("path",{d:"M13.542 8.28V6.197a3.542 3.542 0 10-7.083 0V8.28M10 11.822v2.5m-4.375 3.542h8.75c.92 0 1.667-.747 1.667-1.667v-6.25c0-.92-.746-1.667-1.667-1.667h-8.75c-.92 0-1.667.746-1.667 1.667v6.25c0 .92.747 1.667 1.667 1.667z",stroke:"currentColor",strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round"})}),u=e=>(0,a.jsx)("svg",{viewBox:"0 0 11 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,a.jsx)("path",{d:"M10.5 5.634a1 1 0 010 1.732l-8.25 4.763a1 1 0 01-1.5-.866V1.737A1 1 0 012.25.87l8.25 4.763z",fill:"currentColor"})}),h=e=>(0,a.jsxs)("svg",{viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,a.jsx)("circle",{cx:7,cy:7,r:6,stroke:"currentColor",strokeWidth:1.25}),(0,a.jsx)("path",{d:"M4.75 7h4.5",stroke:"currentColor",strokeWidth:1.25,strokeLinecap:"round"})]}),m=e=>(0,a.jsxs)("svg",{viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,a.jsx)("circle",{cx:7,cy:7,r:6,stroke:"currentColor",strokeWidth:1.25}),(0,a.jsx)("path",{d:"M7 4.75v4.5M4.75 7h4.5",stroke:"currentColor",strokeWidth:1.25,strokeLinecap:"round"})]}),p=e=>(0,a.jsxs)("svg",{viewBox:"0 0 19 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.75 3.43945C6.43629 3.43945 3.75 6.12574 3.75 9.43945C3.75 12.7532 6.43629 15.4395 9.75 15.4395C13.0637 15.4395 15.75 12.7532 15.75 9.43945C15.75 6.12574 13.0637 3.43945 9.75 3.43945ZM2.25 9.43945C2.25 5.29732 5.60786 1.93945 9.75 1.93945C13.8921 1.93945 17.25 5.29732 17.25 9.43945C17.25 13.5816 13.8921 16.9395 9.75 16.9395C5.60786 16.9395 2.25 13.5816 2.25 9.43945Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M12.75 9.43945C12.75 11.0963 11.4068 12.4395 9.75 12.4395C8.09314 12.4395 6.75 11.0963 6.75 9.43945C6.75 7.7826 8.09314 6.43945 9.75 6.43945C11.4068 6.43945 12.75 7.7826 12.75 9.43945Z",fill:"currentColor"})]}),v=e=>(0,a.jsxs)("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,a.jsx)("path",{className:"fill-background",fillRule:"evenodd",d:"m13.02 2.944 1.664-.02a2.5 2.5 0 0 1 2.53 2.53l-.02 1.663 1.19 1.163a2.5 2.5 0 0 1 0 3.577l-1.19 1.163.02 1.664a2.5 2.5 0 0 1-2.53 2.53l-1.664-.02-1.163 1.19a2.5 2.5 0 0 1-3.577 0l-1.163-1.19-1.663.02a2.5 2.5 0 0 1-2.53-2.53l.02-1.664-1.19-1.163a2.5 2.5 0 0 1 0-3.577l1.19-1.163-.02-1.663a2.5 2.5 0 0 1 2.53-2.53l1.663.02 1.163-1.19a2.5 2.5 0 0 1 3.577 0l1.163 1.19Z",clipRule:"evenodd"}),(0,a.jsx)("path",{fill:"#DDBF22",fillRule:"evenodd",d:"M12.755 4.378a1 1 0 0 1-.727-.302l-1.313-1.343a1 1 0 0 0-1.43 0L7.972 4.076a1 1 0 0 1-.727.302l-1.878-.023a1 1 0 0 0-1.012 1.012l.023 1.878a1 1 0 0 1-.302.728L2.733 9.284a1 1 0 0 0 0 1.43l1.343 1.313a1 1 0 0 1 .302.727l-.023 1.878a1 1 0 0 0 1.012 1.012l1.878-.023a1 1 0 0 1 .728.302l1.312 1.343a1 1 0 0 0 1.43 0l1.313-1.343a1 1 0 0 1 .727-.302l1.878.023a1 1 0 0 0 1.012-1.012l-.023-1.878a1 1 0 0 1 .302-.727l1.343-1.313a1 1 0 0 0 0-1.43l-1.343-1.313a1 1 0 0 1-.302-.727l.023-1.878a1 1 0 0 0-1.012-1.012l-1.878.023Z",clipRule:"evenodd"}),(0,a.jsx)("path",{className:"fill-background",fillRule:"evenodd",d:"m13.53 8.53-1.06-1.06L9 10.94 7.53 9.47l-1.06 1.06L9 13.06l4.53-4.53Z",clipRule:"evenodd"})]}),x=e=>(0,a.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,a.jsxs)("g",{clipPath:"url(#clip0_1434_844)",children:[(0,a.jsx)("path",{d:"M10.0005 1.68213C10.2334 1.68219 10.4645 1.72849 10.6792 1.81885L10.8364 1.89502C10.9893 1.97818 11.1294 2.08362 11.2515 2.2085L12.564 3.55127L12.5649 3.55225L12.604 3.58447C12.6179 3.59389 12.6324 3.6024 12.6479 3.60889L12.6968 3.62354C12.7128 3.62663 12.7292 3.62754 12.7456 3.62744L14.6235 3.604L14.7983 3.61084C14.9721 3.62611 15.1431 3.6669 15.3052 3.73291L15.4634 3.80713C15.6174 3.88863 15.7586 3.99299 15.8823 4.1167C16.0473 4.2817 16.1781 4.47773 16.2661 4.69385L16.3237 4.85889C16.3566 4.97037 16.378 5.0849 16.3882 5.20068L16.395 5.37549L16.3716 7.25342C16.3714 7.28681 16.3783 7.32023 16.3911 7.35107L16.4155 7.39502L16.4478 7.43408L16.4487 7.43506L17.7915 8.74756L17.9097 8.87549C18.0215 9.00905 18.1133 9.15868 18.1812 9.31982L18.2407 9.48389C18.292 9.65027 18.3178 9.82379 18.3179 9.99854C18.3179 10.1734 18.292 10.3476 18.2407 10.5142L18.1812 10.6782C18.1133 10.8394 18.0215 10.989 17.9097 11.1226L17.7915 11.2505L16.4487 12.563L16.4478 12.564C16.4357 12.5757 16.425 12.5891 16.4155 12.603L16.3911 12.647C16.3783 12.6778 16.3714 12.7112 16.3716 12.7446L16.395 14.6226L16.3882 14.7974C16.378 14.9131 16.3566 15.0277 16.3237 15.1392L16.2661 15.3042C16.1781 15.5203 16.0473 15.7164 15.8823 15.8813C15.7586 16.0051 15.6174 16.1094 15.4634 16.1909L15.3052 16.2651C15.1431 16.3311 14.9721 16.3719 14.7983 16.3872L14.6235 16.394L12.7456 16.3706C12.7292 16.3705 12.7128 16.3724 12.6968 16.3755L12.6479 16.3901C12.6168 16.4031 12.5885 16.4226 12.5649 16.4468L12.564 16.4478L11.2515 17.7905C11.1294 17.9154 10.9893 18.0208 10.8364 18.104L10.6792 18.1802C10.4645 18.2705 10.2334 18.3168 10.0005 18.3169C9.82558 18.3169 9.6514 18.291 9.48486 18.2397L9.3208 18.1802C9.15966 18.1123 9.01002 18.0205 8.87646 17.9087L8.74854 17.7905L7.43604 16.4468C7.41249 16.4226 7.38416 16.4031 7.35303 16.3901C7.32174 16.3772 7.28728 16.3702 7.25342 16.3706L5.37646 16.394C5.20149 16.3962 5.02708 16.3721 4.85986 16.3228L4.69482 16.2651C4.53263 16.1991 4.38161 16.109 4.24658 15.9985L4.11768 15.8813C3.99397 15.7576 3.88961 15.6165 3.80811 15.4624L3.73389 15.3042C3.64588 15.0881 3.60216 14.8559 3.60498 14.6226L3.62842 12.7446C3.62851 12.7282 3.62663 12.7118 3.62354 12.6958L3.60889 12.647C3.59591 12.6158 3.5764 12.5875 3.55225 12.564L3.55127 12.563L2.2085 11.2505C2.08342 11.1282 1.97824 10.9876 1.89502 10.8345L1.81885 10.6782C1.72843 10.4634 1.68213 10.2317 1.68213 9.99854C1.68219 9.76557 1.72849 9.53455 1.81885 9.31982L1.89502 9.1626C1.97818 9.00976 2.08362 8.86966 2.2085 8.74756H2.20947L3.55225 7.43604L3.58545 7.39697C3.59474 7.38323 3.60247 7.36842 3.60889 7.35303C3.6218 7.3219 3.62875 7.28809 3.62842 7.25439L3.60498 5.37646C3.60216 5.14311 3.64588 4.91097 3.73389 4.69482L3.80811 4.53662C3.88961 4.38255 3.99397 4.24138 4.11768 4.11768L4.24658 4.00049C4.38161 3.89 4.53263 3.79993 4.69482 3.73389L4.85986 3.67627C5.02708 3.62696 5.20149 3.60287 5.37646 3.60498L7.25342 3.62744C7.28715 3.62777 7.3209 3.62183 7.35205 3.60889L7.396 3.58447C7.40989 3.57504 7.42328 3.56433 7.43506 3.55225L7.43604 3.55127L8.74854 2.2085L8.87646 2.09033C9.01002 1.9785 9.15966 1.88669 9.3208 1.81885L9.48486 1.75928C9.6514 1.70799 9.82558 1.68213 10.0005 1.68213Z",fill:"url(#paint0_linear_1434_844)",stroke:"white",strokeWidth:"1.5"}),(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.53 8.53021L12.47 7.47021L8.99997 10.9402L7.52997 9.47022L6.46997 10.5302L8.99997 13.0602L13.53 8.53021Z",fill:"white"})]}),(0,a.jsxs)("defs",{children:[(0,a.jsxs)("linearGradient",{id:"paint0_linear_1434_844",x1:"10",y1:"2.43213",x2:"10",y2:"17.5669",gradientUnits:"userSpaceOnUse",children:[(0,a.jsx)("stop",{}),(0,a.jsx)("stop",{offset:"1",stopColor:"#6B7280"})]}),(0,a.jsx)("clipPath",{id:"clip0_1434_844",children:(0,a.jsx)("rect",{width:"20",height:"20",fill:"white"})})]})]}),g=e=>{let t=(0,s.useId)();return(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"none",...e,children:[(0,a.jsx)("path",{fill:"url(#a-".concat(t,")"),d:"M3 6.5A3.5 3.5 0 0 1 6.5 3h7A3.5 3.5 0 0 1 17 6.5v7a3.5 3.5 0 0 1-3.5 3.5h-7A3.5 3.5 0 0 1 3 13.5v-7Z"}),(0,a.jsx)("path",{className:"fill-background",fillRule:"evenodd",d:"M6.5 1.5h7a5 5 0 0 1 5 5v7a5 5 0 0 1-5 5h-7a5 5 0 0 1-5-5v-7a5 5 0 0 1 5-5Zm0 1.5A3.5 3.5 0 0 0 3 6.5v7A3.5 3.5 0 0 0 6.5 17h7a3.5 3.5 0 0 0 3.5-3.5v-7A3.5 3.5 0 0 0 13.5 3h-7Z",clipRule:"evenodd"}),(0,a.jsx)("path",{className:"fill-background",d:"M8.046 13.095h1.316v-6.27H8.046v6.27ZM10.695 13.095h1.245v-6.27h-1.245v6.27Z"}),(0,a.jsx)("defs",{children:(0,a.jsxs)("linearGradient",{id:"a-".concat(t),x1:"10",x2:"10",y1:"3",y2:"17",gradientUnits:"userSpaceOnUse",children:[(0,a.jsx)("stop",{className:"[stop-color:#374151] dark:[stop-color:#fff]"}),(0,a.jsx)("stop",{offset:"1",className:"[stop-color:#000] dark:[stop-color:#d1d5db]"})]})})]})},f=e=>(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 32",...e,children:[(0,a.jsx)("rect",{width:"28",height:"28",x:"2",y:"30",rx:"14",className:"fill-foreground",transform:"rotate(-90 2 30)"}),(0,a.jsx)("rect",{width:"28",height:"28",x:"2",y:"30",className:"stroke-background",strokeWidth:"4",rx:"14",transform:"rotate(-90 2 30)"}),(0,a.jsx)("path",{className:"stroke-background",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.094",d:"M16.771 20.474a4.54 4.54 0 0 1-5.251-6.412 4.539 4.539 0 0 1 5.288-2.335"}),(0,a.jsx)("path",{className:"fill-background",d:"M20.501 12.64a.524.524 0 0 0-.96-.29l-2.824 4.234a.526.526 0 0 0 .437.816h1.948v1.96c0 .519.673.723.962.29l2.823-4.234a.525.525 0 0 0-.437-.816h-1.949v-1.96Z"})]})},64172:function(e,t,i){"use strict";i.d(t,{Ae:function(){return f},Cd:function(){return g},P0:function(){return y},kY:function(){return b},rf:function(){return v},tY:function(){return x}});var a=i(17024),s=i(55673),n=i(5479),l=i(9506),r=i(74508),o=i(99748),c=i(26090),d=i(70554),u=i(54389),h=i(60493),m=i(43614),p=i(6526);class v{get name(){return this._file.name}static async create(e){let{id:t,duration:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new v(e,null!=t?t:(0,r.k$)(),null!=i?i:Math.ceil(await (0,d.eM)(e)*1e3))}file(){return Promise.resolve(this._file)}constructor(e,t,i){(0,a._)(this,"_file",void 0),(0,a._)(this,"id",void 0),(0,a._)(this,"duration",void 0),(0,a._)(this,"uploaded",void 0),this._file=e,this.id=t,this.duration=i,this.uploaded=!1}}class x{static create(e,t){return new x(e,t,e.sample_id)}get name(){return this.sample.file_name}async file(){if(!this._file){let e=await (0,o.P)({url:"/v1/voices/".concat(this.voiceId,"/samples/").concat(this.id,"/audio"),method:"GET"});this._file=new File([e],this.name,{type:this.sample.mime_type})}return this._file}constructor(e,t,i){(0,a._)(this,"sample",void 0),(0,a._)(this,"voiceId",void 0),(0,a._)(this,"id",void 0),(0,a._)(this,"_file",void 0),this.sample=e,this.voiceId=t,this.id=i}}let g=()=>{let e=(0,p.M)([]),t=(0,h.t)([]);return(0,n.ky)({get value(){return e.value},set value(val){e.value=val},get isDirty(){return e.isDirty},flush(){e.flush()},get localFiles(){return e.value.filter(e=>e instanceof v)},get isAllUploaded(){return this.localFiles.every(e=>e.uploaded)},get isAllOriginalRemoteFiles(){return e.value.some(e=>e instanceof x)&&0===t.value.length},concat(t){e.value=[...e.value,...t]},remove(i){i instanceof x&&(t.value=[...t.value,i]),e.value=e.value.filter(e=>e!==i)},samplesToRemove:t,get changes(){return{toAdd:this.localFiles.filter(e=>!e.uploaded),toRemove:t.value}},commitChanges(){e.value=e.value.map(e=>("uploaded"in e&&(e.uploaded=!0),e)),e.flush(),t.value=[]}},void 0,{autoBind:!0})},f=async e=>{var t;let i;i=e instanceof m.X4?await e.signedUrl():await (0,u.sT)(await e.file()),(e instanceof m.EU||e instanceof m.X4)&&"number"==typeof(null===(t=e.sample)||void 0===t?void 0:t.trim_start)&&"number"==typeof e.sample.trim_end&&(i="".concat(i,"#t=").concat(e.sample.trim_start/1e3,",").concat(e.sample.trim_end/1e3)),(0,c.GM)(i,{id:e.id,autoStart:!0,fileName:e.name,name:e.name,type:"other",isFirstRequest:!0,player:{title:e.name}})},b=e=>{var t;let i=(null===(t=c.Qu.value)||void 0===t?void 0:t.id)===e.id,a=i&&c.yA.value,{isLoading:n,mutate:r}=(0,s.useMutation)({mutationFn:()=>f(e)});return(0,l.useEffect)(()=>()=>{var t;(null===(t=c.Qu.value)||void 0===t?void 0:t.id)===e.id&&(0,c.ob)()},[]),{isActive:i,isPlaying:a,isLoading:n,togglePlay:()=>{c.yA.value&&((0,c.pt)(),a)||r()}}},y=e=>(0,s.useMutation)({mutationFn:async()=>(0,u.lG)(await e.file())})},43941:function(e,t,i){"use strict";i.d(t,{B6:function(){return k},OI:function(){return N},du:function(){return _},mg:function(){return C},nH:function(){return S}});var a=i(68088),s=i(6991),n=i(46736),l=i(40534),r=i(14078),o=i.n(r),c=i(9506),d=i(50276),u=i(73276),h=i(1851),m=i(4735),p=i(3030),v=i(96474),x=i(91105),g=i(11521),f=i(25933),b=i(60189),y=i(54752),j=i(21147);let _=e=>{let{id:t,children:i,layout:s}=e;return(0,a.jsx)(n.M,{mode:"wait",children:i&&(0,a.jsx)(l.E.div,{layout:s,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,a.jsx)(g.x,{className:"text-error",size:"sm",id:t,children:i})})})},w={language:{name:"Language",values:y.Q4.map(e=>({key:e.languageCode,name:e.name})).sort((e,t)=>e.name.localeCompare(t.name))},accent:{name:"Accent",values:e=>y.W_.filter(t=>t.code.split("-")[0]===e).map(e=>({key:e.code,name:e.name,sort:e.sort})).sort((e,t)=>e.sort-t.sort)},gender:{name:"Gender",values:[{key:"male",name:"Male"},{key:"female",name:"Female"},{key:"neutral",name:"Neutral"}]},age:{name:"Age",values:[{key:"young",name:"Young"},{key:"middle-aged",name:"Middle Aged"},{key:"old",name:"Old"}]}},k=new Set(Object.keys(w)),N=e=>{let t=[...e],i=["language",...Object.keys(w)];return t.sort((e,t)=>i.indexOf(e.label)-i.indexOf(t.label)),t},C=e=>{let{options:t,id:i,"aria-labelledby":s,"aria-describedby":n,"aria-errormessage":l,placeholder:r,...o}=e;return(0,a.jsxs)(x.Select,{...o,children:[(0,a.jsx)(x.SelectTrigger,{className:"rounded-lg",id:i,"aria-labelledby":s,"aria-describedby":n,"aria-errormessage":l,children:(0,a.jsx)(x.SelectValue,{placeholder:r})}),(0,a.jsx)(x.SelectContent,{className:"duration-200",children:t.map(e=>{let{key:t,name:i}=e;return(0,a.jsx)(x.SelectItem,{value:t,children:i},t)})})]})},S=(0,c.memo)(e=>{var t,i;let{language:r,labelClassName:g,valueClassName:k}=e,{i18n:N}=(0,s.mV)(),S={label:(0,c.useId)(),value:(0,c.useId)()},E=(0,u.MM)(h.models.value),P=(0,c.useMemo)(()=>{let e=o()(w);return E&&(e.language.values=y.sj.map(e=>({key:e.languageCode,name:e.name})).sort((e,t)=>e.name.localeCompare(t.name))),e},[E]),{formState:{errors:V},control:D,watch:A,trigger:T,setValue:I}=(0,d.Gc)(),{append:M,fields:z,remove:L}=(0,d.Dq)({name:"labels",control:D,rules:{validate:{valuesRequired:e=>{let t=Object.fromEntries(e.map(e=>[e.label,e.value]));return e.every(e=>{var i;let{label:a,value:s}=e;if(0===s.length)return!1;let n=null===(i=P[a])||void 0===i?void 0:i.values;if(void 0===n)return!0;if("function"==typeof n){let e=null!=r?r:t.language;if(!e)return!1;n=n(e)}return n.some(e=>{let{key:t}=e;return t===s})})||N.t("Please set values for each label")}}}}),R=r?"accent":"language",F=P[R],B=new Set(A("labels").map(e=>{let{label:t}=e;return t}));return void 0!==r&&B.add("language"),(0,a.jsxs)("div",{className:"stack gap-2",children:[(0,a.jsxs)(l.E.div,{layout:"position",className:"grid grid-cols-[1fr_1fr_auto] gap-2",children:[(0,a.jsx)(v.Label,{className:(0,b.cn)("w-full",g),id:S.label,children:(0,a.jsx)(s.cC,{id:"87a/t/"})}),(0,a.jsx)(v.Label,{className:(0,b.cn)("w-full",k),id:S.value,children:(0,a.jsx)(s.cC,{id:"wMHvYH"})}),(0,a.jsx)("div",{className:"w-9 shrink-0"})]}),(0,a.jsxs)("div",{className:"stack gap-2",children:[(0,a.jsxs)(l.E.div,{layout:"position",className:"grid grid-cols-[1fr_1fr_auto] gap-2",children:[(0,a.jsx)(x.Select,{open:!1,children:(0,a.jsx)(x.SelectTrigger,{className:"rounded-lg cursor-not-allowed [&>svg]:hidden",tabIndex:-1,id:"".concat(S.label,"-").concat(R),"aria-labelledby":S.label,children:F.name})}),(0,a.jsx)(d.Qr,{name:"labels.0.value",render:e=>{let{field:{value:t,onChange:i}}=e;return(0,a.jsx)(C,{"aria-labelledby":"".concat(S.label,"-").concat(R," ").concat(S.value),value:t,onValueChange:e=>{i(e),"language"===R&&z.forEach((e,t)=>{var i;let{label:a}=e;"function"!=typeof(null===(i=P[a])||void 0===i?void 0:i.values)||I("labels.".concat(t,".value"),"")}),T("labels")},options:"function"==typeof F.values?F.values(r):F.values})}}),(0,a.jsx)("div",{className:"w-9 shrink-0"})]}),(0,a.jsx)(n.M,{initial:!1,children:z.map((e,t)=>t>0&&(0,a.jsxs)(l.E.div,{layout:"position",className:"grid grid-cols-[1fr_1fr_auto] gap-2",variants:{visible:{opacity:1},hidden:{opacity:0}},initial:"hidden",animate:"visible",exit:"hidden",onAnimationComplete:e=>{"hidden"===e&&t===z.length-1&&L(t)},children:[(0,a.jsx)(d.Qr,{name:"labels.".concat(t,".label"),render:e=>{let{field:{value:i,onChange:s}}=e;return(0,a.jsx)(C,{id:"".concat(S.label,"-").concat(i),"aria-labelledby":S.label,value:i,onValueChange:e=>{s(e),I("labels.".concat(t,".value"),"")},options:Object.entries(P).filter(e=>{let[t]=e;return!B.has(t)||t===i}).map(e=>{let[t,{name:i}]=e;return{key:t,name:i}})})}}),(0,a.jsx)(d.Qr,{name:"labels.".concat(t,".value"),render:e=>{var i,s;let{field:{value:n,onChange:l}}=e,r=A("labels.".concat(t,".label")),o=null!==(s=null===(i=P[r])||void 0===i?void 0:i.values)&&void 0!==s?s:[];return"function"==typeof o&&(o=o(A("labels.0.value"))),(0,a.jsx)(f.Tooltip,{label:N.t("Please select a language first"),isDisabled:0!==o.length,children:(0,a.jsx)("div",{className:"w-full",children:(0,a.jsx)(C,{"aria-labelledby":"".concat(S.label,"-").concat(r," ").concat(S.value),value:n,disabled:0===o.length,onValueChange:e=>{l(e),T("labels")},options:o})})})}}),(0,a.jsx)(p.h,{type:"button","aria-label":N.t("Remove label"),size:"xs",className:"shrink-0 w-9 h-9 rounded-lg",onClick:()=>L(t),children:(0,a.jsx)(j.WS,{className:"w-3.5 h-3.5"})})]},e.id))})]}),(0,a.jsx)(l.E.div,{layout:"position",children:(0,a.jsx)(m.Button,{type:"button",size:"sm",className:"bg-background hover:bg-gray-100",leftIcon:(0,a.jsx)(j.Oq,{}),disabled:B.size>=Object.keys(P).length,onClick:()=>{let e=Object.keys(P).find(e=>!B.has(e));if(!e)throw Error("Unreachable: All labels are already added");M({label:e,value:""})},children:(0,a.jsx)(s.cC,{id:"lyqwgn"})})}),(0,a.jsx)(_,{layout:"position",children:null===(i=V.labels)||void 0===i?void 0:null===(t=i.root)||void 0===t?void 0:t.message})]})});S.displayName="LabelsSelectField"},6526:function(e,t,i){"use strict";i.d(t,{M:function(){return s},u:function(){return n}});var a=i(5479);let s=e=>(0,a.ky)({_value:e,_prev:e,get value(){return this._value},set value(val){this._value=val},get isDirty(){return this._value!==this._prev},flush(){this._prev=this._value}},{_value:a.LO.ref,_prev:a.LO.ref}),n=e=>{let{fetchFn:t,onError:i}=e;return(0,a.ky)({isLoading:!1,isSuccess:!1,error:void 0,data:void 0,variables:void 0,reset(){this.isLoading=!1,this.isSuccess=!1,this.error=void 0,this.data=void 0,this.variables=void 0},async fetch(e){this.reset(),this.isLoading=!0,this.variables=e;try{this.data=await t(e),this.isSuccess=!0}catch(e){this.error=e,null==i||i(e)}finally{this.isLoading=!1}}},{},{autoBind:!0})}},52389:function(e,t,i){"use strict";i.d(t,{Fu:function(){return r},Hp:function(){return x},J5:function(){return o},Re:function(){return p},Uw:function(){return m},cS:function(){return d},f:function(){return c},nJ:function(){return v},x8:function(){return g}});var a=i(50165),s=i(1851),n=i(54752),l=i(75515);let r=500,o=e=>{var t;return("cloned"!==e.category||"cloned"==e.category&&!["BAN","CAPTCHA"].includes(e.safety_control)||"cloned"==e.category&&"CAPTCHA"==e.safety_control&&(null===(t=e.voice_verification)||void 0===t?void 0:t.is_verified)==!0)&&(0,a.zi)(e.permission_on_resource)},c=e=>e>=1e9?"".concat((e/1e9).toFixed(1),"B").replace(".0",""):e>=1e6?"".concat((e/1e6).toFixed(1),"M").replace(".0",""):e>=1e3?"".concat((e/1e3).toFixed(1),"K").replace(".0",""):String(e),d=e=>Object.fromEntries(Object.entries({language:e.language||"",accent:e.accent,gender:e.gender,age:e.age,descriptive:e.descriptive,use_case:e.use_case}).filter(e=>{let[t,i]=e;return i})),u={old:"Old",young:"Young",middle_aged:"Middle-Aged"},h=[{label:"Narrative & Story",value:"narrative_story"},{label:"Conversational",value:"conversational"},{label:"Characters & Animation",value:"characters_animation"},{label:"Social Media",value:"social_media"},{label:"Entertainment & TV",value:"entertainment_tv"},{label:"Advertisement",value:"advertisement"},{label:"Informative & Educational",value:"informative_educational"}],m=e=>{var t,i;(e={...e}).language&&(e.language=(null===(t=n.Q4.find(t=>t.languageCode===e.language))||void 0===t?void 0:t.name)||e.language),e.age&&(e.age=u[e.age]||e.age),e.use_case&&(e.use_case=(null===(i=h.find(t=>t.value===e.use_case))||void 0===i?void 0:i.label)||e.use_case);let a=Object.fromEntries(Object.entries(e).filter(e=>{let[t,i]=e;return null!=i}).map(e=>{let[t,i]=e;return[t,i.charAt(0).toUpperCase()+i.slice(1)]}));return a.language&&a.accent&&(a.language="".concat(a.language," (").concat(a.accent,")"),delete a.accent),a},p=e=>{if(!s.models.value)throw Error("Cannot call getRecommendedModels until models are loaded");let t=s.models.value.map(t=>{let i={name:t.name,state:"not_started",progress:0,model_id:t.model_id,message:""};if(e.high_quality_base_model_ids.includes(t.model_id))i.state="fine_tuned",i.progress=1,i.message="Voice is ready to be used with the model!";else{var a,s;if(!t.can_be_finetuned||e.is_mixed||"professional"!==e.category||!e.fine_tuning||!t.languages.find(t=>{var i;return t.language_id===(null===(i=e.fine_tuning)||void 0===i?void 0:i.language)}))return null;i.state=e.fine_tuning.state[t.model_id]||"not_started",i.progress=(null===(a=e.fine_tuning.progress)||void 0===a?void 0:a[t.model_id])||0,i.message=(null===(s=e.fine_tuning.message)||void 0===s?void 0:s[t.model_id])||""}return"fine_tuning"===i.state&&(i.message+=" "+Math.floor(100*i.progress)+"%"),"not_started"===i.state&&(i.message="Click to start fine-tuning"),"failed"===i.state&&(i.message="Fine-tuning failed. Click to retry"),t.can_do_voice_conversion&&(i.name+=" (Speech to Speech)"),i});return t=t.filter(e=>null!==e),e.sharing&&e.sharing.status.startsWith("copied")&&(t=t.filter(e=>(null==e?void 0:e.state)==="fine_tuned")),t},v=e=>{if("professional"!==e.category||!e.fine_tuning)return!1;let t=p(e);return t.length>0&&(t.every(e=>"not_started"===e.state)||!e.fine_tuning.is_allowed_to_fine_tune)},x=e=>{if("professional"!==e.category||!e.fine_tuning||!(e.is_owner||(0,a.cg)(e.permission_on_resource))||e.sharing)return!1;let t=p(e);return t.length>0&&!t.every(e=>"not_started"===e.state)&&t.every(e=>"failed"===e.state||"fine_tuned"===e.state||"not_started"===e.state)},g=e=>"professional"===e.category&&!!e.fine_tuning&&!!e.samples&&0!==e.samples.length&&(!!e.samples.some(e=>void 0===e.duration_secs)||e.samples.reduce((e,t)=>{var i;return e+(null!==(i=t.duration_secs)&&void 0!==i?i:0)},0)>=l.oR)},26897:function(e,t,i){"use strict";i.d(t,{G7:function(){return b},dE:function(){return E},ro:function(){return S},u5:function(){return C},yY:function(){return N}});var a=i(68088),s=i(6991),n=i(9506),l=i(71037),r=i(55205),o=i(72228),c=i(73940),d=i(74346),u=i(25933),h=i(60189),m=i(58397),p=i(9039),v=i(2544),x=i(21147),g=i(52389);let f=e=>["professional","high_quality","premade","cloned"].includes(e),b=e=>{let{category:t,className:i,size:l="1.25rem",showOnlyHighQualityIndicator:r=!1}=e,{i18n:o}=(0,s.mV)(),c=(0,n.useMemo)(()=>r?"high_quality"===t?{text:o.t("High Quality"),icon:x.cC}:null:t&&["professional","high_quality"].includes(t)?{text:o.t("Professional Voice Clone"),icon:x.tN}:"cloned"===t?{text:o.t("Instant Voice Clone"),className:"translate-y-[-20%] translate-x-[22%]",icon:x.fe}:"premade"===t?{text:o.t("Default Voice"),icon:x.H8}:void 0,[t,o]);return c?(0,a.jsx)(u.Tooltip,{label:c.text,children:(0,a.jsx)("span",{className:(0,h.cn)("absolute top-0 right-0 translate-y-[-30%] translate-x-[30%]",c.className,i),children:(0,a.jsx)(c.icon,{style:{width:l,height:l}})})}):null},y=e=>{let{category:t,iconOnly:i=!1,className:l}=e,{i18n:c}=(0,s.mV)(),m=(0,n.useMemo)(()=>["professional","high_quality"].includes(t)?{text:c.t("Professional Voice Clone"),color:"text-amber-400"}:"cloned"===t?{text:c.t("Instant Voice Clone"),icon:r.jr,color:"text-gray-700"}:"premade"===t?{text:c.t("Default Voice"),color:"text-gray-700"}:"famous"===t?{text:c.t("Famous Voice"),icon:r.T$,color:"text-amber-400"}:"generated"===t?{text:c.t("Voice Design"),icon:r.uO,color:"text-gray-700"}:void 0,[t,c]);return m?(0,a.jsx)(u.Tooltip,{label:i?m.text:void 0,children:(0,a.jsxs)(o.Ct,{variant:"secondary",className:(0,h.cn)("gap-1",l),children:[m.icon&&(0,a.jsx)(d.Z,{size:"sm",children:(0,a.jsx)(m.icon,{className:"".concat(m.color," -ml-1"),"aria-hidden":"true"})}),!i&&(0,a.jsx)("span",{className:"min-w-max",children:m.text})]})},"type_badge"):null},j=e=>{let{iconOnly:t=!1,className:i}=e;return(0,a.jsx)(u.Tooltip,{label:(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(s.cC,{id:"WyCD+S"})}),children:(0,a.jsxs)(o.Ct,{variant:"secondary",className:(0,h.cn)("gap-1",i),children:[(0,a.jsx)(d.Z,{size:"sm",color:"inherit",children:(0,a.jsx)(r.b7,{className:"-ml-1"})}),!t&&(0,a.jsx)("span",{className:"min-w-max",children:(0,a.jsx)(s.cC,{id:"oj1JAC"})})]})},"moderation_badge")},_=e=>{let t,{voice:i,isOwner:n=!1,activated:l=!1,iconOnly:p=!1,className:v}=e,{i18n:x}=(0,s.mV)(),g=i&&"disable_at_unix"in i?i.disable_at_unix:null;if(i&&i.notice_period||g){let e=i.notice_period?i.notice_period>364?i.notice_period>366?x.t("2 years"):x.t("1 year"):i.notice_period+" "+x.t("days"):null;return t=g?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.cC,{id:"ONXxOs"}),(0,a.jsx)("b",{children:(0,m.$m)(g)}),"."]}):n&&l?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(s.cC,{id:"t8rGlE",values:{length:e},components:{0:(0,a.jsx)("b",{})}})}):n?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(s.cC,{id:"57EXuz",values:{length:e},components:{0:(0,a.jsx)("b",{}),1:(0,a.jsx)("b",{})}})}):(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(s.cC,{id:"n39ygZ",values:{length:e},components:{0:(0,a.jsx)("b",{}),1:(0,a.jsx)("b",{})}})}),(0,a.jsx)(u.Tooltip,{label:t,children:(0,a.jsxs)(o.Ct,{variant:"secondary",className:(0,h.cn)("gap-1",v),children:[(0,a.jsx)(d.Z,{size:"sm",color:"inherit",children:(0,a.jsx)(r.T3,{})}),!p&&(0,a.jsx)("span",{className:"min-w-max",children:g?(0,a.jsx)(s.cC,{id:"oOfJ56",values:{0:(0,c.q)(new Date(1e3*g))}}):e})]})},"notice_badge")}},w=e=>{let{voice:t,isOwner:i=!1,iconOnly:n=!1,className:l}=e,{i18n:r}=(0,s.mV)();if(t&&t.rate)return(0,a.jsx)(u.Tooltip,{label:i?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(s.cC,{id:"2BrBqh",values:{0:t.rate},components:{0:(0,a.jsx)("b",{})}})}):(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(s.cC,{id:"1y7xpC",values:{0:t.rate,1:t.rate},components:{0:(0,a.jsx)("b",{})}})}),children:(0,a.jsx)(o.Ct,{variant:"secondary",className:(0,h.cn)("gap-1",l),children:(0,a.jsx)("span",{className:"min-w-max",children:i?(0,a.jsx)(s.cC,{id:"Uw6meN",values:{0:t.rate}}):n?(0,a.jsx)(s.cC,{id:"M5K8LG",values:{0:t.rate}}):(0,a.jsx)(s.cC,{id:"+jIM+I",values:{0:t.rate}})})})},"multiplier_badge")},k=e=>{let{iconOnly:t=!1,className:i}=e;return(0,a.jsx)(u.Tooltip,{label:(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(s.cC,{id:"2iJ7OB",components:{0:(0,a.jsx)(l.a,{href:"https://elevenlabs.io/docs/voices/voice-lab/professional-voice-cloning",target:"_blank",className:"underline"})}})}),children:(0,a.jsx)(o.Ct,{variant:"secondary",className:(0,h.cn)("gap-1",i),children:!t&&(0,a.jsx)("span",{className:"min-w-max",children:"HQ"})})},"hq_badge")},N=e=>{let{voice:t,isOwner:i=!1,disabled:s=!1,iconOnly:n=!1,includeTypeBadge:l=!0}=e,r=[];return l&&r.push(y({category:t.category,iconOnly:n})),"high_quality"==t.category&&r.push(k({iconOnly:n})),t.live_moderation_enabled&&r.push(j({iconOnly:n})),(t.notice_period||"disable_at_unix"in t&&t.disable_at_unix)&&r.push(_({voice:t,isOwner:i,activated:s,iconOnly:n})),t.rate&&1!=t.rate&&r.push(w({voice:t,isOwner:i,iconOnly:n})),(0,a.jsx)(o.k,{variant:"secondary",limit:8,children:r})},C=e=>{let{voice:t,isOwner:i,disabled:s,iconOnly:n,includeTypeBadge:l}=e,r=[];return l&&r.push((0,a.jsx)(y,{category:t.category,iconOnly:n})),"rate"in t&&t.rate&&1!=t.rate&&r.push((0,a.jsx)(w,{voice:t,isOwner:i,iconOnly:!0})),"high_quality"==t.category&&r.push((0,a.jsx)(k,{iconOnly:n})),"live_moderation_enabled"in t&&t.live_moderation_enabled&&r.push((0,a.jsx)(j,{iconOnly:n})),("notice_period"in t&&t.notice_period||"disable_at_unix"in t&&t.disable_at_unix)&&r.push((0,a.jsx)(_,{voice:t,isOwner:i,activated:s,iconOnly:n})),r};function S(e){var t,i,a;let s=!(0,v._B)(e)&&e.labels?(0,g.Uw)(e.labels):{},n=[...C({voice:e,isOwner:!1,disabled:!1,iconOnly:!1,includeTypeBadge:!f(e.category)}),s.use_case,...Object.entries(s).filter(e=>{let[t]=e;return"use_case"!==t}).map(e=>{let[,t]=e;return t})];return"language"in e&&n.push((null===(t=p.k_[e.language])||void 0===t?void 0:t.name)||e.language),"descriptive"in e&&n.push((null===(i=p.Mm[e.descriptive])||void 0===i?void 0:i.name)||e.descriptive),"use_case"in e&&n.push((null===(a=p.kO[e.use_case])||void 0===a?void 0:a.name)||e.use_case),n=n.filter(Boolean)}let E=e=>{let{voice:t}=e,i=[],s=null==t?void 0:t.cloned_by_count,n=null==t?void 0:t.usage_character_count_1y;return s&&i.push(P((0,g.f)(s))),n&&i.push(V((0,g.f)(n))),(0,a.jsx)(o.k,{variant:"secondary",limit:2,children:i})},P=e=>(0,a.jsx)(u.Tooltip,{label:(0,a.jsx)(s.cC,{id:"dEWYAM",values:{users:e}}),children:(0,a.jsxs)(o.Ct,{variant:"secondary",className:"gap-1",children:[(0,a.jsx)(d.Z,{size:"sm",color:"inherit",children:(0,a.jsx)(r.t0,{className:"-ml-1"})}),(0,a.jsx)("span",{className:"min-w-max",children:e})]})},"user_count"),V=e=>(0,a.jsx)(u.Tooltip,{label:(0,a.jsx)(s.cC,{id:"qIqeOP",values:{characters:e}}),children:(0,a.jsxs)(o.Ct,{variant:"secondary",className:"gap-1",children:[(0,a.jsx)(d.Z,{size:"sm",color:"inherit",children:(0,a.jsx)(r.He,{className:"-ml-1"})}),(0,a.jsx)("span",{className:"min-w-max",children:e})]})},"character_count")},2544:function(e,t,i){"use strict";i.d(t,{E$:function(){return u},F7:function(){return o},GD:function(){return c},_B:function(){return n},ht:function(){return l},qv:function(){return h},tT:function(){return r},xX:function(){return d}});var a=i(93281),s=i(60358);function n(e){return"public_owner_id"in e}function l(e){return e.sort((e,t)=>{let i=t.category.localeCompare(e.category);return 0!==i?i>0?-1:1:t.name.localeCompare(e.name)>0?-1:1}).sort((e,t)=>{var i,a;return"premade"===e.category&&"premade"===t.category?Number((null===(i=t.labels)||void 0===i?void 0:i.featured)==="new")-Number((null===(a=e.labels)||void 0===a?void 0:a.featured)==="new"):1})}let r=()=>{let[e,t]=(0,a.v1)("action",(0,a.km)(["none","create","edit","verify"]).withDefault("none").withOptions({history:"push"}));return[e,e=>{t(e)}]},o=()=>{let e={prompt:a.Oi,previewText:a.Oi,seed:a.Lv,loudness:a.Lv,quality:a.Lv,guidanceScale:a.Lv},t=(0,a.Qx)(e);return[e=>t(new URL("".concat(window.location.origin).concat(s.VP.voiceLab,"?action=create&creationType=voiceDesign")),e),()=>{let t=new URLSearchParams(window.location.search);return Object.entries(e).reduce((e,i)=>{let[a,s]=i,n=t.get(a);return e[a]=n?s.parse(n):null,e},{})}]};function c(e,t){if(!e)return"bg-background";switch(e){case"red":return t?"bg-collection-red-900 dark:bg-collection-red-500":"bg-collection-red-100 dark:bg-collection-red-900";case"orange":return t?"bg-collection-orange-900 dark:bg-collection-orange-500":"bg-collection-orange-100 dark:bg-collection-orange-900";case"yellow":return t?"bg-collection-yellow-900 dark:bg-collection-yellow-500":"bg-collection-yellow-100 dark:bg-collection-yellow-900";case"green":return t?"bg-collection-green-900 dark:bg-collection-green-500":"bg-collection-green-100 dark:bg-collection-green-900";case"teal":return t?"bg-collection-teal-900 dark:bg-collection-teal-500":"bg-collection-teal-100 dark:bg-collection-teal-900";case"blue":return t?"bg-collection-blue-900 dark:bg-collection-blue-500":"bg-collection-blue-100 dark:bg-collection-blue-900";case"purple":return t?"bg-collection-purple-900 dark:bg-collection-purple-500":"bg-collection-purple-100 dark:bg-collection-purple-900"}}function d(e,t){if(!e)return"bg-background";switch(e){case"red":return t?"bg-collection-red-900 dark:bg-collection-red-500":"bg-collection-red-100 dark:bg-collection-red-500/20";case"orange":return t?"bg-collection-orange-900 dark:bg-collection-orange-500":"bg-collection-orange-100 dark:bg-collection-orange-500/20";case"yellow":return t?"bg-collection-yellow-900 dark:bg-collection-yellow-500":"bg-collection-yellow-100 dark:bg-collection-yellow-500/20";case"green":return t?"bg-collection-green-900 dark:bg-collection-green-500":"bg-collection-green-100 dark:bg-collection-green-500/20";case"teal":return t?"bg-collection-teal-900 dark:bg-collection-teal-500":"bg-collection-teal-100 dark:bg-collection-teal-500/20";case"blue":return t?"bg-collection-blue-900 dark:bg-collection-blue-500":"bg-collection-blue-100 dark:bg-collection-blue-500/20";case"purple":return t?"bg-collection-purple-900 dark:bg-collection-purple-500":"bg-collection-purple-100 dark:bg-collection-purple-500/20"}}function u(e,t){if(!e)return"text-foreground";switch(e){case"red":return t?"text-collection-red-100 dark:text-collection-red-900":"text-collection-red-900 dark:text-collection-red-100";case"orange":return t?"text-collection-orange-100 dark:text-collection-orange-900":"text-collection-orange-900 dark:text-collection-orange-100";case"yellow":return t?"text-collection-yellow-100 dark:text-collection-yellow-900":"text-collection-yellow-900 dark:text-collection-yellow-100";case"green":return t?"text-collection-green-100 dark:text-collection-green-900":"text-collection-green-900 dark:text-collection-green-100";case"teal":return t?"text-collection-teal-100 dark:text-collection-teal-900":"text-collection-teal-900 dark:text-collection-teal-100";case"blue":return t?"text-collection-blue-100 dark:text-collection-blue-900":"text-collection-blue-900 dark:text-collection-blue-100";case"purple":return t?"text-collection-purple-100 dark:text-collection-purple-900":"text-collection-purple-900 dark:text-collection-purple-100"}}function h(e){if(!e)return null;switch(e){case"en":default:return"voices";case"zh":return"声音";case"es":return"voces";case"hi":return"आवाज़ें";case"pt":return"vozes";case"fr":return"voix";case"de":return"Stimmen";case"ja":return"声";case"ar":return"أصوات";case"ko":return"음성";case"id":case"ms":return"suara";case"it":case"ro":return"voci";case"nl":return"stemmen";case"tr":return"sesler";case"pl":return"głosy";case"ru":return"голоса";case"sv":return"r\xf6ster";case"fil":return"tinig";case"uk":return"голоси";case"el":return"φωνές";case"cs":case"sk":return"hlasy";case"da":case"no":return"stemmer";case"fi":return"\xe4\xe4net";case"bg":return"гласове";case"hr":return"glasovi";case"ta":return"குரல்கள்";case"vi":return"giọng n\xf3i";case"hu":return"hangok"}}},84451:function(e,t,i){"use strict";i.d(t,{u:function(){return L},SupportAgentProvider:function(){return M},o:function(){return T}});var a=i(68088),s=i(44141),n=i(6991),l=i(46736),r=i(40534),o=i(25178),c=i(71809),d=i(81999),u=i(99597),h=i(23431),m=i(9506),p=i(54995),v=i(60358);let x=()=>{let{i18n:e}=(0,n.mV)();return{"text-to-speech":{url:v.VP.tts,title:e.t("Text to Speech")},"speech-to-speech":{url:v.VP.sts,title:e.t("Voice Changer")},projects:{url:v.VP.studio,title:e.t("Studio")},"sound-effects-generate":{url:v.VP.soundEffects,title:e.t("Sound Effects")},"sound-effects-explore":{url:v.VP.soundEffectsExplore,title:e.t("Sound Effects Explore")},"voiceover-studio":{url:v.VP.voiceoverStudio,title:e.t("Voiceover Studio")},"voice-library":{url:v.VP.voiceLibrary,title:e.t("Voice Library")},"my-voices":{url:v.VP.voiceLab,title:e.t("My Voices")},"audio-native":{url:v.VP.audioNative,title:e.t("Audio Native")},"voice-isolator":{url:v.VP.voiceIsolator,title:e.t("Voice Isolator")},"speech-classifier":{url:v.VP.aiClassifier,title:e.t("Speech Classifier")},"conversational-ai-agents":{url:v.VP.conversationalAi,title:e.t("Conversational AI Agents")},"conversational-ai-history":{url:v.VP.conversationalAiHistory,title:e.t("Conversational AI History")},"voice-clone":{url:v.VP.voiceLab+"?action=create",title:e.t("Voice Cloning")},"dubbing-studio":{url:v.VP.dubbing,title:e.t("Dubbing")},"create-blank-project":{url:v.VP.studio+"?create=blank",title:e.t("Studio - Create")},"create-audiobook-project":{url:v.VP.studio+"?create=book",title:e.t("Studio - Create Book")},"create-article-project":{url:v.VP.studio+"?create=article",title:e.t("Studio - Create Article")},"create-podcast-project":{url:v.VP.studio+"?create=genfm",title:e.t("Studio - Create Podcast")},subscription:{url:v.VP.subscription,title:e.t("Subscription")},profile:{url:v.VP.settings,title:e.t("Settings")},"api-keys":{url:v.VP.settingsApiKeys,title:e.t("API Keys")},webhooks:{url:v.VP.settingsWebhooks,title:e.t("Webhooks")},"add-two-factor-authentication":{url:v.VP.settingsTwoFactorAuth,title:e.t("Two factor authentication")}}},g=()=>{let{i18n:e}=(0,n.mV)();return{"text-to-speech-docs":{url:v.ZP.guideTts,title:e.t("Text to Speech Documentation")},"speech-to-speech-docs":{url:v.ZP.guideSts,title:e.t("Voice Changer Documentation")},"studio-docs":{url:v.ZP.guideStudio,title:e.t("Studio Documentation")},"dubbing-docs":{url:v.ZP.guideStudio,title:e.t("Dubbing Documentation")},"sound-effects-docs":{url:v.ZP.guideStudio,title:e.t("Sounds Effects Documentation")},"voice-library-docs":{url:v.ZP.guideStudio,title:e.t("Voice Library Documentation")},"voice-isolator-docs":{url:v.ZP.guideStudio,title:e.t("Voice Isolator Documentation")},"conversational-ai-docs":{url:v.ZP.guideStudio,title:e.t("Conversational AI Documentation")},"voice-clone-docs":{url:v.ZP.guideStudio,title:e.t("Voice Cloning Documentation")},"voice-lab-docs":{url:v.ZP.guideStudio,title:e.t("My Voices Documentation")},"audio-native-docs":{url:v.ZP.guideStudio,title:e.t("Audio Native Documentation")}}};var f=i(1851),b=i(26090),y=i(74346),j=i(3030),_=i(11521),w=i(96162),k=i(71860),N=i(63415),C=i(85753),S=i(60189),E=i(74021);let P=e=>{let{children:t,show:i}=e;return(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(l.M,{children:i&&(0,a.jsxs)(r.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:(0,S.cn)("pointer-events-none absolute -top-8 -right-8 -bottom-8 -left-8 overflow-hidden"),style:{mask:"linear-gradient(to bottom, rgba(0,0,0,0) 12.5%, rgba(0,0,0,1) 25%, rgba(0,0,0,1)) top,\n              linear-gradient(to top, rgba(0,0,0,0) 10%, rgba(0,0,0,1) 20%, rgba(0,0,0,1) 0) bottom,\n              linear-gradient(to right, rgba(0,0,0,0) 5%, rgba(0,0,0,1) 10%, rgba(0,0,0,1)) left,\n              linear-gradient(to left, rgba(0,0,0,0) 5%, rgba(0,0,0,1) 10%, rgba(0,0,0,1)) right,\n              radial-gradient(ellipse, rgba(0,0,0,1), rgba(0,0,0,1) 70%, rgba(0,0,0,0) 80%)",maskComposite:"intersect"},children:[(0,a.jsx)("div",{className:"absolute w-[1000px] h-[1000px] left-1/2 top-1/2 -mt-[500px] -ml-[500px] animate-[spin_12s_linear_infinite] opacity-90",style:{background:"conic-gradient(from 90deg, violet, blue, violet, blue, violet)"}}),(0,a.jsx)("div",{className:"absolute w-[500px] h-[500px] left-1/2 top-1/2 -mt-[250px] -ml-[250px] animate-[spin_12s_linear_infinite] direction-reverse opacity-90",style:{background:"conic-gradient(from 90deg, #ffffffff, #ffffffaa, #ffffffff, #ffffffaa, #ffffffff, #ffffffaa, #ffffffff)"}}),(0,a.jsx)("div",{className:"hidden absolute -left-1 -top-1 -right-1 -bottom-1 shadow-[inset_0px_0px_18px_32px_#fff]"})]})}),t]},"glow-holder")},V={default:"v0qVmZicsiE9MgxbXBJ0"},D=(0,m.createContext)(null),A=(0,u.default)(()=>Promise.resolve().then(i.bind(i,36474)),{loadableGenerated:{webpack:()=>[36474]},ssr:!1}),T=()=>{let e=(0,m.useContext)(D);if(!e)throw Error("Support agent used outside of provider");return e},I=e=>"System message - content of the page has changed. Consider it for next response, but don't read this update and don't react to this contextual update. \nPage title: ".concat(document.title||"","\nURL: ").concat(window.location.href,"\nElements available on the page: \n").concat(Object.entries(e).map(e=>{let[t,i]=e;return"id: ".concat(t,", tagName: ").concat(i.element.tagName,", description: ").concat(i.description," ")}).join("\n")),M=e=>{let{children:t}=e;return(0,a.jsx)(p.AK,{children:(0,a.jsx)(z,{children:t})})},z=(0,d.Pi)(e=>{let{children:t}=e,{i18n:i}=(0,n.mV)(),l=(0,h.usePathname)(),[r,o]=(0,m.useState)(!1),[c,d]=(0,m.useState)(null),[u,v]=(0,m.useState)(null),y=(0,m.useRef)(),j=(0,h.useRouter)(),[_,S]=(0,m.useState)(!1),P=x(),A=g(),{getInteractiveElement:T}=(0,p.hk)(),{startSession:M,endSession:z,status:L,isSpeaking:R,getOutputVolume:F,sendContextualUpdate:B}=(0,s.s)({origin:"wss://api.elevenlabs.io"}),O={highlight:async e=>{(0,N.eN)(C.B_.support_call_client_tool_highlight,{elementId:e.elementId});let t=T(e.elementId);if(!t)return"element not found on page";{let e=t.getBoundingClientRect();d({y:e.top+window.scrollY,x:e.left+window.scrollX,width:e.width,height:e.height}),v({type:"action",text:i.t("Highlight part of page")})}await new Promise(e=>setTimeout(e,3e3))},click:async e=>{let{elementId:t}=e;(0,N.eN)(C.B_.support_call_client_tool_interact,{elementId:t,interaction:"click"});let a=T(e.elementId);if(!a)return"element not found on page";if(a instanceof HTMLAnchorElement||a instanceof HTMLButtonElement){v({type:"action",text:i.t("Clicking around...")});try{a.dispatchEvent(new MouseEvent("mousedown",{bubbles:!0,button:0})),a.dispatchEvent(new MouseEvent("mouseup",{bubbles:!0,button:0})),a.dispatchEvent(new MouseEvent("click",{bubbles:!0,button:0}))}catch(e){throw Error(i.t("Error dispatching event, React doesn't know about the click"))}}},clear:async e=>{let{elementId:t}=e;(0,N.eN)(C.B_.support_call_client_tool_interact,{elementId:t,interaction:"clear"});let a=T(e.elementId);if(!a)return"element not found on page";(a instanceof HTMLInputElement||a instanceof HTMLTextAreaElement)&&(v({type:"action",text:i.t("Clearing text")}),a.setValue(""))},get_value:async e=>{let{elementId:t}=e;(0,N.eN)(C.B_.support_call_client_tool_interact,{elementId:t,interaction:"setValue"});let a=T(e.elementId);return a?a.getValue?(v({type:"action",text:i.t("Reading value...")}),a.getValue()):void 0:"element not found on page"},set_value:async e=>{let{elementId:t}=e;(0,N.eN)(C.B_.support_call_client_tool_interact,{elementId:t,interaction:"setValue"});let a=T(e.elementId);if(!a)return"element not found on page";if(a.setValue&&a.getValue){let t=a.getBoundingClientRect();d({y:t.top+window.scrollY,x:t.left+window.scrollX,width:t.width,height:t.height,quick:!0});let s=String(e.value);if(void 0===e.value)s="";else try{s=JSON.parse(s)}catch(e){}let n=a.getValue();if("string"==typeof s&&"string"==typeof n&&s.split(" ").length){let e=a.getBoundingClientRect();d({y:e.top+window.scrollY,x:e.left+window.scrollX,width:e.width,height:e.height,quick:!0}),v({type:"action",text:i.t("Typing text...")}),""!==n&&(n+=" ",a.setValue(s)),await Promise.all([...s.split("").map((e,t)=>new Promise(i=>window.setTimeout(()=>{n+=e,a.setValue(n),i()},17*t)))])}else"number"==typeof s?(v({type:"action",text:i.t("Setting value to ")+s}),a.setValue(s)):"boolean"==typeof s&&(v({type:"action",text:s?i.t("Setting value to enabled"):i.t("Setting value to disabled")}),a.setValue(s));await new Promise(e=>setTimeout(e,200))}},go_to_route:async e=>{(0,N.eN)(C.B_.support_call_client_tool_navigate);let{route:t}=e;if(!t)return i.t("Something went wrong");let a=P[t];if(v({type:"action",text:i.t("Navigating to ")+a.title}),!a)return i.t("route not found");await new Promise(e=>setTimeout(()=>{j.push(a.url),e()},600))},show_documentation_link:e=>{(0,N.eN)(C.B_.support_call_client_tool_documentation);let{route:t}=e;if(!t)return i.t("Something went wrong");let a=A[t];if(!a)return"route not found";v({type:"link",text:a.title,href:a.url})},show_support_link:()=>{var e,t;(0,N.eN)(C.B_.support_call_client_tool_support),v({type:"link",text:i.t("Contact support"),href:"https://help.elevenlabs.io/hc/en-us/requests/new?ticket_form_id=13145996177937".concat((null===(e=w.EA.value)||void 0===e?void 0:e.email)?"&tf_anonymous_requester_email=".concat(null===(t=w.EA.value)||void 0===t?void 0:t.email):"")})}},[Z,U]=(0,m.useState)();(0,m.useEffect)(()=>{U(R?i.t("Talk to interrupt"):i.t("Waiting for response"))},[R]),(0,m.useEffect)(()=>(b._m.value&&(R?b._m.value.volume=.1:b._m.value.volume=1),()=>{b._m.value&&(b._m.value.volume=1)}),[R]),(0,m.useEffect)(()=>{"disconnected"===L?y.current=window.setTimeout(()=>{o(!1)},2e3):(y.current&&clearTimeout(y.current),o(!0),U(i.t("Talk to interrupt")))},[L]),(0,m.useEffect)(()=>{_&&p.rn.value&&setTimeout(()=>{B(I(p.rn.value))},500)},[p.rn.value,_,l]),(0,m.useEffect)(()=>{"connected"===L?setTimeout(()=>{S(!0)},3e3):S(!1)},[p.rn.value,L,l]);let q=(0,E.ah)(f.workspaceData.value);return(0,a.jsx)(D.Provider,{value:{callSupportAgent:async function(){var e,t,i,a,s,n,l,r,o,c;let d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"default",goal:"support"},u=V[(null==d?void 0:d.type)||"default"];(0,N.eN)(C.B_.support_call_triggered,{...d}),M({agentId:u,dynamicVariables:{firstName:"",tier:(null===(e=f.workspaceData.value)||void 0===e?void 0:e.subscription.tier)?"enterprise"===f.workspaceData.value.subscription.tier||"trial"===f.workspaceData.value.subscription.tier?"Enterprise":k.ZP[f.workspaceData.value.subscription.tier].name:"unknown",location:"".concat(null===(i=f.userData.value)||void 0===i?void 0:null===(t=i.geo_location)||void 0===t?void 0:t.city," ").concat(null===(s=f.userData.value)||void 0===s?void 0:null===(a=s.geo_location)||void 0===a?void 0:a.country)||"unknown",twoFactorAuthEnabled:(!!(null===(n=f.userData.value)||void 0===n?void 0:n.backup_code_hash)).toString(),maxSeats:(null===(l=f.workspaceData.value)||void 0===l?void 0:l.max_seats)||"unknown",accountCreatedDate:(null===(r=f.workspaceData.value)||void 0===r?void 0:r.created_at_unix)?new Date(1e3*f.workspaceData.value.created_at_unix).toISOString():"unknown",canUseProfessionalVoiceCloning:f.workspaceData.value?f.workspaceData.value.get_professional_voice_limit()>0?"true":"false":"unknown",currentCreditsUsage:q?"".concat(q[1]," ").concat(q[0]):"unknown",totalAvailableMonthlyCredits:(null===(o=f.workspaceData.value)||void 0===o?void 0:o.subscription.character_limit)||"unknown",nextCharacterResetDate:(null===(c=f.workspaceData.value)||void 0===c?void 0:c.subscription.next_character_limit_reset_unix)?new Date(1e3*f.workspaceData.value.subscription.next_character_limit_reset_unix).toISOString():"unknown",goal:d.goal||"support"},...d,clientTools:O})},callInProgress:"disconnected"!==L,show:r,endSession:z,getOutputVolume:F,connectionModeLabel:Z,status:L,message:u,highlightedArea:c},children:t})}),L=()=>{let[e,t]=(0,m.useState)(null),[i,s]=(0,m.useState)(!1),[d,u]=(0,m.useState)(!1),h=(0,m.useRef)(),p=(0,m.useRef)(),{show:v,message:x,endSession:g,getOutputVolume:f,connectionModeLabel:b,status:w,highlightedArea:k}=T();(0,m.useEffect)(()=>{v&&u(!0)},[v]),(0,m.useEffect)(()=>{x&&(t(x),window.clearTimeout(h.current),h.current=window.setTimeout(()=>{t(()=>null)},"action"===x.type?3200:1e4))},[x]),(0,m.useEffect)(()=>{k&&(s(!0),window.clearTimeout(p.current),p.current=window.setTimeout(()=>{s(!1)},k.quick?1600:5e3))},[k]);let N=(null==e?void 0:e.type)==="link"?"a":"div";return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.M,{children:i&&k&&(0,a.jsx)(r.E.div,{className:(0,S.cn)("fixed rounded-[16px] z-[100] border-2 border-transparent pointer-events-none overflow-hidden animate-rotate shadow-gray-alpha-200 shadow-[0px_0px_0px_4000px]"),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{top:k.y-10,left:k.x-10,width:k.width+20,height:k.height+20}})}),(0,a.jsx)(r.E.div,{className:"fixed top-0 right-0 max-h-0 flex justify-center items-start z-[100] max-md:!w-full transition-[width] duration-150",style:{width:"calc(100% - var(--eleven-sidebar-width))"},children:(0,a.jsx)(r.E.div,{className:"relative stack justify-start",initial:{y:-100},animate:{y:v?14:-100,scale:1,rotateX:v?0:40},transition:{stiffness:300,damping:26,type:"spring"},children:(0,a.jsx)(P,{show:null!==e,children:(0,a.jsxs)(r.E.div,{initial:{width:240,borderTopLeftRadius:16,borderTopRightRadius:16,borderBottomLeftRadius:16,borderBottomRightRadius:16},animate:{width:e?320:240,borderTopLeftRadius:e?21:16,borderTopRightRadius:e?21:16,borderBottomLeftRadius:e?20:16,borderBottomRightRadius:e?20:16,boxShadow:"\n            0 2px 4px hsl(0deg 0% 0% / 0.075),\n            0 4px 8px hsl(0deg 0% 0% / 0.075),\n            0 12px 24px hsl(0deg 0% 0% / 0.075)\n            "},transition:{type:"spring",stiffness:e?200:300,damping:e?20:30},className:"relative w-[280px] py-2.5 pb-1.5 px-3.5 bg-background overflow-hidden",style:{boxShadow:"\n            0 2px 4px hsl(0deg 0% 0% / 0.075),\n            0 4px 8px hsl(0deg 0% 0% / 0.075),\n            0 12px 24px hsl(0deg 0% 0% / 0.075)\n            "},children:[(0,a.jsxs)("div",{className:"hstack items-center gap-1 pb-1",children:[(0,a.jsxs)("div",{className:"w-full stack justify-center items-start",children:[(0,a.jsx)(_.x,{size:"sm",color:"foreground",weight:"semi-bold",className:(0,S.cn)("truncate max-w-full"),children:(0,a.jsx)(n.cC,{id:"QPnEhz"})}),(0,a.jsx)("div",{className:"w-full relative h-4 text-gray-alpha-950 font-medium",children:(0,a.jsx)(l.M,{initial:!1,children:"connected"===w?(0,a.jsx)(r.E.span,{initial:{y:6,opacity:0},animate:{y:0,opacity:1},className:"absolute max-w-full pr-1",children:(0,a.jsx)(_.x,{size:"xs",color:"subtle",weight:"medium",className:(0,S.cn)("truncate max-w-full"),children:b})},b):(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(r.E.span,{className:"absolute max-w-full pr-1",initial:{y:6,opacity:0},animate:{y:0,opacity:1},children:(0,a.jsx)(_.x,{size:"xs",color:"subtle",weight:"medium",className:(0,S.cn)("truncate max-w-full"),children:(0,a.jsx)(n.cC,{id:"ZYnwzF"})})},"start-call")})})})]}),(0,a.jsx)("div",{className:"relative h-9 w-9 shrink-0 grow-0 bg-gray-alpha-50 rounded-full self-start [&_canvas]:w-full [&_canvas]:h-full",children:d&&(0,a.jsx)(A,{getInputVolume:()=>2*f(),getOutputVolume:()=>2*f(),colors:["#c665ff","#dec8e8"],resizeDebounce:0})}),(0,a.jsx)(j.h,{"aria-label":"End call",variant:"outline",className:(0,S.cn)("shrink-0 rounded-full h-9 w-9 disabled:opacity-50"),onClick:g,disabled:"disconnected"===w,children:(0,a.jsx)(y.Z,{color:"foreground",children:(0,a.jsx)(o.Z,{})})})]}),(0,a.jsx)(l.M,{children:e&&(0,a.jsx)(r.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{type:"spring",stiffness:e?240:200,damping:e?20:36},children:(0,a.jsx)(l.M,{mode:"popLayout",children:(0,a.jsx)(r.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,a.jsx)("div",{className:"pt-2 pb-0",children:(0,a.jsx)("div",{className:"pt-1 border-t flex",children:(0,a.jsxs)(N,{href:"link"===e.type?e.href:void 0,onClick:()=>{t(null)},target:"_blank",className:(0,S.cn)("grow hstack items-center justify-between gap-4 -mx-2 px-2 py-1 rounded-[14px] max-w-[calc(100%+1rem)]","link"===e.type&&"hover:bg-gray-alpha-100"),children:[(0,a.jsxs)("div",{className:"w-full stack max-w-[calc(100%-3rem)] truncate",children:[(0,a.jsx)(_.x,{size:"sm",color:"foreground",weight:"medium",className:(0,S.cn)("truncate max-w-full"),children:e.text}),"link"===e.type&&(0,a.jsx)(_.x,{size:"xs",color:"subtle",weight:"medium",className:(0,S.cn)("truncate max-w-full"),children:e.href})]}),"action"===e.type&&(0,a.jsx)(r.E.div,{className:"hstack gap-[3px] px-2.5",animate:{opacity:[1,0]},transition:{delay:3,duration:.4},children:[void 0,void 0,void 0].map((e,t)=>(0,a.jsx)(r.E.div,{animate:{y:[0,3,-3,0,0,0,0]},transition:{repeat:1/0,duration:1.8,delay:.2*t},className:"w-1 h-1 bg-gray-alpha-800 rounded-full"},t))}),"link"===e.type&&(0,a.jsx)(r.E.div,{className:"flex px-2.5",animate:{opacity:[0,1]},transition:{delay:.2,duration:.3},children:(0,a.jsx)(c.Z,{className:"w-4 h-4"})})]})})})},e.text)})})})]},"inner")})})})]})}},14360:function(e,t,i){"use strict";i.d(t,{AV:function(){return f},Gj:function(){return h},Gp:function(){return o},J6:function(){return c},JS:function(){return u},MT:function(){return m},Tm:function(){return n},ZM:function(){return p},Zv:function(){return v},ah:function(){return x},cN:function(){return r},eL:function(){return g},h2:function(){return l},sy:function(){return d}});var a=i(32507),s=i(1851);function n(){return(0,a.dl)("conversational_ai_enable_tools")}function l(){return(0,a.dl)("convai_play_dtmf_tone")}function r(){return(0,a.dl)("conversational_ai_enable_custom_llm")}function o(){return(0,a.dl)("convai_use_streamable_http.")}function c(){return(0,a.dl)("conversational_ai_enable_scribe")}function d(){return(0,a.dl)("conversational_ai_enable_workflows")}function u(){var e;return(0,a.dl)("conversational_ai_enable_integrations")&&!(null===(e=s.workspaceData.value)||void 0===e?void 0:e.subscription.force_logging_disabled)}function h(){return(0,a.dl)("use_convai_new")}function m(){return(0,a.dl)("convai_webrtc_eleven")}function p(){return(0,a.dl)("convai_webrtc_conversational_ai")}function v(){return(0,a.dl)("convai_webrtc_public_pages")}function x(){return(0,a.dl)("convai_webrtc_playground")}function g(){return(0,a.dl)("convai_unit_tests")}function f(){return(0,a.dl)("conversational_ai_enable_ask_ai")}},88084:function(e,t,i){"use strict";i.d(t,{V:function(){return u}});var a=i(68088),s=i(6991),n=i(19803);i(9506);var l=i(84451),r=i(4735),o=i(11521),c=i(96162),d=i(60189);let u=e=>{var t,i,u,h;let{className:m,size:p="md"}=e,{i18n:v}=(0,s.mV)(),{callSupportAgent:x,callInProgress:g}=(0,l.o)();return(0,a.jsxs)("div",{className:(0,d.cn)("hstack items-center gap-3",m),children:["md"===p&&(0,a.jsx)(o.x,{weight:"medium",size:"sm",className:"text-gray-alpha-950",children:(0,a.jsx)(s.cC,{id:"woJGFI"})}),(0,a.jsxs)(r.Button,{size:p,variant:"outline",className:(0,d.cn)("group relative hstack items-center gap-1.5 h-10 ps-2.5","sm"===p&&"h-8 ps-2 w-full"),disabled:g,onClick:()=>{x()},children:[(0,a.jsxs)("div",{className:"hstack",children:[(0,a.jsx)("div",{className:"rounded-full w-5 h-5 min-w-5 min-h-5 overflow-hidden bg-gray-solid-100 shrink-0",children:(0,a.jsx)(n.default,{src:"/app_assets/_next/static/media/el-orb.13ecf279.png",width:20,height:20,alt:v.t("Ask El")})}),(null===(t=c.EA.value)||void 0===t?void 0:t.photoURL)&&(null===(i=c.EA.value)||void 0===i?void 0:i.displayName)&&(0,a.jsx)("div",{className:"rounded-full w-5 h-5 min-w-5 min-h-5 overflow-hidden bg-gray-100 -ml-2 border-2 border-background shrink-0",children:(0,a.jsx)(n.default,{width:20,height:20,src:c.EA.value.photoURL,alt:(null===(u=c.EA.value)||void 0===u?void 0:u.displayName)||(null===(h=c.EA.value)||void 0===h?void 0:h.email)||""})})]}),(0,a.jsx)("div",{className:"mr-1",children:(0,a.jsx)(s.cC,{id:"b16cn4"})})]})]})}},19613:function(e,t,i){"use strict";i.d(t,{y:function(){return l}});var a=i(30487),s=i(1851),n=i(52888);let l=function(){var e,t;let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"@me",[l]=(0,n.$)(s.userData),r=!!(null==l?void 0:l.is_producer),{data:o,isFetching:c,isError:d}=(0,a.dz2)({pathParams:{userId:i}},{refetchOnWindowFocus:!1,enabled:r});if(!r||d||c)return{isProducer:!1,producerProfile:void 0,isTeamLead:!1};let u=null!==(t=null==o?void 0:null===(e=o.teams)||void 0===e?void 0:e.some(e=>["leader","owner"].includes(e.role)))&&void 0!==t&&t;return{isProducer:r,producerProfile:o,isTeamLead:u}}},34477:function(e,t,i){"use strict";i.d(t,{Cd:function(){return c},X:function(){return d},bZ:function(){return o}});var a=i(68088),s=i(73886),n=i(9506),l=i(60189);let r=(0,s.j)("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),o=n.forwardRef((e,t)=>{let{className:i,variant:s,...n}=e;return(0,a.jsx)("div",{ref:t,role:"alert",className:(0,l.cn)(r({variant:s}),i),...n})});o.displayName="Alert";let c=n.forwardRef((e,t)=>{let{className:i,...s}=e;return(0,a.jsx)("h5",{ref:t,className:(0,l.cn)("mb-1 font-medium leading-none tracking-tight",i),...s})});c.displayName="AlertTitle";let d=n.forwardRef((e,t)=>{let{className:i,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("text-sm [&_p]:leading-relaxed",i),...s})});d.displayName="AlertDescription"},14661:function(e,t,i){"use strict";i.d(t,{Yd:function(){return r},Zy:function(){return c},ed:function(){return o},xE:function(){return l}});var a=i(93281),s=i(9506),n=i(39255);let l=()=>(0,a.v1)("tab",a.Oi.withOptions({history:"replace"})),r=()=>{let e=(0,n.Y6)("md"),[t]=l(),[i,a]=(0,s.useState)(!1),[r,o]=(0,s.useState)("history"===t);return(0,s.useEffect)(()=>{"history"===t&&o("history"===t)},[t]),{isVisible:e,voices:{isOpen:e&&i,setIsOpen:a},history:{isOpen:e&&r,setIsOpen:o}}},o=(0,s.createContext)(null),c=()=>(0,n.f7)(o)},95535:function(e,t,i){"use strict";i.d(t,{y:function(){return P}});var a=i(17024),s=i(68088),n=i(4111),l=i(40534),r=i(30395),o=i(5479),c=i(81999),d=i(32507),u=i(9506),h=i(41920),m=i(99748),p=i(26090),v=i(75349),x=i(55205),g=i(49845),f=i(3030),b=i(11521),y=i(63415),j=i(85753),_=i(70554),w=i(60189),k=i(54389),N=i(39255),C=i(77095);async function S(e,t){return new Promise(i=>{e.addEventListener(t,i,{once:!0})})}class E{static async create(e,t){var i;let a=null!==(i=e.headers.get("content-type"))&&void 0!==i?i:"audio/mpeg";if(!t)return new E(a,await e.blob());{if(!e.body)throw Error("Unreachable: No response body");let t=new E(a),i=e.body.getReader();return(async()=>{for await(let e of(0,_.JX)(i))await t.appendBuffer(e);await t.flush()})(),t}}async appendToMediaSource(e){var t;this.sourceBuffer&&(null===(t=this._mediaSource)||void 0===t?void 0:t.readyState)==="open"&&(await this.bufferLoadedInMediaSource,this.sourceBuffer.updating&&await S(this.sourceBuffer,"updateend"),this.sourceBuffer.appendBuffer(e),await S(this.sourceBuffer,"updateend"),this.streaming||this._mediaSource.endOfStream())}async appendBuffer(e){this.buffer=[...this.buffer,e],await this.appendToMediaSource(e)}get streaming(){return null===this.blob}get mediaSource(){if(!this.blob)return this._mediaSource}async flush(){var e,t,i;await this.bufferLoadedInMediaSource,this.blob=new Blob(this.buffer,{type:this.contentType}),this.buffer=[],(null===(e=this.mediaSource)||void 0===e?void 0:e.readyState)==="open"&&((null===(t=this.sourceBuffer)||void 0===t?void 0:t.updating)&&await S(this.sourceBuffer,"updateend"),null===(i=this._mediaSource)||void 0===i||i.endOfStream())}constructor(e,t=null){(0,a._)(this,"contentType",void 0),(0,a._)(this,"blob",void 0),(0,a._)(this,"buffer",void 0),(0,a._)(this,"_mediaSource",void 0),(0,a._)(this,"sourceBuffer",void 0),(0,a._)(this,"bufferLoadedInMediaSource",void 0),this.contentType=e,this.blob=t,this.buffer=[],this._mediaSource=null,this.bufferLoadedInMediaSource=null,"MediaSource"in window&&(this._mediaSource=new MediaSource,this._mediaSource.addEventListener("sourceopen",async()=>{!this.sourceBuffer&&this._mediaSource&&(this.sourceBuffer=this._mediaSource.addSourceBuffer(this.contentType),this.bufferLoadedInMediaSource=(async()=>{if(!this.sourceBuffer)return;let e=this.buffer.length;for(let t=0;t<e;t++){let e=this.buffer[t];this.sourceBuffer.appendBuffer(e),await S(this.sourceBuffer,"updateend")}})())}),this._mediaSource.addEventListener("sourceclose",(0,o.aD)(()=>{this.sourceBuffer=void 0,this.bufferLoadedInMediaSource=null}))),(0,o.rC)(this,{buffer:o.LO,blob:o.LO,streaming:o.Fl,mediaSource:o.Fl,appendBuffer:o.aD,flush:o.aD})}}let P=(0,o.ky)({isLoading:!1,choices:null,preference:null,audioInfo:null,playhead:o.LO.map(),get isVisible(){return this.isLoading||!!this.choices},async load(e,t,i){this.isLoading=!0,this.audioInfo=t,this.preference=null,this.choices=await Promise.all(e.map(async(e,t)=>{var a,s;return{id:null!==(a=e.headers.get("request-id"))&&void 0!==a?a:"request-".concat(t),historyId:null!==(s=e.headers.get("history-item-id"))&&void 0!==s?s:"history-".concat(t),audio:await E.create(e,i),streaming:!0,code:0===t?"a":"b"}})),this.isLoading=!1},dismiss(){this.preference&&this.choices&&!(0,C.ko)()&&((0,y.eN)(j.B_.speech_synthesis_human_preference_tracked,{request_a_id:this.choices[0].id,request_b_id:this.choices[1].id,request_a_history_id:this.choices[0].historyId,request_b_history_id:this.choices[1].historyId,preference:this.preference.code}),(0,m.P)({url:"/v1/dialogue-preference",method:"POST",body:{request_a_id:this.choices[0].id,request_b_id:this.choices[1].id,preference:this.preference.code}}).catch()),this.choices=null,this.audioInfo=null,this.preference=null,this.playhead.clear()},setPreference(e){this.preference?this.preference!==e&&(this.preference=null):this.preference=e},setPlayhead(e,t){this.playhead.set(e,t)}}),V=(0,c.Pi)(e=>{let{audio:t,currentTime:i=0,duration:a=1,onSeek:n,onDurationChange:r}=e,o=(0,u.useRef)(null),[c,d]=(0,u.useState)(null),[h,m]=(0,u.useState)([]),[p,v]=(0,u.useState)(0);(0,N.yU)(o,e=>v(e.contentRect.width)),(0,u.useEffect)(()=>{let e=new AbortController;return(async()=>{let i=null;if(i=t.blob?await t.blob.arrayBuffer():(0,_.fB)(t.buffer).buffer)try{let t=new window.AudioContext,a=await t.decodeAudioData(i.slice(0));null==r||r(a.duration);let s=a.getChannelData(0);if(a.numberOfChannels>1){let e=a.getChannelData(0),t=a.getChannelData(1);s=e.map((e,i)=>(e+t[i])/2)}t.close(),e.signal.aborted||d(s)}catch(e){}})(),()=>e.abort()},[t.blob,t.buffer,d]),(0,u.useEffect)(()=>{c&&m(function(e,t){if(e.length<=t){let i=Array.from(e);for(;i.length<t;)i.push(0);return i}let i=Math.floor(e.length/t),a=[];for(let s=0;s<t;s++){let n=s*i,l=s===t-1?e.length:(s+1)*i,r=0;for(let t=n;t<l;t++){let i=Math.abs(e[t]);i>r&&(r=i)}a.push(r)}let s=Math.max(...a);return s>0?a.map(e=>e/s):a}(c,Math.max(Math.round(p/5-2),0)))},[c,p,m]);let x=e=>{if(!e.currentTarget.hasPointerCapture(e.pointerId)||!n||0===a)return;let t=e.currentTarget.getBoundingClientRect();n(Math.min(Math.max((e.clientX-t.left)/t.width,0),1)*a)},g=a>0?Math.round(i/a*h.length):0;return(0,s.jsx)(l.E.div,{ref:o,className:"flex items-center w-full h-full gap-0.5 justify-between cursor-pointer select-none",onPointerDown:e=>{try{e.currentTarget.setPointerCapture(e.pointerId)}catch(e){}x(e)},onPointerMove:x,onPointerUp:e=>{try{e.currentTarget.releasePointerCapture(e.pointerId),x(e)}catch(e){}},animate:{opacity:t.streaming?.4:1},transition:{duration:1.5,repeat:t.streaming?1/0:0,repeatType:"reverse"},children:h.map((e,t)=>(0,s.jsx)("div",{className:(0,w.cn)("rounded-full min-h-[3px] w-[3px]",t<g?"bg-foreground":"bg-gray-300"),style:{height:"".concat(100*Math.abs(e),"%"),transition:"height 0.5s, background-color 0.15s",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"}},t))})}),D=async(e,t)=>{var i;p._m.value&&(null===(i=p.Qu.value)||void 0===i?void 0:i.id)&&P.setPlayhead(p.Qu.value.id,p._m.value.currentTime);let a={...P.audioInfo,id:e.historyId,fileName:null,player:{...P.audioInfo.player,description:t},type:"text-to-speech"};if(e.audio.mediaSource?((0,p.Eb)(a,{allowDownload:!1}),p._m.value&&(p._m.value.src=URL.createObjectURL(e.audio.mediaSource))):e.audio.blob&&(0,p.GM)(await (0,k.sT)(e.audio.blob),a,{allowDownload:!1}),p._m.value){let t=P.playhead.get(e.historyId);t&&p._m.value.addEventListener("canplay",()=>{p._m.value&&(p._m.value.currentTime=t)},{once:!0})}},A=(0,c.Pi)(e=>{var t;let{title:i,generation:a,autoPlay:r=!1}=e,o=(null===(t=p.Qu.value)||void 0===t?void 0:t.id)===a.historyId,c=p.yA.value&&o,[m,_]=(0,u.useState)(0),[w,N]=(0,u.useState)(1),C=(0,d.dl)("tts-video-generation");(0,u.useEffect)(()=>{!c&&r&&D(a,i)},[r]),(0,u.useEffect)(()=>{if(c&&p._m.value){let e=window.setInterval(()=>{p._m.value&&(_(p._m.value.currentTime),Number.isFinite(p._m.value.duration)&&N(p._m.value.duration||1))},25);return()=>window.clearInterval(e)}},[c]);let S=async()=>{c?(p._m.value&&P.setPlayhead(a.historyId,p._m.value.currentTime),(0,p.pt)()):o?(p._m.value&&(p._m.value.ended||.1>Math.abs(p._m.value.currentTime-p._m.value.duration))&&(p._m.value.currentTime=0),(0,p.Sk)()):((0,y.eN)(j.B_.speech_synthesis_human_preference_played,{id:a.id,historyId:a.historyId,code:a.code}),await D(a,i))},[E,A]=(0,u.useState)(!1),[T,I]=(0,u.useState)(null),M=async()=>{a.historyId&&((0,y.eN)(j.B_.speech_synthesis_human_preference_share_clicked,{id:a.id,historyId:a.historyId,code:a.code}),I(await (0,h.$x)(a.historyId)),A(!0))};return(0,s.jsxs)("div",{className:"relative flex items-center gap-3 p-4 border border-gray-alpha-200 rounded-2xl",children:[T&&(0,s.jsx)(g.E7,{open:E,closeModal:()=>A(!1),historyItem:T}),(0,s.jsx)(b.x,{color:"subtle",weight:"medium",className:"absolute top-0 -translate-y-1/2 left-2 bg-background px-2 transition-colors duration-150",size:"xs",children:i}),(0,s.jsx)(f.h,{size:"sm",className:"rounded-full shrink-0","aria-label":"Play",variant:"primary",onClick:S,children:(0,s.jsx)(v.GH,{isPlaying:c,iconClassName:"w-3.5 h-3.5"})}),(0,s.jsx)("div",{className:"w-full h-full grow",children:(0,s.jsx)(V,{audio:a.audio,currentTime:m,duration:w,onSeek:e=>{o&&p._m.value&&(p._m.value.currentTime=e),_(e),P.setPlayhead(a.historyId,e)},onDurationChange:N})}),(0,s.jsxs)("div",{className:"flex justify-end items-center gap-1",children:[C&&(0,s.jsx)(l.E.div,{initial:{opacity:0},animate:{opacity:a.audio.streaming?0:[0,0,1]},children:(0,s.jsx)(f.h,{variant:"ghost",size:"sm",className:"shrink-0","aria-label":"Share",tooltip:a.audio.streaming?void 0:"Share",disabled:a.audio.streaming,onClick:M,children:(0,s.jsx)(g.fR,{className:"w-3.5 h-3.5"})})}),a.audio.streaming?(0,s.jsx)("div",{className:"w-8 h-8 shrink-0 inline-flex items-center justify-center",children:(0,s.jsx)(n.$,{w:"14px",h:"14px",thickness:"1.5px"})}):(0,s.jsx)(l.E.div,{initial:{opacity:0},animate:{opacity:[0,0,1]},children:(0,s.jsx)(f.h,{variant:"ghost",size:"sm",className:"shrink-0","aria-label":"Download",tooltip:"Download",onClick:()=>{var e,t;a.audio.blob&&(P.setPreference(a),(0,y.eN)(j.B_.speech_synthesis_human_preference_download,{id:a.id,historyId:a.historyId,code:a.code}),(0,k.lG)(new File([a.audio.blob],null!==(t=null===(e=P.audioInfo)||void 0===e?void 0:e.fileName)&&void 0!==t?t:"synthesized_audio.mp3",{type:a.audio.blob.type})))},children:(0,s.jsx)(x._8,{})})})]})]})}),T=(0,c.Pi)(()=>P.choices?(0,s.jsxs)(l.E.div,{className:"mb-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0},transition:{duration:.3},children:[(0,s.jsxs)("div",{className:"hstack w-full items-center gap-4",children:[(0,s.jsxs)("div",{className:"grow",children:[(0,s.jsx)(b.x,{weight:"medium",className:"md:ml-4",children:"Which generation do you prefer?"}),(0,s.jsx)(b.x,{color:"subtle",className:"md:ml-4 mt-0.5",children:(0,C.ko)()?"Your selection is not used to train our models":"Downloading your favorite generation helps us improve our model"})]}),(0,s.jsx)("div",{className:"flex md:hidden",children:(0,s.jsx)(f.h,{size:"sm",className:"shrink-0","aria-label":"Dismiss",variant:"outline",onClick:()=>P.dismiss(),children:(0,s.jsx)(r.Z,{})})})]}),(0,s.jsxs)("div",{className:"mt-5 sm:mt-6 grid @lg:grid-cols-2 gap-4",children:[(0,s.jsx)(A,{title:"Generation 1",generation:P.choices[0],autoPlay:!0}),(0,s.jsx)(A,{title:"Generation 2",generation:P.choices[1]})]})]}):null);t.Z=T},69201:function(e,t,i){"use strict";i.d(t,{p:function(){return r},t:function(){return l}});var a=i(68088),s=i(40534),n=i(9506);let l=(0,n.forwardRef)((e,t)=>(0,a.jsx)(s.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{opacity:{duration:.15},layout:{duration:.5,type:"spring",bounce:.15}},ref:t,...e}));l.displayName="FadeInOut";let r=(0,n.forwardRef)((e,t)=>(0,a.jsx)(s.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},ref:t,...e}));r.displayName="Unfold"},26249:function(e,t,i){"use strict";i.d(t,{Jx:function(){return x},d2:function(){return p},rS:function(){return f},zm:function(){return v}});var a=i(68088),s=i(80436),n=i(46736),l=i(40534),r=i(56559),o=i(81999),c=i(9506),d=i(3030),u=i(96474),h=i(60189),m=i(39255);function p(e){var t;let[i,a]=(0,c.useState)([]),[s,n]=(0,c.useState)("forward");return{navigate:(e,t)=>{a(i=>[...i,{key:e,context:t}]),n("forward")},back:()=>{a(e=>e.slice(0,-1)),n("backward")},exit:()=>{a([]),n("backward")},direction:s,activeSubmenu:null!==(t=i.at(-1))&&void 0!==t?t:null,history:i,submenus:e}}let v=(0,c.createContext)(null);function x(){return(0,m.f7)(v)}let g={variants:{enter:e=>({x:"forward"===e?70:-70,opacity:0}),center:{x:0,opacity:1,visibility:"visible"},exit:e=>({x:"forward"===e?-70:70,opacity:0,transitionEnd:{visibility:"hidden"}})},transition:{opacity:{duration:.15},x:{type:"spring",mass:.25,stiffness:100,damping:10}}},f=(0,o.Pi)(e=>{let{children:t,activeSubmenu:i,submenus:o,history:c,direction:m,className:p,back:v,exit:x}=e;return(0,a.jsx)("div",{className:"stack h-full",children:(0,a.jsx)("div",{className:"relative flex-1 min-h-0 overflow-hidden",children:(0,a.jsxs)(n.M,{initial:!1,custom:m,children:[null===i&&(0,a.jsx)(l.E.div,{className:(0,h.cn)("w-full h-full overflow-y-auto overflow-x-hidden stack gap-4 p-5",p),variants:g.variants,custom:m,initial:"enter",animate:"center",exit:"exit",transition:g.transition,children:t},"main"),(0,a.jsx)(s.Vq,{open:null!==i,modal:!1,children:(0,a.jsx)(n.M,{initial:!1,custom:m,children:c.map(e=>(0,a.jsx)(s.cZ,{asChild:!0,forceMount:!0,onEscapeKeyDown:v,children:(0,a.jsxs)(l.E.div,{className:"overlay w-full h-full overflow-auto stack gap-3 p-5 pt-1 md:pt-5 pb-0",layoutScroll:!0,variants:g.variants,custom:m,initial:"enter",animate:i===e?"center":"exit",exit:"exit",transition:g.transition,children:[(0,a.jsxs)("div",{className:"hstack gap-3 items-center",children:[(0,a.jsx)(d.h,{size:"xs",className:"rounded-md",onClick:()=>{var t,i;null===(t=(i=o[e.key]).onClose)||void 0===t||t.call(i,{context:e.context}),v()},"aria-label":"Back",elId:"exitSubmenu",elContext:e.key,children:(0,a.jsx)(r.Z,{})}),(0,a.jsx)(s.$N,{asChild:!0,children:(0,a.jsx)(u.Label,{children:o[e.key].title})})]}),o[e.key].content({exit:x,context:e.context})]})},e.key))})})]})})})})},37514:function(e,t,i){"use strict";i.d(t,{p:function(){return v}});var a=i(68088),s=i(4111),n=i(2618),l=i(81999),r=i(9506),o=i(64903),c=i(54995),d=i(1851),u=i(28994),h=i(4735),m=i(60493),p=i(73276);let v=(0,m.t)(!0),x=(0,m.t)(null),g=(0,l.Pi)(e=>{var t,i,l,m,g,f,b,y,j,_,w;let{voice:k,saveSettings:N,initialVoiceSettings:C,model:S=null}=e,E=(0,c.bd)("voiceSettingsSection"),{tabs:P,removeBackgroundNoise:V,setRemoveBackgroundNoise:D}=(0,o.h5)(),[A,T]=(0,r.useState)(!1),I="text-to-speech"===P.activeTabId?d.selectedModelTts:d.selectedModelSts,M=async()=>{let e=await o.pu;T(!0),x.value=e},z=async e=>{if(null===x.value)return;let t=await o.pu;T(!0),x.value={...x.value,[e]:t[e]}};return(0,r.useEffect)(()=>{A&&null!==x.value&&(N(x.value),T(!1))},[x.value,A]),(0,r.useEffect)(()=>{null!==C&&v.value&&(T(!1),x.value=C,v.value=!1)},[C,v.value]),(0,a.jsx)("div",{className:"stack h-full",ref:E,children:(0,a.jsx)("div",{className:"relative flex-1 min-h-0",children:I.value&&d.models.value&&C?(0,a.jsxs)("div",{className:"stack gap-8",children:["text-to-speech"===P.activeTabId&&!(0,p.CY)(null===(t=d.selectedModelTts.value)||void 0===t?void 0:t.model_id)&&(0,a.jsx)("div",{className:"w-full",children:(0,a.jsx)(u.Mw,{value:null!==(b=null===(i=x.value)||void 0===i?void 0:i.speed)&&void 0!==b?b:null,onValueChange:e=>{x.value&&(x.value={...x.value,speed:e})},onValueCommit:()=>{T(!0)},onReset:()=>z("speed"),disabled:null===k})}),(0,a.jsx)("div",{className:"w-full",children:(0,a.jsx)(u.X$,{value:null!==(y=null===(l=x.value)||void 0===l?void 0:l.stability)&&void 0!==y?y:null,onValueChange:e=>{x.value&&(x.value={...x.value,stability:e})},onValueCommit:()=>{T(!0)},onReset:()=>z("stability"),disabled:null===k})}),(0,a.jsx)("div",{className:"w-full",children:(0,a.jsx)(u.Tg,{value:null!==(j=null===(m=x.value)||void 0===m?void 0:m.similarity_boost)&&void 0!==j?j:null,onValueChange:e=>{x.value&&(x.value={...x.value,similarity_boost:e})},onValueCommit:()=>{T(!0)},onReset:()=>z("similarity_boost"),disabled:null===k})}),(null==S?void 0:S.can_use_style)&&null!==k&&(0,a.jsx)("div",{className:"w-full",children:(0,a.jsx)(u.XQ,{value:null!==(_=null===(g=x.value)||void 0===g?void 0:g.style)&&void 0!==_?_:null,onValueChange:e=>{x.value&&(x.value={...x.value,style:e})},onValueCommit:()=>{T(!0)},onReset:()=>z("style"),disabled:null===k})}),(0,a.jsxs)("div",{className:"stack mt-3 gap-1.5",children:["speech-to-speech"===P.activeTabId&&(0,a.jsx)("div",{children:(0,a.jsx)(u.nR,{value:V,onValueChange:D})}),(0,a.jsxs)("div",{className:"hstack justify-between items-center",children:[(0,a.jsx)("div",{children:(null==S?void 0:S.can_use_speaker_boost)&&null!==k&&(0,a.jsx)(u.CH,{value:null!==(w=null===(f=x.value)||void 0===f?void 0:f.use_speaker_boost)&&void 0!==w&&w,onValueChange:e=>{null!==x.value&&(x.value={...x.value,use_speaker_boost:e},T(!0))}})}),(0,a.jsx)("div",{children:(0,a.jsx)(h.Button,{elId:"resetVoiceSettings",disabled:null===k,variant:"ghost",onClick:M,className:"py-1.5 w-full",leftIcon:(0,a.jsx)(n.Z,{className:"!w-3.5 !h-3.5 text-gray-500"}),children:"Reset values"})})]})]})]}):(0,a.jsx)("div",{className:"center",children:(0,a.jsx)(s.$,{})})})})});t.Z=g},326:function(e,t,i){"use strict";i.d(t,{cV:function(){return b},f1:function(){return g},kK:function(){return y}});var a=i(68088),s=i(97135),n=i(81999),l=i(9506),r=i(30487),o=i(55205),c=i(4735),d=i(64755),u=i(84106),h=i(63415),m=i(85753),p=i(60189),v=i(83359),x=i(54534);let g=(0,l.forwardRef)((e,t)=>{let{children:i,className:s}=e,n=(0,l.useRef)(null),r=(0,l.useRef)(null),o=(0,l.useRef)(null),c=()=>{n.current&&(o.current=n.current.animate({opacity:[1,.5]},{duration:1e3,iterations:1/0,direction:"alternate",fill:"forwards"}))},d=async e=>{var t;r.current&&(await r.current.animate({opacity:[0,1]},{duration:500,fill:"forwards"}).finished,null===(t=o.current)||void 0===t||t.cancel(),e(),await r.current.animate({top:["-32px","100%"]},{duration:750,fill:"forwards"}).finished,await r.current.animate({opacity:[1,0]},{duration:500,fill:"forwards"}).finished,r.current.animate({top:["100%","-32px"]},{duration:0,fill:"forwards"}))};return(0,l.useImperativeHandle)(t,()=>({loadingStart:c,loadingEnd:()=>{var e;null===(e=o.current)||void 0===e||e.cancel()},start:d})),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{ref:n,className:(0,p.cn)("relative overflow-hidden",s),children:[i,(0,a.jsx)("div",{ref:r,className:"absolute -inset-10 top-0 z-10 blur-xl bg-background opacity-0 pointer-events-none","aria-hidden":!0})]})})});g.displayName="DialogueEnhanceAnimation";let f=e=>e.filter(e=>!!e.text.trim()),b=()=>{let e=(0,x.N)();return(0,s.useIsMutating)({mutationKey:["speech-synthesis-dialogue-enhance"]})>0&&e},y=(0,n.Pi)(e=>{let{animationRef:t,...i}=e,[s,n]=(0,l.useState)(!1),p=(0,l.useRef)([]),g=(0,x.N)(),{isLoading:b,mutate:y}=(0,r.YUt)({mutationKey:["speech-synthesis-dialogue-enhance"],onMutate(){var e;n(!1),null===(e=t.current)||void 0===e||e.loadingStart()},async onSuccess(e){var i;g&&((0,h.eN)(m.B_.speech_synthesis_dialogue_enhance_completed),await (null===(i=t.current)||void 0===i?void 0:i.start(()=>{let t=f(v.OR.value);v.OR.value=e.enhanced_blocks.map((e,i)=>({...t[i],text:e}))})),n(!0))},onError(e){var i;null===(i=t.current)||void 0===i||i.loadingEnd(),429===e.status?(0,u.toast)("You've reached the maximum number of dialogue enhancements for today. Please try again tomorrow."):(0,u.toast)("Failed to enhance dialogue. Please try again or modify the prompt content.")}});return(0,l.useEffect)(()=>{n(!1)},[v.OR.value,n]),(0,a.jsxs)(d.J2,{open:s,children:[(0,a.jsx)(d.tW,{asChild:!0,children:(0,a.jsx)(c.Button,{loading:b,disabled:!v.fL.value,tooltip:"Adds audio tags to help guide delivery",leftIcon:(0,a.jsx)(o.Mp,{className:"!w-6"}),onClick:()=>{p.current=[...v.OR.value],y({body:{dialogue_blocks:f(v.OR.value).map(e=>e.text.trim())}})},...i,children:"Enhance (alpha)"})}),(0,a.jsx)(d.i9,{children:(0,a.jsxs)(d.yk,{side:"top",className:"p-2 flex gap-2 w-auto duration-200",children:[(0,a.jsx)(c.Button,{size:"sm",className:"px-6",disabled:b,onClick:()=>{(0,h.eN)(m.B_.speech_synthesis_dialogue_enhance_undo_clicked),v.OR.value=p.current,n(!1)},children:"Undo"}),(0,a.jsx)(c.Button,{size:"sm",className:"px-6",disabled:b,onClick:()=>{(0,h.eN)(m.B_.speech_synthesis_dialogue_enhance_keep_clicked),n(!1)},children:"Keep"})]})})]})})},82596:function(e,t,i){"use strict";i.d(t,{C:function(){return P},W:function(){return V}});var a=i(68088),s=i(15248),n=i(56742),l=i(59509),r=i(40534),o=i(46736),c=i(98780),d=i(30395),u=i(42454),h=i(81999),m=i(74508),p=i(4322),v=i(30487),x=i(1851),g=i(42032),f=i(4735),b=i(3030),y=i(52888),j=i(60189),_=i(64903),w=i(14661),k=i(26249),N=i(73276);let C=new s.Sy({appendTransaction:(e,t,i)=>{if(i.doc===t.doc)return;let a=i.tr;return i.doc.descendants((e,s,n,l)=>{if("dialogueNode"===e.type.name){var r,o,c,d;let n=e.attrs.voiceId,u=n;!n&&(u=(null===(o=t.doc.maybeChild(l))||void 0===o?void 0:null===(r=o.attrs)||void 0===r?void 0:r.voiceId)||(0,N.Pd)((0,N.SZ)(i.doc),s,null===(c=x.selectedVoice.value)||void 0===c?void 0:c.voice_id)),a.setNodeMarkup(s,void 0,{...e.attrs,voiceId:u,id:null!==(d=e.attrs.id)&&void 0!==d?d:(0,m.k$)()})}}),a}}),S=e=>{let{children:t,className:i,...s}=e;return(0,a.jsx)(f.Button,{variant:"outline",size:"sm",className:(0,j.cn)("justify-start text-sm overflow-hidden max-w-full",i),asChild:!0,...s,children:(0,a.jsx)(r.E.button,{initial:{opacity:0},animate:{opacity:1},style:{borderRadius:10},children:t})})},E=(0,h.Pi)(e=>{let{node:t,editor:i,getPos:s}=e,l=0===t.content.size,{voiceId:r,id:h}=t.attrs,m=(0,n.sZ)({editor:i,selector:e=>{var t;let{editor:i}=e;return(null===(t=i.state.doc.content.lastChild)||void 0===t?void 0:t.attrs.id)===h}}),p=(0,n.sZ)({editor:i,selector:e=>{let{editor:t}=e;return t.state.doc.content.childCount>=N.zj}}),v=(0,k.Jx)(),C=(0,w.Zy)(),{voice:E,isLoading:P,error:D}=V(t),[A]=(0,y.$)(_.r5),T=!!A.length,I=()=>{var e;i.chain().focus().setTextSelection(s()+1).run(),C.isVisible?C.voices.isOpen||C.voices.setIsOpen(!0):(null===(e=v.activeSubmenu)||void 0===e?void 0:e.key)!=="voice"&&v.navigate("voice")},M=(0,n.sZ)({editor:i,selector:e=>{let{editor:t}=e;return 1===t.state.doc.content.childCount}});return(0,a.jsxs)(n.T5,{children:[(0,a.jsxs)("div",{className:(0,j.cn)("relative group-first/block:pt-0 py-3",T&&"opacity-50 grayscale"),children:[(0,a.jsx)("div",{className:"select-none flex",contentEditable:!1,children:(0,a.jsxs)(o.M,{initial:!1,mode:"wait",children:[!x.selectedVoice.value||P?(0,a.jsx)(S,{onClick:I,children:"Loading"},"loading"):r?!E||D?(0,a.jsxs)(S,{className:"text-error gap-1.5",onClick:I,children:[(0,a.jsx)(c.Z,{className:"w-3.5 h-3.5"}),D?"Error fetching voice":"Voice not found"]},"voice-not-found"):(0,a.jsxs)(S,{onClick:I,className:"gap-1.5",children:[(0,a.jsx)(g.qE,{id:E.voice_id,name:E.name,size:"0.875rem",imgSize:32}),(0,a.jsx)("span",{className:"truncate",children:E.name})]},E.voice_id):(0,a.jsx)(S,{onClick:I,children:"Select voice"},"select-voice"),(0,a.jsx)(b.h,{"aria-label":M?"Clear text":"Remove speaker",tooltip:M?"Clear text":"Remove speaker",onClick:()=>{M?i.chain().deleteRange({from:s()+1,to:s()+t.nodeSize-1}).focus(s()+1).run():i.chain().deleteRange({from:Math.max(0,s()-1),to:s()+t.nodeSize-1}).focus(Math.max(0,s()-1)).run()},size:"sm",variant:"ghost",className:(0,j.cn)("ml-auto md:opacity-0 group-hover/block:opacity-100 focus-within:opacity-100 transition-opacity duration-150",M?"max-md:hidden":""),children:(0,a.jsx)(d.Z,{})})]})}),(0,a.jsxs)("div",{className:"mt-3 relative",children:[(0,a.jsxs)("div",{className:(0,j.cn)("pointer-events-none select-none text-muted-foreground",l?"":"absolute inset-0 opacity-0"),contentEditable:!1,"aria-hidden":!0,children:["Type your text with audio tags like"," ",(0,a.jsx)("span",{className:"font-medium py-px px-1 border border-gray-200 text-gray-400 rounded-lg whitespace-nowrap",children:"[laughs]"})," ","to turn into expressive speech..."]}),(0,a.jsx)("div",{className:l?"absolute inset-0":void 0,"data-testid":"tts-editor",children:(0,a.jsx)(n.ms,{})})]})]}),(0,a.jsxs)("div",{className:(0,j.cn)("group relative flex items-center select-none h-8",T&&"opacity-0"),contentEditable:!1,children:[(0,a.jsx)("hr",{className:"w-full border-gray-alpha-100"}),(0,a.jsx)("div",{className:(0,j.cn)("absolute left-1/2 -translate-x-1/2 bg-background px-2 transition-opacity duration-150",{"md:opacity-0 group-hover:opacity-100 focus-within:opacity-100":!m}),children:(0,a.jsx)(f.Button,{variant:"ghost",className:"h-8",leftIcon:(0,a.jsx)(u.Z,{}),onClick:()=>i.chain().addNewBlock(s()).focus().run(),tooltip:p?"Maximum limit of dialogues reached":"Shift+Enter",tooltipProps:{openDelay:p?void 0:1e3},disabled:p,children:"Add speaker"})})]})]})}),P=l.NB.create({name:"dialogueNode",group:"block",content:"inline*",addAttributes:()=>({type:{default:"div",parseHTML:e=>e.tagName.toLowerCase(),rendered:!0},id:{default:null,rendered:!1},voiceId:{default:null,parseHTML:e=>e.getAttribute("data-voiceId"),renderHTML:e=>({"data-voiceId":e.voiceId})}}),addProseMirrorPlugins:()=>[C],addCommands(){return{addNewBlock:e=>t=>{var i,a;let{dispatch:s,state:n,tr:l}=t,r=n.doc.content.size,o=null;if("cursor"===e){let{$from:e}=n.selection;try{r=e.after(),o=e.node()}catch(e){}}else o=n.doc.nodeAt(e),r=e+(null!==(a=null==o?void 0:o.content.size)&&void 0!==a?a:0)+1;if(!o)return!1;let c=(0,N.Pd)((0,N.SZ)(n.doc),r,null===(i=x.selectedVoice.value)||void 0===i?void 0:i.voice_id),d=this.type.create({type:"div",id:(0,m.k$)(),voiceId:c});return!!d&&(l.insert(r,d),l.setSelection(n.selection.constructor.near(l.doc.resolve(r+1))),null==s||s(l),!0)},updateNullVoiceIds:e=>t=>{let{tr:i,dispatch:a}=t,{doc:s}=i,n=!1;return s.descendants((t,a)=>{if("dialogueNode"===t.type.name&&!t.attrs.voiceId){var s;n=!0,i.setNodeMarkup(a,void 0,{...t.attrs,id:null!==(s=t.attrs.id)&&void 0!==s?s:(0,m.k$)(),voiceId:e})}}),n&&(null==a||a(i)),n}}},addKeyboardShortcuts(){return{"Shift-Enter":()=>(this.editor.commands.addNewBlock("cursor"),!0)}},renderHTML(e){let{node:t,HTMLAttributes:i}=e;return[t.attrs.type,(0,l.P1)(i),0]},addNodeView:()=>(0,n.fW)(E,{className:"group/block"})}),V=e=>{let t=null==e?void 0:e.attrs.voiceId,{voices:i,isLoading:a}=(0,_.ht)({enabled:!!t}),s=i.find(e=>e.voice_id===t),{data:n,fetchStatus:l,isLoading:r,error:o}=(0,v.qt5)({pathParams:{voiceId:t}},{enabled:!!t&&!s&&i.length>0&&!a,refetchOnWindowFocus:!1,retryOnMount:!1,retry:(e,t)=>(!(t instanceof p.oo)||"voice_not_found"!==t.errorType)&&e<3});return{isLoading:a||r&&"fetching"===l,voice:null!=s?s:n,error:o instanceof p.oo&&"voice_not_found"===o.errorType?void 0:o}}},85456:function(e,t,i){"use strict";var a=i(59509),s=i(15248),n=i(88734),l=i(60189);let r=a.hj.create({name:"styledAudioTags",addOptions:()=>({audioTagClassName:""}),addProseMirrorPlugins(){return[new s.Sy({key:new s.H$("styledAudioTags"),props:{decorations:e=>{let t=[],i=e.doc,{from:a}=e.selection,s=(0,l.cn)("inter font-medium py-px px-1 border border-[#B743C6] border-opacity-20 rounded-lg whitespace-nowrap text-[#B743C6]",this.options.audioTagClassName),r=/\[([^[\]\n]*)\]/g;return i.descendants((e,i)=>{let l,o;if(!e.isText||!e.text)return;let c=e.text,d=[];for(;null!==(l=r.exec(c));){let e=l.index,a=e+l[0].length;d.push({start:e,end:a}),t.push(n.p.inline(i+e,i+a,{class:s}))}if(a>i+e.nodeSize)return;let u=/\[/g,h=-1;for(;null!==(o=u.exec(c));){let e=o.index,t=i+o.index;if(1+t>a)break;d.some(t=>e>=t.start&&e<t.end)?h=-1:t<a&&(h=t)}-1!==h&&t.push(n.p.inline(h,a,{class:"text-gray-500"}))}),n.EH.create(i,t)}}})]},addGlobalAttributes:()=>[{types:["textStyle"],attributes:{class:{default:null,parseHTML:e=>e.getAttribute("class"),renderHTML:e=>e.class?{class:e.class}:{}}}}]});t.Z=r},54534:function(e,t,i){"use strict";i.d(t,{N:function(){return S},p:function(){return P}});var a=i(7484),s=i(38869),n=i(68606),l=i(96202),r=i(90206),o=i(15248),c=i(56742),d=i(77389),u=i.n(d),h=i(9506),m=i(74508),p=i(1851),v=i(52888),x=i(83359),g=i(64903),f=i(59509),b=i(84106),y=i(73276);let j=f.hj.create({name:"dialogueBlockLimit",addProseMirrorPlugins(){let e;return[new o.Sy({appendTransaction:(t,i,a)=>{let s=0,n=[];if(a.doc.descendants((e,t)=>{"dialogueNode"===e.type.name&&(s++,n.push(t))}),s<=y.zj)return null;let l=a.tr,r=n.slice(y.zj);for(let e of(r.sort((e,t)=>t-e),r)){let t=a.doc.nodeAt(e);t&&l.delete(e,e+t.nodeSize)}return b.toast.dismiss(e),e=b.toast.warning("You have reached the maximum number of dialogues in this speech."),l}})]}});var _=i(81158);let w=e=>(0,y.c7)(e,!1).map(e=>e.text).join("\n").length,k=f.hj.create({name:"dialogueCharacterLimit",addOptions:()=>({onExceed:()=>{}}),addProseMirrorPlugins(){let e;return[new o.Sy({key:new o.H$("dialogueCharacterLimit"),appendTransaction:(t,i,a)=>{if(w(a.doc)<=y.bu)return;this.options.onExceed(),b.toast.dismiss(e),e=b.toast.error("You can only have up to ".concat((0,_.W)(y.bu)," characters in the speech."));let s=(0,y.c7)(a.doc,!1),n=[],l=0;for(let e=0;e<s.length;e++){let t=s[e];if(t.text.length+l>y.bu){let e=t.text.slice(0,Math.max(y.bu-l,0));0!==e.length&&n.push({...t,text:e});break}l+=t.text.length+1,n.push(t)}let r=a.schema.nodeFromJSON((0,y.pp)(n));return a.tr.replaceWith(0,a.doc.content.size,r.content)}})]}});var N=i(82596),C=i(85456);let S=()=>{var e;let{tabs:t}=(0,g.h5)();return(0,y.CY)(null===(e=p.selectedModelTts.value)||void 0===e?void 0:e.model_id)&&"text-to-speech"===t.activeTabId},E={handlePaste:(e,t)=>{var i,a;let{schema:s}=e.state,n=null===(i=t.clipboardData)||void 0===i?void 0:i.getData("text/html");if(!n)return!1;let l=e=>{let t="";return e.childNodes.forEach(e=>{e.nodeType===window.Node.TEXT_NODE?t+=e.textContent:e.nodeType===window.Node.ELEMENT_NODE&&"br"===e.nodeName.toLowerCase()&&(t+="\n")}),t},r=Array.from(new DOMParser().parseFromString(n,"text/html").querySelectorAll("[data-voiceId]")),o=[];if(r.length>1)o=r.map(e=>{var t;let i=l(e).replace(/\n+$/,"");return i.trim()?s.nodes.dialogueNode.create({id:(0,m.k$)(),voiceId:null!==(t=e.getAttribute("data-voiceId"))&&void 0!==t?t:null},s.text(i)):null}).filter(e=>null!==e);else{let e=null===(a=t.clipboardData)||void 0===a?void 0:a.getData("text/plain");if(!e)return!1;o=(0,y.Y7)(e).map(e=>s.nodeFromJSON(e))}if(o.length){let t=e.state.tr;return t.setMeta("paste",!0),o.forEach(e=>t.replaceSelectionWith(e)),e.dispatch(t),!0}return!1},clipboardTextParser(e,t,i,a){let{schema:s}=a.state,n=(0,y.Y7)(e).map(e=>s.nodeFromJSON(e));return new r.p2(r.HY.fromArray(n),0,0)},clipboardTextSerializer:e=>(0,y.eR)(e.content)},P=()=>{let[e]=(0,v.$)(g.r5),t=!!e.length,i=(0,c.jE)({extensions:[a.Z.extend({content:"dialogueNode+"}),N.C,l.Z,s.Z.extend({addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.setHardBreak()}}}),n.Z,j,k,C.Z],immediatelyRender:!1,content:(0,y.pp)(t?e:x.OR.value),editorProps:{attributes:{class:"stack overflow-auto h-full p-0 py-4 xl:py-12 2xl:py-20 focus-visible:outline-none text-md",style:"padding-inline: var(--textarea-px);"},...E},onUpdate:e=>{let{editor:t}=e,i=(0,y.c7)(t.state.doc),a=(0,y.BL)(i);x.OR.value=i,x.fL.value=a}}),r=S(),d=(0,c.sZ)({editor:i,selector:e=>{let{editor:t}=e;return r&&t?t.state.selection.$head.parent:null},equalityFn:(e,t)=>e===t||(null==e?void 0:e.type.name)===(null==t?void 0:t.type.name)&&u()(null==e?void 0:e.attrs,null==t?void 0:t.attrs)&&u()(null==e?void 0:e.content,null==t?void 0:t.content)});return(0,h.useEffect)(()=>{p.selectedVoice.value&&i&&i.chain().updateNullVoiceIds(p.selectedVoice.value.voice_id).run()},[p.selectedVoice.value,i]),(0,h.useEffect)(()=>{localStorage.setItem(y.yF,JSON.stringify(x.OR.value))},[x.OR.value]),(0,h.useEffect)(()=>{var e;!r||!i||x.OR.value.length>1&&(0,y.BL)(x.OR.value)||i.commands.setContent((0,y.pp)([{text:x.fL.value,voice_id:null===(e=p.selectedVoice.value)||void 0===e?void 0:e.voice_id}]),!0)},[r,i]),(0,h.useEffect)(()=>{if(!i)return;if(t){i.commands.setContent((0,y.pp)(e),!1);let t=o.yy.create({doc:i.state.doc,plugins:i.state.plugins,schema:i.state.schema});i.view.updateState(t);return}i.commands.setContent((0,y.pp)(x.OR.value),!1);let a=o.yy.create({doc:i.state.doc,plugins:i.state.plugins,schema:i.state.schema});i.view.updateState(a)},[e]),(0,h.useEffect)(()=>{if(!r||!i)return;let e=(0,y.c7)(i.state.doc);(0,y.c_)(e)!==(0,y.c_)(x.OR.value)&&i.commands.setContent((0,y.pp)(x.OR.value))},[r,i,x.OR.value]),(0,h.useEffect)(()=>{let e=(0,y.BL)(x.OR.value);r&&e&&e!==x.fL.value&&(x.fL.value=e)},[r,x.OR.value]),{editor:r?i:null,activeDialogueBlock:d}}},64903:function(e,t,i){"use strict";i.d(t,{S5:function(){return eh},js:function(){return ek},pu:function(){return eg},Ek:function(){return ep},V_:function(){return em},r5:function(){return eu},PB:function(){return ed},ht:function(){return ej},AY:function(){return eb},Eg:function(){return ef},h5:function(){return ew}});var a=i(68088),s=i(84909),n=i(81999),l=i(23431),r=i(9506),o=i(82374),c=i(74508),d=i(17024),u=i(95535),h=i(73276),m=i(5479),p=i(77095);let v=e=>"text-to-speech"===e.type?"text:".concat(e.text,",voice_id:").concat(e.voice_id,",model_id:").concat(e.model_id):"text-to-speech-v3"===e.type?"dialogue:".concat((0,h.c_)(e.dialogue),",model_id:").concat(e.model_id):"filename:".concat(e.filename,",filesize:").concat(e.filesize,",voice_id:").concat(e.voice_id,",model_id:").concat(e.model_id,",remove_background_noise:").concat(e.removeBackgroundNoise),x=()=>(0,p.ko)()?1:3,g=()=>(0,p.ko)()?2:6;class f{static get(e){let t=v(e);return this.instances.has(t)||this.instances.set(t,new f(t,"text-to-speech-v3"===e.type?g():x())),this.instances.get(t)}add(e){this.generations=[...this.generations,e]}clear(){this.generations=[]}get canRegenerate(){return this.generations.length<this.maxGenerations&&this.generations.length>0&&this.generations[0].timestamp>Date.now()-72e5}get generationsRemaining(){return 6===this.maxGenerations?Math.floor((this.maxGenerations-this.generations.length)/2):this.maxGenerations-this.generations.length}get lastGeneration(){return this.generations[this.generations.length-1]}constructor(e,t=x()){(0,d._)(this,"key",void 0),(0,d._)(this,"generations",[]),(0,d._)(this,"maxGenerations",void 0),this.key=e,this.maxGenerations=t,(0,m.rC)(this,{generations:m.LO})}}(0,d._)(f,"instances",m.LO.map());var b=i(1851),y=i(60358),j=i(71037),_=i(26090),w=i(23636),k=i(26397),N=i(96162),C=i(63415),S=i(85753),E=i(70554),P=i(54389),V=i(37456);let D=e=>{let t={};return null!=e&&(t.output_format=e),t};class A{buildUrl(){let{canStream:e,voiceId:t,outputFormat:i}=this.params,a=e?"".concat(N.LB,"/v1/text-to-speech/").concat(t,"/stream"):"".concat(N.LB,"/v1/text-to-speech/").concat(t),s=D(i);return"".concat(a).concat((0,V.I)(s))}async createRequest(){let{config:e,modelId:t,headers:i}=this.params;return i["Content-Type"]="application/json",new Request(this.buildUrl(),{method:"POST",headers:i,body:JSON.stringify({text:e.text.trim(),model_id:t})})}getGenerationKey(){let{config:e,modelId:t,voiceId:i}=this.params;return{type:"text-to-speech",text:e.text.trim(),model_id:t,voice_id:i}}async updateAudioInfo(){let{config:e,audioInfo:t}=this.params;t&&(t.extra={...null==t?void 0:t.extra,text:e.text.trim()})}constructor(e){(0,d._)(this,"params",void 0),this.params=e}}class T{buildUrl(){let{canStream:e,outputFormat:t}=this.params,i=e?"".concat(N.LB,"/v1/text-to-dialogue/stream"):"".concat(N.LB,"/v1/text-to-dialogue"),a=D(t);return"".concat(i).concat((0,V.I)(a))}async createRequest(){let{config:e,modelId:t,modelSettings:i,headers:a}=this.params;a["Content-Type"]="application/json";let s=this.buildUrl();return i&&"number"==typeof i.stability&&(i.stability=Math.round(2*i.stability)/2),new Request(s,{method:"POST",headers:a,body:JSON.stringify({inputs:e.dialogue.filter(e=>e.text.trim()),model_id:t,settings:i})})}getGenerationKey(){let{config:e,modelId:t}=this.params;return{type:"text-to-speech-v3",dialogue:e.dialogue.filter(e=>e.text.trim()),model_id:t}}async updateAudioInfo(){let{config:e,audioInfo:t}=this.params;t&&(t.player.voice_id=void 0,t.player.voice_name=void 0,t.extra={...null==t?void 0:t.extra,text:(0,h.BL)(e.dialogue)})}constructor(e){(0,d._)(this,"params",void 0),this.params=e}}class I{buildUrl(){let{canStream:e,voiceId:t,outputFormat:i}=this.params,a=e?"".concat(N.LB,"/v1/speech-to-speech/").concat(t,"/stream"):"".concat(N.LB,"/v1/speech-to-speech/").concat(t),s=D(i);return"".concat(a).concat((0,V.I)(s))}async createRequest(){let{config:e,modelId:t,removeBackgroundNoise:i,outputFormat:a,headers:s}=this.params,n=this.buildUrl(),l=new FormData;return l.append("audio",e.referenceAudio),l.append("model_id",t),l.append("remove_background_noise",i.toString()),"string"==typeof a&&a&&l.append("output_format",a),new Request(n,{method:"POST",headers:s,body:l})}getGenerationKey(){let{config:e,modelId:t,voiceId:i,removeBackgroundNoise:a}=this.params;return{type:"speech-to-speech",filename:e.referenceAudio.name,filesize:e.referenceAudio.size,model_id:t,voice_id:i,removeBackgroundNoise:a}}async updateAudioInfo(){let{config:e,audioInfo:t}=this.params;if(!t||!e.referenceAudio)return;let i=e.referenceAudio,a=1e3*Math.floor(await (0,E.eM)(i));t.player={...null==t?void 0:t.player,duration:a}}constructor(e){(0,d._)(this,"params",void 0),this.params=e}}let M=(e,t)=>{let i=t.headers.get("generation-info")||null;i&&((Number(t.headers.get("regeneration-count"))||0)+1>=e.maxGenerations?e.clear():e.add({generation_info:i,timestamp:Date.now()}))},z=async e=>{var t,i;let s,{audioEl:n,config:l,voiceId:r,modelId:o,onContentStart:c=null,audioInfo:d=null,onChunkReceive:h=null,latency:m=null,modelSettings:v,outputFormat:x=null,removeBackgroundNoise:g=!1}=e,V=(0,E.YS)("audio/mpeg"),D={},z=await (0,N.hP)();z&&(D.Authorization="Bearer ".concat(z)),s="text-to-speech-v3"===l.type?new T({config:l,modelId:o,audioInfo:d,modelSettings:v,outputFormat:x,canStream:V,headers:D}):"text-to-speech"===l.type?new A({config:l,voiceId:r,modelId:o,audioInfo:d,outputFormat:x,canStream:V,headers:D}):new I({config:l,voiceId:r,modelId:o,audioInfo:d,outputFormat:x,canStream:V,removeBackgroundNoise:g,headers:D}),await (null===(t=s.updateAudioInfo)||void 0===t?void 0:t.call(s));let L=s.getGenerationKey(),R=f.get(L);u.y.dismiss();try{let e=await s.createRequest();R.canRegenerate&&!(0,p.ko)()&&e.headers.set("regenerate-from-last-generation-info",null===(i=R.lastGeneration)||void 0===i?void 0:i.generation_info);let t=performance.now(),a=await fetch(e.clone());if(a.ok&&null!==a.body){if("text-to-speech-v3"===l.type&&null!==d){let t=e.clone();t.headers.set("regenerate-from-last-generation-info",a.headers.get("generation-info"));try{let e=await fetch(t);if(e.ok&&null!==e.body){await u.y.load([a,e],d,V),M(R,a),M(R,e);return}u.y.dismiss(),R.clear()}catch(e){u.y.dismiss(),R.clear()}}else M(R,a);let i=a.headers.get("history-item-id");if(d&&i&&(d.id=i),V){if(null!==d&&(0,_.Eb)(d),m){let e=a.headers.get("Tts-Latency-Ms"),i=performance.now();if(e){let a=i-t-parseInt(e);m(parseInt(e),a)}}await (0,E.D6)({response:a,audioEl:n,onContentStart:c,onChunkReceive:h})}else{let e=await a.blob(),t=await (0,P.sT)(e);null!==d?(0,_.GM)(t,d):n.src=t}return d}{R.clear();let{detail:e,...t}=await a.json();throw Array.isArray(e)&&e.length&&e.map(e=>{let{loc:t,msg:i,type:a}=e;return(0,w.default)("".concat(i[0].toUpperCase()+i.slice(1),": ").concat(t.join(".")))}),e}}catch(e){if(R.clear(),"detected_unusual_activity"===e.status)b.dialogOpen.value="detectedUnusualActivity",(0,C.eN)(S.B_.detected_unusual_activity);else if("detected_blocked_voice"===e.status)b.dialogOpen.value="voiceBlocked";else if("detected_captcha_voice"===e.status||"is_in_probation"===e.status)b.dialogOpen.value="voiceCaptcha";else if("payment_issue"===e.status||"quota_exceeded"===e.status||"too_many_concurrent_requests"===e.status)(0,w.default)((0,a.jsxs)(a.Fragment,{children:[e.message," ",b.isLoggedIn.value&&(0,a.jsx)(j.a,{href:y.VP.subscription,className:"link link-white",children:"Update subscription?"})]}));else if("system_busy"===e.status)(0,w.default)((0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(k.default,{noBaseClass:!0,children:"We are sorry, the system is busy, try again..."}),e.message?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("br",{})," ",e.message]}):""]}));else{if(b.isLoggedIn.value||"network error"!==e.message)throw(0,w.default)((0,a.jsx)(a.Fragment,{children:(0,a.jsx)(k.default,{noBaseClass:!0,children:e.message?e.message:(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(k.default,{noBaseClass:!0,children:"We are sorry, something went wrong. You were not charged for this request (unless the result appears in the history)."})})})})),e;(0,w.default)((0,a.jsx)(a.Fragment,{children:(0,a.jsx)(k.default,{noBaseClass:!0,children:"Thanks for trying out our speech synthesis! You have reached the limit of available requests on the landing page. You can continue, for free, by signing-up to the platform."})}))}}};var L=i(2986),R=i(10258),F=i(30487),B=i(83359),O=i(25884),Z=i.n(O);let U=e=>{let t=(0,r.useRef)(!1),[i,a]=(0,o._)("xi:lastCheckedPromptLanguage",{prompt:null,languages:null});return(0,r.useEffect)(()=>{(async()=>{let s;if(!(e.split(" ").length<5||"string"==typeof(null==i?void 0:i.prompt)&&50>Z()(null==i?void 0:i.prompt,e))&&!t.current){t.current=!0;try{s=await (0,F.oG)({body:{text:e}})}catch(e){t.current=!1;return}a({prompt:e,languages:s.detected_languages}),t.current=!1}})()},[e]),(0,r.useMemo)(()=>(null==i?void 0:i.languages)||null,[JSON.stringify(null==i?void 0:i.languages)])};var q=i(1425),H=i(84106);let G=(e,t,i,s)=>{(0,r.useEffect)(()=>{if("text-to-speech"!==t||!i||!s||(0,h.CY)(s.model_id))return;let n=null==e?void 0:e.find(e=>!(null==s?void 0:s.languages.find(t=>t.language_id===e)));if(n){var l;let e=null===(l=q.Qv.find(e=>e.key===n))||void 0===l?void 0:l.name,t=null==i?void 0:i.find(e=>e.languages.find(e=>e.language_id===n));t?(0,H.toast)("Unsupported Language",{id:"unsupported-language",description:"The selected model doesn't support ".concat(e?"the ".concat(e):"this"," language. We recommend using ").concat(t.name,"."),action:(0,a.jsx)(B.sz,{model:t,onSwitch:()=>{(0,C.eN)(S.B_.speech_synthesis_new_tts_unsupported_language_model_switched,{unsupportedLanguageKey:n,model:null==t?void 0:t.name})}}),closeButton:!0,duration:1e4}):(0,H.toast)("Unsupported Language",{id:"unsupported-language",description:"We've detected unsupported language".concat(e?" ("+e+")":"",". You may experience bad results."),closeButton:!0,duration:1e4}),(0,C.eN)(S.B_.speech_synthesis_new_tts_unsupported_language_detected,{unsupportedLanguageKey:n,model:null==t?void 0:t.name})}},[e,s,i])};var W=i(80396),K=i(73940),Y=i(11521),X=i(25933),Q=i(29554),J=i(18498),$=i(54752),ee=i(21113),et=i(60493),ei=i(97204),ea=i(95834),es=i(77491),en=i(15750),el=i(2544),er=i(37514);let eo=(0,ee.Z)("file:///app/src/app/(rebrand)/app/speech-synthesis/useSpeechSynthesis.tsx"),ec=1e3/60,ed=(0,et.t)("Start typing here or paste any text you want to turn into lifelike speech..."),eu=(0,et.t)([]),eh=5e3,em=(0,et.t)(!1);function ep(e){return(null==e?void 0:e.length)?e.reduce((e,t)=>e+(t.durationMilliseconds||0),0)/1e3:0}let ev=(e,t)=>{let i;switch(e){case"text-to-speech":i=["{","}","[","]"];break;case"text-to-speech-v3":i=["{","}"]}i&&i.some(e=>t.includes(e))&&H.toast.warning("Input text contains one or more of the following characters: ".concat(i.join(", ")," which can degrade the quality of speech."))},ex=()=>{let[e,t]=(0,r.useState)(null);return[e,e=>{t(e),er.p.value=!0}]},eg=(0,R.bN)(),ef=()=>{let[e,t]=(0,o._)("xi:speech-synthesis-model-settings",null),i=(0,r.useCallback)(e=>{t(t=>({...t,...e}))},[t]);return(0,r.useEffect)(()=>{null===e&&(async()=>{var e,i;let a=await eg;t({stability:null!==(e=null==a?void 0:a.stability)&&void 0!==e?e:null,use_speaker_boost:null!==(i=null==a?void 0:a.use_speaker_boost)&&void 0!==i&&i})})()},[e,t]),[e,i]},eb=()=>{var e;let[t,i]=(0,r.useState)(void 0),{data:a,isLoading:s}=(0,F.DS0)({},{refetchOnWindowFocus:!1});return(0,r.useEffect)(()=>{if(!b.workspaceData.value||!a)return;let e=b.workspaceData.value.subscription.voice_limit;if(s||!a){i(!1);return}i(a.voice_slots_used<e)},[a,s,null===(e=b.workspaceData.value)||void 0===e?void 0:e.subscription.voice_limit]),t},ey=e=>(0,el.ht)(e.filter(e=>!en.Ad.includes(e.voice_id))),ej=e=>{var t,i,a;let{nextPageToken:s,enabled:n}=e,l={page_size:100,sort:"name",sort_direction:"asc"};s&&(l.next_page_token=s);let o=(0,F.r4B)({queryParams:l},{enabled:n});return{voices:(0,r.useMemo)(()=>{var e,t;return ey(null!==(t=null===(e=o.data)||void 0===e?void 0:e.voices)&&void 0!==t?t:[])},[null===(t=o.data)||void 0===t?void 0:t.voices]),isLoading:o.isLoading,hasMore:null!==(a=null===(i=o.data)||void 0===i?void 0:i.has_more)&&void 0!==a&&a}},e_=r.createContext(null),ew=()=>{let e=r.useContext(e_);if(!e)throw Error("useSpeechSynthesis must be used within a SpeechSynthesisProvider");return e},ek=(0,n.Pi)(e=>{let{tab:t,children:i}=e,[n,o]=(0,r.useState)(B.fL.value?"touched":"pristine"),d=(0,J.Y)([{id:"text-to-speech",label:"Text to speech"},{id:"speech-to-speech",label:"Speech to speech"}],t),[u,m]=(0,r.useState)(!1),[v,x]=(0,r.useState)(!1),[g,j]=(0,r.useState)(!1),[k,N]=(0,r.useState)(null),[P,V]=(0,r.useState)(!1),[D,A]=(0,r.useState)(null),[T,I]=(0,r.useState)(null),[M,O]=(0,r.useState)([]),[Z,q]=(0,r.useState)(!1),[ee,et]=(0,r.useState)(!1),[el,er]=ex(),[ed]=ef(),eu=(0,s.useQueryClient)(),eh=(0,l.useSearchParams)(),[eg,ey]=(0,r.useState)([]),ew=(0,l.useRouter)(),ek=(0,r.useRef)(null),[eN,eC]=(0,r.useState)(),eS=eb(),eE=U(B.fL.value);G(eE,d.activeTabId,b.models.value,b.selectedModelTts.value);let{addRecentlyUsedVoice:eP}=(0,Q.Z)(),eV="text-to-speech"===d.activeTabId?b.selectedModelTts:b.selectedModelSts,eD=e=>{var t,i;return{type:"speech-to-speech",filename:e.file.name,filesize:e.file.size,voice_id:(null===(t=b.selectedVoice.value)||void 0===t?void 0:t.voice_id)||"",model_id:(null===(i=b.selectedModelSts.value)||void 0===i?void 0:i.model_id)||"",removeBackgroundNoise:P}},eA=f.get((()=>{var e,t,i,a,s,n;if("text-to-speech"===d.activeTabId)return(0,h.CY)(null===(e=b.selectedModelTts.value)||void 0===e?void 0:e.model_id)?{type:"text-to-speech-v3",dialogue:B.OR.value.filter(e=>e.text.trim()),model_id:(null===(t=b.selectedModelTts.value)||void 0===t?void 0:t.model_id)||""}:{type:"text-to-speech",text:B.fL.value.trim(),model_id:(null===(i=b.selectedModelTts.value)||void 0===i?void 0:i.model_id)||"",voice_id:(null===(a=b.selectedVoice.value)||void 0===a?void 0:a.voice_id)||""};{let e=M.find(e=>"processing"===e.status);return e?eD(e):{type:"speech-to-speech",filename:"",filesize:0,voice_id:(null===(s=b.selectedVoice.value)||void 0===s?void 0:s.voice_id)||"",model_id:(null===(n=b.selectedModelSts.value)||void 0===n?void 0:n.model_id)||"",removeBackgroundNoise:P}}})()),eT=null===b.selectedModelTts.value?en.Lg:Math.min(b.selectedModelTts.value.maximum_text_length_per_request,en.Lg),eI=(0,ei.g2)(b.selectedModelTts.value,b.selectedVoice.value,b.models.value,!0),eM=(0,ea.Te)(b.workspaceData.value,eV.value),ez=()=>{var e;let t=null!==(e=(0,ea.S1)(b.userData.value,b.selectedVoice.value))&&void 0!==e?e:1;return"text-to-speech"===d.activeTabId?eA.canRegenerate?0:Math.ceil(B.fL.value.trim().length*eM*t):Math.ceil(ep(M.filter(e=>!f.get(eD(e)).canRegenerate))*ec*eM*t)},eL=()=>{if(b.workspaceData.value){let e=b.workspaceData.value.subscription.character_count,t=b.workspaceData.value.subscription.character_limit;return(0,p.RF)()&&e+ez()>t&&e<=t}return!1},eR=()=>{if(b.workspaceData.value){let e=b.workspaceData.value.subscription.character_count,t=b.workspaceData.value.subscription.character_limit;return"free"===b.workspaceData.value.subscription.tier&&e+ez()>t}return!1},eF=async e=>{"speech-to-speech"!==e.type&&I(null);let t="text-to-speech-v3"===e.type?"text-to-speech":e.type,i="",a=ek.current||el;switch(e.type){case"text-to-speech":i=e.text,a=ed;break;case"text-to-speech-v3":i=(0,h.BL)(e.dialogue)}if(null!==_._m.value&&null!==b.selectedVoice.value&&null!==eV.value){em.value=!0;try{var s,n,l,r;ev(e.type,i);let o=await z({audioEl:_._m.value,config:e,voiceId:b.selectedVoice.value.voice_id,modelId:eV.value.model_id,removeBackgroundNoise:P,modelSettings:ed,onContentStart:()=>{v||x(!0)},audioInfo:{id:"synthesized_audio.mp3",autoStart:!0,autoStartDelaySeconds:(0,h.CY)(null===(s=b.selectedModelTts.value)||void 0===s?void 0:s.model_id)?2:void 0,name:(0,E.aR)({name:b.selectedVoice.value.name,date_unix:(0,es.K9)()}),fileName:(0,E.J9)({name:b.selectedVoice.value.name,date_unix:(0,es.K9)(),model_id:null===(n=eV.value)||void 0===n?void 0:n.model_id,category:b.selectedVoice.value.category,voice_settings:a}),type:t,isFirstRequest:!0,player:{title:"text-to-speech"===t?i:(0,E.J9)({name:b.selectedVoice.value.name,date_unix:(0,es.K9)(),model_id:null===(l=eV.value)||void 0===l?void 0:l.model_id,category:b.selectedVoice.value.category,voice_settings:a}),description:"Created ".concat((0,K.q)(1e3*(0,es.K9)())),voice_id:b.selectedVoice.value.voice_id,voice_name:b.selectedVoice.value.name}},onChunkReceive:_.Tv});"speech-to-speech"===e.type?o&&O(e=>e.map(e=>{var t;return"processing"===e.status?{...e,status:"converted",convertedFile:{id:o.id,filename:o.fileName||(0,E.J9)({name:b.selectedVoice.value.name,date_unix:(0,es.K9)(),model_id:null===(t=eV.value)||void 0===t?void 0:t.model_id,category:b.selectedVoice.value.category,voice_settings:a})}}:e})):o&&I({id:o.id,filename:o.fileName||(0,E.J9)({name:b.selectedVoice.value.name,date_unix:(0,es.K9)(),model_id:null===(r=eV.value)||void 0===r?void 0:r.model_id,category:b.selectedVoice.value.category,voice_settings:a})})}catch(t){eo.log(t),(0,_.ob)(),"speech-to-speech"===e.type&&O(e=>e.map(e=>"processing"===e.status?{...e,status:"error",error:(null==t?void 0:t.message)||"Conversion failed"}:e)),(0,w.default)((null==t?void 0:t.message)||"Something went wrong. Please try again.","error")}finally{em.value=!1,eu.invalidateQueries({queryKey:["Usage"]}),eu.invalidateQueries({queryKey:["speech-synthesis","history"]}),setTimeout(()=>{eu.invalidateQueries({queryKey:["speech-synthesis","history"]})},3e3)}}};(0,r.useEffect)(()=>{if(!Z||"speech-to-speech"!==d.activeTabId||em.value)return;let e=M.find(e=>"pending"===e.status);if(e){var t,i,a;if(O(t=>t.map(t=>t.id===e.id?{...t,status:"processing"}:t)),!ee&&(eL()||eR())){(0,C.eN)(S.B_.speech_synthesis_quota_exceeded),eL()?j(!0):eR()&&m(!0),O(t=>t.map(t=>t.id===e.id?{...t,status:"error",error:"Quota exceeded"}:t));return}(0,C.eN)(S.B_.speech_synthesis_generate_started,{task:d.activeTabId,voice:null===(t=b.selectedVoice.value)||void 0===t?void 0:t.name,model:null===(i=eV.value)||void 0===i?void 0:i.name,mode:"consolidated",characters:ez()}),eF({type:"speech-to-speech",referenceAudio:e.file}),(null===(a=b.selectedVoice.value)||void 0===a?void 0:a.voice_id)&&eP(b.selectedVoice.value.voice_id)}else q(!1),et(!1)},[Z,M,d.activeTabId,ee]),(0,r.useEffect)(()=>{if("speech-to-speech"===d.activeTabId){if(null!==b.selectedModelSts.value&&!b.selectedModelSts.value.can_do_voice_conversion&&null!==b.models.value){let e=b.models.value.find(e=>e.can_do_voice_conversion);void 0!==e&&(b.selectedModelSts.value=e)}}else if("text-to-speech"===d.activeTabId&&null!==b.selectedModelTts.value&&!b.selectedModelTts.value.can_do_text_to_speech&&null!==b.models.value){let e=b.models.value.find(e=>e.can_do_text_to_speech);void 0!==e&&(b.selectedModelTts.value=e)}},[d.activeTabId]),(0,r.useEffect)(()=>{localStorage.setItem(B.B_,B.fL.value)},[B.fL.value]);let eB=null==eh?void 0:eh.get("voice_id"),{voices:eO,hasMore:eZ}=ej({}),{data:eU,isLoading:eq}=(0,F.qt5)({pathParams:{voiceId:null!=eB?eB:"ARBITRARY_INVALID_VOICE_ID"}},{enabled:!!eB,retry:!1,refetchOnWindowFocus:!1});(0,r.useEffect)(()=>{if(ey(eO),eN&&eC(eN.filter(e=>!("is_added_by_user"in e&&e.is_added_by_user)).filter(e=>!eO.find(t=>t.voice_id===e.voice_id))),eO.length>0&&null===b.selectedVoice.value){let e=localStorage.getItem(b.VOICE_PERSISTENCE_KEY);if(null===e)b.selectedVoice.value=eO[0];else{let t=eO.find(t=>t.voice_id===e);t?b.selectedVoice.value=t:b.selectedVoice.value=eO[0]}}eB&&!eq&&(eU?b.selectedVoice.value=eU:ew.push("".concat(y.VP.voiceLibrary,"?voice_id=").concat(eB)))},[eO,eU,eq]),(0,r.useEffect)(()=>{(async()=>{if(b.userData.value){var e,t,i,a,s,n,l;let r=null===(t=b.userData.value.geo_location)||void 0===t?void 0:null===(e=t.country)||void 0===e?void 0:e.toLowerCase(),o=r&&(null===(i=$.Q4.find(e=>e.flagCode.toLowerCase()===r))||void 0===i?void 0:i.languageCode.toLowerCase())||"en",c=(null==eE?void 0:eE[0])||o,d=await (0,F.Z9S)({queryParams:{category:"language",language:c}}),u=(null===(s=d.collections)||void 0===s?void 0:null===(a=s[0])||void 0===a?void 0:a.id)?await (0,F.vQg)({pathParams:{collectionId:null===(l=d.collections)||void 0===l?void 0:null===(n=l[0])||void 0===n?void 0:n.id}}):null,h=null==u?void 0:u.voices;if(null==h?void 0:h.length){eC(h.filter(e=>!("is_added_by_user"in e&&e.is_added_by_user)));return}eC(((await (0,L.xD)({pageSize:10,category:"professional",gender:null,age:null,accent:null,language:c,useCases:null,descriptives:null,search:null,minNoticePeriod:null,sort:"trending",page:0})).voices||[]).filter(e=>!("is_added_by_user"in e&&e.is_added_by_user)))}})()},[b.userData.value,eE]),(0,r.useEffect)(()=>{let e;"text-to-speech"===d.activeTabId?e=y.VP.tts:"speech-to-speech"===d.activeTabId&&(e=y.VP.sts),e&&(eh&&(e+="?".concat(eh)),ew.push(e))},[d.activeTabId]),(0,r.useEffect)(()=>{eI||H.toast.dismiss()},[eI]),(0,r.useEffect)(()=>{(B.fL.value||D||M.length>0)&&o("touched")},[B.fL.value,D,M]);let eH=async e=>{er(await (0,R.n3)(e))};return(0,r.useEffect)(()=>{null!==b.selectedVoice.value&&eH(b.selectedVoice.value.voice_id)},[b.selectedVoice.value]),(0,a.jsx)(e_.Provider,{value:{convert:eF,proceedWithQuotaOverride:()=>{et(!0);let e=M.filter(e=>"error"===e.status&&"Quota exceeded"===e.error).length;e>0&&eo.log("Resetting ".concat(e," quota error items back to pending")),O(e=>e.map(e=>"error"===e.status&&"Quota exceeded"===e.error?{...e,status:"pending",error:void 0}:e)),Z||q(!0)},generate:()=>{if("speech-to-speech"===d.activeTabId){q(!0);return}if((eL()||eR())&&(0,C.eN)(S.B_.speech_synthesis_quota_exceeded),eL())j(!0);else if(eR())m(!0);else{var e,t,i,a,s;(0,C.eN)(S.B_.speech_synthesis_generate_started,{task:d.activeTabId,allPromptLanguages:eE,mainPromptLanguage:null==eE?void 0:eE[0],voice:null===(e=b.selectedVoice.value)||void 0===e?void 0:e.name,model:null===(t=eV.value)||void 0===t?void 0:t.name,mode:"consolidated",characters:ez()}),"text-to-speech"===d.activeTabId&&((0,h.CY)(null===(a=b.selectedModelTts.value)||void 0===a?void 0:a.model_id)?eF({type:"text-to-speech-v3",dialogue:B.OR.value}):eF({type:"text-to-speech",text:B.fL.value})),(0,h.CY)(null===(i=b.selectedModelTts.value)||void 0===i?void 0:i.model_id)?B.OR.value.forEach((e,t)=>{e.text.trim()&&eP(e.voice_id,t)}):(null===(s=b.selectedVoice.value)||void 0===s?void 0:s.voice_id)&&eP(b.selectedVoice.value.voice_id)}},getCharUsage:ez,quotaExceeded:g,setQuotaExceeded:j,freeQuotaExceeded:u,setFreeQuotaExceeded:m,file:D,setFile:e=>{I(null),A(e)},convertedFile:T,setConvertedFile:I,initialVoiceSettings:el,setInitialVoiceSettings:er,durationMilliseconds:k,setDurationMilliseconds:N,queue:M,addFilesToQueue:e=>{let t=e.map(e=>({id:(0,c.k$)(),file:e.file,durationMilliseconds:e.durationMilliseconds,status:"pending"}));O(e=>[...e,...t])},removeItemFromQueue:e=>{O(t=>t.filter(t=>t.id!==e))},clearQueue:()=>{O([]),et(!1)},regenerateItem:e=>{O(t=>t.map(t=>t.id===e?{...t,status:"pending",convertedFile:void 0,error:void 0}:t)),Z||q(!0)},regenerateAll:()=>{O(e=>e.map(e=>({...e,status:"pending",convertedFile:void 0,error:void 0}))),et(!1),Z||q(!0)},tabs:d,maxChars:eT,onVoiceChange:e=>{var t,i,a,s,n;if("professional"===e.category&&(null===(t=b.selectedVoice.value)||void 0===t?void 0:t.category)!=="professional"){let t=null===(a=b.models.value)||void 0===a?void 0:a.filter(e=>e.can_do_text_to_speech),i=null===(s=b.models.value)||void 0===s?void 0:s.filter(e=>e.can_do_voice_conversion),n="text-to-speech"===d.activeTabId?t:i;if(!(null==n?void 0:n.find(t=>e.high_quality_base_model_ids.find(e=>e===t.model_id)))){if("text-to-speech"===d.activeTabId){H.toast.warning("This voice is not fine-tuned for Text to Speech. You may encounter some instabilities. Consider using a different voice.");let e=null==n?void 0:n.find(e=>"eleven_multilingual_v2"===e.model_id);e&&(b.selectedModelTts.value=e)}else{H.toast.warning("This voice is not fine-tuned for Speech to Speech. You may encounter some instabilities. Consider using a different voice.");let e=null==n?void 0:n.find(e=>"eleven_multilingual_sts_v2"===e.model_id);e&&(b.selectedModelSts.value=e)}}}else if("professional"!==e.category&&(null===(i=b.selectedVoice.value)||void 0===i?void 0:i.category)==="professional"&&!(null===(n=b.models.value)||void 0===n?void 0:n.find(e=>("text-to-speech"===d.activeTabId&&e.can_do_text_to_speech||"speech-to-speech"===d.activeTabId&&e.can_do_voice_conversion)&&!e.serves_pro_voices))){(0,w.default)("No model found for this task. Please select another task.","error");return}b.selectedVoice.value=e},recommendedModel:eI,speechSynthesisVoices:eg,setSpeechSynthesisVoices:ey,hasMoreVoices:eZ,suggestedVoices:eN,hasVoiceSlots:eS,variant:n,setVariant:o,renderCharacterIndicator:()=>{if(!("text-to-speech"===d.activeTabId||"speech-to-speech"===d.activeTabId&&(M.length>0||Z)))return null;let e=(0,ea.S1)(b.userData.value,b.selectedVoice.value);return(0,a.jsxs)(Y.x,{color:"subtle",size:"xs",className:"flex",children:[(0,a.jsx)(W.Fi,{characterCost:ez(),workspaceData:b.workspaceData.value,costExplanation:"Credit cost is based on length of text. If you want to use more than 5,000 credits, please use Studio."}),e&&(0,a.jsx)(X.Tooltip,{label:(0,a.jsxs)(Y.x,{color:"background",children:["The selected voice model uses a Custom Rate and has a"," ",(0,a.jsxs)("b",{children:[(0,a.jsx)("span",{children:"character multiplier of "}),e,(0,a.jsx)("span",{children:"x"})]})," ","for you, meaning you will be charged"," ",(0,a.jsxs)("b",{children:[e,(0,a.jsx)("span",{children:" times more credits"})]})," ","for each request you make with this voice model. As an example, generating 1,000 credits using a voice model with a 2x character multiplier would deduct 2,000 credits from your account."]}),children:(0,a.jsxs)(Y.x,{size:"xs",className:"ml-1",children:[" ","x ",e]})})]})},voiceSettingsForDownload:ek,removeBackgroundNoise:P,setRemoveBackgroundNoise:V,modelCostMultiplier:eM,promptLanguages:eE,generationManager:eA},children:i})})},8871:function(e,t,i){"use strict";i.d(t,{Zf:function(){return g},lC:function(){return p},nq:function(){return x},xo:function(){return f},zR:function(){return b}});var a=i(68088),s=i(6991),n=i(16714),l=i(98780),r=i(9506),o=i(32689),c=i(82528),d=i(91105),u=i(11521),h=i(25933),m=i(34477);let p=()=>{let{i18n:e,_:t}=(0,s.mV)();return(0,r.useMemo)(()=>[{title:e.t("Text to Speech"),id:"text_to_speech",category:e.t("Products"),tooltip:e.t("Access to the Text to Speech product")},{title:e.t("Voice Changer"),id:"speech_to_speech",category:e.t("Products"),tooltip:e.t("Access to the Voice Changer product")},{title:e.t("Voices"),id:"voice_lab",category:e.t("Products"),tooltip:e.t("Access to the Voices product")},{title:e.t("Sound Effects"),id:"sound_effects",category:e.t("Products"),tooltip:e.t("Access to the Sound Effects product")},{title:e.t("Studio"),id:"projects",category:e.t("Products"),tooltip:e.t("Access to the Studio product")},{title:e.t("Voiceover Studio"),id:"voiceover_studio",category:e.t("Products"),tooltip:e.t("Access to the Voiceover Studio product")},{title:e.t("Dubbing"),id:"dubbing",category:e.t("Products"),tooltip:e.t("Access to the Dubbing product")},{title:e.t("Audio Native"),id:"audio_native",category:e.t("Products"),tooltip:e.t("Access to the Audio Native product")},{title:e.t("Conversational AI"),id:"conversational_ai",category:e.t("Products"),tooltip:e.t("Access to the Conversational AI product")},{title:e.t("Speech to Text"),id:"speech_to_text",category:e.t("Products"),tooltip:e.t("Access to the Speech to Text product")},{title:e.t("Voice Isolator"),id:"voice_isolator",category:e.t("Products"),tooltip:e.t("Access to the Voice Isolator product")},{title:e.t("AI Speech Classifier"),id:"ai_speech_classifier",category:e.t("Products"),tooltip:e.t("Access to the AI Speech Classifier product")},{title:e.t("Add voice from Voice Library"),id:"add_voice_from_voice_library",category:e.t("Feature Guards"),tooltip:e.t("Ability to add voices from the Voice Library")},{title:e.t("Create Instant Voice Clone"),id:"create_instant_voice_clone",category:e.t("Feature Guards"),tooltip:e.t("Ability to create Instant Voice Clones")},{title:e.t("Create Professional Voice Clone"),id:"create_professional_voice_clone",category:e.t("Feature Guards"),tooltip:e.t("Ability to create Professional Voice Clones")},{title:e.t("Create User API Key"),id:"create_user_api_key",category:e.t("Feature Guards"),tooltip:e.t("Ability to create User API Keys")},{title:e.t("Publish Studio Projects"),id:"publish_studio_project",category:e.t("Feature Guards"),tooltip:e.t("Ability to publish Studio projects to ElevenReader, Spotify, Audio qNative etc.")}],[t])},v=e=>(0,r.useMemo)(()=>e.reduce((e,t)=>{var i,a;return null!==(a=e[i=t.category])&&void 0!==a||(e[i]=[]),e[t.category].push(t),e},{}),[e]),x=e=>(0,r.useMemo)(()=>new Map(e.map(e=>[e.id,e])),[e]),g=e=>(0,r.useMemo)(()=>Array.from(e.keys()),[e]),f=e=>{let{permissions:t,setPermissions:i,disabledPermissions:n}=e,r=v(p()),{i18n:x}=(0,s.mV)();return(0,a.jsxs)("div",{children:[n.length>0&&(0,a.jsx)("div",{className:"mb-4 p-2 rounded",children:(0,a.jsxs)(m.bZ,{children:[(0,a.jsx)(l.Z,{className:"h-4 w-4"}),(0,a.jsx)(m.Cd,{children:(0,a.jsx)(s.cC,{id:"V0W5IF"})}),(0,a.jsx)(m.X,{children:(0,a.jsx)(s.cC,{id:"Okhktv"})})]})}),(0,a.jsxs)(c.l$,{className:"max-h-[400px] overflow-y-auto",children:[(0,a.jsx)(c.sE,{}),[x.t("Products"),x.t("Feature Guards")].map(e=>(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)(u.x,{weight:"semi-bold",className:"mb-2",children:e}),(0,a.jsx)(o.aV,{children:r[e].map(e=>{let l=n.includes(e.id);return(0,a.jsxs)(o.HC,{className:"py-2",children:[(0,a.jsx)(o.Ek,{children:(0,a.jsx)(u.x,{children:(0,a.jsx)(h.Tooltip,{label:x.t(e.tooltip),children:e.title})})}),(0,a.jsxs)(o.cT,{children:[l&&(0,a.jsx)(h.Tooltip,{label:x.t("Must be disabled in the Everyone group first"),children:(0,a.jsx)("span",{className:"ml-2 text-gray-500 cursor-help",children:"ⓘ"})}),(0,a.jsxs)(d.Select,{value:l||t.has(e.id)?"hasPermission":"noPermission",onValueChange:a=>{if(l)return;let s=new Set(t);"hasPermission"===a?s.add(e.id):s.delete(e.id),i(s)},disabled:l,children:[(0,a.jsx)(d.SelectTrigger,{className:"w-36",children:(0,a.jsx)(d.SelectValue,{})}),(0,a.jsxs)(d.SelectContent,{children:[(0,a.jsx)(d.SelectItem,{value:"noPermission",children:(0,a.jsx)(s.cC,{id:"oPoLg+"})}),(0,a.jsx)(d.SelectItem,{value:"hasPermission",children:(0,a.jsx)(s.cC,{id:"1cSQDu"})})]})]})]})]},e.id)})})]},e)),(0,a.jsx)(c.RA,{})]})]})},b=e=>{var t;let i=x(p()),{i18n:a}=(0,s.mV)(),l=i.get(e);return a._(n.ag._({id:"247QPC",values:{0:null!==(t=null==l?void 0:l.title)&&void 0!==t?t:a.t("this feature")}}))}},16130:function(e,t,i){"use strict";var a=i(68088),s=i(40534),n=i(9506);let l=n.forwardRef((e,t)=>{let{withinTop:i="0px",withinRight:l="0px",withinBottom:r="0px",withinLeft:o="0px",once:c=!1,container:d,children:u,...h}=e,[m,p]=n.useState(!1);return(0,a.jsx)(s.E.div,{...h,ref:t,onViewportEnter:()=>p(!0),onViewportLeave:()=>p(!1),viewport:{root:d||void 0,margin:"".concat(r," ").concat(o," ").concat(i," ").concat(l),amount:"some",once:c},children:m&&u})});t.Z=l},81398:function(e,t,i){"use strict";i.d(t,{o:function(){return _}});var a=i(68088),s=i(6991),n=i(40534),l=i(46736),r=i(95089),o=i(73862),c=i(32507),d=i(9506),u=i(82374),h=i(30487),m=i(88084),p=i(60358),v=i(4735),x=i(96474),g=i(64755),f=i(11521),b=i(65204),y=i(63415),j=i(85753);let _=e=>{let{buttonVariant:t,buttonSize:i="sm",source:_,iconClassName:w,popoverProps:k}=e,{i18n:N}=(0,s.mV)(),[C,S]=(0,d.useState)(null),E=(0,d.useRef)(null),P=(0,c.U0)(),V=(0,d.useId)(),D=(0,d.useRef)(),[A,T]=(0,d.useState)(!1),[I,M]=(0,d.useState)(""),[z,L]=(0,d.useState)(!1),[R,F]=(0,u._)("xi:feedback-text",""),[B,O]=(0,d.useState)(null);async function Z(e){if(e.preventDefault(),!R){M(N.t("Please enter your feedback"));return}L(!0);try{let e=await (0,h.$Yu)({body:{feedback:R}});e.relevant&&(P.stopSessionRecording(),(0,y.eN)(j.B_.feedback,{feedback:R,category:e.category,positive:e.positive,source:_})),O({relevant:e.relevant,category:e.category,positive:e.positive}),F("")}catch(e){if(e.message.includes("too many requests"))O({relevant:!1,category:"",positive:!1}),F("");else throw M(N.t("Sending failed. Please try again later.")),Error("Failed to submit feedback")}L(!1)}return(0,d.useEffect)(()=>{setTimeout(()=>{E.current&&S(E.current.offsetHeight)})},[B,A]),(0,d.useEffect)(()=>{A&&!P.sessionRecordingStarted()&&P.startSessionRecording()},[A]),(0,d.useEffect)(()=>(B&&(window.clearTimeout(D.current),A||(D.current=window.setTimeout(()=>{O(null)},6e4))),()=>{window.clearTimeout(D.current)}),[A,B]),(0,a.jsxs)(g.J2,{open:A,onOpenChange:e=>T(e),children:[(0,a.jsx)(g.xo,{asChild:!0,children:(0,a.jsx)(v.Button,{size:i,variant:t||"outline",leftIcon:(0,a.jsx)(r.Z,{className:w}),children:(0,a.jsx)(s.cC,{id:"YirHq7"})})}),(0,a.jsx)(g.i9,{children:(0,a.jsx)(g.yk,{className:"p-3 py-2.5 w-[340px]",side:"bottom",...k,children:(0,a.jsx)(n.E.div,{animate:{height:C?C+"px":void 0},children:(0,a.jsx)("div",{ref:E,children:(0,a.jsx)(l.M,{mode:"popLayout",children:B?(0,a.jsxs)(n.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"stack gap-1",children:[(0,a.jsx)("div",{className:"stack gap-0.5",children:(0,a.jsx)(f.x,{size:"sm",weight:"medium",children:(0,a.jsx)(s.cC,{id:"nhMhRr"})})}),(0,a.jsxs)("div",{className:"stack items-stretch gap-2",children:[(0,a.jsx)(f.x,{size:"sm",weight:"normal",color:"subtle",children:(0,a.jsx)(s.cC,{id:"NLh4qN",components:{0:(0,a.jsx)(o.default,{target:"_blank",href:p.ZP.troubleshooting,className:"text-sm underline hover:no-underline outline-none focus-visible:ring-1 focus-visible:ring-ring ring-offset-1 rounded-sm"})}})}),(0,a.jsx)("div",{className:"stack items-stretch gap-2",children:(0,a.jsxs)("div",{className:"w-full hstack justify-center items-center gap-3",children:[(0,a.jsx)(f.x,{weight:"medium",size:"sm",className:"text-gray-alpha-950",children:(0,a.jsx)(s.cC,{id:"HBI6nY"})}),(0,a.jsx)(m.V,{size:"sm",className:""})]})})]})]},"submitted"):(0,a.jsxs)(n.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[(0,a.jsx)("div",{className:"flex flex-col pb-2",children:(0,a.jsx)("form",{id:V,onSubmit:Z,children:(0,a.jsx)(x.Label,{className:"stack gap-2",children:(0,a.jsx)(b.g,{onFocus:e=>{let t=e.target;setTimeout(()=>{t&&t.setSelectionRange(t.textLength,t.textLength)},5)},value:R,onChange:e=>{F(e.target.value),M("")},className:"resize-none",name:"feedback",placeholder:N.t("Type your feedback here..."),rows:4,autoFocus:!0})})})}),(0,a.jsx)(l.M,{mode:"wait",children:I&&(0,a.jsx)(n.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:(0,a.jsx)(f.x,{size:"xs",weight:"medium",className:"text-red-500",children:I})})}),(0,a.jsxs)("div",{className:"hstack justify-between gap-10 mt-1",children:[(0,a.jsx)("div",{children:(0,a.jsx)(l.M,{mode:"wait",children:(0,a.jsx)(n.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,a.jsx)(f.x,{size:"xs",weight:"normal",color:"subtle",children:(0,a.jsx)(s.cC,{id:"Venze/"})})})})}),(0,a.jsx)(v.Button,{size:"sm",variant:"primary",form:V,loading:z,children:(0,a.jsx)(s.cC,{id:"hQRttt"})})]})]},"default")})})})})})]})}},47230:function(e,t,i){"use strict";var a=i(68088),s=i(4111),n=i(40534),l=i(60189);t.Z=e=>{let{className:t,loading:i,onTrigger:r,loadInAdvanceMargin:o=500}=e;return(0,a.jsxs)(n.E.div,{className:(0,l.cn)("relative w-full pointer-events-none",i?"h-[48px]":"h-[1px]",t),children:[i&&(0,a.jsx)("div",{className:"overlay center",children:(0,a.jsx)(s.$,{size:"sm",color:"currentColor",minH:"1rem",minW:"1rem"})}),!i&&(0,a.jsx)(n.E.div,{className:"absolute bottom-0 w-full h-full",style:{height:o},onViewportEnter:()=>{null==r||r()}},Math.random())]})}},72081:function(e,t,i){"use strict";i.d(t,{k:function(){return r}});var a=i(68088),s=i(36118),n=i(70140),l=i(28224);function r(e){let{info:t,className:i}=e;return(0,a.jsxs)(l.u,{placement:"top",children:[(0,a.jsx)(l.aJ,{children:(0,a.jsx)(s.Z,{className:(0,n.A)("h-4 w-4 text-gray-700",i)})}),(0,a.jsx)(l._v,{children:t})]})}},82710:function(e,t,i){"use strict";i.d(t,{Logo:function(){return c}});var a=i(68088),s=i(66548),n=i.n(s),l=i(9506),r=i(60189),o=JSON.parse('{"v":"5.9.6","fr":60,"ip":30,"op":60,"w":1510,"h":248,"nm":"9_LOGO-MAIN_LEFT_lottie","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":2,"ty":4,"nm":"Logo - s 3","parent":16,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0,"y":1},"o":{"x":0.001,"y":0},"t":56,"s":[1858.393,155.234,0],"to":[0,0,0],"ti":[0,0,0]},{"t":70,"s":[1882.396,155.234,0]}],"ix":2,"l":2},"a":{"a":0,"k":[1882.075,155.234,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[1.04,40.958],[0,0],[-18.5,0],[0,14.579],[17.45,4.165],[0,0],[0,35.058],[-41.88,0],[-1.4,-38.529],[0,0],[15.01,0],[0,-13.884],[-14.66,-3.472],[0,0],[0,-37.488],[45.38,0]],"o":[[0,0],[0.7,19.438],[18.5,0],[0,-13.19],[0,0],[-42.58,-10.76],[0,-35.058],[41.88,0],[0,0],[-1.05,-17.008],[-15,0],[0,12.843],[0,0],[40.48,10.066],[0,37.487],[-49.21,0]],"v":[[-78.175,37.661],[-28.975,37.661],[0.695,66.471],[29.665,43.561],[4.185,21.347],[-10.825,17.529],[-74.685,-39.743],[-0.005,-97.016],[75.035,-42.173],[25.825,-42.173],[-0.705,-66.471],[-26.175,-45.298],[-3.145,-24.124],[12.215,-20.305],[78.175,37.314],[-0.705,97.016]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0,0,0,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[1882.075,155.234],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"s","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":56,"op":378,"st":-53,"ct":1,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"Logo - b 2","parent":16,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0,"y":1},"o":{"x":0.001,"y":0},"t":54,"s":[1606.012,126.25,0],"to":[0,0,0],"ti":[0,0,0]},{"t":70,"s":[1659.274,126.25,0]}],"ix":2,"l":2},"a":{"a":0,"k":[1658.953,126.25,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-24.43,0],[0,-42],[24.43,0],[0,42]],"o":[[24.43,0],[0,42],[-24.43,0],[0,-42]],"v":[[-1.92,-31.24],[36.47,28.81],[-1.92,89.554],[-39.61,28.81]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[0,0],[-22.69,0],[0,70.81],[41.19,0],[8.38,-12.843],[0,0],[0,0],[0,0],[0,0]],"o":[[6.98,14.578],[42.92,0],[0,-70.81],[-20.94,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[-37.17,99.967],[11,126],[86.03,28.81],[12.04,-68.033],[-36.82,-43.736],[-36.82,-126],[-86.03,-126],[-86.03,121.835],[-37.17,121.835]],"c":true},"ix":2},"nm":"Path 2","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0,0,0,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[1697.62,126.25],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"b","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":54,"op":380,"st":-54,"ct":1,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"Logo - a 2","parent":16,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0,"y":1},"o":{"x":0.001,"y":0},"t":52,"s":[1399.614,155.234,0],"to":[0,0,0],"ti":[0,0,0]},{"t":70,"s":[1487.316,155.234,0]}],"ix":2,"l":2},"a":{"a":0,"k":[1486.995,155.234,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-24.43,0],[0,-42],[24.43,0],[0,42]],"o":[[24.43,0],[0,42],[-24.43,0],[0,-42]],"v":[[1.395,-60.57],[39.095,-0.173],[1.395,60.571],[-36.995,-0.173]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[0,-70.81],[-44.67,0],[-7.33,14.578],[0,0],[0,0],[0,0],[0,0],[0,0],[20.94,0]],"o":[[0,68.727],[22.69,0],[0,0],[0,0],[0,0],[0,0],[0,0],[-7.67,-12.496],[-42.23,0]],"v":[[-86.555,-0.173],[-12.915,97.017],[37.695,70.984],[37.695,92.852],[86.555,92.852],[86.555,-92.851],[36.295,-92.851],[36.295,-72.719],[-11.515,-97.016]],"c":true},"ix":2},"nm":"Path 2","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0,0,0,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[1486.995,155.234],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"a","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":52,"op":382,"st":-55,"ct":1,"bm":0},{"ddd":0,"ind":5,"ty":4,"nm":"Logo - L 2","parent":13,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[441.984,124.168,0],"ix":2,"l":2},"a":{"a":0,"k":[1290.698,124.168,0],"ix":1,"l":2},"s":{"a":1,"k":[{"i":{"x":[0,0,0],"y":[1,1,1]},"o":{"x":[0.001,0.001,0.001],"y":[0,0,0]},"t":54,"s":[0,100,100]},{"t":70,"s":[100,100,100]}],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[-74.865,-123.918],[-22.855,-123.918],[-22.855,82.612],[74.865,82.612],[74.865,123.918],[-74.865,123.918]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0,0,0,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[1313.365,124.168],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"L","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":54,"op":382,"st":-58,"ct":1,"bm":0},{"ddd":0,"ind":6,"ty":4,"nm":"Logo - n 2","parent":16,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0,"y":1},"o":{"x":0.001,"y":0},"t":50,"s":[1090.014,153.151,0],"to":[0,0,0],"ti":[0,0,0]},{"t":70,"s":[1116.681,153.151,0]}],"ix":2,"l":2},"a":{"a":0,"k":[1116.36,153.151,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[-21.64,0],[0,-23.951],[0,0],[0,0],[0,0],[35.6,0],[8.72,-15.967],[0,0],[0,0],[0,0],[0,0]],"o":[[0,-29.157],[17.8,0],[0,0],[0,0],[0,0],[0,-43.041],[-24.08,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[-31.41,-14.405],[4.19,-59.529],[32.11,-24.471],[32.11,94.934],[81.32,94.934],[81.32,-32.108],[21.29,-94.934],[-31.41,-66.818],[-31.41,-90.769],[-81.32,-90.769],[-81.32,94.934],[-31.41,94.934]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0,0,0,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[1116.36,153.151],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"n","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":50,"op":384,"st":-59,"ct":1,"bm":0},{"ddd":0,"ind":7,"ty":4,"nm":"Logo - e 3","parent":16,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0,"y":1},"o":{"x":0.001,"y":0},"t":48,"s":[894.398,155.234,0],"to":[0,0,0],"ti":[0,0,0]},{"t":70,"s":[921.065,155.234,0]}],"ix":2,"l":2},"a":{"a":0,"k":[920.744,155.234,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[20.592,0],[3.491,-33.67]],"o":[[-2.443,-34.017],[-20.591,0],[0,0]],"v":[[36.12,-20.653],[1.219,-65.777],[-35.776,-20.653]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[0,67.686],[-52.7,0],[0,-68.727],[0,0],[0,0],[-23.383,0],[-2.094,18.744],[0,0],[43.975,0]],"o":[[0,-67.686],[52.7,0],[0,0],[0,0],[1.745,40.264],[18.498,0],[0,0],[-3.139,40.959],[-55.841,0]],"v":[[-84.636,-0.174],[1.917,-97.016],[84.636,0.52],[84.636,11.628],[-36.125,11.628],[1.219,65.429],[33.328,35.925],[82.536,35.925],[1.219,97.016]],"c":true},"ix":2},"nm":"Path 2","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"mm","mm":1,"nm":"Merge Paths 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"fl","c":{"a":0,"k":[0,0,0,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[920.744,155.234],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"e","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":48,"op":386,"st":-60,"ct":1,"bm":0},{"ddd":0,"ind":8,"ty":4,"nm":"Logo - v 2","parent":16,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0,"y":1},"o":{"x":0.001,"y":0},"t":46,"s":[712.563,155.234,0],"to":[0,0,0],"ti":[0,0,0]},{"t":70,"s":[739.23,155.234,0]}],"ix":2,"l":2},"a":{"a":0,"k":[738.909,155.234,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[-37.518,-92.852],[-87.775,-92.852],[-27.048,92.852],[27.048,92.852],[87.775,-92.852],[37.518,-92.852],[-0.509,47.033]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0,0,0,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[738.909,155.234],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"v","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":46,"op":388,"st":-61,"ct":1,"bm":0},{"ddd":0,"ind":9,"ty":4,"nm":"Logo - e 2","parent":16,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0,"y":1},"o":{"x":0.001,"y":0},"t":44,"s":[529.683,155.234,0],"to":[0,0,0],"ti":[0,0,0]},{"t":70,"s":[556.35,155.234,0]}],"ix":2,"l":2},"a":{"a":0,"k":[556.029,155.234,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[20.592,0],[3.49,-33.67]],"o":[[-2.443,-34.017],[-20.591,0],[0,0]],"v":[[36.123,-20.653],[1.222,-65.777],[-35.773,-20.653]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[0,67.686],[-52.7,0],[0,-68.727],[0,0],[0,0],[-23.383,0],[-2.094,18.744],[0,0],[43.975,0]],"o":[[0,-67.686],[52.7,0],[0,0],[0,0],[1.745,40.264],[18.497,0],[0,0],[-3.141,40.959],[-55.841,0]],"v":[[-84.634,-0.174],[1.92,-97.016],[84.635,0.52],[84.635,11.628],[-36.122,11.628],[1.222,65.429],[33.331,35.925],[82.541,35.925],[1.222,97.016]],"c":true},"ix":2},"nm":"Path 2","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"mm","mm":1,"nm":"Merge Paths 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"fl","c":{"a":0,"k":[0,0,0,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[556.029,155.234],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"e","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":44,"op":390,"st":-62,"ct":1,"bm":0},{"ddd":0,"ind":10,"ty":4,"nm":"Logo - l 7","parent":16,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0,"y":1},"o":{"x":0.001,"y":0},"t":42,"s":[357.08,124.168,0],"to":[0,0,0],"ti":[0,0,0]},{"t":70,"s":[417.445,124.168,0]}],"ix":2,"l":2},"a":{"a":0,"k":[417.125,124.168,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-24.605,123.918],[24.604,123.918],[24.604,-123.918],[-24.605,-123.918]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0,0,0,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[417.125,124.168],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"l","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":42,"op":390,"st":-74,"ct":1,"bm":0},{"ddd":0,"ind":11,"ty":4,"nm":"Logo - E 2","parent":16,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[257.925,124.168,0],"ix":2,"l":2},"a":{"a":0,"k":[257.604,124.168,0],"ix":1,"l":2},"s":{"a":1,"k":[{"i":{"x":[0,0,0],"y":[1,1,1]},"o":{"x":[0.001,0.001,0.001],"y":[0,0,0]},"t":40,"s":[0,100,100]},{"t":70,"s":[100,100,100]}],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[-76.956,-123.918],[-76.956,123.918],[76.956,123.918],[76.956,82.612],[-24.954,82.612],[-24.954,17.702],[69.976,17.702],[69.976,-23.604],[-24.954,-23.604],[-24.954,-82.613],[76.956,-82.613],[76.956,-123.918]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0,0,0,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[283.811,124.168],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"E","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":40,"op":390,"st":-63,"ct":1,"bm":0},{"ddd":0,"ind":12,"ty":4,"nm":"Logo - l 6","parent":16,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[232.015,124.168,0],"ix":2,"l":2},"a":{"a":0,"k":[417.125,124.168,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-24.605,123.918],[24.604,123.918],[24.604,-123.918],[-24.605,-123.918]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0,0,0,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[417.125,124.168],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"l","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":40,"op":390,"st":-77,"ct":1,"bm":0},{"ddd":0,"ind":13,"ty":4,"nm":"Logo - l 8","parent":16,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.294,"y":1},"o":{"x":0.071,"y":0.089},"t":52,"s":[1244.065,124.929,0],"to":[0,0,0],"ti":[0,0,0]},{"t":70,"s":[1265.571,124.168,0]}],"ix":2,"l":2},"a":{"a":0,"k":[417.125,124.168,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-27.144,123.918],[24.604,123.918],[24.604,-123.918],[-27.144,-123.918]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0,0,0,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[417.125,124.168],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"l","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":52,"op":391,"st":-70,"ct":1,"bm":0},{"ddd":0,"ind":14,"ty":4,"nm":"Logo - l 9","parent":16,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[129.557,124.168,0],"ix":2,"l":2},"a":{"a":0,"k":[417.125,124.168,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-24.605,123.918],[24.604,123.918],[24.604,-123.918],[-24.605,-123.918]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0,0,0,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[417.125,124.168],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"l","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":20,"op":274,"st":-38,"ct":1,"bm":0},{"ddd":0,"ind":15,"ty":4,"nm":"Logo 7","parent":16,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[26.251,124.168,0],"ix":2,"l":2},"a":{"a":0,"k":[26.251,124.168,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[0.25,248.085],[52.252,248.085],[52.252,0.25],[0.25,0.25]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0,0,0,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false}],"ip":20,"op":420,"st":20,"ct":1,"bm":0},{"ddd":0,"ind":16,"ty":3,"nm":"Logo 10","sr":1,"ks":{"o":{"a":0,"k":25,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[78,122.438,0],"ix":2,"l":2},"a":{"a":0,"k":[77.904,124.168,0],"ix":1,"l":2},"s":{"a":1,"k":[{"i":{"x":[0,0,0],"y":[1,1,1]},"o":{"x":[0.001,0.001,0.001],"y":[0,0,0]},"t":20,"s":[100,100,100]},{"t":60,"s":[75,75,100]}],"ix":6,"l":2}},"ao":0,"ip":20,"op":420,"st":20,"ct":1,"bm":0}],"markers":[]}');let c=e=>{let{isOpen:t,className:i,size:s="16px"}=e,c=(0,l.useRef)(null);return(0,l.useEffect)(()=>{var e,i;t?null===(e=c.current)||void 0===e||e.goToAndStop(30,!0):null===(i=c.current)||void 0===i||i.goToAndStop(0)},[]),(0,l.useEffect)(()=>{var e,i,a;t?null===(i=c.current)||void 0===i||i.setSpeed(1.5):null===(a=c.current)||void 0===a||a.setSpeed(-3),null===(e=c.current)||void 0===e||e.play()},[t]),(0,a.jsx)("div",{className:(0,r.cn)("flex items-center dark:invert",i,{"h-[16px] w-[97px] [&_svg]:!h-[16px] lg:[&_svg]:!h-[16px]":"16px"===s,"h-[18px] w-[109.125px] [&_svg]:!h-[18px] lg:[&_svg]:!h-[18px]":"18px"===s}),children:(0,a.jsx)(n(),{lottieRef:c,animationData:o,loop:!1,autoplay:!1})})}},88887:function(e,t,i){"use strict";i.d(t,{k5:function(){return k},TP:function(){return w},dt:function(){return N},vo:function(){return C}});var a=i(68088),s=i(16714),n=i(6991),l=i(46887),r=i(32507),o=i(9506),c=i(7114),d=i(1851),u=i(60358),h=e=>{let{className:t=""}=e;return(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 30 14",className:"fill-current ".concat(t),xmlSpace:"preserve",children:[(0,a.jsx)("style",{children:".st0{fill-rule:evenodd;clip-rule:evenodd;fill:#FFFFFF;}\n        .st1{fill-rule:evenodd;clip-rule:evenodd;fill:#000000;}\n        .st2{fill:#FFFFFF;}\n        .st3{fill:#000000;}"}),(0,a.jsxs)("g",{children:[(0,a.jsx)("g",{id:"final---dec.11-2020_1_",children:(0,a.jsx)("g",{id:"_x30_208-our-toggle_2_",transform:"translate(-1275.000000, -200.000000)",children:(0,a.jsx)("g",{id:"Final-Copy-2_2_",transform:"translate(1275.000000, 200.000000)",children:(0,a.jsx)("path",{className:"st0",d:"M7.4,12.8h6.8l3.1-11.6H7.4C4.2,1.2,1.6,3.8,1.6,7S4.2,12.8,7.4,12.8z"})})})}),(0,a.jsx)("g",{id:"final---dec.11-2020",children:(0,a.jsx)("g",{id:"_x30_208-our-toggle",transform:"translate(-1275.000000, -200.000000)",children:(0,a.jsxs)("g",{id:"Final-Copy-2",transform:"translate(1275.000000, 200.000000)",children:[(0,a.jsx)("path",{className:"st1",d:"M22.6,0H7.4c-3.9,0-7,3.1-7,7s3.1,7,7,7h15.2c3.9,0,7-3.1,7-7S26.4,0,22.6,0z M1.6,7c0-3.2,2.6-5.8,5.8-5.8 h9.9l-3.1,11.6H7.4C4.2,12.8,1.6,10.2,1.6,7z"}),(0,a.jsx)("path",{className:"st2",d:"M24.6,4c0.2,0.2,0.2,0.6,0,0.8l0,0L22.5,7l2.2,2.2c0.2,0.2,0.2,0.6,0,0.8c-0.2,0.2-0.6,0.2-0.8,0 l0,0l-2.2-2.2L19.5,10c-0.2,0.2-0.6,0.2-0.8,0c-0.2-0.2-0.2-0.6,0-0.8l0,0L20.8,7l-2.2-2.2c-0.2-0.2-0.2-0.6,0-0.8 c0.2-0.2,0.6-0.2,0.8,0l0,0l2.2,2.2L23.8,4C24,3.8,24.4,3.8,24.6,4z"}),(0,a.jsx)("path",{className:"st3",d:"M12.7,4.1c0.2,0.2,0.3,0.5,0.1,0.7l-4,4c-0.2,0.2-0.5,0.3-0.7,0.1s-0.3-0.5-0.1-0.7l4-4C12.2,3.9,12.5,3.9,12.7,4.1z"})]})})})]})]})},m=i(99348),p=i(52888),v=i(92794),x=i(21113),g=i(53301),f=i(77095),b=i(23451),y=i(55205),j=i(22021);let _=(0,x.Z)("file:///app/src/components/NavigationLinks.tsx"),w=[{name:"Guides",href:u.ZP.docs,external:!0,isHomePage:!1},{name:"API Reference",href:u.ZP.apiReference,external:!0,isHomePage:!1},{name:"Changelog",href:u.ZP.changelog,external:!1,isHomePage:!1}],k=[{name:"Help Center",href:u.ZP.helpCenter,external:!0,isHomePage:!1},{name:"Community",href:u.ZP.communityInvite,external:!0,isHomePage:!1},{name:"Enterprise",href:u.ZP.enterprise,external:!1,isHomePage:!1},{name:"Voice Actors",href:"https://form.typeform.com/to/dvOqHY8w?typeform-source=localhost",external:!1,isHomePage:!1},{name:"Grants for Startups",href:u.ZP.grants,external:!1,isHomePage:!1},{name:"Voice Data Partnerships",href:u.ZP.voiceDataPartnerships,external:!1,isHomePage:!1},{name:"Partnerships",href:u.ZP.partnerships,external:!0,isHomePage:!1},{name:"Affiliate Program",href:u.ZP.affiliates,external:!1,isHomePage:!1},{name:"Join our Team",href:u.ZP.careers,external:!1,isHomePage:!1}],N=[{name:"Audio Native",href:u.VP.audioNative,external:!1,isHomePage:!1,patterns:["/app/audio-native/:other*"]},{name:"Voiceover Studio",href:u.VP.voiceoverStudio,external:!1,isHomePage:!1,patterns:["/app/voiceover-studio/:other*"]},{name:"AI Speech Classifier",href:u.VP.aiClassifier,external:!1,isHomePage:!1,patterns:["/app/ai-classifier/:other*"]},{name:"Soundboard",href:"".concat((0,m.d)().redirectUrl,"/sound-effects/soundboard"),external:!0,isHomePage:!1,patterns:["/sound-effects/soundboard"]}],C=()=>{var e;let{i18n:t}=(0,n.mV)(),i=(0,r.dl)("developer_portal"),x=(0,r.dl)("pronunciations-dictionary-editor"),[w,k]=(0,o.useState)("local"===(0,m.d)().envType),[N]=(0,p.$)(d.workspaceData),[C]=(0,p.$)(d.userData),[S]=(0,p.$)(d.canAccessWorkspaceSettings),[E]=(0,p.$)(d.isWorkspaceAdmin),[P,V]=(0,p.$)(d.dialogOpen);return(0,o.useEffect)(()=>{(0,v.Kv)().then(e=>{k(e)}).catch(()=>_.error("unable to check privacy state"))},[v.Kv,k]),[{type:"link",name:t.t("Settings"),href:u.VP.settings,external:!1},...i?[]:[{type:"link",name:t.t("API Keys"),href:u.VP.settingsApiKeys,external:!1},{type:"link",name:t.t("Webhooks"),href:()=>S?u.VP.workspaceSettingsWebhooks:u.VP.settingsWebhooks,external:!1}],...S?[{type:"link",name:t.t("Workspace settings"),href:u.VP.workspaceSettings,external:!1}]:[],...E?[{type:"link",name:t.t("Subscription"),href:u.VP.subscription,external:!1}]:[],...x?[{type:"button",name:t.t("Pronunciation dictionaries"),onClick:()=>{V("pronunciationDictionaries")}}]:[],{type:"group",name:t.t("Theme"),items:[{type:"button",name:t.t("Light"),onClick:()=>{j.themeManager.set("light")}},{type:"button",name:t.t("Dark"),onClick:()=>{j.themeManager.set("dark")}}]},{type:"separator"},...(0,m.d)().isolatedEnv.isolated||(null==N?void 0:N.is_using_consolidated_billing())?[]:[{type:"link",name:t.t("Payouts"),href:u.VP.payouts,external:!1}],...(0,f.k4)(null==N?void 0:N.subscription.tier)||(null==C?void 0:C.referral_link_code)?[]:[{type:"button",name:t.t("Become an affiliate"),onClick:()=>V("referAFriend")}],...!(0,f.k4)(null==N?void 0:N.subscription.tier)&&(null==C?void 0:C.referral_link_code)?[{type:"button",name:t.t("Affiliate program"),onClick:()=>V("referAFriend")}]:[],...i?[]:[{type:"link",name:t.t("Usage analytics"),href:u.VP.usage,external:!1}],{type:"separator"},{type:"group",name:t.t("Docs and resources"),items:[{type:"link",name:t.t("Documentation"),href:u.ZP.apiReference,external:!0,iconAfter:(0,a.jsx)(l.Z,{})},{type:"link",name:t.t("Changelog"),href:u.ZP.changelog,external:!0,iconAfter:(0,a.jsx)(l.Z,{})},{type:"link",name:t.t("Help center"),href:u.ZP.helpCenter,external:!0,iconAfter:(0,a.jsx)(l.Z,{})},{type:"link",name:t.t("Affiliate program"),href:u.ZP.affiliates,external:!0,iconAfter:(0,a.jsx)(l.Z,{})},{type:"link",name:t.t("AI speech classifier"),href:u.ZP.aiSpeechClassifier,external:!0,iconAfter:(0,a.jsx)(l.Z,{})}]},{type:"group",name:t.t("Terms and privacy"),items:[{type:"link",name:t.t("Terms"),href:u.ZP.termsofuse,external:!0,iconAfter:(0,a.jsx)(l.Z,{})},{type:"link",name:t.t("Privacy policy"),href:u.ZP.privacyprivacy,external:!0,iconAfter:(0,a.jsx)(l.Z,{})},...w?[{type:"button",name:t.t("Your Privacy Choices"),onClick:v.TP,iconAfter:(0,a.jsx)(h,{className:"h-6 w-6 text-subtle"})}]:[],...(0,f.k4)(null==N?void 0:N.subscription.tier)?[]:[{type:"button",name:t.t("Data use"),onClick:b.s,iconAfter:(0,a.jsx)(h,{className:"h-6 w-6 text-subtle"})}]]},{type:"separator"},..."local"===(0,m.d)().envType?[{type:"link",name:t.t("Firestore user"),href:()=>"http://127.0.0.1:4002/firestore/default/data/user/".concat(null==C?void 0:C.user_id),external:!0,iconAfter:(0,a.jsx)(l.Z,{})},{type:"link",name:t.t("Firestore workspace"),href:()=>"http://127.0.0.1:4002/firestore/default/data/workspace/".concat(null==C?void 0:C.workspace_id),external:!0,iconAfter:(0,a.jsx)(l.Z,{})},{type:"link",name:t.t("Stripe customer"),href:()=>{var e,t;return"https://dashboard.stripe.com/test/customers/".concat(null==N?void 0:null===(t=N.stripe)||void 0===t?void 0:null===(e=t.customer)||void 0===e?void 0:e.id)},external:!0,iconAfter:(0,a.jsx)(l.Z,{})}]:[],...(0,m.d)().isolatedEnv.isolated?[{type:"tooltip",name:"".concat((0,m.d)().isolatedEnv.short_display_name,"  ").concat(t.t("Residency")),hoverText:t._(s.ag._({id:"tI3h+b",values:{0:(0,m.d)().isolatedEnv.long_display_name}})),iconAfter:(0,a.jsx)(c.Z,{countryCode:null!==(e=(0,m.d)().isolatedEnv.flag_code)&&void 0!==e?e:"",svg:!0,className:"rounded-full border border-solid border-gray-200 object-cover text-xl",alt:"".concat((0,m.d)().isolatedEnv.short_display_name," flag")})}]:[],{type:"button",name:t.t("Sign out"),onClick:()=>{(0,g.M)()},iconBefore:(0,a.jsx)(y.Hl,{className:"w-4"})}]}},27473:function(e,t,i){"use strict";i.d(t,{T:function(){return P},H:function(){return E}});var a=i(68088),s=i(4111),n=i(6991),l=i(14284),r=i(81999),o=i(9506),c=i(82374),d=i(22061),u=i(47147),h=i(40534),m=i(73862),p=i(4735),v=i(60189);let x=e=>{let t=(0,o.useRef)(null),[i,s]=(0,o.useState)(!0);return(0,o.useEffect)(()=>{if(t.current){if(t.current.complete){s(!1);return}return t.current.onload=()=>s(!1),()=>{t.current&&(t.current.onload=null)}}},[]),(0,a.jsx)("img",{ref:t,"data-loading":i||void 0,...e})},g=e=>{let{children:t}=e,i=t.split(" ");return(0,a.jsxs)(a.Fragment,{children:[i.slice(0,-1).join(" ")," ",(0,a.jsxs)("span",{className:"whitespace-nowrap",children:[i[i.length-1],(0,a.jsx)(d.Z,{className:"inline -mt-0.5 ml-1.5 w-3 h-3 transition duration-200 opacity-0 -translate-x-1 group-focus:opacity-100 group-focus:translate-x-0 group-hover:opacity-100 group-hover:translate-x-0",strokeWidth:"2.5"})]})]})},f=e=>{let{notification:t,size:i,highlight:s,onClick:n}=e,l=(0,a.jsx)(a.Fragment,{children:t.title});if(t.linkTo){let e=!!t.linkTo.match(/^https?:/),i=e?"a":m.default;l=(0,a.jsxs)(i,{className:"rounded-md outline-foreground p-1 -m-1 group",href:t.linkTo,target:e?"_blank":void 0,rel:e?"noopener noreferrer":void 0,onClick:n,children:[(0,a.jsx)("span",{className:"absolute inset-0 z-10"}),(0,a.jsx)(g,{children:t.title})]})}return t.onClick&&(l=(0,a.jsxs)("button",{className:"rounded-md outline-foreground p-1 -m-1 group text-left",onClick:()=>{var e;n(),null===(e=t.onClick)||void 0===e||e.call(t)},children:[(0,a.jsx)("span",{className:"absolute inset-0 z-10"}),(0,a.jsx)(g,{children:t.title})]})),(0,a.jsx)("div",{className:"flex p-1",children:(0,a.jsxs)(h.E.li,{className:(0,v.cn)("relative p-4 transition-colors duration-200 group rounded-lg",{"hover:!bg-gray-alpha-100 cursor-pointer":t.linkTo||t.onClick}),initial:{backgroundColor:s?"#FF990012":void 0},animate:{backgroundColor:s?"transparent":void 0},transition:{delay:1,duration:.3},children:[(0,a.jsxs)("div",{className:(0,v.cn)({"hstack items-start gap-3":"md"===i,"stack gap-4":"lg"===i}),children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-gray-alpha-950 font-bold text-sm/normal",children:l}),(0,a.jsx)("p",{className:"mt-2 text-gray-alpha-500 text-sm",children:t.description})]}),t.largeImage&&t.smallImage&&(0,a.jsx)(x,{className:(0,v.cn)("object-cover shrink-0 data-[loading]:bg-gray-alpha-100 data-[loading]:animate-pulse",{"w-[120px] aspect-[4/3] rounded-xl":"md"===i,"w-full aspect-2 rounded-md":"lg"===i}),src:"lg"===i?t.largeImage.src:t.smallImage.src,alt:"lg"===i?t.largeImage.alt:t.smallImage.alt}),"lg"===i&&(null==t?void 0:t.cta)?(0,a.jsx)(p.Button,{variant:"primary",className:"rounded-lg group-hover:ring-gray-alpha-100 group-hover:ring-2",tabIndex:-1,children:null==t?void 0:t.cta}):null]}),(0,a.jsx)("p",{className:(0,v.cn)("text-xs/5 text-gray-alpha-400","md"===i?"mt-1":"mt-3"),children:(0,u.Z)(new Date(t.timestamp),new Date,{addSuffix:!0})})]})})};var b=i(64755),y=i(11521),j=i(96162),_=i(63415),w=i(85753),k=i(60493),N=i(55205),C=i(35767);let S=()=>{let[e,t]=(0,c._)("notifications_read_id",null);return(0,o.useEffect)(()=>{let i="xi:notifications_read_id",a=window.localStorage.getItem(i);!e&&a&&(t(JSON.parse(a)),window.localStorage.removeItem(i)),"string"==typeof e&&t([e])},[]),[e,i=>{t([...e||[],i.id])}]},E=(0,k.t)(!1),P=(0,r.Pi)(e=>{let{trigger:t,side:i,disableAutoOpen:r,onOpenChange:c}=e,d=(0,o.useRef)("user"),u=(0,o.useRef)(null),{data:h,isLoading:m}=(0,C.z)(),p=null==h?void 0:h[0],[v,x]=S(),g=p&&!(null==v?void 0:v.includes(p.id)),k=e=>{(0,_.eN)(w.B_.notifications_popover_toggle,{mode:e?"open":"close",openSource:d.current}),!e&&g&&x(p),E.value=e,null==c||c(e,d.current)};return(0,o.useEffect)(()=>{var e,t,i,a;if(!j.EA.value||!p)return;let s=null!==(i=null===(t=u.current)||void 0===t?void 0:null===(e=t.checkVisibility)||void 0===e?void 0:e.call(t))&&void 0!==i&&i;if(3>(0,l.default)(Date.now(),new Date(null!==(a=j.EA.value.metadata.creationTime)&&void 0!==a?a:0))||!g||!s||r||!p.isImportant)return;let n=window.setTimeout(()=>{d.current="auto",k(!0)},5e3);return()=>window.clearTimeout(n)},[j.EA.value,p,g,r]),(0,a.jsxs)(b.J2,{open:E.value,onOpenChange:e=>k(e),children:[(0,a.jsx)(b.xo,{ref:u,onClick:()=>{d.current="user"},asChild:!0,children:(0,a.jsx)(t,{isOpen:E.value,icon:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(N.yz,{}),g?(0,a.jsx)("span",{className:"w-2 h-2 absolute -top-0.5 right-px border border-background bg-[#007AFF] rounded-full"}):null]})})}),(0,a.jsx)(b.i9,{children:(0,a.jsx)(b.yk,{side:i,sideOffset:20,className:"p-0 w-auto",onCloseAutoFocus:e=>e.preventDefault(),children:m?(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2 px-12 py-6",children:[(0,a.jsx)(s.$,{size:"sm"}),(0,a.jsx)(y.x,{size:"sm",className:"text-center",children:(0,a.jsx)(n.cC,{id:"yQE2r9"})})]}):(null==h?void 0:h.length)?(0,a.jsx)("ul",{className:"w-11u sm:w-14u divide-y divide-gray-alpha-200 max-h-19u overflow-y-auto",children:h.map((e,t)=>{let i=0===t?"lg":"md";return(0,a.jsx)(f,{notification:e,size:i,highlight:g&&0===t,onClick:()=>{(0,_.eN)(w.B_.notifications_notification_select,{notification_id:e.id,notification_title:e.title,size:"lg"===i?"large":"small",openSource:d.current}),k(!1)}},e.id)})}):(0,a.jsx)(y.x,{size:"sm",className:"text-center px-12 py-6",children:(0,a.jsx)(n.cC,{id:"Oz7AFY"})})})})]})})},76528:function(e,t,i){"use strict";i.d(t,{R:function(){return u},k:function(){return d}});var a=i(68088),s=i(1756),n=i(6991),l=i(9506),r=i(54995),o=i(48246),c=i(3030);let d=(0,l.forwardRef)((e,t)=>{let{isOpen:i,icon:s,...l}=e,{i18n:r}=(0,n.mV)();return(0,a.jsx)("button",{className:"rounded-lg",...l,ref:t,children:(0,a.jsx)(o.oo,{name:r.t("Notifications"),icon:s,hasActiveIndicator:i})})}),u=(0,l.forwardRef)((e,t)=>{let{isOpen:i,icon:l,...o}=e,{i18n:d}=(0,n.mV)(),u=(0,r.bd)("openNotifications"),h=(0,s.q)(t,u);return(0,a.jsx)(c.h,{variant:"outline",size:"lg","aria-label":d.t("User Profile"),...o,ref:h,children:l})})},35767:function(e,t,i){"use strict";i.d(t,{z:function(){return g}});var a=i(97918),s=i(14284),n=i(32507),l=i(74487),r=i(99348);let o=async e=>{let t=["all",e.subscription.tier].join(","),i=["all",e.onboarding.role,e.onboarding.subrole].filter(Boolean).join(","),a=(0,l.stringify)({limit:10,sort:"-timestamp",where:{and:[{tiers:{in:t}},{timestamp:{less_than_equal:new Date().toISOString()}},{onboarding_personas:{in:i}}]}},{addQueryPrefix:!0});try{let e=await fetch("".concat((0,r.d)().payloadCmsUrl,"/notifications").concat(a),{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error("Error occurred while fetching notifications, status_code ".concat(e.status));return(await e.json()).docs.map((e,t)=>{var i,a;return{id:e.slug,title:e.title,description:e.description,timestamp:e.timestamp,largeImage:{src:e.largeImage.url,alt:null!==(i=e.largeImage.alt)&&void 0!==i?i:""},smallImage:{src:e.smallImage.url,alt:null!==(a=e.smallImage.alt)&&void 0!==a?a:""},linkTo:e.linkTo,isImportant:e.isImportant,featureFlagControlled:e.featureFlagControlled}})}catch(e){throw e}};var c=i(1851),d=i(16714),u=i(9506),h=i(82374);let m={display_pql_notification:e=>{let{userFirstName:t}=e;return{id:"__pql_upsell__",title:t?d.ag._(d.ag._({id:"ev6HfU",values:{userFirstName:t}})):d.ag.t("Unlock more with our Enterprise plan"),description:d.ag.t("You're approaching power user status. Consider upgrading to Enterprise to unlock the following features and much more."),isImportant:!0,linkTo:"https://calendly.com/d/cppz-wsy-3hs/elevenlabs-introductory-call",largeImage:{src:"/app_assets/_next/static/media/pql-large.cb6774d2.png",alt:d.ag.t("Unlock more with our Enterprise plan")},smallImage:{src:"/app_assets/_next/static/media/pql-small.6d3babcd.png",alt:d.ag.t("Unlock more with our Enterprise plan")},cta:d.ag.t("Book a call")}},affiliates_promo_notification:()=>({id:"__affiliates_promo__",title:d.ag.t("Become an affiliate, earn with every referral"),description:d.ag.t("For every new paid subscriber, you'll earn 22% of all payments for the first 12 months, with no earning cap!"),isImportant:!0,onClick:()=>{c.dialogOpen.value="referAFriend"},largeImage:{src:"/app_assets/_next/static/media/affiliates-large.07650575.png",alt:d.ag.t("Become an affiliate, earn with every referral")},smallImage:{src:"/app_assets/_next/static/media/affiliates-small.3f37269a.png",alt:d.ag.t("Become an affiliate, earn with every referral")}})},p=(e,t,i)=>{let[a,s]=(0,h._)("custom_notification_display_time--"+e,null),[n,l]=(0,u.useState)(!1);return((0,u.useEffect)(()=>{t&&!a&&s(Date.now())},[t]),(0,u.useEffect)(()=>{setTimeout(()=>l(!0),3e3)},[]),a)?{isLoading:!1,notification:{...m[e]({userFirstName:i}),timestamp:new Date(a).toISOString()}}:void 0!==t||n?{isLoading:!1,notification:null}:{isLoading:!0,notification:null}};var v=i(96162);function x(e){return null!=e}let g=()=>{var e,t,i,l,r,d,u,h,m,g,f;let b=null===(e=c.userData.value)||void 0===e?void 0:e.first_name,y=null===(t=c.workspaceData.value)||void 0===t?void 0:t.subscription.tier,j=null===(l=c.userData.value)||void 0===l?void 0:null===(i=l.onboarding_survey)||void 0===i?void 0:i.role,_=null===(d=c.userData.value)||void 0===d?void 0:null===(r=d.onboarding_survey)||void 0===r?void 0:r.subrole,w=(0,n.ND)(),k=(null==w?void 0:w.filter(e=>e.startsWith("__notification__")).map(e=>e.replace("__notification__","")))||[],N=p("display_pql_notification",!!(0,n.dl)("display_pql_notification"),b),C=p("affiliates_promo_notification",!!(c.userData.value&&!c.userData.value.referral_link_code&&(0,s.default)(Date.now(),new Date((null===(u=v.EA.value)||void 0===u?void 0:u.metadata.creationTime)||Date.now()))>7&&((null===(h=c.workspaceData.value)||void 0===h?void 0:h.subscription.tier)==="creator"||(null===(m=c.workspaceData.value)||void 0===m?void 0:m.subscription.tier)==="pro"||(null===(g=c.workspaceData.value)||void 0===g?void 0:g.subscription.tier)==="growing_business"||(null===(f=c.workspaceData.value)||void 0===f?void 0:f.subscription.tier)==="scale_2024_08_10")&&.1>Math.random()),b),S=(0,a.useQuery)({queryKey:["notifications",y,j,_],queryFn:()=>y?o({subscription:{tier:y},onboarding:{role:j,subrole:_}}):[],enabled:void 0!==y,staleTime:6e5,refetchOnWindowFocus:!1});return{...S,isLoading:S.isLoading||N.isLoading||C.isLoading||void 0===w,data:[...S.data||[],N.notification,C.notification].filter(x).filter(e=>!e.featureFlagControlled||k.find(t=>t===e.id)).sort((e,t)=>new Date(t.timestamp).getTime()-new Date(e.timestamp).getTime())}}},31100:function(e,t,i){"use strict";i.d(t,{$N:function(){return k},ky:function(){return N}});var a=i(68088),s=i(6991),n=i(41236),l=i(64173),r=i(81999),o=i(9506),c=i(71780),d=i(1851),u=i(60358),h=i(17622),m=i(96162),p=i(63415),v=i(85753),x=i(86165),g=i(71037),f=i(79458),b=i(55205),y=i(26397);let j=e=>{let{step:t,isOpen:i,toggleOpen:l,itemNumber:r}=e,{i18n:o}=(0,s.mV)();return(0,a.jsxs)("div",{onClick:()=>l(t.title),className:"border rounded-lg p-3 flex gap-3 bg-background border border-gray-200 cursor-pointer",children:[t.is_completed?(0,a.jsx)(n.Z,{size:20,color:"#312B41"}):(0,a.jsx)(y.default,{color:"black",weight:"medium",noBaseClass:!0,className:"text-xs leading-4 border border-gray-200 rounded-full w-[20px] h-[20px] grid place-items-center inter",children:r}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("div",{className:"flex gap-3 items-center rounded-lg justify-between",children:(0,a.jsx)(y.default,{color:"black",weight:"bold",noBaseClass:!0,className:"text-base leading-6",variant:"h3",children:t.title})}),i&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(y.default,{color:"gray",weight:"light",noBaseClass:!0,className:"text-sm leading-5 mt-2",variant:"p",children:t.description}),(0,a.jsx)("div",{className:"flex gap-6 items-center mt-4",children:(0,a.jsx)(f.default,{disabled:t.is_completed,variant:"primary",size:"md",children:(0,a.jsx)(g.a,{href:t.landing_page,children:t.is_completed?o.t("Completed"):t.button_text})})})]})]})]})},_=e=>{var t;let{items:i,completedStepsCount:n,totalStepsCount:l}=e,r=(null===(t=i.find(e=>!e.is_completed))||void 0===t?void 0:t.title)||"",[c,d]=(0,o.useState)(r);(0,o.useEffect)(()=>{d(r)},[r]);let u=e=>{d(c===e?"":e)},h=n/l;return(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsxs)("div",{className:"border border-gray-200 rounded-lg p-3 mb-4",children:[(0,a.jsx)("div",{className:"flex justify-between",children:(0,a.jsx)(y.default,{color:"gray",weight:"medium",noBaseClass:!0,className:"text-sm mb-3",variant:"p",children:(0,a.jsx)(s.cC,{id:"4nFaxY",values:{completedStepsCount:n,totalStepsCount:l}})})}),(0,a.jsx)("div",{className:"w-full bg-gray-50 border border-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-foreground h-2 rounded-full",style:{width:"".concat(100*h,"%")}})})]}),(0,a.jsxs)("div",{className:"border border-gray-200 rounded-lg bg-gray-50 p-6",children:[(0,a.jsx)(y.default,{color:"black",weight:"bold",variant:"h6",children:(0,a.jsx)(s.cC,{id:"ZNeHTG"})}),(0,a.jsx)("div",{className:"flex flex-col gap-2 mt-4",children:i&&i.map((e,t)=>{let i=c===e.title;return(0,a.jsx)(j,{step:e,isOpen:i,toggleOpen:u,itemNumber:t+1},t)})})]})]})},w=()=>(0,a.jsxs)("div",{className:"justify-center mx-20 p-10",children:[(0,a.jsx)("div",{className:"flex justify-center mb-6",children:(0,a.jsx)(n.Z,{className:"h-14 w-14 text-green-600"})}),(0,a.jsx)(y.default,{variant:"h5",weight:"bold",color:"black",className:"text-center text-xl",children:(0,a.jsx)(s.cC,{id:"O88u8L"})}),(0,a.jsx)("div",{className:"mt-6 flex items-center justify-center text-center",children:(0,a.jsx)(y.default,{variant:"body2",classNames:"text-center",children:(0,a.jsx)(s.cC,{id:"M4fAhQ",components:{0:(0,a.jsx)("a",{href:"https://elevenlabs.io/docs/introduction",target:"_blank",className:"underline text-foreground hover:text-foreground justify-center",rel:"noopener"}),1:(0,a.jsx)("a",{href:"https://help.elevenlabs.io/hc/en-us",target:"_blank",className:"underline text-foreground hover:text-foreground",rel:"noopener"})}})})})]}),k=(0,r.Pi)(()=>{var e,t;let[i,s]=(0,o.useState)(!1),[n,l]=(0,o.useState)(0),[r,c]=(0,o.useState)(0);return((0,o.useEffect)(()=>{var e,t,i,a,n,r,o;null===d.userData.value||null===d.userData.value.onboarding_checklist||(null===(e=d.userData.value)||void 0===e?void 0:e.is_onboarding_checklist_completed)===!0||(null===(i=d.userData.value)||void 0===i?void 0:null===(t=i.onboarding_checklist)||void 0===t?void 0:t.hidden)===!0?s(!1):(s(!0),l(null===(n=d.userData.value)||void 0===n?void 0:null===(a=n.onboarding_checklist)||void 0===a?void 0:a.items.filter(e=>e.is_completed).length),c(null===(o=d.userData.value)||void 0===o?void 0:null===(r=o.onboarding_checklist)||void 0===r?void 0:r.items.length))},[d.userData.value,null===(e=d.userData.value)||void 0===e?void 0:e.onboarding_checklist,null===(t=d.userData.value)||void 0===t?void 0:t.is_onboarding_checklist_completed]),i)?(0,a.jsx)("div",{className:"bg-gray-500 border rounded-full flex items-center justify-center w-[1.5rem] h-[1.5rem]",children:(0,a.jsxs)(y.default,{color:"white",weight:"semiBold",noBaseClass:!0,className:"text-[9px]",children:[n,"/",r]})}):null}),N=(0,r.Pi)(()=>{var e,t,i,n;let[r,h]=(0,o.useState)(!1),[m,x]=(0,o.useState)(0),[f,j]=(0,o.useState)(0),[_,w]=(0,o.useState)(""),[k,N]=(0,o.useState)([]);(0,o.useEffect)(()=>{var e,t,i,a;w((null===(t=d.userData.value)||void 0===t?void 0:null===(e=t.onboarding_checklist)||void 0===e?void 0:e.checklist_id)||""),N((null===(a=d.userData.value)||void 0===a?void 0:null===(i=a.onboarding_checklist)||void 0===i?void 0:i.items)||[])},[null===(e=d.userData.value)||void 0===e?void 0:e.is_onboarding_checklist_completed,null===(t=d.userData.value)||void 0===t?void 0:t.onboarding_checklist]),(0,o.useEffect)(()=>{var e,t,i,a,s,n,l;null===d.userData.value||null===d.userData.value.onboarding_checklist||(null===(e=d.userData.value)||void 0===e?void 0:e.is_onboarding_checklist_completed)===!0||(null===(i=d.userData.value)||void 0===i?void 0:null===(t=i.onboarding_checklist)||void 0===t?void 0:t.hidden)===!0?h(!1):(h(!0),x(null===(s=d.userData.value)||void 0===s?void 0:null===(a=s.onboarding_checklist)||void 0===a?void 0:a.items.filter(e=>e.is_completed).length),j(null===(l=d.userData.value)||void 0===l?void 0:null===(n=l.onboarding_checklist)||void 0===n?void 0:n.items.length))},[d.userData.value,null===(i=d.userData.value)||void 0===i?void 0:i.onboarding_checklist,null===(n=d.userData.value)||void 0===n?void 0:n.is_onboarding_checklist_completed]);let C=async e=>{e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),await (0,c.VI)(),(0,p.eN)(v.B_.onboarding_checklist_hidden,{checklist_id:_,item_ids:k.map(e=>e.onboarding_checklist_item_id)})};return r?d.workspaceData.value&&(0,a.jsxs)("div",{className:"bg-foreground py-2.5 w-full px-3.5 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,a.jsx)(g.a,{href:u.VP.onboardingChecklist,children:(0,a.jsxs)("div",{className:"flex justify-start",children:[(0,a.jsx)(y.default,{color:"white",variant:"body2",className:"mb-0",children:(0,a.jsx)(s.cC,{id:"ZDIydz"})}),(0,a.jsx)(b.jh,{color:"white",size:"1rem",className:"ml-1"})]})}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)("button",{onClick:C,children:(0,a.jsx)(l.Z,{color:"white",className:"w-6 h-6"})})})]}),(0,a.jsx)(g.a,{href:u.VP.onboardingChecklist,children:(0,a.jsxs)("div",{children:[(0,a.jsx)(y.default,{color:"white",noBaseClass:!0,className:"text-xs",variant:"p",children:(0,a.jsx)(s.cC,{id:"sDyHE0",values:{completedStepsCount:m,totalStepsCount:f}})}),(0,a.jsx)(y.default,{color:"lightGray",className:"mt-1",variant:"body3",children:(0,a.jsx)(s.cC,{id:"ZDvQrr"})})]})})]}):null}),C=(0,r.Pi)(()=>{var e,t,i,n,l;let{i18n:r}=(0,s.mV)(),[c,u]=(0,o.useState)(0),[p,v]=(0,o.useState)(""),[g,f]=(0,o.useState)([]),[b,j]=(0,o.useState)({isCompleted:null===(e=d.userData.value)||void 0===e?void 0:e.is_onboarding_checklist_completed,checklist:null===(t=d.userData.value)||void 0===t?void 0:t.onboarding_checklist}),[k,N]=(0,o.useState)(!1),[C,S]=(0,o.useState)(!1);(0,o.useEffect)(()=>{var e,t;j({isCompleted:null===(e=d.userData.value)||void 0===e?void 0:e.is_onboarding_checklist_completed,checklist:null===(t=d.userData.value)||void 0===t?void 0:t.onboarding_checklist})},[null===(i=d.userData.value)||void 0===i?void 0:i.is_onboarding_checklist_completed,null===(n=d.userData.value)||void 0===n?void 0:n.onboarding_checklist]);let E=e=>null==e?void 0:e.map(e=>{let t=x.eL[e.onboarding_checklist_item_id];return{onboarding_checklist_item_id:e.onboarding_checklist_item_id,id:e.onboarding_checklist_item_id,title:null==t?void 0:t.title,description:null==t?void 0:t.description,button_text:null==t?void 0:t.button_text,landing_page:null==t?void 0:t.landing_page,is_completed:e.is_completed}}),P=async()=>{var e,t,i;if((null===(e=d.userData.value)||void 0===e?void 0:e.onboarding_checklist)!==null){let e=(null===(t=d.userData.value)||void 0===t?void 0:t.onboarding_checklist.checklist_id)||"",a=(null===(i=d.userData.value)||void 0===i?void 0:i.onboarding_checklist.items)||[];v(e),f(E(a)),u(null==a?void 0:a.filter(e=>e.is_completed).length)}};(0,o.useEffect)(()=>{b.isCompleted||null===b.checklist?b.isCompleted&&null!==b.checklist&&(P(),N(!0),C||S(!0)):P()},[b]);let V=null==g?void 0:g.length;return(0,a.jsx)(h.Vk,{title:r.t("Onboarding Checklist"),description:r.t("A guided tour of ElevenLabs"),requiredPermission:null,children:(0,a.jsxs)("div",{className:"p-6 pt-10 max-w-4xl mx-auto bg-background border border-gray-200 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-2 items-center justify-center",children:[(0,a.jsx)(y.default,{color:"black",weight:"bold",variant:"h5",children:(0,a.jsx)(s.cC,{id:"PQMJa6",values:{0:null===(l=m.EA.value)||void 0===l?void 0:l.displayName}})}),(0,a.jsx)(y.default,{color:"darkGray",weight:"normal",variant:"body1",children:(0,a.jsx)(s.cC,{id:"Lh4bp/"})})]}),(0,a.jsx)("div",{className:"mt-4",children:k?(0,a.jsx)(w,{}):(0,a.jsx)(_,{items:g,completedStepsCount:c,totalStepsCount:V})})]})})});t.ZP=C},81158:function(e,t,i){"use strict";i.d(t,{W:function(){return v},Y:function(){return g}});var a=i(68088),s=i(6496),n=i(5132),l=i(6991),r=i(40534),o=i(81999),c=i(73862),d=i(1851),u=i(60358),h=i(48246),m=i(74021),p=i(77095);let v=e=>(null==e?void 0:e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))||"",x=(0,o.Pi)(e=>{let{size:t="1.3rem",thickness:i="8px",withPercentage:l}=e;return d.workspaceData.value&&(()=>{let e=Math.round(100*Math.min(d.workspaceData.value.subscription.character_count/d.workspaceData.value.subscription.character_limit,1));return(0,a.jsx)(r.E.div,{initial:{opacity:0},animate:{opacity:1},children:(0,a.jsx)(s.D,{size:l?"2.2rem":t,value:e,thickness:i,color:"#030712",trackColor:"#d1d5db",capIsRound:!0,children:(0,a.jsx)(a.Fragment,{children:l?(0,a.jsxs)(n.i,{fontSize:"0.6rem",fontWeight:"bold",children:[e,"%"]}):null})})})})()}),g=(0,o.Pi)(()=>{var e,t;let{i18n:i}=(0,l.mV)(),s=(0,m.xx)(d.workspaceData.value);return d.workspaceData.value&&(0,a.jsx)(r.E.div,{initial:{opacity:0},animate:{opacity:1},children:(0,a.jsxs)("div",{className:"bg-gray-alpha-100 inter p-3 w-full rounded-lg text-xs stack gap-3.5",children:[(0,a.jsxs)("div",{className:"hstack justify-between text-gray-alpha-500",children:[(0,a.jsx)("div",{children:(0,a.jsx)(l.cC,{id:"fq82pL"})}),(0,a.jsx)("div",{children:!(0,p.k4)(null===(t=d.workspaceData.value)||void 0===t?void 0:null===(e=t.subscription)||void 0===e?void 0:e.tier)&&(0,a.jsx)(c.default,{href:u.VP.subscription,onClick:()=>{h.py.value=!1},className:"outline-foreground",children:(0,a.jsx)("span",{className:"text-gray-alpha-900 font-medium inter text-xs",children:(0,a.jsx)(l.cC,{id:"kwkhPe"})})})})]}),(0,a.jsxs)("div",{className:"font-medium hstack items-center gap-2.5",children:[(0,a.jsxs)("div",{className:"stack gap-0.5 flex-grow",children:[(0,a.jsxs)("div",{className:"inter hstack justify-between",children:[(0,a.jsx)("div",{children:(0,a.jsx)(l.cC,{id:"72c5Qo"})}),(0,a.jsx)("div",{className:"tabular-nums",children:v(d.workspaceData.value.subscription.character_limit)})]}),s?(0,a.jsxs)("div",{className:"inter hstack justify-between",children:[(0,a.jsx)("div",{children:"used"===s[0]?i.t("Used"):i.t("Remaining")}),(0,a.jsx)("div",{className:"tabular-nums",children:s[1]})]}):null]}),(0,a.jsx)("div",{children:(0,a.jsx)(x,{withPercentage:!0,thickness:"5px"})})]})]})})})},80396:function(e,t,i){"use strict";i.d(t,{Dw:function(){return S},Fi:function(){return P},Xm:function(){return N},rK:function(){return C}});var a=i(68088),s=i(6496),n=i(5132),l=i(6991),r=i(40534),o=i(46736),c=i(30395),d=i(81999),u=i(23431),h=i(1851),m=i(60358),p=i(4735),v=i(3030),x=i(11521),g=i(25933),f=i(60189),b=i(74021),y=i(77095),j=i(76628),_=i(71037),w=i(55205),k=i(81158);let N=(0,d.Pi)(e=>{var t,i;let{size:l="1.1rem",thickness:c="10px",className:d,showPercentage:u=!1,reversed:m=!1}=e,p=(0,y.yS)((null===(i=h.workspaceData.value)||void 0===i?void 0:null===(t=i.subscription)||void 0===t?void 0:t.status)||"active"),v=(0,b.Tl)(h.workspaceData.value)||0;return(0,a.jsx)(r.E.div,{initial:{opacity:0},animate:{opacity:1},className:"flex",children:(0,a.jsx)(s.D,{size:l,value:m?100-v:v,thickness:c,color:p?"orange.500":v<80?"black":"red.600",trackColor:p?"orange.500":v<80?"#d1d5db":"red.100",capIsRound:!0,className:(0,f.cn)(d,m&&"[transform:rotateY(180deg)]"),children:(0,a.jsx)(o.M,{children:u&&(0,a.jsx)(r.E.div,{initial:{opacity:0,zoom:.8},animate:{opacity:1,zoom:1},exit:{opacity:0,zoom:.8},transition:{duration:.1},children:(0,a.jsx)(n.i,{children:(0,a.jsx)("span",{children:(0,b.ms)(h.workspaceData.value)})})})},"percentage")})})}),C=(0,d.Pi)(e=>{let{onDismissedClicked:t}=e,{i18n:i}=(0,l.mV)(),s=(0,b.Tl)(h.workspaceData.value)||0,n=(0,u.useRouter)();return h.workspaceData.value?s>=80&&(0,a.jsx)(r.E.div,{initial:{opacity:0},animate:{opacity:1,transition:{delay:.05,duration:.3}},exit:{opacity:0,transition:{duration:.2,delay:0}},layout:!0,className:"mb-1 mt-0.5 px-3",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("div",{className:"bg-gray-alpha-50 border-gray-alpha-200 border inter p-3 pr-2 w-full rounded-xl hstack gap-2.5 items-center h-11 shrink-0 overflow-hidden",children:[(0,a.jsxs)("div",{className:"hstack items-center gap-2.5 shrink-0",children:[(0,a.jsx)("div",{className:"pt-[0.0625rem] pr-[0.0625rem]",children:(0,a.jsx)(w.nB,{size:"0.875rem"})}),(0,a.jsx)(x.x,{weight:"medium",size:"sm",truncate:!0,children:(0,a.jsx)(l.cC,{id:"fFMpIf"})})]}),(0,a.jsxs)("div",{className:"hstack gap-1 items-center justify-between grow",children:[(0,a.jsx)(p.Button,{variant:"outline",size:"2xs",className:"h-6 text-xs bg-background",onClick:()=>{n.push(m.VP.subscription)},children:(0,a.jsx)(l.cC,{id:"kwkhPe"})}),(0,a.jsx)(v.h,{"aria-label":i.t("Dismiss low credits warning"),variant:"ghost",size:"sm",onClick:()=>t(),className:"hover:bg-transparent w-[1.1rem]",children:(0,a.jsx)(c.Z,{})})]})]}),(0,a.jsx)("div",{className:"w-2.5 h-2.5 bg-slate-50 rotate-45 -bottom-[5px] left-[1.625rem] rounded-br-[3px] absolute z-20 border-slate-150 border-r border-b"})]})}):null}),S=(0,d.Pi)(()=>{var e,t,i,s,n,o,c;let{i18n:d}=(0,l.mV)(),v=(0,b.xx)(h.workspaceData.value),x=(0,u.useRouter)(),g=null!==(c=null===(t=h.workspaceData.value)||void 0===t?void 0:null===(e=t.subscription)||void 0===e?void 0:e.status)&&void 0!==c?c:"active",f=(null===(i=h.workspaceData.value)||void 0===i?void 0:i.subscription)!==void 0&&(0,y.i$)(h.workspaceData.value.subscription),w=null===(s=h.workspaceData.value)||void 0===s?void 0:s.is_using_consolidated_billing();return h.workspaceData.value&&(0,a.jsx)(r.E.div,{className:"p-1 border-b bg-gray-alpha-50 dark:bg-transparent",initial:{opacity:0},animate:{opacity:1},children:(0,a.jsxs)("div",{className:"bg-background dark:bg-gray-alpha-100 p-2.5 w-full text-sm stack gap-3.5 shadow-natural-xs rounded-lg",children:[(0,a.jsxs)("div",{className:"hstack justify-between text-gray-alpha-500",children:[(0,a.jsxs)("div",{className:"hstack items-center",children:[(0,a.jsx)("div",{children:(0,a.jsx)(N,{thickness:"10px",showPercentage:!1})}),(0,a.jsx)("div",{className:"text-foreground font-medium ml-1.5",children:(0,a.jsx)(l.cC,{id:"lDIOek"})})]}),(0,a.jsx)("div",{children:!(0,y.k4)(null===(o=h.workspaceData.value)||void 0===o?void 0:null===(n=o.subscription)||void 0===n?void 0:n.tier)&&(0,a.jsx)(p.Button,{variant:"primary",size:"2xs",className:"h-6 text-xs",onClick:()=>{x.push(m.VP.subscription)},children:(0,a.jsx)(l.cC,{id:"kwkhPe"})})})]}),w&&(0,a.jsx)(j.Z,{severity:"warning",children:(0,a.jsx)(l.cC,{id:"CwmphX"})}),f&&(0,a.jsxs)("div",{className:"text-subtle",children:[(0,y.hu)(g)?d.t("You have an incomplete or failed payment."):d.t("Your free tier access has been disabled. Please upgrade to a paid plan.")," ",h.isLoggedIn.value&&(0,a.jsx)(_.a,{href:m.VP.subscription,className:"link",children:(0,a.jsx)(l.cC,{id:"S1BeJw"})})]}),(0,a.jsx)("div",{className:"hstack text-xm items-center gap-2.5",children:(0,a.jsxs)("div",{className:"stack gap-0.5 flex-grow",children:[(0,a.jsxs)("div",{className:"hstack justify-between",children:[(0,a.jsx)("div",{className:"text-subtle",children:(0,a.jsx)(l.cC,{id:"72c5Qo"})}),(0,a.jsx)("div",{className:"tabular-nums font-medium",children:(0,k.W)(h.workspaceData.value.subscription.character_limit)})]}),v?(0,a.jsxs)("div",{className:"hstack justify-between",children:[(0,a.jsx)("div",{className:"text-subtle",children:"used"===v[0]?d.t("Used"):d.t("Remaining")}),(0,a.jsx)("div",{className:"tabular-nums font-medium",children:v[1]})]}):null]})})]})})}),E=(e,t)=>{let i=(0,b.Ve)(t);return i&&"usedOverLimit"!==i[0]?(0,k.W)(e)+" / "+(0,k.W)(i[1]):(0,k.W)(e)},P=e=>{let{characterCost:t,workspaceData:i,costExplanation:s}=e;return(0,a.jsx)(g.Tooltip,{label:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.cC,{id:"pBCGoJ",values:{0:(0,k.W)(t)}})," ",(0,b.fo)(i,s)]}),openDelay:300,gutter:20,children:(0,a.jsx)(x.x,{color:"subtle",size:"xs",className:"tabular-nums mx-3",children:E(t,i)})})}},97751:function(e,t,i){"use strict";i.d(t,{A:function(){return y}});var a=i(68088),s=i(4821),n=i(2923),l=i(16714),r=i(6991),o=i(81999),c=i(9506),d=i(79458),u=i(17024);let h=(0,i(60493).t)({isRecording:!1,normalizedLoudness:null,recordedAudioDurationSecs:null});class m{constructor({maxDurationSecs:e=null,onMaxDurationCb:t=null}){var i=this;for(let e of((0,u._)(this,"_mediaRecorder",void 0),(0,u._)(this,"_stream",void 0),(0,u._)(this,"_recordedChunks",void 0),(0,u._)(this,"onDataAvailable",void 0),(0,u._)(this,"onStop",void 0),(0,u._)(this,"onStart",void 0),(0,u._)(this,"options",void 0),(0,u._)(this,"_analyserBuffer",void 0),(0,u._)(this,"_analyser",void 0),(0,u._)(this,"_startedRecordingAtUnixMs",void 0),(0,u._)(this,"_loudnessEma",void 0),(0,u._)(this,"maxDurationSecs",void 0),(0,u._)(this,"onMaxDurationCb",void 0),(0,u._)(this,"startRecording",e=>{navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(async e=>{this._recordedChunks=[],this._stream=e,this._mediaRecorder="undefined"==typeof MediaRecorder?null:new MediaRecorder(this._stream,this.options);let t=new AudioContext,i=t.createMediaStreamSource(e);this._analyser=t.createAnalyser(),this._analyser.fftSize=512,i.connect(this._analyser),this._analyserBuffer=new Float32Array(this._analyser.fftSize),null!==this._mediaRecorder&&(this._mediaRecorder.ondataavailable=e=>{this._recordedChunks.push(e.data),this.onDataAvailable&&this.onDataAvailable(e.data)},this._mediaRecorder.onstart=()=>{this._startedRecordingAtUnixMs=Date.now(),null!==this.onStart&&this.onStart()},this._mediaRecorder.onstop=this.onStop,this._mediaRecorder.start(100)),h.value={isRecording:!0,normalizedLoudness:0,recordedAudioDurationSecs:0},this._pollAudioProgress()}).catch(t=>null==e?void 0:e(t))}),(0,u._)(this,"_getPeakLoudness",()=>{if(null===this._analyser||null===this._analyserBuffer)return 0;this._analyser.getFloatTimeDomainData(this._analyserBuffer);let e=0;for(let t of this._analyserBuffer)e+=Math.pow(t,2);return Math.sqrt(e/this._analyserBuffer.length)}),(0,u._)(this,"_pollAudioProgress",async()=>{for(;h.value.isRecording&&null!==h.value.normalizedLoudness;){let e=Math.min(10*this._getPeakLoudness(),1),t=this._getDuration();if(h.value={...h.value,normalizedLoudness:this._loudnessEma*h.value.normalizedLoudness+(1-this._loudnessEma)*e,recordedAudioDurationSecs:t},null!==this.maxDurationSecs&&t>=this.maxDurationSecs){this.stopRecording(),null!==this.onMaxDurationCb&&this.onMaxDurationCb();break}await new Promise(e=>setTimeout(e,100))}}),(0,u._)(this,"_getDuration",()=>null===this._startedRecordingAtUnixMs?0:(Date.now()-this._startedRecordingAtUnixMs)/1e3),(0,u._)(this,"getBlob",()=>new Blob(this._recordedChunks,{type:"audio/ogg; codecs=opus"})),(0,u._)(this,"stopRecording",function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;try{i._mediaRecorder&&"recording"===i._mediaRecorder.state&&i._stream&&(i._mediaRecorder.stop(),i._stream.getTracks().forEach(e=>{e.stop()}))}catch(t){e&&e(t)}h.value={...h.value,isRecording:!1},i._startedRecordingAtUnixMs=null}),(0,u._)(this,"getMimeType",()=>{var e;return null===(e=this._mediaRecorder)||void 0===e?void 0:e.mimeType}),(0,u._)(this,"getExtension",()=>{let e=this.getMimeType();return void 0===e?null:e.split(";")[0].split("/")[1]}),(0,u._)(this,"reset",()=>{this._mediaRecorder=null,this._recordedChunks=[],this._stream=null,this._analyser=null,this._analyserBuffer=null,h.value={isRecording:!1,normalizedLoudness:null,recordedAudioDurationSecs:null},this._startedRecordingAtUnixMs=null}),this._mediaRecorder=null,this._stream=null,this._recordedChunks=[],this.onDataAvailable=null,this.onStop=null,this.onStart=null,this.options={},this._analyserBuffer=null,this._analyser=null,this._startedRecordingAtUnixMs=null,["audio/webm","audio/mp4"]))MediaRecorder.isTypeSupported(e)&&(this.options={mimeType:e});h.value={isRecording:!1,normalizedLoudness:null,recordedAudioDurationSecs:null},this._loudnessEma=.5,this.maxDurationSecs=e,this.onMaxDurationCb=t}}var p=i(77491),v=i(26397);let x=(0,o.Pi)(e=>{var t;let{maxDurationSecs:i,showMaxDuration:s}=e,n=(0,p.zG)(null!==(t=h.value.recordedAudioDurationSecs)&&void 0!==t?t:0);return s&&null!==i&&(n+=" / "+(0,p.zG)(i)),(0,a.jsx)(v.default,{children:n})});var g=i(70140);let f=(0,o.Pi)(e=>{let t,{className:i}=e;return t=h.value.isRecording&&null!==h.value.normalizedLoudness?Math.round(10*h.value.normalizedLoudness):0,(0,a.jsx)("div",{className:i,children:(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)("div",{className:"flex space-x-2",children:Array.from(Array(10).keys()).map(e=>(0,a.jsx)("div",{className:(0,g.A)(e<t?"bg-gray-alpha-900":"bg-gray-alpha-200","rounded-sm"),style:{height:20,width:5}},e))})})})});var b=i(23636);let y=(0,o.Pi)(e=>{let{setFile:t,onStart:i,onFinish:o,onError:u,maxDurationSecs:p,showMaxDuration:v,showToastOnMaxDuration:g,autoStart:y}=e,{i18n:j}=(0,r.mV)(),_=(0,c.useRef)(null);return(0,c.useEffect)(()=>{_.current=new m({maxDurationSecs:null===p?null:p-.5,onMaxDurationCb:()=>{null!==p&&g&&(0,b.default)(j._(l.ag._({id:"Gcr3Ao",values:{maxDurationSecs:p}})))}}),_.current.onStop=async()=>{if(null===_.current)return;let e=_.current.getBlob(),i=await _.current.getExtension();if(null===i)throw Error(j.t("Mime type 'undefined' received for recorded audio, this should never happen ..."));let a=new File([e],"recording.".concat(i),{type:_.current.getMimeType()});null==t||t(a),null==o||o(a,_.current,h.value)}},[p]),(0,c.useEffect)(()=>{if(y&&null!==_.current&&!h.value.isRecording){var e;null==i||i(),null===(e=_.current)||void 0===e||e.startRecording(u)}},[y]),(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)(d.h,{onClick:e=>{e.preventDefault(),e.stopPropagation(),null!==_.current&&(h.value.isRecording?_.current.stopRecording(u):(null==i||i(),_.current.startRecording(u)))},variant:"primary",Icon:h.value.isRecording?(0,a.jsx)(n.Z,{}):(0,a.jsx)(s.Z,{}),size:"md"})}),(0,a.jsx)(f,{className:"mb-3"}),(0,a.jsx)(x,{showMaxDuration:v,maxDurationSecs:p})]})})},13851:function(e,t,i){"use strict";i.d(t,{f:function(){return N}});var a=i(68088),s=i(6991),n=i(98780),l=i(81999),r=i(19803),o=i(73862),c=i(93281),d=i(9506),u=i(71780),h=i(1851),m=i(60358),p=i(23636),v=i(30121),x=i(4735),g=i(79709),f=i(89219),b=i(44463),y=i(11521),j=i(63415),_=i(85753);let w=(0,i(21113).Z)("file:///app/src/components/ReferAFriendDialog/index.tsx"),k=()=>(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1282.84 438.82",className:"w-[180px]",children:(0,a.jsxs)("g",{children:[(0,a.jsx)("path",{className:"cls-1",fill:"#b6bcf7",d:"M168.78,202.53a50.47,50.47,0,0,0-21.7,4.88v7.18a72.32,72.32,0,0,0,69.46,72.26A50.59,50.59,0,0,0,219.41,270V253.16A50.63,50.63,0,0,0,168.78,202.53Z"}),(0,a.jsx)("path",{className:"cls-2",fill:"#434ee1",d:"M219.41,118.14a72.33,72.33,0,0,0-72.33,72.34v16.93a50.64,50.64,0,0,1,72.33,45.75V270a50.59,50.59,0,0,1-2.87,16.81c1,0,1.91.07,2.87.07a72.33,72.33,0,0,0,72.33-72.33V190.48A72.33,72.33,0,0,0,219.41,118.14Z"}),(0,a.jsx)("path",{className:"cls-3",fill:"#0a1567",d:"M147.08,214.59v-7.18a50.64,50.64,0,0,0-28.94,45.75V270a50.64,50.64,0,0,0,98.4,16.81A72.32,72.32,0,0,1,147.08,214.59Z"}),(0,a.jsx)("path",{className:"cls-4",fill:"#0c106c",d:"M407.15,183.1a29.21,29.21,0,0,0-12-11.94q-7.93-4.35-19.61-4.35h-38V268.08H355.9V233.86h19.38q11.73,0,19.73-4.32a29.22,29.22,0,0,0,12.12-11.9,38.51,38.51,0,0,0,0-34.54Zm-16.71,26.78a15.11,15.11,0,0,1-6.45,6.53,23.26,23.26,0,0,1-11.18,2.37H355.9V182.14h16.81a24,24,0,0,1,11.25,2.3,14.74,14.74,0,0,1,6.48,6.4,20.58,20.58,0,0,1,2.1,9.5A20.87,20.87,0,0,1,390.44,209.88Z"}),(0,a.jsx)("path",{className:"cls-4",fill:"#0c106c",d:"M439.43,269.62a31.28,31.28,0,0,1-13-2.6,20.87,20.87,0,0,1-9.1-7.69A22.45,22.45,0,0,1,414,246.77a21.44,21.44,0,0,1,2.37-10.63,18.35,18.35,0,0,1,6.48-6.73,32.93,32.93,0,0,1,9.27-3.83,76.22,76.22,0,0,1,10.71-1.9q6.67-.69,10.83-1.26a15.87,15.87,0,0,0,6.05-1.78,4.17,4.17,0,0,0,1.91-3.79v-.29c0-3.73-1.11-6.61-3.32-8.66s-5.39-3.06-9.54-3.06q-6.57,0-10.41,2.86a14.29,14.29,0,0,0-5.17,6.78l-16.71-2.37a26.78,26.78,0,0,1,6.53-11.6,28.63,28.63,0,0,1,11.12-7,42.89,42.89,0,0,1,14.54-2.35,47.78,47.78,0,0,1,10.93,1.28,31.13,31.13,0,0,1,9.94,4.23,21.78,21.78,0,0,1,7.24,8,26.12,26.12,0,0,1,2.75,12.61v50.83H462.33V257.65h-.59A21.64,21.64,0,0,1,449.79,268,29.58,29.58,0,0,1,439.43,269.62Zm4.65-13.16a19.22,19.22,0,0,0,9.35-2.15,15.75,15.75,0,0,0,6.11-5.71,14.76,14.76,0,0,0,2.15-7.76v-9a8.33,8.33,0,0,1-2.85,1.28,41.26,41.26,0,0,1-4.47,1c-1.65.3-3.28.56-4.9.79l-4.2.59a31.87,31.87,0,0,0-7.17,1.78,12.07,12.07,0,0,0-5,3.44,9.59,9.59,0,0,0,1.78,13.13A15.73,15.73,0,0,0,444.08,256.46Z"}),(0,a.jsx)("path",{className:"cls-4",fill:"#0c106c",d:"M494.11,268.08V192.13h17.36v12.66h.79a19.09,19.09,0,0,1,7.15-10.17A19.56,19.56,0,0,1,531,191c1,0,2.1,0,3.34.12a26.79,26.79,0,0,1,3.09.37V208a20.5,20.5,0,0,0-3.58-.72,37.22,37.22,0,0,0-4.73-.32,18.11,18.11,0,0,0-8.77,2.1,15.74,15.74,0,0,0-6.11,5.81,16.38,16.38,0,0,0-2.23,8.56v44.65Z"}),(0,a.jsx)("path",{className:"cls-4",fill:"#0c106c",d:"M577.2,253.35c-.5.13-1.21.28-2.15.44A17.42,17.42,0,0,1,572,254a11.42,11.42,0,0,1-4.06-.69,5.72,5.72,0,0,1-2.94-2.6,11.1,11.1,0,0,1-1.11-5.51V206h15V192.13h-15v-18.2H546V248.2A20.68,20.68,0,0,0,549,260.07a18.47,18.47,0,0,0,8.53,7,28.93,28.93,0,0,0,12.11,2.05,33.35,33.35,0,0,0,6.46-.69,40.88,40.88,0,0,0,4.07-1.09Z"}),(0,a.jsx)("path",{className:"cls-4",fill:"#0c106c",d:"M611,223.58v44.5h-17.9V192.13h17.11V205h.89a21.65,21.65,0,0,1,8.38-10.13q5.76-3.77,14.27-3.76a27.11,27.11,0,0,1,13.72,3.36,22.83,22.83,0,0,1,9.1,9.74,33.54,33.54,0,0,1,3.19,15.48v48.36h-17.9V222.49q0-7.62-3.93-11.92T627,206.27a16.62,16.62,0,0,0-8.33,2,14.42,14.42,0,0,0-5.69,5.91A19.66,19.66,0,0,0,611,223.58Z"}),(0,a.jsx)("path",{className:"cls-4",fill:"#0c106c",d:"M742.38,229.51a48.15,48.15,0,0,0-2.77-17.23A32.74,32.74,0,0,0,732,200.34a30.38,30.38,0,0,0-11.08-7,38.89,38.89,0,0,0-13.27-2.25,35.36,35.36,0,0,0-18.94,5A33.65,33.65,0,0,0,676.19,210a45.25,45.25,0,0,0-4.47,20.6q0,11.92,4.45,20.7A31.94,31.94,0,0,0,688.9,264.8q8.28,4.77,19.71,4.77a42.74,42.74,0,0,0,15.72-2.7,29.2,29.2,0,0,0,11.3-7.61,26.06,26.06,0,0,0,6-11.55l-16.72-1.88a13.79,13.79,0,0,1-3.51,5.39,15.39,15.39,0,0,1-5.49,3.29,21.23,21.23,0,0,1-7.07,1.11,20,20,0,0,1-10.18-2.5,17,17,0,0,1-6.78-7.22,24.38,24.38,0,0,1-2.42-10.9h52.91Zm-52.87-6.57a19.65,19.65,0,0,1,2.31-8.29,18.38,18.38,0,0,1,6.45-6.92,17.58,17.58,0,0,1,9.64-2.65,17.25,17.25,0,0,1,9,2.33,16.37,16.37,0,0,1,6.06,6.35,19.41,19.41,0,0,1,2.22,9.18Z"}),(0,a.jsx)("path",{className:"cls-4",fill:"#0c106c",d:"M755.53,268.08V192.13h17.36v12.66h.79a19,19,0,0,1,7.14-10.17,19.6,19.6,0,0,1,11.6-3.58c1,0,2.1,0,3.34.12a27.36,27.36,0,0,1,3.09.37V208a20.66,20.66,0,0,0-3.59-.72,36.94,36.94,0,0,0-4.72-.32,18.17,18.17,0,0,0-8.78,2.1,15.72,15.72,0,0,0-6.1,5.81,16.28,16.28,0,0,0-2.23,8.56v44.65Z"}),(0,a.jsx)("path",{className:"cls-4",fill:"#0c106c",d:"M865.54,194.65a13.53,13.53,0,0,0-5.81-10.09q-5.12-3.6-13.28-3.61a25.36,25.36,0,0,0-9.84,1.73,14.64,14.64,0,0,0-6.28,4.7,11.42,11.42,0,0,0-2.22,6.78,10,10,0,0,0,1.46,5.48,12.69,12.69,0,0,0,4,3.94,27,27,0,0,0,5.59,2.69,57.39,57.39,0,0,0,6.18,1.83l9.49,2.37a66.43,66.43,0,0,1,11.05,3.61,39.48,39.48,0,0,1,9.55,5.74,25.57,25.57,0,0,1,6.7,8.36,25.11,25.11,0,0,1,2.47,11.47A27.37,27.37,0,0,1,880,255.3a29.82,29.82,0,0,1-13.13,10.53q-8.58,3.8-20.74,3.79a52.54,52.54,0,0,1-20.5-3.66,30.44,30.44,0,0,1-13.55-10.68q-4.87-7-5.26-17.11h18a15.42,15.42,0,0,0,3.27,8.8,17.22,17.22,0,0,0,7.49,5.24A29.47,29.47,0,0,0,846,253.94a28.32,28.32,0,0,0,10.51-1.8,16.79,16.79,0,0,0,7.09-5,12.1,12.1,0,0,0,2.63-7.59,9.79,9.79,0,0,0-2.33-6.55,17.46,17.46,0,0,0-6.35-4.35,64.38,64.38,0,0,0-9.52-3.14l-11.52-3q-12.53-3.21-19.76-9.77t-7.24-17.43a26,26,0,0,1,4.87-15.67,31.94,31.94,0,0,1,13.27-10.46,46.44,46.44,0,0,1,19-3.74,45,45,0,0,1,18.92,3.74,31.11,31.11,0,0,1,12.78,10.33,26.52,26.52,0,0,1,4.8,15.16Z"}),(0,a.jsx)("path",{className:"cls-4",fill:"#0c106c",d:"M930.2,253.35c-.5.13-1.21.28-2.15.44A17.42,17.42,0,0,1,925,254a11.42,11.42,0,0,1-4.06-.69,5.72,5.72,0,0,1-2.94-2.6,11.1,11.1,0,0,1-1.11-5.51V206h15V192.13h-15v-18.2H899v18.2H888.17V206H899V248.2A20.68,20.68,0,0,0,902,260.07a18.47,18.47,0,0,0,8.53,7,28.93,28.93,0,0,0,12.11,2.05,33.35,33.35,0,0,0,6.46-.69,42,42,0,0,0,4.08-1.09Z"}),(0,a.jsx)("path",{className:"cls-4",fill:"#0c106c",d:"M965.74,269.62a31.28,31.28,0,0,1-13-2.6,20.87,20.87,0,0,1-9.1-7.69,22.46,22.46,0,0,1-3.34-12.56,21.33,21.33,0,0,1,2.38-10.63,18.4,18.4,0,0,1,6.47-6.73,33.12,33.12,0,0,1,9.28-3.83,76.33,76.33,0,0,1,10.7-1.9q6.68-.69,10.83-1.26a15.87,15.87,0,0,0,6.06-1.78,4.17,4.17,0,0,0,1.9-3.79v-.29c0-3.73-1.1-6.61-3.31-8.66s-5.39-3.06-9.54-3.06q-6.58,0-10.41,2.86a14.23,14.23,0,0,0-5.17,6.78l-16.71-2.37a26.76,26.76,0,0,1,6.52-11.6,28.67,28.67,0,0,1,11.13-7A42.85,42.85,0,0,1,975,191.14a47.78,47.78,0,0,1,10.93,1.28,31.23,31.23,0,0,1,9.94,4.23,21.78,21.78,0,0,1,7.24,8,26.12,26.12,0,0,1,2.75,12.61v50.83H988.64V257.65H988a21.59,21.59,0,0,1-4.57,5.91,21.83,21.83,0,0,1-7.37,4.4A29.58,29.58,0,0,1,965.74,269.62Zm4.65-13.16a19.25,19.25,0,0,0,9.35-2.15,15.73,15.73,0,0,0,6.1-5.71,14.67,14.67,0,0,0,2.15-7.76v-9a8.27,8.27,0,0,1-2.84,1.28,42,42,0,0,1-4.48,1c-1.64.3-3.28.56-4.89.79l-4.2.59a31.87,31.87,0,0,0-7.17,1.78,12.07,12.07,0,0,0-5,3.44,9.59,9.59,0,0,0,1.78,13.13A15.71,15.71,0,0,0,970.39,256.46Z"}),(0,a.jsx)("path",{className:"cls-4",fill:"#0c106c",d:"M1052.1,269.57q-11.38,0-19.51-5a33,33,0,0,1-12.51-13.82,49.34,49.34,0,0,1,.07-40.8,33.36,33.36,0,0,1,12.59-13.84q8.13-5,19.26-5a37.81,37.81,0,0,1,16.39,3.39,27.69,27.69,0,0,1,16.24,23.91h-17.11a16.55,16.55,0,0,0-4.92-9.18q-3.87-3.67-10.36-3.68a16.28,16.28,0,0,0-9.64,2.94,19,19,0,0,0-6.45,8.43,34.05,34.05,0,0,0-2.3,13.16,35.28,35.28,0,0,0,2.27,13.32,19.24,19.24,0,0,0,6.41,8.56,17.34,17.34,0,0,0,16.81,1.48,14,14,0,0,0,5.27-4.38,16.85,16.85,0,0,0,2.91-7h17.11a29.65,29.65,0,0,1-4.74,14.27,27.8,27.8,0,0,1-11.18,9.69A37.06,37.06,0,0,1,1052.1,269.57Z"}),(0,a.jsx)("polygon",{className:"cls-4",fill:"#0c106c",points:"1143.29 267.63 1164.7 267.63 1133.52 224.47 1162.97 191.68 1142.05 191.68 1114.75 222.19 1113.52 222.19 1113.52 173.93 1095.62 173.93 1095.62 267.63 1113.52 267.63 1113.52 242.1 1120.03 235.12 1143.29 267.63"})]})}),N=(0,l.Pi)(()=>{var e,t,i,l;let{i18n:N}=(0,s.mV)(),[C,S]=(0,d.useState)(!1),[E,P]=(0,d.useState)(null),[V,D]=(0,d.useState)(!1),[A,T]=(0,c.v1)("affiliate",c.AE.withDefault(!1).withOptions({history:"push"}));return((0,d.useEffect)(()=>{"referAFriend"===h.dialogOpen.value&&(T(!0),D(!0))},[h.dialogOpen.value]),(0,d.useEffect)(()=>{V||(h.dialogOpen.value=!1,T(!1))},[V]),(0,d.useEffect)(()=>{A&&D(!0)},[A]),(0,d.useEffect)(()=>{if(h.userData.value){var e,t;P(!!((null===(e=h.userData.value)||void 0===e?void 0:e.referral_link_code)&&(null===(t=h.userData.value)||void 0===t?void 0:t.partnerstack_partner_default_link)))}},[null===(e=h.userData.value)||void 0===e?void 0:e.referral_link_code,null===(t=h.userData.value)||void 0===t?void 0:t.partnerstack_partner_default_link]),(0,d.useEffect)(()=>{V&&(0,j.eN)(_.B_.affiliate_link_modal_opened)},[V]),null===E)?null:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(f.Vq,{defaultOpen:!1,open:V&&!E,onOpenChange:e=>{e||E||D(!1)},children:(0,a.jsxs)(f.cZ,{children:[(0,a.jsx)(f.$N,{children:(0,a.jsx)(s.cC,{id:"q+XiNo"})}),(0,a.jsxs)("div",{className:"stack gap-4",children:[(0,a.jsx)("div",{children:(0,a.jsx)(y.x,{size:"md",children:(0,a.jsx)("div",{children:(0,a.jsx)(s.cC,{id:"E6OLs8",components:{0:(0,a.jsx)(o.default,{href:m.ZP.affiliates,target:"_blank",rel:"nofollow noopener noreferrer",className:"underline"})}})})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)(y.x,{size:"md",weight:"medium",children:(0,a.jsx)(s.cC,{id:"zcV5fW"})}),(0,a.jsx)(y.x,{size:"md",children:(0,a.jsx)(s.cC,{id:"nSUPV1",components:{0:(0,a.jsx)(o.default,{href:m.ZP.partnerStackAffiliateCreatorApplication,target:"_blank",rel:"nofollow noopener noreferrer",className:"underline"})}})})]}),(0,a.jsx)(r.default,{src:"/app_assets/_next/static/media/affiliates.6901eb5e.jpg",width:528,height:239,alt:N.t("ElevenLabs Affiliate Program"),className:"mt-0.5 -mx-5 w-[calc(100%+2.5rem)] max-w-[calc(100%+2.5rem)]"})]}),(0,a.jsx)(f.cN,{children:(0,a.jsxs)(b.rJ,{className:"pt-3 md:pt-4",children:[(0,a.jsx)(k,{}),(0,a.jsx)(b.U5,{children:(0,a.jsx)(s.cC,{id:"sOU9L0",components:{0:(0,a.jsx)(o.default,{href:m.ZP.affiliatesTerms,className:"underline"})}})}),(0,a.jsx)(b.aT,{children:(0,a.jsx)(x.Button,{variant:"primary",className:"w-fit gap-1",size:"md",onClick:()=>{C||(S(!0),(0,u.n)().then(e=>{P(!0),(0,j.eN)(_.B_.affiliate_link_generated,{link:e}),h.userData.value&&(0,j.yV)(h.userData.value.user_id,{affiliate_link:e})}).catch(e=>{(0,p.default)(N.t("Error generating affiliate link")),w.error(e)}).finally(()=>{S(!1)}))},loading:C,children:(0,a.jsx)(s.cC,{id:"gpNO9a"})})})]})})]})}),(0,a.jsx)(f.Vq,{defaultOpen:!1,open:V&&!!E,onOpenChange:e=>{!e&&E&&D(!1)},children:(0,a.jsxs)(f.cZ,{children:[(0,a.jsx)(f.$N,{children:(0,a.jsx)(s.cC,{id:"q+XiNo"})}),(0,a.jsxs)("div",{className:"stack gap-4",children:[(0,a.jsx)("div",{children:(0,a.jsx)(y.x,{size:"md",children:(0,a.jsx)("div",{children:(0,a.jsx)(s.cC,{id:"OQz1i4",components:{0:(0,a.jsx)(o.default,{href:m.ZP.affiliatesPartnerGuide,target:"_blank",rel:"nofollow noopener noreferrer",className:"underline"})}})})})}),(null===(i=h.userData.value)||void 0===i?void 0:i.partnerstack_partner_default_link)&&(0,a.jsxs)("div",{children:[(0,a.jsx)(y.x,{size:"md",weight:"medium",children:(0,a.jsx)(s.cC,{id:"pQ+ryT"})}),(0,a.jsxs)("div",{className:"stack gap-2",children:[(0,a.jsx)(y.x,{size:"md",children:(0,a.jsx)(s.cC,{id:"XEP2u8"})}),(0,a.jsx)(g.k,{className:"w-full",value:null===(l=h.userData.value)||void 0===l?void 0:l.partnerstack_partner_default_link,autoFocus:!1})]})]}),(0,a.jsx)("div",{children:(0,a.jsxs)(v.bZ,{variant:"warning",children:[(0,a.jsx)(n.Z,{}),(0,a.jsx)(v.X,{children:(0,a.jsx)(s.cC,{id:"jV/4MR"})})]})}),(0,a.jsxs)("div",{children:[(0,a.jsx)(y.x,{size:"md",weight:"medium",children:(0,a.jsx)(s.cC,{id:"zcV5fW"})}),(0,a.jsx)(y.x,{size:"md",children:(0,a.jsx)(s.cC,{id:"nSUPV1",components:{0:(0,a.jsx)(o.default,{href:m.ZP.partnerStackAffiliateCreatorApplication,target:"_blank",rel:"nofollow noopener noreferrer",className:"underline"})}})})]})]}),(0,a.jsx)(f.cN,{children:(0,a.jsxs)(b.rJ,{className:"pt-3 md:pt-4",children:[(0,a.jsx)(k,{}),(0,a.jsx)(b.U5,{children:(0,a.jsx)(s.cC,{id:"J9hsmw"})}),(0,a.jsx)(b.aT,{children:(0,a.jsx)(o.default,{href:m.ZP.partnerStackAffiliateDashboard,target:"_blank",rel:"nofollow noopener noreferrer",children:(0,a.jsx)(x.Button,{variant:"primary",className:"w-fit gap-1",size:"md",children:(0,a.jsx)(s.cC,{id:"10Xyas"})})})})]})})]})})]})})},48246:function(e,t,i){"use strict";i.d(t,{gJ:function(){return eo},$t:function(){return en},oo:function(){return ea},nN:function(){return ei},ZP:function(){return ed},cY:function(){return X},Wq:function(){return Y},py:function(){return K}});var a=i(68088),s=i(40534),n=i(41318),l=i(46736),r=i(75051),o=i(38028),c=i(97968),d=i(88982),u=i(19859),h=i(5479),m=i(81999),p=i(73862),v=i(23431),x=i(26898),g=i(32507),f=i(9506),b=i(54995),y=i(60358),j=i(55205),_=i(60913),w=i(88887),k=i(72228),N=i(20308),C=i(11521),S=i(27411),E=i(84219),P=i(63415),V=i(85753),D=i(60189),A=i(60493),T=i(8030),I=i(93522),M=i(13851),z=i(87208),L=i(54981),R=i(9188),F=i(97124),B=i(82374),O=i(82710),Z=i(81158),U=i(4735),q=i(32472);let H=(0,m.Pi)(e=>{let{children:t}=e,i=(0,v.usePathname)();(0,f.useEffect)(()=>{K.value=!1},[i]);let s=(0,B.Nr)(K.value,300);return(0,a.jsx)(R.u.Root,{show:!0===K.value,unmount:!1,as:f.Fragment,children:(0,a.jsxs)(F.V,{as:"div",className:"relative z-50 lg:hidden group/sidebar","aria-expanded":K.value,unmount:!1,onClose:()=>{K.value=!1},children:[(0,a.jsx)(R.u.Child,{as:f.Fragment,unmount:!1,enter:"transition-opacity ease-linear duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity ease-linear duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,a.jsx)("div",{className:"fixed inset-0 bg-gray-900/30"})}),(0,a.jsx)("div",{className:"fixed inset-0 flex",children:(0,a.jsx)(R.u.Child,{as:f.Fragment,unmount:!1,enter:"transition ease-in-out duration-300 transform",enterFrom:"-translate-x-full",enterTo:"translate-x-0",leave:"transition ease-in-out duration-300 transform",leaveFrom:"translate-x-0",leaveTo:"-translate-x-full",children:(0,a.jsxs)(F.V.Panel,{className:"relative mr-16 flex w-64",style:{"--eleven-sidebar-width":"16rem"},children:[(0,a.jsx)(p.default,{href:"#content",className:"sr-only",children:"Skip to content"}),(0,a.jsxs)("div",{className:"flex grow flex-col overflow-y-auto bg-background overflow-x-hidden",children:[(0,a.jsxs)("div",{className:"flex justify-between -mb-2 pl-3 pr-3.5 items-center w-full",style:{height:"var(--eleven-header-height)"},children:[(0,a.jsx)("div",{className:"flex items-center translate-x-2 transition-transform duration-150",children:(0,a.jsx)(O.Logo,{isOpen:!0,size:"18px"})}),(0,a.jsx)(U.Button,{variant:"ghost",size:"md",className:"pointer-events-auto p-0 h-8 w-8 text-gray-500 hover:text-gray-alpha-950 duration-100 transition-colors",onClick:()=>{K.value=!1},children:(0,a.jsx)(j.CK,{})})]}),(0,a.jsx)(q.Z,{hideTooltip:!s||!K.value}),(0,a.jsx)("nav",{className:"flex flex-1 flex-col",children:t}),(0,a.jsx)("div",{className:"px-3.5",children:(0,a.jsx)(Z.Y,{})}),(0,a.jsx)("div",{className:"px-3.5 py-3.5",children:(0,a.jsx)(ei,{})})]})]})})})]})})});var G=i(94846),W=i(72508);let K=(0,A.t)(!1),Y=(0,A.t)(!1),X=(0,A.t)(void 0),Q=(0,A.t)(null),J={exit:e=>{let{submenu:t}=e;return{opacity:0,x:t?70:-70}},enter:{opacity:1,x:0},transition:{delay:0,opacity:{duration:.15},x:{type:"spring",mass:.25,stiffness:100,damping:10}}},$=e=>!ee(e),ee=e=>void 0!==e.custom,et=e=>{let{icon:t}=e;return(0,a.jsx)("div",{className:(0,D.cn)("center h-8"),children:t})},ei=e=>{let{className:t}=e;return(0,a.jsxs)("div",{className:(0,D.cn)(t,"flex space-x-2"),children:[(0,a.jsx)(p.default,{href:y.ZP.termsofuse,target:"_blank",rel:"noopener",onClick:()=>{K.value=!1},children:(0,a.jsx)(C.x,{weight:"medium",size:"xs",className:"hover:text-gray-900",children:"Terms"})}),(0,a.jsx)(C.x,{weight:"medium",size:"xs",color:"subtle",children:"/"}),(0,a.jsx)(p.default,{href:y.ZP.privacyprivacy,target:"_blank",rel:"noopener",onClick:()=>{K.value=!1},children:(0,a.jsx)(C.x,{weight:"medium",size:"xs",className:"hover:text-gray-900",children:"Privacy"})})]})},ea=e=>{let{name:t,caret:i,icon:s,badge:n,rightIcon:l,isSwitcher:o=!1,isCategory:c=!0,hasActiveIndicator:d}=e;return(0,a.jsxs)(S.u,{children:[(0,a.jsx)(S.aJ,{asChild:!0,children:(0,a.jsx)("div",{className:(0,D.cn)("relative group rounded-lg overflow-hidden bg-transparent  transition-all duration-150",d&&"!bg-gray-alpha-100 !text-gray-alpha-950",{"w-[calc(var(--eleven-sidebar-width)-1.8125rem)]":c,"w-[calc(var(--eleven-sidebar-width)-3.5rem)]":!c,"text-gray-alpha-950 ring-1 ring-inset ring-gray-alpha-200 hover:ring-gray-alpha-300 group-aria-expanded/main-nav-item:ring-gray-alpha-300":o,"hover:text-gray-alpha-950 hover:bg-gray-alpha-100 group-aria-expanded/main-nav-item:bg-gray-alpha-100 group-aria-expanded/main-nav-item:text-gray-alpha-950 text-gray-600":!o}),children:(0,a.jsxs)("div",{className:"flex items-center gap-2 px-1.5 min-w-36",children:[s?(0,a.jsx)(et,{icon:s}):(0,a.jsx)("div",{className:"w-3"}),(0,a.jsxs)("div",{className:"flex items-center justify-between flex-1 h-8 transition-all duration-150 group-aria-expanded/sidebar:opacity-100 opacity-0 translate-x-1 group-aria-expanded/sidebar:translate-x-0",children:[(0,a.jsx)(C.x,{weight:"medium",color:"inherit",className:"whitespace-nowrap",children:t}),i&&(0,a.jsx)("div",{className:"flex items-center ml-auto mr-0.5 justify-center w-4 h-4",children:(0,a.jsx)(r.Z,{className:"w-4 h-4 opacity-50"})}),n?(0,a.jsx)(k.Ct,{variant:"secondary",color:"blue",children:n}):null,l&&(0,a.jsx)("div",{className:"mr-0.5 opacity-50 text-foreground flex-shrink-0",children:l})]})]})})}),(0,a.jsx)(S._v,{side:"right",sideOffset:20,style:{opacity:"var(--eleven-sidebar-collapsed)"},children:t})]})},es=(0,m.Pi)(e=>{var t;let{item:i,isCategory:n,isExpanded:l}=e,r=(0,b.bd)("mainNavLink",i.href),d=(0,v.useRouter)(),u=(0,v.usePathname)(),m=(0,T.Z)(n&&(null==i?void 0:i.children)?[...(null==i?void 0:i.patterns)||[],...(null!==(t=null==i?void 0:i.children)&&void 0!==t?t:[]).flatMap(e=>e.patterns||[])]:[...(null==i?void 0:i.patterns)||[]]),x=(0,f.useCallback)(e=>!!m&&(!i.source||((null==e?void 0:e.storageKey)==="convai"?"convai"===i.source:"convai"!==i.source)),[m,i.source]),[g,y]=(0,f.useState)(()=>x(X.value));(0,f.useEffect)(()=>(0,h.U5)(()=>X.value,e=>{y(x(e))},{fireImmediately:!0}),[x]);let[j,_]=f.useState(g),w=j&&l,k=g&&(!(null==i?void 0:i.children)||!l);return(0,f.useEffect)(()=>{_(g)},[g,u,l]),(0,a.jsxs)(s.E.li,{className:(0,D.cn)("group w-full"),children:[(0,a.jsxs)("div",{className:"relative w-fit",children:[(0,a.jsx)(p.default,{ref:r,href:(!i.submenu||!g)&&i.href||"#",onClick:e=>{i.submenu?(e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||(e.preventDefault(),setTimeout(()=>{i.href&&d.push(i.href)},300)),X.value=i.submenu,Q.value=null,(0,P.eN)(V.B_.sidebar_submenu_opened,{itemName:i.name})):n?_(!j):K.value=!1},className:"block w-fit rounded-lg outline-foreground",children:(0,a.jsx)(ea,{name:i.name,icon:i.icon?(0,a.jsx)(i.icon,{size:"1.25rem"}):void 0,badge:i.badge,isCategory:n,rightIcon:i.submenu?(0,a.jsx)(o.Z,{size:16}):i.children?(0,a.jsx)(c.Z,{size:14}):void 0,hasActiveIndicator:k})}),i.action?(0,a.jsx)(s.E.div,{className:"absolute right-[0.125rem] top-[0.325rem] z-10 min-w-5 flex items-center justify-center lg:opacity-0 group-aria-expanded/sidebar:group-hover/sidebar:opacity-100 pointer-events-none group-aria-expanded/sidebar:pointer-events-auto transition-all duration-150",onMouseOver:e=>{e.stopPropagation()},onMouseLeave:e=>{e.stopPropagation()},children:i.action}):null]}),n&&i.children?(0,a.jsx)(s.E.div,{className:"overflow-hidden pl-5",initial:{height:w?"auto":0,opacity:w?1:0},animate:{height:w?"auto":0,opacity:w?1:0},children:(0,a.jsx)("ul",{className:"relative pl-2 stack gap-1 py-1",children:i.children.map(e=>(0,a.jsx)(es,{item:e,isCategory:!1,isExpanded:l},e.href))})}):null]})}),en=(0,m.Pi)(e=>{var t,i;let{isExpanded:r}=e,o=(0,g.dl)("stt_product_ui"),c=(0,f.useRef)(null),{items:d}=(0,W.d)(),u=(0,v.usePathname)(),m=X.value;(0,f.useMemo)(()=>{var e;if(!u)return;function t(e){let t=0;if(e&&"groups"in e)for(let i of e.groups)for(let e of(i.hidden&&t++,i.items))$(e)&&e.hidden&&t++;return t}let i=function(e,t){var i,a;let s=null!==(a=null!==(i=localStorage.getItem(z.H))&&void 0!==i?i:localStorage.getItem(z.K))&&void 0!==a?a:"",n=function e(i){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=[];for(let l of i)for(let i of l.items)if($(i)){var n;if((null===(n=i.patterns)||void 0===n?void 0:n.some(e=>!!(0,x.EQ)(e,{decode:decodeURIComponent})(t)))&&s.push({item:i,parentSubmenu:a}),i.submenu){let t=e(i.submenu.groups,i.submenu);s.push(...t)}}return s}(e);if(0===n.length)return!1;if(s){for(let{item:e,parentSubmenu:t}of n)if("source"in e&&e.source===s&&t)return t}for(let{item:e}of n)if(e.submenu)return e.submenu;return!1}(d,u),a=t(i),s=t(X.value);!1!==i&&((null===(e=X.value)||void 0===e?void 0:e.storageKey)!==i.storageKey||a!==s)?X.value=i:!1===i&&null!==X.value&&(X.value=null)},[u,d]),(0,f.useEffect)(()=>(0,h.U5)(()=>{var e;return null===(e=X.value)||void 0===e?void 0:e.storageKey},e=>{var t;localStorage.setItem(z.H,null!=e?e:""),null===(t=c.current)||void 0===t||t.scrollTo({top:0,behavior:"smooth"})}),[]);let p=(null==m?void 0:m.storageKey)==="convai"?"convai":"audio",b=(0,E.D)(p),y=(0,g.dl)("sidebar_platform_switcher"),j=("convai"===p||"convai"===b)&&y?{duration:0}:J.transition;return(0,a.jsx)("div",{className:"relative flex flex-col grow fade-top-3 fade-bottom-3 w-full",children:(0,a.jsx)("div",{ref:c,className:"relative stack overflow-y-auto no-scrollbar overflow-x-hidden grow w-full",children:(0,a.jsx)(n.A,{transition:j,children:(0,a.jsx)(l.M,{initial:!1,children:(0,a.jsx)(s.E.ul,{className:"w-fit stack gap-5 shrink-0 p-3.5 absolute top-0 left-0 right-0","aria-label":"Main navigation",initial:J.exit({submenu:!!m}),animate:J.enter,exit:J.exit({submenu:!!m}),children:(null!==(t=null==m?void 0:m.groups)&&void 0!==t?t:d).map((e,t)=>{var i;return e.hidden?null:(0,a.jsxs)("li",{"aria-label":e.title,children:[e.title&&(0,a.jsx)("h2",{className:"text-sm font-medium text-gray-alpha-500 ml-1.5 mb-1.5 whitespace-nowrap group-aria-expanded/sidebar:opacity-100 opacity-0 transition-opacity duration-150",children:e.title}),(0,a.jsx)("ul",{className:(0,D.cn)("stack gap-1"),children:e.items.map((e,t)=>"Speech to Text"===e.name&&!o||e.hidden?null:ee(e)?(0,a.jsx)(s.E.li,{className:(0,D.cn)("group w-full"),onMouseOver:e=>{e.stopPropagation()},onMouseLeave:e=>{e.stopPropagation()},children:(0,a.jsx)("div",{className:"relative w-full",children:e.custom})},t):(0,a.jsx)(es,{isExpanded:r,item:e,isCategory:!0},e.href))})]},null!==(i=e.title)&&void 0!==i?i:t)})},null!==(i=null==m?void 0:m.storageKey)&&void 0!==i?i:"audio")})})})})}),el=e=>{var t;let{resource:i,className:s}=e,n=(0,b.bd)("mainNavLink",i.name),l=(0,v.usePathname)(),r=(0,T.Z)(null!==(t=i.patterns)&&void 0!==t?t:[])||l===i.href||i.isHomePage&&"/"===l;return(0,a.jsx)(p.default,{ref:n,href:i.href,target:i.external?"_blank":void 0,rel:i.external?"noopener":void 0,onClick:()=>{K.value=!1},"aria-selected":r,className:s,children:i.name})},er=(0,m.Pi)(e=>{let{name:t,icon:i,links:n,isExpanded:r,onToggle:o}=e,d=(0,b.bd)("unfoldSubmenu",t),u=(0,v.usePathname)(),[h,m]=(0,f.useState)(!1),p=Q.value===t&&r;return(0,f.useEffect)(()=>{for(let e of n)if(u===e.href||"/"===u&&e.isHomePage){Q.value=t;break}},[]),(0,f.useEffect)(()=>{r||(m(!1),Q.value=null)},[r]),(0,a.jsx)(l.M,{children:(0,a.jsx)("div",{className:"stack",children:(0,a.jsxs)(N.h_,{open:h&&!r,onOpenChange:m,children:[(0,a.jsx)(N.$F,{asChild:!0,children:(0,a.jsx)("button",{ref:d,className:"block w-fit rounded-lg outline-foreground group/main-nav-item","data-state":p?"open":"closed",onClick:()=>{if(!r){m(e=>!e);return}p?(Q.value=null,null==o||o(!1)):(Q.value=t,null==o||o(!0))},children:(0,a.jsx)(ea,{name:t,icon:(0,a.jsx)(i,{}),rightIcon:(0,a.jsx)("div",{className:"flex h-4 w-4 items-center text-foreground justify-center rotate-0 transition-transform duration-100 [button[data-state=open]_&]:rotate-180",children:(0,a.jsx)(c.Z,{className:"h-4 w-4 min-w-fit"})})})})}),(0,a.jsx)(l.M,{children:p&&(0,a.jsxs)(s.E.div,{className:"flex overflow-hidden",variants:{expanded:{height:"auto"},collapsed:{height:0}},initial:"collapsed",animate:"expanded",exit:"collapsed",children:[(0,a.jsx)("div",{className:"border-l border-gray-200 ml-5"}),(0,a.jsx)("div",{className:"flex-1 ml-2 mt-1 space-y-1",children:n.map((e,t)=>(0,a.jsx)(el,{resource:e,className:"group flex items-center px-3 py-1 truncate rounded-lg text-sm font-medium leading-6 focus:outline-none focus-visible:ring-2 focus:ring-foreground focus:ring-inset transition-colors duration-150 text-gray-alpha-600 hover:bg-gray-alpha-100 hover:text-gray-900 aria-selected:bg-gray-alpha-100 aria-selected:text-gray-900"},t))})]})}),(0,a.jsxs)(N.AW,{side:"right",sideOffset:20,children:[(0,a.jsx)(N.Ju,{children:t}),n.map((e,t)=>(0,a.jsx)(N.Xi,{children:(0,a.jsx)(el,{resource:e})},t))]})]})})})}),eo=(0,m.Pi)(e=>{let{isExpanded:t}=e,i=X.value,n=(null==i?void 0:i.storageKey)==="convai",r=(0,g.dl)("sidebar_platform_switcher"),o=(0,g.dl)("developer_portal");return(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(l.M,{mode:"wait",children:(null==i?void 0:i.groups)&&!(r&&n)&&(0,a.jsx)(s.E.button,{className:"rounded-lg outline-foreground w-fit",onClick:()=>{X.value=null,(0,P.eN)(V.B_.sidebar_submenu_closed)},initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,a.jsx)(ea,{name:"Back to ElevenLabs",icon:(0,a.jsx)(d.Z,{strokeWidth:"1.5",size:"1.25rem"})})})}),(0,a.jsxs)("ul",{className:"stack gap-1",children:[o&&(0,a.jsx)(es,{item:{name:"Developers",href:y.VP.developers,icon:()=>(0,a.jsx)(u.Z,{size:"1.25rem"}),patterns:["/app/developers/:other*"]},isCategory:!0,isExpanded:!1}),!(r&&n)&&(0,a.jsx)(er,{name:"Audio Tools",icon:j.SW,links:w.dt,isExpanded:t,onToggle:e=>{(0,P.eN)(V.B_.sidebar_audio_tools_toggled,{open:e})}})]})]})}),ec=e=>{let{isExpanded:t}=e;return(0,a.jsxs)("ul",{className:"p-3.5 space-y-1",children:[(0,a.jsx)("li",{children:(0,a.jsx)(eo,{isExpanded:t})}),(0,a.jsx)("li",{children:(0,a.jsx)(er,{name:"Contact",icon:j.BZ,links:w.k5,isExpanded:t})}),(0,a.jsx)("li",{children:(0,a.jsx)(er,{name:"Documentation",icon:j.ax,links:w.TP,isExpanded:t})})]})};var ed=(0,m.Pi)(e=>{let{showMobileHeader:t=!0,isPinned:i,setIsPinned:s}=e;return(0,f.useEffect)(()=>{Y.value=i,document.documentElement.style.setProperty("--eleven-sidebar-width",i?"16rem":"3.8125rem"),document.documentElement.style.setProperty("--eleven-sidebar-collapsed",i?"0":"1")},[i]),(0,a.jsxs)(S.pn,{disableHoverableContent:!0,delayDuration:200,children:[(0,a.jsx)(M.f,{}),(0,a.jsx)(_.Z,{}),(0,a.jsxs)(H,{children:[(0,a.jsx)(en,{isExpanded:!0}),(0,a.jsx)("div",{className:"px-5 flex",children:(0,a.jsx)(I.Z,{color:"gray",className:"w-full"})}),(0,a.jsx)(ec,{isExpanded:!0})]}),(0,a.jsx)(L.Z,{isPinned:i,setIsPinned:s}),t&&(0,a.jsx)(G.Z,{})]})})},54981:function(e,t,i){"use strict";i.d(t,{X:function(){return H}});var a=i(68088),s=i(40534),n=i(46736),l=i(21368),r=i(81999),o=i(73862),c=i(32507),d=i(9506),u=i(82374),h=i(54995),m=i(1851),p=i(60358),v=i(82710),x=i(88887),g=i(48246),f=i(4735),b=i(74346),y=i(64755),j=i(11521),_=i(25933),w=i(27411),k=i(96162),N=i(63415),C=i(85753),S=i(60189),E=i(39255),P=i(13104),V=i(77095),D=i(55205),A=i(27473),T=i(76528),I=i(31100),M=i(80396),z=i(32472);let L=(0,r.Pi)(()=>{var e,t,i;return(0,a.jsxs)("div",{className:"text-start overflow-hidden",children:[(0,a.jsx)(j.x,{"aria-hidden":"true",className:"truncate inter",size:"sm",weight:"medium",children:(null===(e=k.EA.value)||void 0===e?void 0:e.displayName)||"My Account"}),(null===(t=m.workspaceData.value)||void 0===t?void 0:t.name)?(0,a.jsx)(s.E.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},children:(0,a.jsx)(j.x,{"aria-hidden":"true",className:"truncate -mt-0.5 overflow-ellipsis inter text-gray-alpha-500",size:"xs",children:null===(i=m.workspaceData.value)||void 0===i?void 0:i.name})}):null]})}),R=e=>{var t,i,n,l;let{isHovering:r,quotaAvailable:o,size:c="2.5rem"}=e,d=(0,u.Nr)(r,75),h=(null===(t=m.workspaceData.value)||void 0===t?void 0:t.subscription)!==void 0&&(0,V.i$)(m.workspaceData.value.subscription);return(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(M.Xm,{size:c,thickness:"4px",showPercentage:d,className:(0,S.cn)(o?"opacity-100":"opacity-0","transition-opacity duration-300")}),(0,a.jsx)(s.E.div,{className:"absolute top-0 left-0 h-full w-full rounded-full p-px",animate:{scale:o?.7:1,opacity:r?0:1},transition:{duration:.2,ease:"easeInOut"},children:h?(0,a.jsx)("div",{className:"rounded-full shrink-0 bg-gray-50 object-cover h-full w-full flex items-center justify-center",children:"!"}):(null===(i=k.EA.value)||void 0===i?void 0:i.photoURL)?(0,a.jsx)("img",{className:"rounded-full shrink-0 bg-gray-50 object-cover h-full w-full",src:k.EA.value.photoURL,alt:(null===(n=k.EA.value)||void 0===n?void 0:n.displayName)||(null===(l=k.EA.value)||void 0===l?void 0:l.email)||void 0}):(0,a.jsx)("div",{className:"flex items-center justify-center bg-gray-alpha-150 text-gray-600 p-2 rounded-full shrink-0 h-full w-full",children:(0,a.jsx)(D.o5,{className:"w-5 h-5"})})})]})},F=(0,r.Pi)(()=>{let e=(0,h.bd)("openUserMenu"),[t,i]=(0,d.useState)(!1),[s,n]=(0,d.useState)(!1),r=(0,x.vo)(),o=!!m.workspaceData.value;return(0,a.jsxs)(O,{onOpenChange:e=>{i(e)},isOpen:t,sideOffset:20,trigger:(0,a.jsxs)("button",{ref:e,"aria-label":"Your profile",onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),className:(0,S.cn)("relative group items-center gap-0.5 h-11 shrink-0 justify-between flex rounded-lg text-sm leading-6 font-semibold outline-foreground w-[calc(var(--eleven-sidebar-width)-1.5rem)] transition-all duration-150 group-aria-expanded/sidebar:hover:bg-gray-alpha-100"),children:[(0,a.jsx)("div",{className:"shrink-0 relative group-aria-expanded/sidebar:translate-x-1 -translate-x-1 transition-transform duration-150",children:(0,a.jsx)(R,{isHovering:s||t,quotaAvailable:o})}),(0,a.jsxs)("div",{className:"overflow-hidden flex items-center justify-between flex-1 h-11 transition-all duration-150 group-aria-expanded/sidebar:opacity-100 opacity-0 translate-x-1 group-aria-expanded/sidebar:translate-x-0 rounded-lg pl-2 pr-2",children:[(0,a.jsx)(L,{}),(0,a.jsx)("div",{className:"flex h-4 w-4 items-center justify-center opacity-50 rotate-90 transition-transform duration-100 [button[data-state=open]_&]:rotate-0",children:(0,a.jsx)(l.Z,{className:"h-4 w-4 min-w-fit"})})]})]}),children:[(0,a.jsx)(M.Dw,{}),(0,a.jsx)(q,{items:r,handleOnClick:()=>{i(!1)}})]})}),B=e=>{let{className:t}=e;return(0,a.jsx)("div",{className:(0,S.cn)("absolute inset-0 bg-gray-alpha-100 rounded-[inherit] opacity-0 group-hover:opacity-100 transition-all duration-75 will-change-transform [button[data-state=open]_&]:opacity-100",t)})},O=e=>{let{trigger:t,children:i,sideOffset:s,onOpenChange:n,openOnHover:l,isOpen:r}=e,[o,c]=(0,d.useState)(r);return(0,a.jsxs)(y.J2,{onOpenChange:e=>{null==n||n(e)},open:r||o,children:[(0,a.jsx)(y.xo,{className:"group w-full",asChild:!0,onClick:e=>{l&&(e.preventDefault(),e.stopPropagation()),null==n||n(!0)},onMouseEnter:()=>l&&c(!0),onMouseLeave:()=>l&&c(!1),children:t}),(0,a.jsx)(y.i9,{children:(0,a.jsxs)(y.yk,{className:(0,S.cn)("flex flex-col w-56 p-0 duration-150 overflow-visible",l&&"mb-[-5px]"),side:"right",align:"end",sideOffset:s||16,onMouseEnter:()=>l&&c(!0),onMouseLeave:()=>l&&c(!1),children:[l&&(r||o)&&(0,a.jsx)("div",{className:"absolute left-0 top-0 w-4 h-full -translate-x-full","aria-hidden":!0}),(0,a.jsx)("div",{className:"overflow-auto",style:{scrollbarWidth:"thin"},children:i})]})})]})},Z=e=>{let{item:t,onClick:i}=e,s=(0,h.bd)("userMenuItem",null==t?void 0:t.name);if(!t)return null;let n="string"==typeof t.href?t.href:t.href();return(0,a.jsxs)(o.default,{ref:s,"aria-label":t.name,href:n,target:t.external?"_blank":void 0,onClick:i,className:"relative w-full flex cursor-pointer select-none items-center rounded-lg px-3 py-1.5 text-sm outline-none transition-colors hover:bg-gray-alpha-100 hover:text-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 group justify-between",children:[(0,a.jsxs)("span",{className:"flex items-center",children:[t.iconBefore,t.name]}),(0,a.jsx)(b.Z,{color:"foreground",className:"opacity-50",size:"sm",children:t.iconAfter})]})},U=e=>{let{item:t}=e,i=(0,h.bd)("userMenuItem",t.name);return t?(0,a.jsxs)("button",{ref:i,"aria-label":t.name,onClick:e=>{"button"===t.type&&t.onClick(e)},className:"relative w-full flex cursor-pointer select-none items-center rounded-lg px-3 py-1.5 text-sm outline-none transition-colors hover:bg-gray-alpha-100 hover:text-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 group justify-between",children:[(0,a.jsxs)("span",{className:"flex items-center gap-1.5",children:[t.iconBefore,t.name]}),(0,a.jsx)(b.Z,{size:"sm",children:t.iconAfter})]}):null},q=e=>{let{items:t,handleOnClick:i}=e;return(0,a.jsx)("div",{className:"py-1",children:t.reduce((e,i,a)=>(i&&((null==i?void 0:i.type)==="separator"?e.currentArray.length>0&&(e.result.push(e.currentArray),e.currentArray=[]):e.currentArray.push(i),a===t.length-1&&e.result.push(e.currentArray)),e),{result:[],currentArray:[]}).result.map((e,t)=>(0,a.jsx)("ul",{className:"last:border-b-0 last:pb-0 last:mb-0 border-gray-alpha-200 border-b pb-1 mb-1",children:e.map(e=>e?(null==e?void 0:e.type)==="link"?(0,a.jsx)("li",{className:"relative px-1",children:(0,a.jsx)(Z,{item:e,onClick:i})},e.name):(null==e?void 0:e.type)==="button"?(0,a.jsx)("li",{className:"relative px-1",children:(0,a.jsx)(U,{item:e})},e.name):(null==e?void 0:e.type)==="group"?(0,a.jsx)("li",{className:"relative px-1",children:(0,a.jsx)(O,{openOnHover:!0,isOpen:!1,sideOffset:12,trigger:(0,a.jsxs)("button",{"aria-label":e.name,className:"relative w-full flex cursor-pointer select-none items-center rounded-lg px-3 py-1.5 text-sm outline-none transition-colors hover:bg-gray-alpha-100 hover:text-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 group justify-between",children:[(0,a.jsxs)("span",{className:"flex items-center gap-1.5",children:[e.iconBefore,e.name]}),(0,a.jsx)("div",{className:"flex h-4 w-4 items-center justify-center opacity-50 rotate-0 transition-transform duration-100",children:(0,a.jsx)(l.Z,{className:"h-4 w-4 min-w-fit"})})]}),children:(0,a.jsx)(q,{items:null==e?void 0:e.items,handleOnClick:i})})},e.name):(null==e?void 0:e.type)==="tooltip"?(0,a.jsx)("li",{className:"relative px-1",children:(0,a.jsx)(_.Tooltip,{label:e.hoverText,children:(0,a.jsxs)(j.x,{"aria-label":e.name,className:"group w-full flex justify-between items-center h-8 px-3 font-medium inter text-inherit text-sm gap-2 outline-foreground overflow-hidden",children:[(0,a.jsx)(B,{}),(0,a.jsx)("span",{className:"flex items-center",children:e.name}),(0,a.jsx)(b.Z,{children:e.iconAfter})]})})},e.name):null:null)},t))})},H=()=>{let[e,t]=(0,u._)("xi:sidebar-nav-pinned",!0);return[null!=e&&e,t]},G=e=>{let{isExpanded:t}=e;return(0,a.jsx)("div",{className:"flex items-center translate-x-[13px] group-aria-expanded/sidebar:translate-x-2 transition-transform duration-150",children:(0,a.jsx)(v.Logo,{isOpen:t,size:"18px"})})},W=(0,r.Pi)(e=>{var t,i,l;let{isPinned:r,setIsPinned:u}=e,h="xiLowQuotaDismissedTimestamp",v=(0,d.useRef)(null),x="test"===(0,c.ZR)("onboarding_checklist"),b=(0,E.bs)("lg"),y=P.I.get(h),[j,_]=(0,d.useState)(y+864e5>=Date.now());return(0,a.jsxs)("div",{"aria-expanded":r,className:"hidden lg:block fixed h-full left-0 z-[41] cursor-e-resize aria-expanded:cursor-default bg-background/90 transition-[width] duration-150 backdrop-blur-md border-r group/sidebar",style:{width:"var(--eleven-sidebar-width, 16rem)"},onClick:e=>{let t=e.target;for(;t&&t!==e.currentTarget;){if("BUTTON"===t.tagName||"A"===t.tagName||t.closest("button")||t.closest("a"))return;t=t.parentElement}u(!0)},children:[(0,a.jsx)("div",{id:"sidebar-portal-root"}),(0,a.jsx)(o.default,{href:"#content",className:"sr-only",children:"Skip to content"}),(0,a.jsxs)("div",{className:"relative stack w-full h-full pb-3 overflow-hidden scroll-smooth max-h-screen",ref:v,children:[(0,a.jsx)("div",{className:"hstack justify-between items-center px-3 w-full relative z-20",children:(0,a.jsxs)("div",{className:"flex justify-between -mb-4 relative group/header-logo items-center w-full",style:{height:"var(--eleven-header-height)"},children:[(0,a.jsx)("div",{className:"flex opacity-100 group-aria-expanded/sidebar:group-focus-within/header-logo:opacity-100 group-focus-within/header-logo:opacity-0 group-aria-expanded/sidebar:group-hover/sidebar:opacity-100 group-hover/sidebar:opacity-0 transition-opacity duration-100",children:(0,a.jsx)(G,{isExpanded:r},"mainmenu")}),(0,a.jsx)("div",{className:"transition-all absolute right-0.5 duration-100 translate-x-0 opacity-0 group-aria-expanded/sidebar:opacity-100 focus-within:!opacity-100 group-hover/sidebar:opacity-100",children:(0,a.jsxs)(w.u,{children:[(0,a.jsx)(w.aJ,{asChild:!0,children:(0,a.jsx)(f.Button,{variant:"ghost",size:"md",className:"pointer-events-auto cursor-e-resize group-aria-expanded/sidebar:cursor-w-resize p-0 h-8 w-8 text-gray-500 hover:text-gray-alpha-950 duration-100 transition-colors",onMouseDown:e=>{e.preventDefault()},onClick:e=>{e.preventDefault();let t=!r;u(t),(0,N.eN)(C.B_.sidebar_navigation_toggled,{pinned:t})},children:r?(0,a.jsx)(D.CK,{className:"w-5 h-5"}):(0,a.jsx)(D.P3,{className:"w-5 h-5"})})}),(0,a.jsx)(w._v,{side:"right",sideOffset:20,children:r?"Close sidebar":"Open sidebar"})]})})]})}),(0,a.jsxs)("nav",{className:"flex h-full flex-1 flex-col grow min-h-0",id:"main-nav",children:[b&&(0,a.jsx)(z.Z,{className:"mt-2"}),(0,a.jsx)(g.$t,{isExpanded:r}),(0,a.jsxs)("div",{className:"mt-auto stack",children:[(0,a.jsx)("div",{className:"relative w-48 mb-1",children:x&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"absolute bottom-[3rem] center w-10 h-10 group-aria-expanded/sidebar:opacity-0 opacity-100 transition-opacity duration-150",children:(0,a.jsx)(I.$N,{})}),(0,a.jsx)("div",{className:"relative bottom-[1rem] px-0.5 w-[14.5rem] group-aria-expanded/sidebar:opacity-100 opacity-0 transition-opacity duration-150",children:(0,a.jsx)(I.ky,{})})]})}),(0,a.jsx)("div",{className:"px-3.5 mb-1",children:(0,a.jsx)(g.gJ,{isExpanded:r})}),b&&(0,a.jsx)("div",{className:"relative mb-1 px-3.5 flex",children:(0,a.jsx)(A.T,{trigger:T.k,side:"right",onOpenChange:(e,t)=>{if(e&&"auto"===t)return}})}),(0,a.jsx)(n.M,{initial:!1,children:(null===(t=m.workspaceData.value)||void 0===t?void 0:t.subscription.tier)==="free"&&(0,a.jsx)("div",{className:"px-3.5 w-full pb-1 pt-0.5",children:(0,a.jsxs)(w.u,{children:[(0,a.jsx)(w.aJ,{asChild:!0,children:(0,a.jsxs)(o.default,{href:p.VP.subscription,className:"relative w-full overflow-hidden group/upgrade z-1 p-0 isolate rounded-lg text-sm font-medium justify-center flex items-center gap-2 px-1.5 h-8","aria-label":"Upgrade subscription group",onClick:()=>{(0,N.eN)(C.B_.sidebar_upgrade_clicked)},children:[(0,a.jsx)("div",{className:"absolute ring-1 ring-inset group-hover/upgrade:ring-gray-300 ring-gray-200 rounded-lg z-10 inset-0 pointer-events-none"}),(0,a.jsx)("div",{className:"absolute inset-0 z-1",style:{backgroundImage:"repeating-linear-gradient(135deg, hsl(var(--background)), hsl(var(--background)) 4px, var(--gray-alpha-100) 4px, var(--gray-alpha-100) 8px)"}}),(0,a.jsx)("div",{className:"absolute inset-0 group-hover:!bg-gray-200",style:{backgroundImage:"linear-gradient(90deg, hsl(var(--background)), hsl(var(--background) / 0))"}}),(0,a.jsxs)("div",{className:"flex items-center gap-2 translate-x-[33px] group-aria-expanded/sidebar:translate-x-0 transition-transform duration-150",children:[(0,a.jsx)("div",{className:"w-5 h-5 flex items-center justify-center",children:(0,a.jsx)(D.Bk,{size:"18px",className:"relative"})}),(0,a.jsxs)("div",{className:"relative hstack transition-all duration-150 group-aria-expanded/sidebar:opacity-100 opacity-0 translate-x-1 group-aria-expanded/sidebar:translate-x-0",children:["Upgrade",(0,a.jsx)(s.E.div,{className:"absolute top-0 left-0 h-full w-full text-gray-200 hstack items-center opacity-70 gap-1.5",style:{maskSize:"300% 100%",WebkitMaskSize:"300% 100%",maskPosition:"100% 0",WebkitMaskPosition:"100% 0",maskImage:"linear-gradient(90deg, transparent 33%, #000, transparent 66%)",WebkitMaskImage:"linear-gradient(90deg, transparent 33%, #000, transparent 66%)"},animate:{maskPosition:["100% 0","100% 0","100% 0","100% 0","0 0","0 0","0 0","0 0"],WebkitMaskPosition:["100% 0","100% 0","100% 0","100% 0","0% 0","0% 0","0% 0","0% 0"]},transition:{duration:8,repeat:1/0,repeatDelay:4},children:"Upgrade"})]})]})]})}),(0,a.jsx)(w._v,{side:"right",sideOffset:20,style:{opacity:"var(--eleven-sidebar-collapsed)"},children:"Upgrade"})]})})}),r&&!(0,V.k4)(null===(i=m.workspaceData.value)||void 0===i?void 0:i.subscription.tier)&&(null===(l=m.workspaceData.value)||void 0===l?void 0:l.subscription.tier)!=="free"&&!j&&(0,a.jsx)(M.rK,{onDismissedClicked:()=>{_(!0),P.I.set(h,Date.now())}},"low-quota-div"),(0,a.jsx)("div",{className:"relative px-3.5 mt-1",children:(0,a.jsx)(F,{})})]})]})]})]})});t.Z=W},94846:function(e,t,i){"use strict";i.d(t,{C:function(){return p}});var a=i(68088),s=i(73862),n=i(23431);i(9506);var l=i(82710),r=i(88887),o=i(48246),c=i(20308),d=i(3030),u=i(96162),h=i(70140),m=i(55205);let p=()=>{var e,t,i;let l=(0,n.usePathname)(),p=(0,r.vo)();return(0,a.jsxs)(c.h_,{children:[(0,a.jsx)(c.$F,{asChild:!0,children:(null===(e=u.EA.value)||void 0===e?void 0:e.photoURL)?(0,a.jsx)("img",{className:"rounded-full h-7 w-7 shrink-0 bg-gray-50",src:u.EA.value.photoURL,alt:(null===(t=u.EA.value)||void 0===t?void 0:t.displayName)||(null===(i=u.EA.value)||void 0===i?void 0:i.email)||void 0}):(0,a.jsx)(d.h,{onClick:()=>{o.py.value=!0},variant:"outline",size:"lg","aria-label":"User Profile",children:(0,a.jsx)(m.o5,{className:"w-5 h-5"})})}),(0,a.jsx)(c.AW,{className:"w-56",side:"bottom",align:"end",sideOffset:20,children:p.map(e=>{if(!e||(null==e?void 0:e.type)==="separator"||(null==e?void 0:e.type)==="group")return null;if("button"===e.type)return(0,a.jsx)("div",{className:"w-full",children:(0,a.jsx)(c.Xi,{asChild:!0,className:"py-2.5",children:(0,a.jsx)("button",{type:"button",onClick:e.onClick,children:e.name})})},e.name);if("link"===e.type){let t="string"==typeof e.href?e.href:e.href();return(0,a.jsx)("div",{className:"w-full",children:(0,a.jsx)(c.Xi,{asChild:!0,className:"py-2.5",children:(0,a.jsx)(s.default,{href:t,className:(0,h.A)("w-full",{"bg-gray-50":l===e.href}),children:e.name})})},e.name)}return null})})]})};t.Z=()=>(0,a.jsx)("div",{className:"sticky top-0 z-10 border-b border-gray-200 bg-background py-2 md:py-3 lg:hidden",children:(0,a.jsxs)("div",{className:"flex items-center gap-x-3 px-3 lg:px-6",children:[(0,a.jsxs)("button",{type:"button",className:"p-2.5 text-gray-800 rounded-md lg:hidden hover:text-gray-900 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500",onClick:()=>{o.py.value=!0},children:[(0,a.jsx)("span",{className:"sr-only",children:"Open sidebar"}),(0,a.jsx)(m.zr,{className:"w-5 h-5","aria-hidden":"true"})]}),(0,a.jsx)(s.default,{href:"/","aria-label":"ElevenLabs Logo",className:"rounded-md p-1 pl-0 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-4",children:(0,a.jsx)(l.Logo,{isOpen:!0})}),(0,a.jsx)("div",{className:"flex-1"}),(0,a.jsx)(p,{})]})})},32472:function(e,t,i){"use strict";var a=i(68088),s=i(40534),n=i(81999),l=i(23431),r=i(32507),o=i(9506),c=i(82374),d=i(85286),u=i(89136),h=i(20308),m=i(11521),p=i(27411),v=i(60189),x=i(55205),g=i(48246),f=i(72508);function b(e){switch(e){case"audio":return(0,a.jsx)("img",{src:d.Z.src,alt:"Creative Platform",className:"w-full h-full object-cover",role:"presentation"});case"convai":return(0,a.jsx)("img",{src:u.Z.src,alt:"Conversational AI",className:"w-full h-full object-cover",role:"presentation"})}}t.Z=(0,n.Pi)(function(e){var t,i;let{className:n,hideTooltip:d}=e,{audioPlatform:u,conversationalAiPlatform:y}=(0,f.d)(),j=(0,l.useRouter)(),_=(0,r.dl)("sidebar_platform_switcher"),[w,k]=(0,c._)("xi-preserve:sidebar-platform-switcher-tooltip-open",!0),[N,C]=(0,o.useState)(!1),S=(null===(t=g.cY.value)||void 0===t?void 0:t.storageKey)==="convai"?"convai":"audio",E="convai"===S?y:u,P=null===(i=u.groups.flatMap(e=>e.items).filter(e=>"name"in e).find(e=>{var t;return(null===(t=e.submenu)||void 0===t?void 0:t.storageKey)==="convai"}))||void 0===i?void 0:i.submenu;return _?(0,a.jsx)("div",{className:(0,v.cn)("px-3.5 w-full flex flex-col relative z-20",n),children:(0,a.jsxs)(p.u,{open:w&&!N&&!d,disableHoverableContent:!1,children:[(0,a.jsxs)("div",{className:"flex items-center relative w-full",children:[(0,a.jsx)(p.aJ,{className:"flex h-8 w-full pointer-events-none absolute inset-0",role:"tooltip",asChild:!0,children:(0,a.jsx)("span",{})}),(0,a.jsxs)(h.h_,{open:N,onOpenChange:C,children:[(0,a.jsx)(h.$F,{asChild:!0,children:(0,a.jsx)("button",{className:"group/main-nav-item rounded-lg outline-foreground","aria-label":"Platform switcher. Click to switch platforms.",children:(0,a.jsx)(g.oo,{name:E.displayName,caret:!0,isSwitcher:!0,icon:(0,a.jsxs)("div",{className:"w-5 h-5 flex items-center justify-center rounded-md relative text-white bg-black",children:[(0,a.jsx)("div",{className:"flex absolute inset-0 w-full h-full rounded-[inherit] overflow-hidden",children:b(S)}),(0,a.jsx)("div",{className:"relative z-20",children:(0,a.jsx)(E.icon,{})}),(0,a.jsxs)("div",{"aria-hidden":"true",className:(0,v.cn)("flex absolute inset-0",function(e){switch(e){case"audio":case"convai":return"text-gray-500 opacity-50"}}(S)),children:[(0,a.jsx)("div",{className:"absolute -left-1 -top-1",children:(0,a.jsx)(s.E.span,{className:"flex",animate:{scale:[0,1.1,0],rotate:[0,180],transition:{duration:1.3,repeat:1/0,repeatDelay:10}},children:(0,a.jsx)(x.T0,{className:"w-1.5 h-1.5"})})}),(0,a.jsx)("div",{className:"absolute -right-1 -top-1",children:(0,a.jsx)(s.E.span,{className:"flex",animate:{scale:[0,1.3,0],rotate:[0,220],transition:{duration:1.3,repeat:1/0,repeatDelay:10,delay:.2}},children:(0,a.jsx)(x.T0,{className:"w-1.5 h-1.5"})})}),(0,a.jsx)("div",{className:"absolute -right-1 -bottom-1",children:(0,a.jsx)(s.E.span,{className:"flex",animate:{scale:[0,1.1,0],rotate:[0,280],transition:{duration:1.3,repeat:1/0,repeatDelay:10,delay:.32}},children:(0,a.jsx)(x.T0,{className:"w-1.5 h-1.5"})})})]})]})})})}),(0,a.jsx)(h.AW,{side:"bottom",align:"start",sideOffset:8,onCloseAutoFocus:e=>e.preventDefault(),children:[u,y].map((e,t,i)=>(0,a.jsxs)(o.Fragment,{children:[(0,a.jsx)(h.Xi,{children:(0,a.jsxs)("button",{className:"flex gap-2 items-center group py-0.5 relative pr-4 w-full text-left","aria-selected":S===e.platform,"aria-label":"Switch to ".concat(e.displayName,". ").concat(e.description),onClick:()=>{"convai"===e.platform?g.cY.value=P||null:g.cY.value=null,j.push(e.rootPath)},children:[(0,a.jsxs)("div",{className:"h-7 w-7 relative rounded-lg text-white flex items-center justify-center",children:[(0,a.jsx)("div",{className:"flex absolute -inset-[2px] ring-2 ring-gray-alpha-950 rounded-[10px] opacity-0 group-aria-selected:opacity-100 duration-200 scale-95 group-aria-selected:scale-100 transition-all"}),(0,a.jsx)("div",{className:"flex rounded-[inherit] overflow-hidden absolute inset-0",children:b(e.platform)}),(0,a.jsx)("span",{className:"flex relative z-20 scale-125",children:(0,a.jsx)(e.icon,{})})]}),(0,a.jsxs)("div",{className:"flex flex-col ml-0.5",children:[(0,a.jsx)(m.x,{weight:"medium",children:e.displayName}),(0,a.jsx)(m.x,{size:"xs",className:"text-gray-alpha-500 -mt-px",children:e.description})]})]})}),t!==i.length-1&&(0,a.jsx)(h.VD,{})]},e.platform))})]})]}),(0,a.jsxs)(p._v,{side:"bottom",align:"start",sideOffset:4,className:"w-radix-tooltip-trigger rounded-[10px] min-w-[227px] p-3 animate-fade-in",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1 -mt-0.5 mb-0.5",children:[(0,a.jsx)(x.qK,{}),(0,a.jsx)("p",{className:"text-xm font-medium",children:"Switch Platform"})]}),(0,a.jsx)("p",{className:"text-xs leading-normal text-background font-normal opacity-80",children:"Navigation between Creative Platform and Conversational AI has moved to the top of the sidebar."}),(0,a.jsx)("div",{className:"flex w-full mt-2.5",children:(0,a.jsx)("button",{onClick:()=>k(!1),className:"w-full flex items-center pointer-events-auto hover:opacity-90 transition-opacity duration-100 justify-center rounded-md h-7 bg-background text-foreground font-semibold text-xs",children:"Got it"})}),(0,a.jsx)(p.Ce,{})]})]})}):null})},87208:function(e,t,i){"use strict";i.d(t,{H:function(){return a},K:function(){return s}});let a="xi-preserve:last-platform-key",s="xi:last-sidebar-submenu"},72508:function(e,t,i){"use strict";i.d(t,{d:function(){return g}});var a=i(68088),s=i(42454),n=i(32507),l=i(9506),r=i(43479),o=i(14360),c=i(19613),d=i(60358),u=i(55205),h=i(4735),m=i(99348),p=i(63415),v=i(85753),x=i(48246);let g=()=>{let e=(0,o.eL)(),t=(0,n.dl)("productions"),{isProducer:i,isTeamLead:g}=(0,c.y)(),f=(0,o.JS)(),b=(0,m.d)().isolatedEnv.isolated,y=(0,n.dl)("sidebar_platform_switcher"),j=(0,l.useMemo)(()=>e=>{let t=new URLSearchParams;"convai"===e&&t.append("use_cases","conversational");let i=b?d.VP.voiceLab:d.VP.voiceLibrary;return t.size>0&&(i+="?".concat(t.toString())),{name:"Voices",href:i,icon:u.pY,patterns:["/app/voice-library/:other*","/app/voice-lab/:other*","/app/default-voices/:other*"],source:e,action:(0,a.jsx)(r.qu,{trigger:(0,a.jsxs)(h.Button,{className:"relative px-0.5 py-0.5 h-[1.375rem] w-[1.375rem] min-w-0 border border-gray-alpha-200 hover:border-gray-alpha-300 overflow-hidden rounded-[6px] right-1 hover:text-gray-950 group/trigger transition-colors duration-150","aria-label":"Create a voice",size:"xs",onClick:()=>{x.py.value=!1,(0,p.eN)(v.B_.sidebar_add_new_voice_initiated,{variant:"a"})},children:[(0,a.jsx)("div",{className:"absolute top-0 right-0 bottom-0 left-0 bg-background hover:bg-background"}),(0,a.jsx)(s.Z,{className:"relative w-3 h-3 opacity-50 group-hover/trigger:opacity-70 transition-opacity duration-150",strokeWidth:2.5})]})})}},[b]),_=(0,l.useCallback)(t=>[{items:[{name:"Home",href:d.VP.conversationalAiDashboard,icon:u.p3,patterns:["/app/conversational-ai"]}]},{title:"Build",items:[{name:"Agents",href:d.VP.conversationalAi,icon:u.$I,patterns:["/app/conversational-ai/agents/:other*","/app/conversational-ai/talk-to/:other"]},{name:"Knowledge Base",href:d.VP.conversationalAiKnowledgeBase,icon:u.tu,patterns:["/app/conversational-ai/knowledge-base/:other*"]},{name:"Tools",href:d.VP.conversationalAiTools,icon:u.Nj,patterns:["/app/conversational-ai/tools/:other*"],badge:"New"},j(t)]},{title:"Evaluate",items:[{name:"Conversations",href:d.VP.conversationalAiHistory,icon:u.oH,patterns:["/app/conversational-ai/history/:other*"]},{name:"Tests",href:d.VP.conversationalAiTests,icon:u.uZ,patterns:["/app/conversational-ai/agent-testing/:other*"],badge:"New",hidden:!e}]},{title:"Integrations",hidden:!f,items:[{name:"Integrations",href:d.VP.conversationalAiIntegrations,icon:u.If,patterns:["/app/conversational-ai/integrations/:other*"],hidden:!f}]},{title:"Telephony",items:[{name:"Phone Numbers",href:d.VP.conversationalAiPhoneNumbers,icon:u.ZJ,patterns:["/app/conversational-ai/phone-numbers/:other*"]},{name:"Outbound",href:d.VP.conversationalAiBatchCalling,icon:u.cK,patterns:["/app/conversational-ai/batch-calling/:other*"]}]},{items:[{name:"Settings",href:d.VP.conversationalAiSettings,icon:u.ME,patterns:["/app/conversational-ai/settings"]}]}],[b,f,e]),w=(0,l.useMemo)(()=>({platform:"audio",rootPath:d.VP.home,displayName:"Creative Platform",description:"Create AI audio",icon:u.QV,groups:[{items:[{name:"Home",href:d.VP.home,icon:u.p3,patterns:[d.VP.home+"/:other*"]},j()]},{title:"Playground",items:[{name:"Text to Speech",href:d.VP.tts,icon:u.t6,patterns:[d.VP.tts+"/:other*"]},{name:"Voice Changer",href:d.VP.sts,icon:u.xX,patterns:[d.VP.sts+"/:other*"]},{name:"Sound Effects",href:d.VP.soundEffects,icon:u.qP,patterns:["/app/sound-effects/:other*"]},{name:"Voice Isolator",href:d.VP.voiceIsolator,icon:u.S0,patterns:["/app/voice-isolator/:other*"]}]},{title:"Products",items:[{name:"Studio",href:d.VP.studio,icon:u.Cy,patterns:["/app/projects/:other*","/app/studio/:other*"]},{name:"Dubbing",href:b?void 0:d.VP.dubbing,icon:u.j,patterns:["/app/dubbing/:other*"],hidden:b},{name:"Conversational AI",href:d.VP.conversationalAiDashboard,icon:u.Bo,patterns:["/app/conversational-ai/:other*"],hidden:y,submenu:{storageKey:"convai",groups:_("convai")}},{name:"Speech to Text",href:d.VP.stt,icon:u._T,patterns:["".concat(d.VP.stt,"/:other*")]},{name:"Productions",href:d.VP.productions,hidden:!t||b,badge:"Alpha",icon:u.Fl,patterns:["/app/productions","/app/productions/:collectionId/:productionId"]}]},{title:"Productions",hidden:!i,items:[{name:"Producer Mode",href:d.VP.productionsActive,icon:u.GE,patterns:["/app/productions/:other"],submenu:{storageKey:"productions",groups:[{items:[{name:"Home",href:d.VP.productionsActive,icon:u.Fl,patterns:["/app/productions/active","/app/productions/unclaimed"]},{name:"My Teams",href:d.VP.productionsDashboard,hidden:!g,icon:u.Jo,patterns:["/app/productions/dashboard"]},{name:"History",href:d.VP.productionsHistory,icon:u.oH,patterns:["/app/productions/history"]},{name:"Settings",href:d.VP.productionsSettings,icon:u.ME,patterns:["/app/productions/settings"]}]}]}}]}]}),[j,b,t,i,g,f,y,_]),k=(0,l.useMemo)(()=>({platform:"convai",rootPath:d.VP.conversationalAiDashboard,displayName:"Conversational AI",description:"Build and manage your AI agents",icon:u.wr,groups:_("audio")}),[f,_]),N=(0,l.useMemo)(()=>w.groups.filter(e=>!e.hidden&&e.items.some(e=>!e.hidden)),[w]);return(0,l.useMemo)(()=>({audioPlatform:w,conversationalAiPlatform:k,items:N}),[w,k,N])}},93062:function(e,t,i){"use strict";i.d(t,{Cl:function(){return g},h8:function(){return x},jE:function(){return _},vF:function(){return v}});var a=i(17024),s=i(68088),n=i(6991),l=i(21276),r=i(40534),o=i(5479),c=i(81999),d=i(74508),u=i(20807),h=i(11521),m=i(60189),p=i(82710);class v{goToPrev(){this.activeStep.prev&&this.setActiveStepId(this.activeStep.prev.id)}goToNext(){this.activeStep.next&&this.setActiveStepId(this.activeStep.next.id)}setActiveStepId(e){this.activeStepId=e}get activeStep(){return this.steps.find(e=>e.id===this.activeStepId)}constructor(e){(0,a._)(this,"steps",void 0),(0,a._)(this,"activeStepId",void 0),(0,a._)(this,"disabled",!1),this.steps=e.map(e=>new e(this)),this.setActiveStepId(this.steps[0].id),(0,o.rC)(this,{activeStepId:o.LO.ref,disabled:o.LO,activeStep:o.Fl,setActiveStepId:o.aD,goToPrev:o.aD,goToNext:o.aD})}}class x{get index(){return this.stepper.steps.findIndex(e=>e.id===this.id)}get prev(){return this.stepper.steps[this.index-1]}get next(){return this.stepper.steps[this.index+1]}get isActive(){return this.stepper.activeStep.id===this.id}get isComplete(){return this._complete}get isDisabled(){return this.stepper.disabled?this.stepper.disabled:!!this.prev&&!this.prev.isComplete}setComplete(e){return this._complete=e}constructor(e){(0,a._)(this,"stepper",void 0),(0,a._)(this,"id",(0,d.k$)()),(0,a._)(this,"_complete",null),this.stepper=e,(0,o.rC)(this,{_complete:o.LO.ref,setComplete:o.aD})}}let g=async(e,t)=>{try{return e.disabled=!0,await t()}finally{e.disabled=!1}},f=e=>{let{status:t}=e;return(0,s.jsx)("div",{className:(0,m.cn)("h-[5px] w-[5px] min-w-[5px]  min-h-[5px] rounded-full","complete"===t?"bg-green-400":"bg-gray-alpha-300")})},b=(0,c.Pi)(e=>{let{step:t}=e;return(0,s.jsxs)(l.xz,{className:(0,m.cn)("relative hstack gap-2 items-center h-7 px-3 text-start disabled:opacity-40 aria-disabled:opacity-40 outline-foreground rounded-lg"),value:t.id,disabled:t.isDisabled,children:[(0,s.jsx)(f,{status:t.isComplete?"complete":"incomplete"}),(0,s.jsxs)("div",{className:"relative inline-block",children:[(0,s.jsx)(h.x,{className:"invisible",size:"sm",weight:"semi-bold",children:t.label}),(0,s.jsx)(h.x,{className:"overlay",size:"sm",weight:t.isActive?"semi-bold":"normal",children:t.label})]})]})}),y=e=>{let{className:t}=e;return(0,s.jsx)(r.E.div,{className:(0,m.cn)("h-10 w-10 rounded-lg p-3 px-[15px]",t),style:{boxShadow:"0px 2px 2px rgba(0, 0, 0, 0.10), 0px 0px 2px rgba(0, 0, 0, 0.10)"},children:(0,s.jsx)(p.Logo,{isOpen:!1})})},j=e=>{let{stepper:t,title:i,icon:a=(0,s.jsx)(y,{}),actions:o}=e,{i18n:c}=(0,n.mV)();return(0,s.jsx)("div",{className:"sticky top-36 h-0",children:(0,s.jsxs)(r.E.div,{className:(0,m.cn)("absolute top-0 left-0 -translate-x-full px-14 min-w-[10rem]"),style:{visibility:"hidden"},whileInView:{visibility:"visible"},viewport:{amount:"all"},children:[(0,s.jsx)("div",{className:"absolute -top-5 -translate-y-full",children:a}),(0,s.jsx)(u.X,{size:"lg",children:i}),(0,s.jsx)(l.fC,{className:"my-2.5 -ml-3",value:t.activeStep.id,onValueChange:e=>{t.setActiveStepId(e)},children:(0,s.jsx)(l.aV,{className:"stack gap-1","aria-label":c.t("Manage your account"),children:t.steps.map(e=>(0,s.jsx)(b,{step:e},e.id))})}),o]})})},_=(0,c.Pi)(e=>{let{stepper:t,title:i,children:a,icon:n,stepsActions:l,classes:r}=e;return(0,s.jsx)("div",{className:"pt-0 md:pt-16 lg:pt-36 pb-0 md:pb-6 lg:pb-6",children:(0,s.jsxs)("div",{className:(0,m.cn)("relative mx-auto max-w-xl",null==r?void 0:r.container),children:[(0,s.jsx)(j,{stepper:t,title:i,icon:n,actions:l}),a]})})})},28994:function(e,t,i){"use strict";i.d(t,{CH:function(){return h},Mw:function(){return v},Ou:function(){return p},Tg:function(){return d},X$:function(){return c},XQ:function(){return u},nR:function(){return m}});var a=i(68088),s=i(6991);i(9506);var n=i(96474),l=i(22869),r=i(29815),o=i(11521);function c(e){let{i18n:t}=(0,s.mV)(),{value:i}=e;return(0,a.jsxs)("div",{className:"stack gap-1.5 w-full",children:[(0,a.jsxs)("div",{className:"hstack gap-0.5 items-center justify-between",children:[(0,a.jsx)(n.Label,{htmlFor:"stability-slider",className:"w-fit underline decoration-dotted underline-offset-2 decoration-gray-alpha-400 select-none",tooltip:t.t("Increasing stability will make the voice more consistent between re-generations, but it can also make it sounds a bit monotone. On longer text fragments we recommend lowering this value."),onDoubleClick:e.onReset,children:(0,a.jsx)(s.cC,{id:"/sL+/p"})}),null!=i&&i<.3&&(0,a.jsx)(o.x,{size:"xs",className:"h-4 text-orange-400 truncate",children:(0,a.jsx)(s.cC,{id:"R19u4h"})})]}),(0,a.jsxs)("div",{className:"hstack justify-between",children:[(0,a.jsx)(n.Label,{size:"xs",color:"subtle",weight:"normal",children:(0,a.jsx)(s.cC,{id:"SjsPQu"})}),(0,a.jsx)(n.Label,{size:"xs",color:"subtle",weight:"normal",children:(0,a.jsx)(s.cC,{id:"3xm05L"})})]}),(0,a.jsx)(l.i,{elId:"voiceStabilitySettingSlider",id:"stability-slider","aria-label":t.t("Stability"),min:0,max:1,formatter:l.$.percentage,value:null===i?0:i,onValueChange:e.onValueChange,onValueCommit:e.onValueCommit,onThumbDoubleClick:e.onReset,disabled:e.disabled,step:.01})]})}function d(e){let{i18n:t}=(0,s.mV)();return(0,a.jsxs)("div",{className:"stack gap-1.5 w-full",children:[(0,a.jsx)(n.Label,{htmlFor:"clarity-slider",className:"w-fit underline decoration-dotted underline-offset-2 decoration-gray-alpha-400 select-none",tooltip:t.t("High enhancement boosts overall voice clarity and target speaker similarity. Very high values can cause artifacts, so adjusting this setting to find the optimal value is encouraged."),onDoubleClick:e.onReset,children:(0,a.jsx)(s.cC,{id:"/eJX8N"})}),(0,a.jsxs)("div",{className:"hstack justify-between",children:[(0,a.jsx)(n.Label,{size:"xs",color:"subtle",weight:"normal",children:(0,a.jsx)(s.cC,{id:"nTWWCZ"})}),(0,a.jsx)(n.Label,{size:"xs",color:"subtle",weight:"normal",children:(0,a.jsx)(s.cC,{id:"yx/fMc"})})]}),(0,a.jsx)(l.i,{elId:"voiceSimilaritySettingSlider",id:"clarity-slider","aria-label":t.t("Similarity"),min:0,max:1,formatter:l.$.percentage,value:null===e.value?0:e.value,onValueChange:e.onValueChange,onValueCommit:e.onValueCommit,onThumbDoubleClick:e.onReset,disabled:e.disabled,step:.01})]})}function u(e){let{i18n:t}=(0,s.mV)();return(0,a.jsxs)("div",{className:"stack gap-1.5 w-full",children:[(0,a.jsxs)("div",{className:"hstack gap-0.5 items-center justify-between",children:[(0,a.jsx)(n.Label,{htmlFor:"style-slider",className:"w-fit underline decoration-dotted underline-offset-2 decoration-gray-alpha-400 select-none",tooltip:t.t("High values are recommended if the style of the speech should be exaggerated compared to the uploaded audio. Higher values can lead to more instability in the generated speech. Setting this to 0.0 will greatly increase generation speed and is the default setting."),onDoubleClick:e.onReset,children:(0,a.jsx)(s.cC,{id:"NKLMh5"})}),null!=e.value&&e.value>.5&&(0,a.jsx)(o.x,{size:"xs",className:"h-4 text-orange-400 truncate",children:(0,a.jsx)(s.cC,{id:"zcSJsY"})})]}),(0,a.jsxs)("div",{className:"hstack justify-between",children:[(0,a.jsx)(n.Label,{size:"xs",color:"subtle",weight:"normal",children:(0,a.jsx)(s.cC,{id:"EdQY6l"})}),(0,a.jsx)(n.Label,{size:"xs",color:"subtle",weight:"normal",children:(0,a.jsx)(s.cC,{id:"IW/5aH"})})]}),(0,a.jsx)(l.i,{elId:"voiceStyleExaggerationSettingSlider",id:"style-slider","aria-label":t.t("Style Exaggeration"),formatter:l.$.percentage,min:0,max:1,value:null===e.value?0:e.value,onValueChange:e.onValueChange,onValueCommit:e.onValueCommit,onThumbDoubleClick:e.onReset,disabled:e.disabled,step:.01})]})}function h(e){var t;let{i18n:i}=(0,s.mV)();return(0,a.jsxs)("div",{className:"hstack gap-2 w-full",children:[(0,a.jsx)(r.r,{elId:"speakerBoostSwitch",id:"speaker-boost-switch",disabled:e.disabled,checked:null!==(t=e.value)&&void 0!==t&&t,onCheckedChange:e.onValueChange}),(0,a.jsx)(n.Label,{htmlFor:"speaker-boost-switch",className:"cursor-pointer w-fit underline decoration-dotted underline-offset-2 decoration-gray-alpha-400",tooltip:i.t("Boost the similarity of the synthesized speech and the voice at the cost of some generation speed."),size:"sm",weight:"medium",children:(0,a.jsx)(s.cC,{id:"Ho0M9s"})})]})}function m(e){var t;let{i18n:i}=(0,s.mV)();return(0,a.jsxs)("div",{className:"hstack gap-2 w-full",children:[(0,a.jsx)(r.r,{elId:"removeBackgroundNoiseSwitch",id:"remove-background-noise-switch",checked:null!==(t=e.value)&&void 0!==t&&t,onCheckedChange:e.onValueChange}),(0,a.jsx)(n.Label,{htmlFor:"remove-background-noise-switch",className:"cursor-pointer w-fit underline decoration-dotted underline-offset-2 decoration-gray-alpha-400",tooltip:i.t("Remove the background noise from your audio input. Only applies to Voice Changer."),size:"sm",weight:"medium",children:(0,a.jsx)(s.cC,{id:"EwCQAR"})})]})}function p(e){let{i18n:t}=(0,s.mV)(),{value:i}=e;return(0,a.jsxs)("div",{className:"stack gap-1.5",children:[(0,a.jsx)("div",{className:"hstack gap-0.5 items-center justify-between",children:(0,a.jsx)(n.Label,{htmlFor:"stability-slider",className:"w-fit underline decoration-dotted underline-offset-2 decoration-gray-alpha-400 select-none",tooltip:t.t("Volume of this voice. Changing that will not require re-generating the paragraphs."),onDoubleClick:e.onReset,children:(0,a.jsx)(s.cC,{id:"/cF7Rs"})})}),(0,a.jsxs)("div",{className:"hstack justify-between",children:[(0,a.jsx)(n.Label,{size:"xs",color:"subtle",weight:"normal",children:(0,a.jsx)(s.cC,{id:"PvcZ/a"})}),(0,a.jsx)(n.Label,{size:"xs",color:"subtle",weight:"normal",children:(0,a.jsx)(s.cC,{id:"F4JSnT"})})]}),(0,a.jsx)(l.i,{elId:"voiceStabilitySettingSlider",id:"stability-slider","aria-label":t.t("Stability"),min:-30,max:5,formatter:l.$.default,value:null===i?0:i,onValueChange:e.onValueChange,onValueCommit:e.onValueCommit,onThumbDoubleClick:e.onReset,disabled:e.disabled,step:.01})]})}function v(e){var t;let{i18n:i}=(0,s.mV)();return(0,a.jsxs)("div",{className:"stack gap-1.5 w-full",children:[(0,a.jsx)("div",{className:"hstack gap-0.5 items-center justify-between",children:(0,a.jsx)(n.Label,{htmlFor:"speech-speed-slider",className:"w-fit underline decoration-dotted underline-offset-2 decoration-gray-alpha-400 select-none",tooltip:i.t("Controls the speed of the generated speech. Values below 1.0 will slow down the speech, while values above 1.0 will speed it up. Extreme values may affect the quality of the generated speech."),onDoubleClick:e.onReset,children:(0,a.jsx)(s.cC,{id:"l9wI00"})})}),(0,a.jsxs)("div",{className:"hstack justify-between",children:[(0,a.jsx)(n.Label,{size:"xs",color:"subtle",weight:"normal",children:(0,a.jsx)(s.cC,{id:"w625t8"})}),(0,a.jsx)(n.Label,{size:"xs",color:"subtle",weight:"normal",children:(0,a.jsx)(s.cC,{id:"qmIOJX"})})]}),(0,a.jsx)(l.i,{elId:"voiceSpeechSpeedSettingSlider",id:"speech-speed-slider","aria-label":i.t("Speed"),min:.7,max:1.2,value:null!==(t=e.value)&&void 0!==t?t:1,onValueChange:e.onValueChange,onValueCommit:e.onValueCommit,onThumbDoubleClick:e.onReset,disabled:e.disabled,step:.01})]})}},29047:function(e,t,i){"use strict";i.d(t,{i:function(){return d}});var a=i(68088),s=i(6991),n=i(81999),l=i(32507);i(9506);var r=i(60358),o=i(50113),c=i(11521);let d=(0,n.Pi)(e=>{let{trainingUse:t}=e,{i18n:i}=(0,s.mV)();return(0,l.dl)("training-disclosure")?(0,a.jsx)(c.x,{size:"xs",color:"subtle",className:"text-center",children:!1===t?i.t("Your workspace data isn't used to train our models."):(0,a.jsx)(s.cC,{id:"uqOENe",components:{0:(0,a.jsx)(o.Un,{href:r.ZP.privacyprivacy,target:"_blank"})}})}):(0,a.jsx)(a.Fragment,{})})},65349:function(e,t,i){"use strict";var a=i(68088),s=i(6991),n=i(46736),l=i(40534),r=i(81999),o=i(73862),c=i(9506),d=i(10258),u=i(52389),h=i(26897),m=i(1851),p=i(60358),v=i(92234),x=i(72228),g=i(4735),f=i(96474),b=i(30583),y=i(11521),j=i(84106),_=i(25933),w=i(63415),k=i(85753),N=i(60189);let C=(0,r.Pi)(e=>{var t,i;let{voice:r,onAdded:C,path:S,setPath:E}=e,{i18n:P}=(0,s.mV)(),[V,D]=(0,c.useState)(!1),[A,T]=(0,c.useState)(null),I=(0,d.XM)(),M=(null==r?void 0:r.name)||"",z=(0,c.useMemo)(()=>r?(0,u.Uw)((0,u.cS)(r)):{},[r]),L=async()=>{if(r){D(!0);try{let{voice_id:e}=await I(r.public_owner_id,r.voice_id,M);D(!1),T(e),(0,w.eN)(k.B_.suggested_voice_added),C(e)}catch(e){D(!1),(0,j.toast)(P.t("Error Adding Voice!"),{id:"voice-add-error",description:e,action:null,duration:1e4})}}},R=!((null===(i=m.workspaceData.value)||void 0===i?void 0:null===(t=i.subscription)||void 0===t?void 0:t.tier)==="free"&&(null==r?void 0:r.free_users_allowed)===!1);return(0,a.jsxs)(b.ue,{className:"stack p-0 gap-0 w-full",children:[(0,a.jsx)(b.Tu,{className:"px-5 pt-5 pb-5",children:(0,a.jsx)(b.bC,{className:"hstack items-center gap-3"})}),(0,a.jsx)("div",{className:"relative flex-1 min-h-0 overflow-hidden",children:r&&(0,a.jsx)(n.M,{children:1===S.length&&(0,a.jsxs)(l.E.div,{className:"overlay w-full h-full overflow-auto stack gap-5 px-5 py-5",initial:{x:-70,opacity:0},animate:{x:0,opacity:1},exit:{x:-70,opacity:0},transition:{opacity:{duration:.15},x:{type:"spring",mass:.25,stiffness:100,damping:10}},children:[(0,a.jsx)("div",{className:"w-full stack gap-3",children:(0,a.jsxs)("div",{className:"w-full items-center hstack gap-3",children:[(0,a.jsx)(v.v,{voice:r,size:"2.5rem",showPreview:!0}),(0,a.jsx)(y.x,{size:"lg",weight:"semi-bold",className:"max-w-sm",truncate:!0,children:M})]})}),(0,a.jsxs)("div",{className:"w-full stack gap-2",children:[(0,a.jsx)(f.Label,{children:(0,a.jsx)(s.cC,{id:"Nu4oKW"})}),(0,a.jsx)(y.x,{size:"sm",children:r.description})]}),(0,a.jsxs)("div",{className:"w-full stack gap-2",children:[(0,a.jsx)(f.Label,{children:(0,a.jsx)(s.cC,{id:"h8DugX"})}),(0,a.jsx)(x.k,{variant:"secondary",limit:8,children:Object.values(z).map(e=>(0,a.jsx)(x.Ct,{children:e},e))})]}),(0,a.jsxs)("div",{className:"w-full stack gap-2",children:[(0,a.jsx)(f.Label,{children:(0,a.jsx)(s.cC,{id:"mSjQYg"})}),(0,a.jsx)(h.yY,{voice:r,isOwner:!1,disabled:!1,iconOnly:!1,includeTypeBadge:!0})]}),(0,a.jsxs)("div",{className:"w-full stack gap-2",children:[(0,a.jsx)(f.Label,{children:(0,a.jsx)(s.cC,{id:"2NbyY/"})}),(0,a.jsx)(h.dE,{voice:r})]}),(0,a.jsxs)("div",{className:"hstack gap-2",children:[(0,a.jsx)(b.sw,{asChild:!0,children:(0,a.jsx)(g.Button,{disabled:null===r,variant:"outline",className:"py-1.5",onClick:()=>{},children:(0,a.jsx)(s.cC,{id:"yz7wBu"})})}),(0,a.jsx)(_.Tooltip,{label:R?null:P.t("You must be a paid subscriber to use this voice. Please upgrade your subscription to start using it."),shouldWrapChildren:!0,children:(0,a.jsx)(g.Button,{variant:"primary",className:(0,N.cn)("rounded-full","w-full"),onPointerDown:e=>{e.stopPropagation()},disabled:null===r||!1===R,loading:V,onClick:()=>{L()},"aria-label":P.t("Add to My Voices"),children:(0,a.jsx)(s.cC,{id:"Vvb9up"})})})]}),(0,a.jsx)("div",{className:"flex-1"}),(0,a.jsx)("div",{className:"hstack gap-2",children:(0,a.jsx)(g.Button,{className:"w-full py-1.5",children:(0,a.jsx)(o.default,{target:"_blank",href:p.VP.voiceLibrary,children:(0,a.jsx)(s.cC,{id:"ZOmT8m"})})})})]},"add_voice")})})]})});t.Z=e=>{let[t,i]=(0,c.useState)(["add_voice"]);return(0,a.jsx)(b.yo,{open:e.open,onOpenChange:t=>{t?i(["add_voice"]):e.onCancel(),e.openChange(t)},children:(0,a.jsx)(C,{...e,path:t,setPath:i})})}},92234:function(e,t,i){"use strict";i.d(t,{v:function(){return m}});var a=i(68088),s=i(6991),n=i(81999);i(9506);var l=i(10258),r=i(26897),o=i(42032),c=i(80705),d=i(60189),u=i(26090),h=i(75611);let m=(0,n.Pi)(e=>{let{voice:t,showPreview:i=!1,hideIndicator:n=!1,size:m="1rem",mobilePlayVisibility:p="never",onPlayChange:v,customAvatar:x,playWithGlobalPlayer:g=!0,showOnlyHighQualityIndicator:f=!1}=e,{i18n:b}=(0,s.mV)(),y=(0,h.N)(),j=g?u.yA.value&&!!u.Qu.value&&u.Qu.value.id===t.preview_url:(null==y?void 0:y.isPlaying)&&(null==y?void 0:y.currentVoiceId)===t.voice_id;return(0,a.jsxs)("div",{className:"relative group",style:{height:m,width:m},children:[(0,a.jsx)("div",{className:(0,d.cn)("block opacity-100 transition-opacity duration-100"),children:x||(0,a.jsx)(o.qE,{size:"100%",id:t.voice_id,name:t.name})}),(0,a.jsx)("div",{className:(0,d.cn)("overlay opacity-0 md:group-hover:opacity-100 focus-within:opacity-100 transition-opacity duration-100","never"===p?"opacity-0":"opacity-100"),style:{opacity:j?100:void 0},children:i&&t.preview_url&&(0,a.jsx)(c.J,{playing:j,onPlay:()=>{g?(0,l.d4)(t.preview_url,t.name,t.voice_id,void 0,(0,l.SA)(t),!0):h.h.play(t.preview_url,t.voice_id),null==v||v(!0)},onPause:()=>{g?(0,u.pt)():h.h.stop(),null==v||v(!1)},onClick:e=>{e.stopPropagation()},variant:"primary","aria-label":t.name+" "+b.t("preview"),className:"h-full w-full rounded-full",elId:"voiceItemPlayPreview",elContext:"id:".concat(t.voice_id,";name:").concat(t.name)})}),!n&&(0,a.jsx)(r.G7,{showOnlyHighQualityIndicator:f,category:t.category,size:"min(calc(".concat(m," * 0.625), 2rem)")})]})})},8020:function(e,t,i){"use strict";i.d(t,{Q:function(){return F},d:function(){return M}});var a=i(68088),s=i(6991),n=i(23586),l=i(66046),r=i.n(l),o=i(75051),c=i(81999),d=i(73862),u=i(9506),h=i(82374),m=i(10258),p=i(52389),v=i(16130),x=i(60358),g=i(26090),f=i(42032),b=i(47230),y=i(72081),j=i(8120),_=i(72228),w=i(4735),k=i(69881),N=i(80705),C=i(64755),S=i(11521),E=i(29554),P=i(63415),V=i(85753),D=i(60189),A=i(15750),T=i(65349),I=i(75611);let M=(0,c.Pi)(e=>{var t,i,n;let{voice:l,metadata:r={},showPreview:o=!0,className:c,showBadges:d,playWithGlobalPlayer:h=!0,formStylingSize:p,...v}=e,{i18n:x}=(0,s.mV)(),b=(0,u.useRef)(null),j=[null===(t=l.labels)||void 0===t?void 0:t.language,null===(i=l.labels)||void 0===i?void 0:i.descriptive,null===(n=l.labels)||void 0===n?void 0:n.use_case].filter(e=>!!e),[w,k]=(0,u.useState)(!1),[C,E]=(0,u.useState)(j.length),P=(0,I.N)();(0,u.useLayoutEffect)(()=>{var e,t,i,a;(null===(e=b.current)||void 0===e?void 0:e.scrollWidth)&&(null===(t=b.current)||void 0===t?void 0:t.offsetWidth)&&(null===(i=b.current)||void 0===i?void 0:i.scrollWidth)>(null===(a=b.current)||void 0===a?void 0:a.offsetWidth)&&E(Math.max(C-1,1))},[C]);let V=()=>k(!0),A=()=>k(!1),T=l.name,M=h?g.yA.value&&!!g.Qu.value&&g.Qu.value.id===l.preview_url:(null==P?void 0:P.isPlaying)&&(null==P?void 0:P.currentVoiceId)===l.voice_id;return(0,a.jsxs)("div",{...v,className:(0,D.cn)("group h-full w-full hstack items-center gap-2",c),onMouseEnter:V,onFocus:V,onMouseLeave:A,onBlur:A,children:[(0,a.jsxs)("div",{className:(0,D.cn)("relative","sm"===p?"w-4 h-4":"w-5 h-5"),children:[(0,a.jsx)("div",{className:(0,D.cn)("block opacity-100 transition-opacity duration-100",o&&l.preview_url&&!l.disabled&&"group-hover:opacity-0"),children:(0,a.jsx)(f.qE,{size:"sm"===p?"1rem":"1.25rem",id:l.voice_id,name:l.name})}),(0,a.jsx)("div",{className:"overlay opacity-0 group-hover:opacity-100 focus-within:opacity-100 transition-opacity duration-100",style:{opacity:M?100:void 0},children:o&&l.preview_url&&!l.disabled&&(0,a.jsx)(N.J,{playing:M,onPlay:()=>{h?(0,m.d4)(l.preview_url,T,l.voice_id):I.h.play(l.preview_url,l.voice_id)},onPause:()=>{h?(0,g.pt)():I.h.stop()},onClick:e=>{e.stopPropagation()},variant:"primary",size:"2xs",className:(0,D.cn)("rounded-full",{"w-4 h-4":"sm"===p}),"aria-label":l.name+" "+x.t("preview")})})]}),(0,a.jsxs)(S.x,{className:"truncate",weight:"inherit",color:"inherit",ref:b,size:"sm"===p?"xs":"sm",children:[l.is_legacy?T+" "+x.t("(Legacy)"):T,r.alias&&(0,a.jsx)(S.x,{as:"span",weight:"inherit",color:"subtle",size:"xs",className:"ml-1",children:r.alias})]}),null!=l.info&&(0,a.jsx)(y.k,{className:"-ml-1",info:l.info}),(0,a.jsx)("div",{className:"flex-1"}),d&&(0,a.jsx)("div",{className:"hstack items-center gap-2",children:j?(0,a.jsx)(_.k,{variant:"secondary",className:"flex-nowrap",limit:w?j.length:C,children:j.map(e=>(0,a.jsx)(_.Ct,{children:e},e))}):null})]})}),z=e=>{let{voicesMetadata:t,label:i,options:n,value:l,onSelect:r,prefix:o,className:c,container:d,loading:u=!1,playWithGlobalPlayer:h=!0}=e,m=n.map(e=>(0,a.jsx)(k.di,{value:o?"".concat(o,":").concat(e.voice_id):e.voice_id,keywords:[e.name,...Object.values(e.labels||{})],disabled:e.disabled,onSelect:e=>r(o?e.split(":")[1]:e),selected:e.voice_id===(null==l?void 0:l.voice_id),className:(0,D.cn)(e.disabled&&"!pointer-events-auto cursor-default","p-0"),"aria-label":"".concat(e.name),tabIndex:0,children:(0,a.jsx)(v.Z,{container:d,withinTop:"200px",withinBottom:"200px",className:"w-full h-9",children:(0,a.jsx)(M,{voice:e,metadata:t[e.voice_id],showBadges:!0,playWithGlobalPlayer:h,className:"p-1.5"})})},e.voice_id));return(0,a.jsx)(k.fu,{heading:(0,a.jsxs)("div",{className:"flex flex-row items-center",children:[(0,a.jsx)(s.cC,{id:"w9dLMW",values:{label:i}}),u&&(0,a.jsx)(j.Z,{svgClassName:"ml-1 h-3 w-4 text-gray-900 animate-spin"})]}),className:(0,D.cn)("border-b-0",c),children:n.length>0?m:u?null:(0,a.jsx)("p",{className:"text-xs px-2 py-1 text-gray-500",children:(0,a.jsx)(s.cC,{id:"sK8VZb"})})})},L=e=>{let{children:t,listRef:i,inputRef:s,autoFocus:l=!0,loading:r=!1}=e,o=(0,n.U8)(e=>e.value),c=(0,n.U8)(e=>e.filtered),d=(0,n.U8)(e=>e.search);return(0,u.useEffect)(()=>{var e,t;l&&!r&&void 0!==o&&0!==c.count&&(null===(t=i.current)||void 0===t||null===(e=t.querySelector("[aria-selected='true']"))||void 0===e||e.focus())},[o]),(0,u.useEffect)(()=>{var e;l&&(null===(e=s.current)||void 0===e||e.focus())},[c.count,r,d]),(0,a.jsx)(k.e8,{ref:i,className:"max-h-[40vh]",children:t})},R=e=>"public_owner_id"in e,F=(0,c.Pi)(e=>{var t,i,n,l,c,m;let{voicesMetadata:v={},options:g,addExtraOptions:f,value:y,onValueChange:_,onOpen:N,side:I,align:F,disabled:B,formStylingSize:O,suggestedOptionGroups:Z,buttonVariant:U,buttonClassName:q,popoverContentClassName:H,getDisabledVoiceReasonFn:G,getOptionInfoLabelFn:W,filterFn:K,autoFocus:Y=!0,placeholder:X="Voices",disablePortal:Q=!1,playWithGlobalPlayer:J=!0,hideFindMoreVoices:$=!1}=e,{i18n:ee}=(0,s.mV)(),et=(0,u.useRef)(null),ei=(0,u.useRef)(null),[ea,es]=(0,u.useState)(!1),[en,el]=(0,u.useState)(""),[er,eo]=(0,u.useState)(!1),ec=(0,u.useCallback)(e=>{void 0===g&&eo(!0),el(e)},[]),ed=(0,h.Nr)(en,300),eu=(0,A.PW)({enabled:void 0===g,search:ed,sort:"created_at_unix",sortDirection:"desc",includeTotalCount:!1,keepPreviousData:!0});(0,u.useEffect)(()=>{eo(eu.isFetching)},[eu.isFetching]);let eh=(0,u.useMemo)(()=>{var e;let t=g||(null===(e=eu.data)||void 0===e?void 0:e.pages.flatMap(e=>e.voices.filter(e=>!A.Ad.includes(e.voice_id)).filter(e=>!K||K(e)).map(e=>{var t;let i=null==W?void 0:W(e),a=null==G?void 0:G(e);return{voice_id:e.voice_id,name:e.name,category:e.category,labels:e.labels&&(0,p.Uw)(e.labels),preview_url:e.preview_url,is_legacy:e.is_legacy,disabled:!!a,info:a||i,live_moderation_enabled:null===(t=e.sharing)||void 0===t?void 0:t.live_moderation_enabled}})))||[];return f?f(t,ed):t},[g,eu.data,G,K,f,ed]),em=r()(eh,"category"),ep=null===(t=em.premade)||void 0===t?void 0:t.filter(e=>!0!==e.is_legacy),ev=null===(i=em.premade)||void 0===i?void 0:i.filter(e=>!0===e.is_legacy),ex=e=>{null!=N&&!ea&&e&&N(),e||el(""),es(e)},eg=e=>{(0,P.eN)(V.B_.voice_selected),_(e),ex(!1),ej(e.voice_id)},ef=e=>{let t=eh.find(t=>t.voice_id===e);t&&eg(t)},eb=(e,t)=>{let i=t.find(t=>t.voice_id===e);R(i)&&!i.is_added_by_user?(ew(i),eN(!0)):eg({voice_id:i.voice_id,name:i.name,category:i.category,labels:R(i)?(0,p.Uw)((0,p.cS)(i)):i.labels,preview_url:i.preview_url||null})},{recentlyUsedVoices:ey,addRecentlyUsedVoice:ej}=(0,E.Z)(eh),[e_,ew]=(0,u.useState)(null),[ek,eN]=(0,u.useState)(!1);(0,u.useEffect)(()=>{ea&&setTimeout(()=>{var e;null===(e=ei.current)||void 0===e||e.focus()})},[ea]),(0,u.useEffect)(()=>{let e=eh.map(e=>e.voice_id);null!=e_&&e.includes(e_.voice_id)&&(ef(e_.voice_id),ej(e_.voice_id),ew(null))},[eh,e_]);let eC=(0,h.Nr)(eu.isFetching&&!eu.isFetchingNextPage,100),eS=Q?u.Fragment:C.i9;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(T.Z,{voice:e_,open:ek,openChange:eN,onAdded:e=>{ew(t=>(null!=t&&(t.voice_id=e),t)),eN(!1),ex(!1)},onCancel:()=>{ew(null),eN(!1),ex(!0)}}),(0,a.jsxs)(C.J2,{open:ea,onOpenChange:ex,children:[(0,a.jsx)(C.xo,{asChild:!0,disabled:B,className:(0,D.cn)("sm"===O&&"rounded-lg h-8","md"===O&&"rounded-lg h-10"),children:(0,a.jsxs)(w.Button,{role:"combobox","aria-label":ee.t("Select voice"),className:(0,D.cn)("w-full justify-between px-3","sm"===O&&"px-1",q),type:"button",variant:U,children:[!y&&(0,a.jsx)(S.x,{className:"px-1",children:X}),y&&(0,a.jsx)(M,{voice:y,metadata:v[y.voice_id],formStylingSize:O,className:"flex-1 min-w-0"}),(0,a.jsx)(o.Z,{className:(0,D.cn)("shrink-0 opacity-50","sm"===O?"w-3 h-3":"w-4 h-4")})]})}),(0,a.jsx)(eS,{children:(0,a.jsx)(C.yk,{onWheel:e=>{e.stopPropagation()},onTouchMove:e=>{e.stopPropagation()},className:(0,D.cn)("p-0 w-[30rem] duration-200",H),side:I,align:F,onOpenAutoFocus:e=>{window.innerWidth<600&&e.preventDefault()},children:(0,a.jsxs)(k.mY,{className:"",filter:(e,t,i)=>(e+" "+(null==i?void 0:i.join(" "))).toLowerCase().includes(t.toLowerCase())?1:0,shouldFilter:void 0!==g,children:[(0,a.jsx)(k.sZ,{ref:ei,placeholder:ee.t("Search for a voice..."),className:"max-md:text-base relative",onValueChange:e=>ec(e)}),eC&&(0,a.jsx)("div",{className:"absolute top-3 right-2",children:(0,a.jsx)(j.Z,{svgClassName:"h-4 w-5 text-gray-900 animate-spin"})}),(0,a.jsxs)(L,{autoFocus:Y,listRef:et,inputRef:ei,loading:er,children:[!eu.isFetching&&(0,a.jsx)(k.rb,{children:(0,a.jsx)(s.cC,{id:"MZbQHL"})}),(0,a.jsxs)("div",{className:(0,D.cn)("divide-y",eu.isFetching&&"opacity-70 transition-opacity duration-200"),children:[ey.length>0&&(0,a.jsx)(z,{playWithGlobalPlayer:J,label:ee.t("Recent"),prefix:"recently-used",options:ey.slice(0,10),value:y,onSelect:ef,container:et,voicesMetadata:v}),null==Z?void 0:Z.map(e=>{let t=e.options.map(e=>({voice_id:e.voice_id,name:e.name,category:e.category,labels:R(e)?(0,p.Uw)((0,p.cS)(e)):e.labels,preview_url:e.preview_url||""})).slice(0,e.limit)||[];return(0,a.jsx)(z,{label:e.label,playWithGlobalPlayer:J,loading:e.isLoading,prefix:e.id,options:t,value:y,onSelect:t=>eb(t,e.options),container:et,voicesMetadata:v},e.id)}),(null===(n=em.dub_specific)||void 0===n?void 0:n.length)>0&&(0,a.jsx)(z,{label:ee.t("Dub Specific"),playWithGlobalPlayer:J,options:em.dub_specific||[],value:y,onSelect:ef,container:et,voicesMetadata:v}),(null===(l=em.professional)||void 0===l?void 0:l.length)>0&&(0,a.jsx)(z,{label:ee.t("Professional"),playWithGlobalPlayer:J,options:em.professional||[],value:y,onSelect:ef,container:et,voicesMetadata:v}),(null===(c=em.cloned)||void 0===c?void 0:c.length)>0&&(0,a.jsx)(z,{label:ee.t("Cloned"),playWithGlobalPlayer:J,options:em.cloned||[],value:y,onSelect:ef,container:et,voicesMetadata:v}),(null===(m=em.generated)||void 0===m?void 0:m.length)>0&&(0,a.jsx)(z,{label:ee.t("Generated"),playWithGlobalPlayer:J,options:em.generated||[],value:y,onSelect:ef,container:et,voicesMetadata:v}),(null==ep?void 0:ep.length)>0&&(0,a.jsx)(z,{label:ee.t("Default"),playWithGlobalPlayer:J,options:ep||[],value:y,onSelect:ef,container:et,voicesMetadata:v}),!!en&&(null==ev?void 0:ev.length)>0&&(0,a.jsx)(z,{label:ee.t("Legacy"),playWithGlobalPlayer:J,options:ev,value:y,onSelect:ef,container:et,voicesMetadata:v}),void 0===g&&(0,a.jsx)(b.Z,{className:"!border-0",loading:eu.isFetchingNextPage,onTrigger:()=>{var e;let t=(null===(e=et.current)||void 0===e?void 0:e.scrollTop)||0;eu.hasNextPage&&eu.fetchNextPage().then(()=>{requestAnimationFrame(()=>{et.current&&(et.current.scrollTop=t)})})},loadInAdvanceMargin:50})]})]}),!$&&(0,a.jsx)("div",{className:"p-2 w-full bg-background border-t",children:(0,a.jsx)(w.Button,{asChild:!0,size:"sm",className:"w-full h-7",children:(0,a.jsx)(d.default,{href:x.VP.voiceLibrary,children:(0,a.jsx)(s.cC,{id:"ZOmT8m"})})})})]})})})]})]})})},75611:function(e,t,i){"use strict";i.d(t,{N:function(){return r},h:function(){return l}});var a=i(17024),s=i(9506);class n{addListener(e){return this.listeners.add(e),()=>this.listeners.delete(e)}notifyListeners(){this.listeners.forEach(e=>e())}setState(e){this.state={...this.state,...e},this.notifyListeners()}getState(){return this.state}play(e,t){if(this.audio){if(this.state.currentVoiceId===t&&this.state.isPlaying){this.stop();return}this.audio.src=e,this.audio.play(),this.setState({isPlaying:!0,currentVoiceId:t})}}stop(){this.audio&&(this.audio.pause(),this.audio.currentTime=0,this.setState({isPlaying:!1,currentVoiceId:null}))}constructor(){(0,a._)(this,"audio",new Audio),(0,a._)(this,"state",{isPlaying:!1,currentVoiceId:null}),(0,a._)(this,"listeners",new Set),this.audio&&this.audio.addEventListener("ended",()=>{this.setState({isPlaying:!1,currentVoiceId:null})})}}let l=new n,r=()=>(0,s.useSyncExternalStore)(e=>l.addListener(e),()=>l.getState())},30121:function(e,t,i){"use strict";i.d(t,{Cd:function(){return c},X:function(){return d},bZ:function(){return o}});var a=i(68088),s=i(73886),n=i(9506),l=i(60189);let r=(0,s.j)("relative w-full rounded-[16px] border px-4 py-3 text-sm font-medium [&>svg+div]:-my-0.5 [&>svg]:absolute [&>svg]:w-5 [&>svg]:h-5 [&>svg]:left-3 [&>svg]:top-3 [&>svg]:text-inherit [&>svg~*]:pl-6",{variants:{variant:{default:"bg-background text-foreground",warning:"border-amber-300 bg-amber-300 text-grey-alpha-600",destructive:"border-error/5 bg-error/20 text-error"}},defaultVariants:{variant:"default"}}),o=n.forwardRef((e,t)=>{let{className:i,variant:s,...n}=e;return(0,a.jsx)("div",{ref:t,role:"alert",...n,className:(0,l.cn)(r({variant:s}),i)})});o.displayName="Alert";let c=n.forwardRef((e,t)=>{let{className:i,...s}=e;return(0,a.jsx)("h5",{ref:t,className:(0,l.cn)("mb-1 font-semibold leading-none tracking-tight",i),...s})});c.displayName="AlertTitle";let d=n.forwardRef((e,t)=>{let{className:i,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("text-sm [&_p]:leading-relaxed",i),...s})});d.displayName="AlertDescription"},56803:function(e,t,i){"use strict";var a=i(68088),s=i(6991),n=i(41087),l=i.n(n),r=i(3269),o=i(9506),c=i(3030),d=i(25933);t.Z=e=>{let{onCopy:t,variant:i,onClick:n,...u}=e,{i18n:h}=(0,s.mV)(),m=(0,o.useRef)(),[p,v]=(0,o.useState)(!1);return(0,a.jsx)(d.Tooltip,{label:p?h.t("Copied!"):h.t("Copy"),closeOnClick:!1,children:(0,a.jsx)(c.h,{size:"2xs",...u,variant:i,onClick:e=>{e.stopPropagation(),l()(t()),v(!0),clearTimeout(m.current),m.current=setTimeout(()=>{v(!1)},1500),null==n||n(e)},children:(0,a.jsx)(r.Z,{})})})}},79709:function(e,t,i){"use strict";i.d(t,{k:function(){return c}});var a=i(68088),s=i(6991),n=i(9506),l=i(56803),r=i(60189),o=i(46547);let c=n.forwardRef((e,t)=>{let{className:i,...n}=e,{i18n:c}=(0,s.mV)();return(0,a.jsxs)("div",{ref:t,className:(0,r.cn)("group relative w-fit h-fit",i),children:[(0,a.jsx)(o.I,{...n,className:"rounded-lg"}),(0,a.jsx)("div",{className:"transition-opacity duration-150 items-center absolute right-2 top-1/2 -translate-y-1/2 p-1",children:(0,a.jsx)(l.Z,{type:"button","aria-label":c.t("Copy"),onCopy:()=>n.value,onClick:e=>e.stopPropagation()})})]})});c.displayName="CopyInput"},81069:function(e,t,i){"use strict";i.d(t,{$m:function(){return p},OX:function(){return g},Qz:function(){return u},dy:function(){return d},iI:function(){return b},sc:function(){return x},u6:function(){return y},uh:function(){return m},ze:function(){return f}});var a=i(68088),s=i(6991),n=i(53164),l=i(30395),r=i(9506),o=i(15590),c=i(60189);let d=e=>{let{shouldScaleBackground:t=!0,...i}=e;return(0,a.jsx)(o.dy.Root,{autoFocus:!0,shouldScaleBackground:t,...i})};d.displayName="Drawer";let u=o.dy.Trigger,h=o.dy.Portal,m=o.dy.Close,p=r.forwardRef((e,t)=>{let{className:i,...n}=e;return(0,a.jsxs)(m,{ref:t,className:(0,c.cn)("absolute top-5 right-5 z-10 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus-ring disabled:pointer-events-none data-[state=open]:bg-secondary",i),...n,children:[(0,a.jsx)(l.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:(0,a.jsx)(s.cC,{id:"yz7wBu"})})]})});p.displayName="DrawerCloseIconButton";let v=r.forwardRef((e,t)=>{let{className:i,...s}=e;return(0,a.jsx)(o.dy.Overlay,{ref:t,className:(0,c.cn)("fixed inset-0 z-50 bg-gray-alpha-300",i),...s})});v.displayName=o.dy.Overlay.displayName;let x=r.forwardRef((e,t)=>{let{className:i,classes:s,children:l,hideHandle:r,...d}=e;return(0,a.jsxs)(h,{children:[(0,a.jsx)(v,{className:null==s?void 0:s.overlay}),(0,a.jsxs)(o.dy.Content,{ref:t,className:(0,c.cn)("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[16px] bg-background focus-visible:outline-0",i),...d,children:[!r&&(0,a.jsx)("div",{className:"mx-auto mt-3 h-1.5 w-[100px] rounded-full bg-gray-alpha-200"}),(0,a.jsx)(n.A4,{children:l})]})]})});x.displayName="DrawerContent";let g=e=>{let{className:t,...i}=e;return(0,a.jsx)("div",{className:(0,c.cn)("grid gap-1.5 p-4 text-center sm:text-left",t),...i})};g.displayName="DrawerHeader";let f=e=>{let{className:t,...i}=e;return(0,a.jsx)("div",{className:(0,c.cn)("mt-auto flex flex-col gap-2 p-4",t),...i})};f.displayName="DrawerFooter";let b=r.forwardRef((e,t)=>{let{className:i,...s}=e;return(0,a.jsx)(o.dy.Title,{ref:t,className:(0,c.cn)("text-lg font-semibold leading-none tracking-tight",i),...s})});b.displayName=o.dy.Title.displayName;let y=r.forwardRef((e,t)=>{let{className:i,...s}=e;return(0,a.jsx)(o.dy.Description,{ref:t,className:(0,c.cn)("text-sm text-muted-foreground",i),...s})});y.displayName=o.dy.Description.displayName},20308:function(e,t,i){"use strict";i.d(t,{$F:function(){return u},AW:function(){return x},Ju:function(){return b},Ph:function(){return m},TG:function(){return v},VD:function(){return y},Xi:function(){return g},bO:function(){return f},cq:function(){return h},h_:function(){return d},kt:function(){return p}});var a=i(68088),s=i(53350),n=i(21368),l=i(47607),r=i(35419),o=i(9506),c=i(60189);let d=s.fC,u=s.xz;s.ZA;let h=s.Uv,m=s.Tr;s.Ee;let p=o.forwardRef((e,t)=>{let{className:i,inset:l,children:r,...o}=e;return(0,a.jsxs)(s.fF,{ref:t,className:(0,c.cn)("flex cursor-pointer select-none items-center rounded-lg px-2 py-1.5 text-sm outline-none focus:bg-gray-alpha-100 data-[state=open]:bg-gray-alpha-100",l&&"pl-8",i),...o,children:[r,(0,a.jsx)(n.Z,{className:"ml-auto h-4 w-4"})]})});p.displayName=s.fF.displayName;let v=o.forwardRef((e,t)=>{let{className:i,...n}=e;return(0,a.jsx)(s.tu,{ref:t,className:(0,c.cn)("z-50 min-w-[8rem] rounded-[10px] p-1 bg-popover/90 backdrop-blur text-popover-foreground shadow-popover-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",i),...n})});v.displayName=s.tu.displayName;let x=o.forwardRef((e,t)=>{let{className:i,sideOffset:n=4,withPortal:l=!0,...r}=e,d=l?s.Uv:o.Fragment;return(0,a.jsx)(d,{children:(0,a.jsx)(s.VY,{ref:t,sideOffset:n,className:(0,c.cn)("z-50 min-w-[8rem] rounded-[10px] p-1 bg-popover/90 backdrop-blur text-popover-foreground shadow-popover-sm","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",i),...r})})});x.displayName=s.VY.displayName;let g=o.forwardRef((e,t)=>{let{className:i,inset:n,...l}=e;return(0,a.jsx)(s.ck,{ref:t,className:(0,c.cn)("relative flex cursor-pointer select-none items-center rounded-lg px-2 py-1.5 text-sm outline-none transition-colors focus:bg-gray-alpha-100 focus:text-foreground w-full data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n&&"pl-8",i),...l})});g.displayName=s.ck.displayName;let f=o.forwardRef((e,t)=>{let{className:i,children:n,checked:r,...o}=e;return(0,a.jsxs)(s.oC,{ref:t,className:(0,c.cn)("relative flex cursor-pointer select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-gray-alpha-100 focus:text-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",i),checked:r,...o,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(s.wU,{children:(0,a.jsx)(l.Z,{className:"h-4 w-4"})})}),n]})});f.displayName=s.oC.displayName,o.forwardRef((e,t)=>{let{className:i,children:n,...l}=e;return(0,a.jsxs)(s.Rk,{ref:t,className:(0,c.cn)("relative flex cursor-pointer select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-gray-alpha-100 focus:text-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",i),...l,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(s.wU,{children:(0,a.jsx)(r.Z,{className:"h-4 w-4 fill-current"})})}),n]})}).displayName=s.Rk.displayName;let b=o.forwardRef((e,t)=>{let{className:i,inset:n,...l}=e;return(0,a.jsx)(s.__,{ref:t,className:(0,c.cn)("px-2 py-1 text-xm font-medium tracking-[-0.0125em] text-gray-alpha-500 cursor-default",n&&"pl-8",i),...l})});b.displayName=s.__.displayName;let y=o.forwardRef((e,t)=>{let{className:i,...n}=e;return(0,a.jsx)(s.Z0,{ref:t,className:(0,c.cn)("-mx-1 my-1 h-px bg-border",i),...n})});y.displayName=s.Z0.displayName},17622:function(e,t,i){"use strict";i.d(t,{JZ:function(){return E},Vk:function(){return P}});var a=i(68088),s=i(6991),n=i(40534),l=i(97934),r=i(47078),o=i(81999),c=i(73862),d=i(9506),u=i(8871),h=i(1851),m=i(55205),p=i(27473),v=i(76528),x=i(94846),g=i(20807),f=i(38851),b=i(11521),y=i(70297),j=i(68668),_=i(60189);i(13104);var w=i(48246),k=i(3030);let N=(0,d.createContext)(null),C=n.E.create(g.X),S=n.E.create(b.x),E=e=>{let{tabs:t,className:i}=e;return(0,a.jsx)("nav",{className:(0,_.cn)(f.P.list({variant:"underlined"}),i),children:t.list.map(e=>(0,a.jsx)(c.default,{href:e.link,className:f.P.trigger({variant:"underlined"}),"data-state":e.id===t.activeTabId?"active":"inactive",children:e.label},e.id))})},P=(0,o.Pi)(e=>{var t;let{i18n:i}=(0,s.mV)(),o=(0,j.G)(e.tabs||[]),{scrollY:c}=(0,l.v)(),d={container:{x:(0,r.H)(c,[0,40],[0,-8])},heading:{y:(0,r.H)(c,[0,40],[0,30]),scale:(0,r.H)(c,[0,40],[1,.8])},description:{opacity:(0,r.H)(c,[0,24],[1,0]),y:(0,r.H)(c,[0,40],[0,16])},actions:{y:(0,r.H)(c,[0,40],[0,0===o.list.length?20:30]),x:(0,r.H)(c,[0,40],[0,16])}},f={tabs:o},b=(0,y.Y)(e.requiredPermission),_=(0,y.Y)(null===(t=o.activeTab)||void 0===t?void 0:t.requiredPermission),P=b&&_?e.children:null==b||null==_?null:(0,a.jsx)("div",{className:"p-6 text-center text-red-600",children:(0,u.zR)(_?e.requiredPermission:o.activeTab.requiredPermission)});return(0,a.jsxs)(N.Provider,{value:f,children:[e.mobileOnly?null:(0,a.jsx)("header",{className:"hidden lg:block sticky top-[28px] lg:-top-[40px] border-b z-[9]",children:(0,a.jsx)("div",{className:"bg-background/80 backdrop-blur-md flex",children:(0,a.jsxs)(h.MaxWidthContainer,{style:d.container,className:"stack gap-1",disabled:e.withoutNavContainer,children:[(0,a.jsxs)("div",{className:"hstack justify-between items-center w-full px-6 2.5xl:px-4",children:[(0,a.jsxs)("div",{className:"stack gap-0.5 py-[18px] pr-6 max-w-[64rem]",children:[(0,a.jsx)(C,{style:d.heading,size:"xl",className:"origin-left line-clamp-1",role:"heading","aria-level":1,"data-testid":"page-title",children:"function"==typeof e.title?e.title(f):e.title}),(0,a.jsx)(S,{style:d.description,size:"sm",color:"subtle",className:"line-clamp-1 min-h-[1em]",role:"heading","aria-level":2,children:"function"==typeof e.description?e.description(f):e.description})]}),e.actions&&(0,a.jsx)(n.E.div,{className:"min-w-fit hstack gap-1",style:d.actions,children:e.actions})]}),o.list.length>0&&(0,a.jsx)(E,{tabs:o,className:"border-none px-6 2.5xl:px-4 -mt-6 2.5xl:-mt-4"})]})})}),(0,a.jsx)("header",{className:"block lg:hidden sticky top-0 border-b z-[9]",children:(0,a.jsxs)("div",{className:"flex flex-col bg-background/80 backdrop-blur-md",children:[(0,a.jsxs)("div",{className:"hstack justify-between items-center",children:[(0,a.jsx)("div",{className:"stack gap-1",children:(0,a.jsx)("div",{className:"p-4 max-w-[64rem]",children:(0,a.jsx)(g.X,{size:"lg",className:"origin-left line-clamp-1",children:"function"==typeof e.title?e.title(f):e.title})})}),(0,a.jsxs)("div",{className:"shrink-0 hstack items-center gap-1.5",children:[(0,a.jsx)(x.C,{}),(0,a.jsx)(p.T,{trigger:v.R,side:"bottom",disableAutoOpen:!0}),(0,a.jsx)("div",{className:"pl-2 pr-4 min-w-fit",children:(0,a.jsx)(k.h,{onClick:()=>{w.py.value=!0},variant:"ghost",size:"lg","aria-label":i.t("Open Sidebar"),className:"text-gray-500 hover:text-gray-alpha-950 duration-100 transition-colors",children:(0,a.jsx)(m.zr,{className:"w-5 h-5"})})})]})]}),o.list.length>0&&(0,a.jsx)(E,{tabs:o,className:"border-none -mt-5 px-4"})]})}),e.withoutContainer?(0,a.jsx)("div",{className:"relative flex-[1_1_0]",children:P}):(0,a.jsx)(h.MaxWidthContainer,{className:"p-4 lg:p-6 2.5xl:px-4",children:(0,a.jsx)("div",{className:"relative flex-1 min-h-0",children:P})})]})})},40333:function(e,t,i){"use strict";i.d(t,{_2:function(){return x},jW:function(){return h},q8:function(){return m}});var a=i(68088),s=i(6991),n=i(80436),l=i(31398),r=i(73886),o=i(30395),c=i(9506),d=i(60189),u=i(39255);let h=c.forwardRef((e,t)=>{let{...i}=e,[s=!1,r]=(0,l.T)({prop:i.open,onChange:i.onOpenChange,defaultProp:i.defaultOpen});return(0,u.zA)(s),(0,a.jsx)(n.Vq,{...i,open:s,onOpenChange:r})}),m=n.xz;n.x8;let p=n.h_,v=(0,r.j)("fixed inset-0 w-full h-screen-dvh overflow-auto z-50 bg-background p-6 transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-100 data-[state=open]:duration-200 data-[state=closed]:fade-out data-[state=open]:fade-in"),x=c.forwardRef((e,t)=>{let{className:i,alignCloseWithHeader:l=!1,children:r,...c}=e;return(0,a.jsx)(p,{children:(0,a.jsxs)(n.VY,{ref:t,className:(0,d.cn)(v(),i),...c,children:[r,(0,a.jsxs)(n.x8,{className:(0,d.cn)("fixed right-5 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus-ring disabled:pointer-events-none data-[state=open]:bg-secondary",l?"top-7":"top-5"),children:[(0,a.jsx)(o.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:(0,a.jsx)(s.cC,{id:"yz7wBu"})})]})]})})});x.displayName=n.VY.displayName},44463:function(e,t,i){"use strict";i.d(t,{FL:function(){return d},U5:function(){return h},aT:function(){return m},ed:function(){return u},rJ:function(){return c}});var a=i(68088),s=i(9506),n=i(60189),l=i(20807),r=i(74346),o=i(11521);let c=s.forwardRef((e,t)=>{let{className:i,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("rounded-xl border border-gray-alpha-200 bg-gray-alpha-50 stack items-center p-5 md:p-6",i),...s})});c.displayName="InfoCard";let d=s.forwardRef((e,t)=>{let{className:i,children:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("h-12 w-12 border border-subtle rounded-xl center bg-background mt-2 mb-3",i),...l,children:(0,a.jsx)(r.J,{size:"lg",color:"foreground",children:s})})});d.displayName="InfoCardIcon";let u=s.forwardRef((e,t)=>{let{className:i,...s}=e;return(0,a.jsx)(l.X,{ref:t,className:(0,n.cn)("text-center my-0.5",i),size:"md",...s})});u.displayName="InfoCardHeading";let h=s.forwardRef((e,t)=>{let{className:i,...s}=e;return(0,a.jsx)(o.x,{ref:t,size:"sm",color:"subtle",className:(0,n.cn)("max-w-md my-0.5 text-center",i),...s})});h.displayName="InfoCardDescription";let m=s.forwardRef((e,t)=>{let{className:i,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("hstack gap-2 mt-4 mb-2 flex-wrap items-center justify-center",i),...s})});m.displayName="InfoCardActions"},17050:function(e,t,i){"use strict";i.d(t,{T:function(){return r},z:function(){return o}});var a=i(68088),s=i(40534),n=i(9506);let l=e=>{if(e<2)throw Error("Length must be at least 2");let t=[];for(let i=0;i<e;i++)t.push(i/(e-1));return t},r={linear:e=>{let{direction:t="to-right",opacities:i=[1,0],positions:a,rotate:s=0}=e;a&&a.length===i.length||(a=l(i.length));let n=a.map((e,t)=>"rgba(255, 255, 255, ".concat(i[t],") ").concat("number"==typeof e?100*e+"%":e));return"linear-gradient(".concat(("to-right"===t?90:180)+s,"deg, ").concat(n.join(", "),")")},customLinear:e=>{let{opacityFn:t,stops:i=10,direction:a="to-right",rotate:s=0}=e,n=Array.from({length:i},(e,t)=>t/(i-1)),l=n.map(t),r=n.map((e,t)=>"rgba(255, 255, 255, ".concat(l[t],") ").concat(100*e,"%"));return"linear-gradient(".concat(("to-right"===a?90:180)+s,"deg, ").concat(r.join(", "),")")},circle:e=>{let{opacities:t=[1,0],positions:i}=e;i&&i.length===t.length||(i=l(t.length));let a=i.map((e,i)=>"rgba(255, 255, 255, ".concat(t[i],") ").concat(100*e,"%"));return"radial-gradient(closest-side circle, ".concat(a.join(", "),")")},ellipse:e=>{let{opacities:t=[1,0],positions:i}=e;i&&i.length===t.length||(i=l(t.length));let a=i.map((e,i)=>"rgba(255, 255, 255, ".concat(t[i],") ").concat(100*e,"%"));return"radial-gradient(closest-side, ".concat(a.join(", "),")")}},o=(0,n.forwardRef)((e,t)=>{let{image:i,size:n,...l}=e;return(0,a.jsx)(s.E.div,{...l,ref:t,style:{maskImage:i,WebkitMaskImage:i,maskSize:n,WebkitMaskSize:n,...l.style}})})},72752:function(e,t,i){"use strict";i.d(t,{CJ:function(){return T},KN:function(){return z},LU:function(){return M},O3:function(){return R},PW:function(){return D},Uv:function(){return V},Y$:function(){return I},aP:function(){return S},ak:function(){return L},s8:function(){return P}});var a=i(68088),s=i(16714),n=i(6991),l=i(53164),r=i(3036),o=i(46736),c=i(40534),d=i(78350),u=i(98780),h=i(79459),m=i(37755),p=i(9506),v=i(34161),x=i(69201),g=i(72228),f=i(4735),b=i(3030),y=i(91105),j=i(11521),_=i(84106),w=i(70554),k=i(60189),N=i(54389);let C=(0,p.forwardRef)((e,t)=>(0,a.jsx)(x.t,{transition:{opacity:{duration:.15}},ref:t,...e})),S=async e=>{e.getTracks().forEach(e=>e.stop())},E=e=>{let t=(0,p.useMemo)(()=>new Audio(e),[e]);return(0,p.useCallback)(()=>{t.currentTime=0;let e=new Promise(e=>{t.addEventListener("ended",()=>e(),{once:!0})});return t.play(),e},[t])},P=()=>{let[e,t]=(0,p.useState)(!1),[i,a]=(0,p.useState)(null);return{requestMic:async e=>{a(null);let i=setTimeout(()=>t(!0),500);try{let a=await navigator.mediaDevices.getUserMedia({audio:{noiseSuppression:{ideal:!0},echoCancellation:{ideal:!0},autoGainControl:{ideal:!0},sampleRate:{ideal:44100},sampleSize:{ideal:16},...e},video:!1});return clearTimeout(i),t(!1),a}catch(e){a(e)}finally{clearTimeout(i),t(!1)}},isRequesting:e,error:i}},V=()=>{let[e,t]=(0,p.useState)(),[i,a]=(0,p.useState)([]);(null==i?void 0:i.length)&&!i.some(t=>t.deviceId===e)&&t(i[0].deviceId);let s=async()=>{var e,t;let i=!1,s=[];try{if(i="granted"===(await navigator.permissions.query({name:"microphone"})).state){let t=(s=await (null===(e=navigator.mediaDevices)||void 0===e?void 0:e.enumerateDevices())).filter(e=>"audioinput"===e.kind);if(1===t.length&&""===t[0].deviceId)throw Error("Empty device list provided")}}catch(e){if(e instanceof TypeError||e instanceof Error&&"Empty device list provided"===e.message)try{let e=await navigator.mediaDevices.getUserMedia({audio:!0,video:!1});i=!0,s=await (null===(t=navigator.mediaDevices)||void 0===t?void 0:t.enumerateDevices()),await S(e)}catch(e){i=!1}}if(!i){a(null);return}a(s.filter(e=>"audioinput"===e.kind))};return(0,p.useEffect)(()=>{let e=()=>s();return e(),navigator.mediaDevices.addEventListener("devicechange",e),()=>{navigator.mediaDevices.removeEventListener("devicechange",e)}},[]),{micDevices:i,fetchMicDevices:s,selectedMicId:e,setSelectedMicId:t}},D=()=>{let[e,t]=(0,p.useState)(0),[i,s]=(0,p.useState)(0),[n,l]=(0,p.useState)(!1),r=(0,p.useRef)(null),o=(0,p.useRef)(null);(0,p.useEffect)(()=>()=>{var e;null===(e=o.current)||void 0===e||e.call(o)},[]);let c=(0,a.jsx)("div",{className:"flex flex-row-reverse gap-6",children:Array.from({length:e},(e,t)=>(0,a.jsx)("span",{className:(0,k.cn)("text-2xl font-bold transition duration-200",t+1===i?"text-gray-alpha-900":"text-gray-alpha-300"),style:{transform:"scale(".concat(t+1===i?1.5:1,")")},children:t+1},t))});return{startCounter:e=>{if(r.current&&o.current)return[()=>{var e;return null===(e=o.current)||void 0===e?void 0:e.call(o)},r.current];t(e),s(e),l(!0);let i=setInterval(()=>{s(e=>e-1)},1e3);return r.current=new Promise(t=>{o.current=()=>{clearInterval(i),l(!1),o.current=null,r.current=null,t()},setTimeout(()=>{var e;null===(e=o.current)||void 0===e||e.call(o)},1e3*e)}),[()=>{var e;return null===(e=o.current)||void 0===e?void 0:e.call(o)},r.current]},showCounter:n,counter:i,CounterUI:c}},A=()=>{let[e,t]=(0,p.useState)(!1);return{startAnalysing:function(e){let i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=new AudioContext,n=s.createMediaStreamSource(e),l=s.createAnalyser();n.connect(l);let r=new Uint8Array(l.frequencyBinCount),o={checks:0,noise:0},c=e=>{var i,s;++o.checks;let n=null!==(s=a.threshold)&&void 0!==s?s:.1,l=e.some(e=>Math.abs(e-128)/128>n);t(l),l&&++o.noise,null===(i=a.onCheck)||void 0===i||i.call(a,o.noise/o.checks)},d=()=>{l.getByteTimeDomainData(r),c(r),i=window.setTimeout(()=>d(),10)};return d(),async()=>{void 0!==i&&clearTimeout(i),t(!1),n.disconnect(),await s.close()}},hasNoise:e}},T=function(){let{waveformBars:e=25}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[t,i]=(0,p.useState)(Array.from({length:e},()=>0));return{startAnalysing:t=>{let a;let s=new AudioContext,n=s.createMediaStreamSource(t),l=s.createAnalyser();n.connect(l);let r=new Uint8Array(l.frequencyBinCount),o=t=>{i(Array(e).fill(0).map((i,a)=>{let s=Math.floor(a*t.length/e),n=Math.floor((a+1)*t.length/e);return t.slice(s,n).reduce((e,t)=>Math.max(e,Math.abs(t-128)),0)/128}))},c=()=>{l.getByteTimeDomainData(r),o(r),a=window.setTimeout(()=>c(),100)};return c(),async()=>{void 0!==a&&clearTimeout(a),i(Array.from({length:e},()=>0)),n.disconnect(),await s.close()}},waveformData:t}},I=()=>{let[e,t]=(0,p.useState)(!1),[i,a]=(0,p.useState)(0),s=E("/public_app_assets/audio/recording-start.mp3"),n=E("/public_app_assets/audio/recording-stop.mp3");return{startRecording:async function(e){let{formatFileName:i,timeslice:l,onChunk:r,playSfx:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c={};for(let e of["audio/webm","audio/mp4"])MediaRecorder.isTypeSupported(e)&&(c={mimeType:e});let d=new MediaRecorder(e,c),u=[];d.addEventListener("dataavailable",e=>{u.push(e.data),null==r||r(u)});let h=new Promise(e=>{d.addEventListener("stop",()=>{var t;e((0,N.IK)(u,i?i():"Recording",null!==(t=c.mimeType)&&void 0!==t?t:"audio/webm"))})});a(0);let m=setInterval(()=>{a(e=>e+1e3)},1e3);return t(!0),o&&await s(),d.start(l),function(){let{playSfx:i}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.stop(),clearInterval(m),t(!1),S(e),i&&n(),h}},isRecording:e,durationMs:i}},M=e=>{let t=(0,r.Z)({start:0,end:e});return[t.hours,t.minutes,t.seconds].filter((e,t)=>t>0||!!e).map(e=>String(e).padStart(2,"0")).join(":")},z=e=>{let{className:t,disabled:i,minDuration:s=0,maxDuration:r=1/0,getReadyCounterFrom:h=3,stopButton:m,formatFileName:v,onChange:x,onRecordingStart:N}=e,{i18n:E}=(0,n.mV)(),{requestMic:z,isRequesting:L,error:R}=P(),{micDevices:F,fetchMicDevices:B,selectedMicId:O,setSelectedMicId:Z}=V(),{startCounter:U,showCounter:q,CounterUI:H}=D(),{startRecording:G,isRecording:W,durationMs:K}=I(),{startAnalysing:Y,waveformData:X}=T(),{startAnalysing:Q}=A(),[J,$]=(0,p.useState)(!1),ee=(0,p.useRef)(),et=async()=>{let e=await z({deviceId:O});e&&(S(e),F||setTimeout(()=>B(),250))},ei=async()=>{var e;let t;J&&($(!1),await new Promise(e=>setTimeout(e,150)));let i=!1;null===(e=ee.current)||void 0===e||e.call(ee),ee.current=()=>{i=!0};let a=await z({deviceId:O});if(!a)return;if(i){S(a);return}if(null==N||N(),h>0){let e=Q(a,{onCheck(e){e>=.6&&$(!0)}}),[t,s]=U(h);ee.current=()=>{i=!0,t()},await s,e()}if(i){S(a);return}let s=await G(a,{formatFileName:v,playSfx:!0});if(i){s();return}let n=Y(a);r<1/0&&(t=window.setTimeout(ea,r)),ee.current=e=>(i=!0,void 0!==t&&clearTimeout(t),ee.current=void 0,n(),s(e))},ea=async()=>{if(!ee.current)return;let e=await ee.current({playSfx:!0});if(!e)return;let t=await (0,w.eM)(e)*1e3;if(t<s){_.toast.error(E._(E._({id:"V5LVct",values:{0:s/1e3}})));return}setTimeout(()=>x(e,{duration:t}),150)};return(0,p.useEffect)(()=>()=>{var e;null===(e=ee.current)||void 0===e||e.call(ee)},[]),(0,p.useEffect)(()=>{if(i){var e;null===(e=ee.current)||void 0===e||e.call(ee)}},[i]),(0,a.jsxs)("div",{className:(0,k.cn)("h-40 flex items-center justify-center relative",t),children:[(0,a.jsxs)("div",{className:"stack items-center",children:[(0,a.jsx)(o.M,{mode:"wait",initial:!1,children:q?(0,a.jsx)(C,{children:H},"get-ready-counter"):W?(0,a.jsx)(C,{children:(0,a.jsx)(l.g7,{onClick:ea,children:null!=m?m:(0,a.jsx)(b.h,{className:"w-12 h-12 rounded-full",variant:"primary","aria-label":E.t("Stop recording"),children:(0,a.jsx)("div",{className:"w-3.5 h-3.5 bg-background rounded"})})})},"stop-recording"):null===F?(0,a.jsx)(C,{layout:"position",children:(0,a.jsx)(f.Button,{variant:"primary",size:"lg",leftIcon:(0,a.jsx)(d.Z,{}),onClick:et,disabled:i,loading:L,children:(0,a.jsx)(n.cC,{id:"/fp10N"})})},"request-mic-permission"):null!==F?(0,a.jsxs)(C,{className:"flex gap-2 items-center",layout:"position",children:[(0,a.jsxs)(y.Select,{disabled:0===F.length,value:O,onValueChange:Z,children:[(0,a.jsxs)(y.SelectTrigger,{className:"w-48 h-10 bg-background [&>span]:inline-block [&>span]:truncate [&>span]:mr-auto",children:[(0,a.jsx)(d.Z,{className:"text-gray-500 w-[18px] h-[18px] shrink-0 -ml-1 mr-0.5"}),(0,a.jsx)(y.SelectValue,{placeholder:E.t("Default microphone")})]}),(0,a.jsx)(y.SelectContent,{className:"duration-200",children:null==F?void 0:F.map(e=>(0,a.jsx)(y.SelectItem,{value:e.deviceId,children:e.label},e.deviceId))})]}),(0,a.jsx)(f.Button,{variant:"primary",size:"lg",onClick:ei,disabled:i,children:(0,a.jsx)(n.cC,{id:"tXkhj/"})})]},"start-recording"):null}),(0,a.jsx)(o.M,{children:R&&("NotAllowedError"===R.name||"PermissionDeniedError"===R.name)&&(0,a.jsx)(C,{layout:"position",className:"px-8",style:{textWrap:"balance"},children:(0,a.jsx)(j.x,{className:"text-error text-center mt-2",weight:"medium",children:(0,a.jsx)(n.cC,{id:"ot4Z4T"})})})})]}),(0,a.jsxs)("div",{className:"absolute bottom-5 inset-x-6 flex justify-between items-center",children:[(0,a.jsx)("div",{className:"absolute h-2 left-0 flex gap-0.5 items-center",children:X.map((e,t)=>(0,a.jsx)(c.E.div,{className:"w-0.5 h-0.5 bg-foreground rounded-full max-h-9",animate:{height:Math.abs(100*e)+2}},t))}),(0,a.jsx)("div",{}),(0,a.jsx)("div",{className:"absolute left-1/2 -translate-x-1/2 bottom-full mb-2 md:bottom-auto md:mb-0",children:(0,a.jsx)(o.M,{children:J&&(0,a.jsx)(C,{children:(0,a.jsx)(g.Ct,{variant:"destructive",className:"text-[#B52620] bg-[#FDE4E3]",children:(0,a.jsx)(n.cC,{id:"oHfpqg",components:{0:(0,a.jsx)(u.Z,{className:"w-3 h-3 mr-1"})}})})})})}),(0,a.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,a.jsx)(g.Ct,{variant:"secondary",className:"tabular-nums",children:W?M(K):"00:00"}),r<1/0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"font-medium text-xs text-gray-400",children:"/"}),(0,a.jsx)(g.Ct,{variant:"secondary",className:"tabular-nums",children:M(r)})]})]})]})]})},L=(e,t)=>{let{maxFileSize:i}=t;e.slice(0,3).map(e=>{let{file:t,errors:a}=e;if(a.some(e=>"file-invalid-type"===e.code))_.toast.error(s.ag._(s.ag._({id:"sJMHlW",values:{0:t.name}})));else if(void 0!==i&&a.some(e=>"file-too-large"===e.code))_.toast.error(s.ag._(s.ag._({id:"WygTz0",values:{maxFileSize:i,0:t.name}})));else{var n;_.toast.error(s.ag._(s.ag._({id:"2Sq26f",values:{0:t.name}})),{description:(null===(n=a.at(0))||void 0===n?void 0:n.message)||void 0})}})},R=e=>{let{className:t,disabled:i=!1,maxFileSize:s,accept:l=N.AP,disallowRecording:r=!1,onAddFiles:c,maxFiles:u,recorder:x={}}=e,{i18n:b}=(0,n.mV)(),[y,_]=(0,p.useState)(!1),w=void 0===u||u>1,S=(e,t)=>{c(e,t)},{isDragActive:E,isFocused:P,getRootProps:V,getInputProps:D}=(0,v.uI)({multiple:w,maxFiles:u,accept:Object.fromEntries(l.map(e=>[e,[]])),maxSize:void 0!==s?1048576*s:void 0,disabled:i||y,onDrop:(e,t)=>{L(t,{maxFileSize:s}),S(e,"upload")}});return(0,a.jsx)("div",{...V({className:(0,k.cn)("relative stack items-center justify-center bg-gray-50 h-[248px] rounded-[14px] outline-2 -outline-offset-1 outline-dotted transition-[outline-color] duration-150",E||P?"outline-gray-400":"outline-gray-300",{"cursor-pointer":!y&&!i},t)}),children:(0,a.jsx)(o.M,{mode:"wait",initial:!1,children:y?(0,a.jsxs)(C,{className:"relative w-full h-full",children:[(0,a.jsx)(f.Button,{size:"xs",className:"absolute bg-background top-5 left-5 z-10",leftIcon:(0,a.jsx)(h.Z,{}),onClick:e=>{e.stopPropagation(),_(!1)},children:(0,a.jsx)(n.cC,{id:"iH8pgl"})}),(0,a.jsx)(z,{className:"h-full",disabled:i,minDuration:x.minDuration,maxDuration:x.maxDuration,getReadyCounterFrom:x.getReadyCounterFrom,formatFileName:x.formatFileName,onChange:e=>S([e],"record")})]},"recorder"):(0,a.jsxs)(C,{className:"stack items-center py-9",children:[(0,a.jsx)("input",{...D()}),(0,a.jsx)("div",{className:"h-11 w-11 rounded-[10px] bg-background border border-gray-200 flex items-center justify-center",children:(0,a.jsx)(m.Z,{className:"w-[18x] h-[18px]"})}),(0,a.jsx)(j.x,{weight:"medium",size:"sm",className:"mt-2.5",children:E?b.t("Drop the files here!"):b.t("Click to upload, or drag and drop")}),(0,a.jsx)(j.x,{weight:"normal",size:"sm",color:"subtle",className:"mt-0.5",children:w?(0,a.jsx)(a.Fragment,{children:s?(0,a.jsx)(n.cC,{id:"P1KHh0",values:{maxFileSize:s}}):(0,a.jsx)(n.cC,{id:"6HPdF6"})}):(0,a.jsx)(a.Fragment,{children:s?(0,a.jsx)(n.cC,{id:"Nkdm5I",values:{maxFileSize:s}}):(0,a.jsx)(n.cC,{id:"uhFMMV"})})}),!r&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(g.Ct,{className:"my-2.5",variant:"secondary",children:(0,a.jsx)(n.cC,{id:"BzEFor"})}),(0,a.jsx)(f.Button,{variant:"outline",size:"md",className:"bg-background relative z-10",disabled:i,leftIcon:(0,a.jsx)(d.Z,{}),onClick:e=>{e.stopPropagation(),_(!0)},children:(0,a.jsx)(n.cC,{id:"wVRDWC"})})]})]},"file-selector")})})}},82528:function(e,t,i){"use strict";i.d(t,{EH:function(){return y},EX:function(){return x},KL:function(){return b},RA:function(){return g},l$:function(){return f},sE:function(){return p},vO:function(){return m},w5:function(){return v}});var a=i(68088),s=i(97934),n=i(22776),l=i(4728),r=i(40534),o=i(9506),c=i(60189),d=i(17050);let u={mass:.01,damping:2,stiffness:100},h=o.createContext(null),m=()=>{let e=o.useContext(h);if(!e)throw Error("Cannot call useScroll outside of ScrollContainer or WindowScrollProvider");return e},p=e=>{let{className:t,amount:i="3rem"}=e,s=b();return(0,a.jsx)("div",{className:(0,c.cn)("sticky top-[-1px] h-0 z-10 pointer-events-none",t),children:(0,a.jsx)(d.z,{image:d.T.linear({direction:"to-bottom",opacities:[1,0]}),initial:{opacity:0},animate:{opacity:s?0:1,height:i},className:"h-12 bg-background"})})},v=e=>{let{className:t,amount:i="3rem"}=e,s=b({axis:"x"});return(0,a.jsx)("div",{className:(0,c.cn)("sticky left-[-1px] min-h-full w-0 z-10 pointer-events-none",t),children:(0,a.jsx)(d.z,{image:d.T.linear({direction:"to-right",opacities:[1,0]}),initial:{opacity:0},animate:{opacity:s?0:1,width:i},className:"min-h-full bg-background"})})},x=e=>{let{className:t,amount:i}=e,s=y({axis:"x"});return(0,a.jsx)("div",{className:(0,c.cn)("sticky left-[calc(100%+1px)] min-h-full w-0 z-10 pointer-events-none",t),children:(0,a.jsx)(d.z,{image:d.T.linear({direction:"to-right",opacities:[0,1]}),animate:{opacity:s?0:1,width:i},className:"relative w-12 -translate-x-full min-h-full bg-background"})})},g=e=>{let{className:t,amount:i="3rem"}=e,s=y();return(0,a.jsx)("div",{className:(0,c.cn)("sticky bottom-[-1px] h-0 z-10 pointer-events-none",t),children:(0,a.jsx)(d.z,{image:d.T.linear({direction:"to-bottom",opacities:[0,1]}),animate:{opacity:s?0:1,height:i},className:"relative -translate-y-full bg-background"})})},f=o.forwardRef((e,t)=>{let{children:i,...c}=e,d=o.useRef(null),{scrollX:m,scrollXProgress:p,scrollY:v,scrollYProgress:x}=(0,s.v)({container:d}),g=(0,n.q)(m,u),f=(0,l.T)(g),b=(0,n.q)(v,u),y=(0,l.T)(b),j=o.useMemo(()=>({container:d,position:{x:m,y:v},progress:{x:p,y:x},velocity:{x:f,y:y}}),[d,m,v,p,x,f,y]);return o.useImperativeHandle(t,()=>d.current),(0,a.jsx)(h.Provider,{value:j,children:(0,a.jsx)(r.E.div,{...c,ref:d,style:{position:"relative",overflow:"auto",...c.style},children:i})})});f.displayName="ScrollContainer";let b=function(){let{axis:e="y"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=m(),[i,a]=o.useState(!0);return o.useEffect(()=>{let i=t.container.current;if(!i)return;let s=()=>{let{scrollTop:i,scrollLeft:s}=t.container.current;"y"===e?a(i<1):"x"===e&&a(s<1)};return s(),i.addEventListener("scroll",s),()=>{i.removeEventListener("scroll",s)}},[t,e]),i},y=function(){let{axis:e="y"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=m(),[i,a]=o.useState(!1);return o.useEffect(()=>{let i=t.container.current;if(!i)return;let s=()=>{let{scrollTop:t,scrollLeft:s,scrollHeight:n,scrollWidth:l,clientHeight:r,clientWidth:o}=i;"y"===e?a(n-t-r<=1):"x"===e&&a(l-s-o<1)};return s(),i.addEventListener("scroll",s),()=>{i.removeEventListener("scroll",s)}},[t,e]),i}},22869:function(e,t,i){"use strict";i.d(t,{$:function(){return c},i:function(){return d}});var a=i(68088),s=i(81777),n=i(9506),l=i(54995),r=i(60189),o=i(25933);let c={default:e=>e.toFixed(2),percentage:e=>Math.round(100*e)+"%"},d=n.forwardRef((e,t)=>{let{className:i,thumbClassName:n,trackClassName:d,value:u,onValueChange:h,onValueCommit:m,onThumbDoubleClick:p,formatter:v=c.default,"aria-label":x,disabled:g,elId:f,elContext:b,...y}=e,j=(0,l.useExtendCoreComponentWithExternalAccessibility)(t,f,b,e=>{let t=Number(e);Number.isNaN(e)||(null==h||h(t),null==m||m(t))},()=>u);return(0,a.jsxs)(s.fC,{ref:j,value:[u],onValueChange:e=>null==h?void 0:h(e[0]),onValueCommit:e=>null==m?void 0:m(e[0]),className:(0,r.cn)("relative flex w-full touch-none select-none items-center cursor-pointer",g?"opacity-50":"",i),disabled:g,...y,children:[(0,a.jsx)(s.fQ,{className:(0,r.cn)("relative h-1 w-full grow overflow-hidden rounded-full bg-gray-alpha-200",d),children:(0,a.jsx)(s.e6,{className:"absolute h-full bg-primary"})}),(0,a.jsx)(o.Tooltip,{label:null==v?void 0:v(u),openDelay:0,closeOnClick:!1,children:(0,a.jsx)(s.bU,{"aria-label":x,className:(0,r.cn)("block h-3 w-3 scale-100 hover:scale-110 transition-transform rounded-full bg-primary duration-100 focus-ring disabled:pointer-events-none disabled:opacity-50",n),onDoubleClick:p})})]})});d.displayName=s.fC.displayName},38851:function(e,t,i){"use strict";i.d(t,{mQ:function(){return u},nU:function(){return p},dr:function(){return h},SP:function(){return m},P:function(){return c}});var a=i(68088),s=i(21276),n=i(73886),l=i(9506),r=i(60189);let o=new WeakMap,c={list:(0,n.j)("inline-flex text-subtle",{variants:{variant:{pill:"border border-subtle","secondary-pill":"",underlined:"gap-3.5 border-b-[1px] w-full h-11 pt-0.5"}},compoundVariants:[{variant:["pill","secondary-pill"],className:"items-center justify-center rounded-[10px] bg-none h-9 p-1"}]}),trigger:(0,n.j)("whitespace-nowrap ring-offset-background transition-all focus-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{pill:"text-subtle data-[state=active]:bg-foreground data-[state=active]:text-background data-[state=active]:shadow-none","secondary-pill":"text-gray-alpha-500 data-[state=active]:bg-gray-alpha-100 data-[state=active]:text-foreground",underlined:"inline-flex -mb-[1px] items-center justify-center border-b-[1.5px] px-0 py-1 text-sm font-medium border-transparent data-[state=active]:border-gray-alpha-800 data-[state=active]:text-foreground"}},compoundVariants:[{variant:["pill","secondary-pill"],className:"inline-flex items-center justify-center rounded-[7px] px-3 h-full text-sm font-medium"}]})},d=function(e){let t=(0,l.createContext)(void 0),i=t.Provider,s=new Map;return t.Provider=e=>{let{children:t,scope:n,...r}=e,c=(0,l.useMemo)(()=>({...r}),[function(e){let t="";for(let i in e){t+=i;let a=e[i],s=typeof a;if(a&&("object"===s||"function"===s)){if(o.has(a))t+=o.get(a);else{let e=Math.random();o.set(a,e),t+=e}}else t+=s+a}return t}(r)]),d=i;if(n){let e=s.get(n);e||(e=(0,l.createContext)(void 0),s.set(n,e)),d=e.Provider}return(0,a.jsx)(d,{value:c,children:t})},t.props=e,t.context=t,t.useProps=e=>{let i=e?s.get(e):t;return(0,l.useContext)(i)},t}(),u=l.forwardRef((e,t)=>{let{className:i,variant:n="underlined",...l}=e;return(0,a.jsx)(d.Provider,{variant:n,children:(0,a.jsx)(s.fC,{ref:t,className:(0,r.cn)(i),...l})})});u.displayName=s.fC.displayName;let h=l.forwardRef((e,t)=>{let{className:i,...n}=e,l=d.useProps();return(0,a.jsx)(s.aV,{ref:t,className:(0,r.cn)(c.list({...l,className:i})),...n})});h.displayName=s.aV.displayName;let m=l.forwardRef((e,t)=>{let{className:i,...n}=e,l=d.useProps();return(0,a.jsx)(s.xz,{ref:t,className:(0,r.cn)(c.trigger({...l,className:i})),...n})});m.displayName=s.xz.displayName;let p=l.forwardRef((e,t)=>{let{className:i,...n}=e;return(0,a.jsx)(s.VY,{ref:t,className:(0,r.cn)("mt-2 focus-ring",i),...n})});p.displayName=s.VY.displayName},27411:function(e,t,i){"use strict";i.d(t,{Ce:function(){return d},_v:function(){return u},aJ:function(){return c},pn:function(){return r},u:function(){return o}});var a=i(68088),s=i(92355),n=i(9506),l=i(60189);let r=s.zt,o=s.fC,c=s.xz,d=n.forwardRef((e,t)=>{let{className:i,...n}=e;return(0,a.jsx)(s.Eh,{ref:t,asChild:!0,height:5,width:11,...n,className:(0,l.cn)("fill-foreground",i),children:(0,a.jsx)("svg",{width:"11",height:"5",viewBox:"0 0 11 5",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M0 0H11L6.50901 4.08272C5.93688 4.60284 5.06312 4.60284 4.49099 4.08272L0 0Z"})})})}),u=n.forwardRef((e,t)=>{let{className:i,sideOffset:n=4,...r}=e;return(0,a.jsx)(s.h_,{children:(0,a.jsx)(s.VY,{ref:t,sideOffset:n,className:(0,l.cn)("z-50 overflow-hidden rounded-lg font-medium bg-foreground py-[0.375em] px-[0.625em] text-xs text-background origin-[--radix-tooltip-content-transform-origin] pointer-events-none",i),...r})})});u.displayName=s.VY.displayName},64197:function(e,t,i){"use strict";var a=i(68088),s=i(6991),n=i(81777),l=i(40534),r=i(46736),o=i(9506),c=i(55205),d=i(72752),u=i(60189);let h=[1,1.5,2];t.Z=e=>{let{className:t,...i}=e,{i18n:m}=(0,s.mV)(),p=(0,o.useRef)(null),v=(0,o.useRef)(null),[x,g]=(0,o.useState)(!1),[f,b]=(0,o.useState)(!1),[y,j]=(0,o.useState)(!1),[_,w]=(0,o.useState)(void 0),[k,N]=(0,o.useState)(0),[C,S]=(0,o.useState)(1);return(0,o.useEffect)(()=>{let e=v.current;if(!e)return;let t=()=>{N(e.currentTime)},i=setInterval(()=>{t()},50);return()=>clearInterval(i)},[y]),(0,o.useEffect)(()=>{v.current&&(v.current.playbackRate=C)},[C]),(0,o.useEffect)(()=>{let e;let t=p.current;if(!t)return;let i=new AbortController,{signal:a}=i,s=()=>{window.clearTimeout(e),g(!0)},n=()=>{e=window.setTimeout(()=>{g(!1)},2e3)};return t.addEventListener("mousemove",s,{signal:a}),t.addEventListener("mouseleave",n,{signal:a}),t.addEventListener("focusin",s,{signal:a}),t.addEventListener("focusout",n,{signal:a}),()=>{i.abort(),window.clearTimeout(e)}},[]),(0,a.jsxs)("div",{className:(0,u.cn)("relative w-full aspect-[16/9] overflow-hidden bg-black group/video",t),ref:p,children:[(0,a.jsx)("video",{className:"w-full h-full",ref:v,playsInline:!0,onPlay:()=>{b(!0),j(!0)},onPause:()=>j(!1),onDurationChange:()=>{var e;return w(null===(e=v.current)||void 0===e?void 0:e.duration)},onLoadedMetadata:()=>{var e;return w(null===(e=v.current)||void 0===e?void 0:e.duration)},...i}),(0,a.jsxs)("button",{"aria-label":y?m.t("Pause video"):m.t("Play video"),onClick:()=>{var e,t;y?null===(e=v.current)||void 0===e||e.pause():null===(t=v.current)||void 0===t||t.play()},onMouseDown:e=>e.preventDefault(),className:(0,u.cn)("absolute inset-0 flex items-center justify-center transition-colors duration-500 group focus-visible:bg-black/25",y?"":"bg-black/25"),children:[(0,a.jsx)("div",{className:(0,u.cn)("transition duration-500 delay-100 group-focus:hidden",y?"opacity-0 scale-50":"opacity-100 scale-100"),children:(0,a.jsx)(c.k6,{size:64,className:"text-white drop-shadow-md"})}),(0,a.jsx)("div",{className:"absolute inset-0 items-center justify-center hidden group-focus-visible:flex",children:(0,a.jsx)("div",{className:"outline-white outline-2 outline-offset-2 group-focus-visible:outline rounded-full",children:y?(0,a.jsx)(c.kx,{size:64,className:"text-white drop-shadow-md"}):(0,a.jsx)(c.k6,{size:64,className:"text-white drop-shadow-md"})})})]}),(0,a.jsxs)("div",{className:"absolute inset-x-0 bottom-0 overflow-hidden pointer-events-none",children:[(0,a.jsx)(l.E.div,{className:"absolute inset-0  bg-gradient-to-b from-transparent to-black/60",animate:{opacity:f&&x?1:0},transition:{duration:.3}}),(0,a.jsxs)(l.E.div,{className:"relative p-4 flex items-center gap-2 pointer-events-auto",animate:{y:f&&x?0:"100%",opacity:f&&x?1:0},transition:{y:{type:"spring",bounce:.25,duration:.7},opacity:{duration:.3}},children:[(0,a.jsxs)("div",{className:"w-full flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-white font-medium text-xs font-num",children:(0,d.LU)(1e3*k)}),(0,a.jsxs)(n.fC,{value:[k],onValueChange:e=>{let[t]=e;v.current.currentTime=t},max:null!=_?_:1,step:.1,className:"relative flex w-full items-center cursor-pointer",children:[(0,a.jsx)(n.fQ,{className:"block w-full py-1.5",children:(0,a.jsx)("div",{className:"relative w-full h-1 grow bg-white/30 backdrop-blur rounded-full overflow-hidden",children:(0,a.jsx)(n.e6,{className:"absolute h-full bg-white"})})}),(0,a.jsx)(n.bU,{className:"block w-2.5 h-2.5 rounded-full bg-white shadow transition duration-300 hover:scale-150 focus-visible:scale-150 focus-visible:outline outline-1 outline-white outline-offset-2"})]}),(0,a.jsx)("span",{className:"text-white font-medium text-xs font-num",children:(0,d.LU)(_?1e3*_:0)})]}),(0,a.jsx)("div",{className:"self-stretch w-0.5 rounded-full bg-white/30 backdrop-blur"}),(0,a.jsx)("button",{className:"relative flex focus:outline-none focus-visible:outline-white rounded","aria-label":m.t("Playback rate: ")+"".concat(C,"x"),onClick:()=>{let e=(h.indexOf(C)+1)%h.length;S(h[e])},children:(0,a.jsx)(r.M,{initial:!1,mode:"popLayout",children:(0,a.jsxs)(l.E.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.5},className:"text-white font-medium text-xs font-num focus-ring",children:[C.toFixed(1),"x"]},"playback-rate-".concat(C))})})]})]})]})}},70297:function(e,t,i){"use strict";i.d(t,{Y:function(){return r}});var a=i(94814),s=i(30487),n=i(1851),l=i(52888);function r(e){let[t]=(0,l.$)(n.workspaceData),i=(0,s.YEm)({},{staleTime:18e5,enabled:!!e});return!e||(t?!!(null==t.all_members_permissions||t.all_members_permissions.includes(e))||(i.isError?((0,a.Tb)(Error("Failed to load user group permissions with message ".concat(i.error.message)),{level:"fatal",tags:{type:"loading_error"}}),!1):i.isLoading?null:null==i.data||i.data.includes(e)):null)}},8030:function(e,t,i){"use strict";var a=i(23431),s=i(26898);t.Z=e=>{let t=(0,a.usePathname)();return(Array.isArray(e)?e:[e]).some(e=>!!(0,s.EQ)(e,{decode:decodeURIComponent})(t))}},29554:function(e,t,i){"use strict";var a=i(6970),s=i.n(a),n=i(9506),l=i(82374),r=i(13104);let o="recently-used-voice-ids";t.Z=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],[t,i]=(0,l._)(o,{}),a=(0,n.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;i({...r.I.get(o)||{},[e]:Date.now()+t})},[i]);return{recentlyUsedVoices:(0,n.useMemo)(()=>{let i=s()(e,"voice_id").filter(e=>t[e.voice_id]);return i.sort((e,i)=>t[i.voice_id]-t[e.voice_id]),i},[e,t]),addRecentlyUsedVoice:a}}},68668:function(e,t,i){"use strict";i.d(t,{G:function(){return c}});var a=i(83336),s=i.n(a),n=i(23431),l=i(26898),r=i(9506);let o=e=>({isMatch:t=>(Array.isArray(e)?e:[e]).some(e=>!!(0,l.EQ)(e,{decode:decodeURIComponent})(t))}),c=e=>{var t;let i=(0,r.useMemo)(()=>s()(e,"id"),[e]),a=(0,n.usePathname)(),l=(0,n.useRouter)(),c=null===(t=e[0])||void 0===t?void 0:t.id;for(let t of e)if(t.patterns&&o(t.patterns).isMatch(a)){c=t.id;break}return{activeTabId:c,setActiveTabId:e=>{e in i&&l.push(i[e].link)},activeTab:i[c],list:e,byId:i}}},18498:function(e,t,i){"use strict";i.d(t,{K:function(){return c},Y:function(){return o}});var a=i(83336),s=i.n(a),n=i(9506),l=i(82374);let r=(e,t)=>{let i=(0,n.useMemo)(()=>s()(e,"id"),[JSON.stringify(e)]),[a,l]=t;return{activeTabId:a,setActiveTabId:e=>{e in i&&l(e)},activeTab:i[a],list:e,byId:i}},o=(e,t)=>r(e,(0,n.useState)(t||e[0].id)),c=(e,t,i)=>r(e,(0,l._)(t,i||e[0].id))},64108:function(e,t,i){"use strict";i.d(t,{KK:function(){return s},iJ:function(){return n},uZ:function(){return a}});let a=(e,t,i)=>Math.min(Math.max(e,t),i);function s(e,t,i){let[s,n]=t,[l,r]=i,o=!(arguments.length>3)||void 0===arguments[3]||arguments[3],c=l+(e-s)/(n-s)*(r-l);return o?a(c,l,r):c}function n(e){let t;let i=new Map;e.forEach(e=>{i.set(e,(i.get(e)||0)+1)});let a=0;return i.forEach((e,i)=>{e>a&&(a=e,t=i)}),t}},97204:function(e,t,i){"use strict";i.d(t,{EL:function(){return r},P0:function(){return c},fd:function(){return d},g2:function(){return l}});var a=i(83336),s=i.n(a),n=i(55205);let l=function(e,t,i){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!e||!t||e.can_do_voice_conversion&&!e.can_do_text_to_speech||t.high_quality_base_model_ids.includes(e.model_id)&&!a)return null;let s=("eleven_multilingual_v2"!==e.model_id||a)&&(null==i?void 0:i.find(e=>"eleven_multilingual_v2"===e.model_id))||null;if(0===t.high_quality_base_model_ids.length)return s;let n=t.high_quality_base_model_ids[0];return(null==i?void 0:i.find(e=>e.model_id===n))||s},r=e=>["eleven_multilingual_v2","eleven_english_v2"].includes(e.model_id),o=[{model_id:"eleven_monolingual_v1",name:"Eleven English v1",Icon:n.Wq},{model_id:"eleven_multilingual_v1",name:"Eleven Multilingual v1",Icon:n.Wq},{model_id:"eleven_multilingual_v2",name:"Eleven Multilingual v2",Icon:n.Vk},{model_id:"eleven_turbo_v2",name:"Eleven Turbo v2",Icon:n.Vk},{model_id:"eleven_flash_v2",name:"Eleven Flash v2",Icon:n.Vk},{model_id:"eleven_v2",name:"Eleven v2",Icon:n.Vk},{model_id:"eleven_english_v2",name:"Eleven English v2",Icon:n.Vk},{model_id:"eleven_english_sts_v2",name:"Eleven English v2",Icon:n.Vk},{model_id:"eleven_multilingual_sts_v2",name:"Eleven Multilingual v2",Icon:n.Vk},{model_id:"eleven_flash_v2_5",name:"Eleven Flash v2.5",Icon:n.X0},{model_id:"eleven_turbo_v2_5",name:"Eleven Turbo v2.5",Icon:n.X0}],c=s()(o,"model_id"),d=new Set(["eleven_monolingual_v1","eleven_flash_v2","eleven_turbo_v2"])},74021:function(e,t,i){"use strict";i.d(t,{K$:function(){return m},Tl:function(){return u},Ve:function(){return o},Xm:function(){return p},ah:function(){return r},fo:function(){return d},ms:function(){return h},xx:function(){return c}});var a=i(68088),s=i(16714),n=i(81158),l=i(77095);let r=e=>e?(0,l.RF)()?["used",e.subscription.character_count]:["remaining",e.subscription.character_limit-e.subscription.character_count]:null,o=e=>{if(!e)return null;let t=e.subscription.character_limit-e.subscription.character_count;return t>0?["remaining",t]:["usedOverLimit",-t]},c=e=>{let t=r(e);return t?[t[0],(0,n.W)(t[1])]:null},d=(e,t)=>{let i=o(e);return i?"remaining"===i[0]?(0,a.jsxs)("span",{children:[s.ag._(s.ag._({id:"IP2wps",values:{0:(0,n.W)(i[1])}})),t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),t]})]}):(0,a.jsxs)("span",{children:[s.ag._(s.ag._({id:"cIUzEP",values:{0:(0,n.W)(i[1])}})),t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),t]})]}):null},u=e=>e?Math.round(100*Math.min(e.subscription.character_count/e.subscription.character_limit,1)):null,h=e=>e?u(e)+"%":null,m=e=>{if(e)return e/6e4},p=e=>{if(e)return e/1e3}},95834:function(e,t,i){"use strict";i.d(t,{S1:function(){return l},Te:function(){return o},VR:function(){return r}});var a=i(14284),s=i(73276),n=i(77095);let l=(e,t)=>{let i=null==t?void 0:t.sharing;return i&&i.public_owner_id===(null==e?void 0:e.public_user_id)?null:(null==i?void 0:i.rate)===1?null:null==i?void 0:i.rate},r=()=>{if((0,n.ko)())return{rate:1,daysLeft:0};let e=(0,a.default)(new Date("2025-07-01"),new Date);return e<=0?{rate:1,daysLeft:0}:{rate:.2,daysLeft:e}},o=(e,t)=>{let i=1;if(e&&e&&t&&t.model_id){var a;let n=null==t?void 0:t.model_id,l=null===(a=e.subscription)||void 0===a?void 0:a.custom_model_rates;i=(null==l?void 0:l[n])?l[n].character_cost_multiplier:(0,s.CY)(n)?r().rate:t.model_rates.character_cost_multiplier}return i}},37456:function(e,t,i){"use strict";i.d(t,{I:function(){return a}});let a=e=>"?".concat(Object.keys(e).filter(t=>null!==e[t]&&void 0!==e[t]).map(t=>encodeURIComponent(t)+"="+encodeURIComponent(e[t])).join("&"))},13104:function(e,t,i){"use strict";i.d(t,{I:function(){return n},n:function(){return a}});let a={clear(){sessionStorage.clear()},get(e){let t=sessionStorage.getItem(e);return"string"==typeof t?JSON.parse(t):t},set(e,t){sessionStorage.setItem(e,JSON.stringify(t))},remove(e){sessionStorage.removeItem(e)}},s=e=>{let t=localStorage.getItem(e);return"string"==typeof t?JSON.parse(t):t},n={clear(){localStorage.clear()},get:s,set(e,t){localStorage.setItem(e,JSON.stringify(t))},remove(e){let t=s(e);return localStorage.removeItem(e),t}}},85286:function(e,t){"use strict";t.Z={src:"/app_assets/_next/static/media/audioplatform.627d3e8b.png",height:80,width:80,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAZlBMVEXvYECHLx+vNh1iRU+ZSEVgQUm2SkG3SkBQPUjjcUecS0ndYkTMV0TLUEM0N0Z6R0lDPEmxOSSQNCZ8Lx6lNB5vLB6nPTHjUjq9QzPbQSaPREHNOx7RQyrIQCnRSzi0OSGXNyWEMR+0jh0UAAAAF3RSTlP94P7u4dvg/vDh/uHh/dT97v3g/f3h4XVQo8sAAAAJcEhZcwAALEsAACxLAaU9lqkAAABHSURBVHicHcZXEoAgDAXAJ13sNYGA5f6XdMb9WoxzCEFrCzvlnGM0MN4zs3dww1VK5RM9UUqyrOiIkohq0ILqrfY//Lzb8QGHlgQgZjFJbAAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8}},89136:function(e,t){"use strict";t.Z={src:"/app_assets/_next/static/media/convai.f4847818.png",height:80,width:80,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAbFBMVEUPDBJCPkdHSFgUGiQ6R2M3MTspOUs1Unw0UnoYFh4yRmMZICgxOEZLUmREVnQ7TG0SDRM7GhsjGyMcDhJBMzo4TnNYJSI2Pk8wKzRnKiBAJSZlREBESGBKLTNGOkYPCQ9KKCtzNSpYNjRaTFT1gDkgAAAAEHRSTlPv7+/h7+/37+Hv7+/v7+/osjnnRgAAAAlwSFlzAAAsSwAALEsBpT2WqQAAAEZJREFUeJwFwQcSgCAQBLAFwQPb0Kvd///RBIqmRTKuQDGX9n4bxH7e6ekrZDhSrZ1DO2ttCwww3ruSBbS5jBsjYQAwj6R+ljkD3TpQlGoAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8}}}]);