try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="e3d31b01-392f-44a0-8ce4-dcdcc4799cda",e._sentryDebugIdIdentifier="sentry-dbid-e3d31b01-392f-44a0-8ce4-dcdcc4799cda")}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[16815],{65189:function(e,t,a){Promise.resolve().then(a.bind(a,67904))},67904:function(e,t,a){"use strict";a.r(t);var s=a(68088),r=a(30469),i=a(23784);t.default=e=>{let{params:t}=e;return(0,s.jsx)(r.OnlyForLoggedIn,{children:(0,s.jsx)(i.Z,{dubId:t.dubId,voiceover:!0})})}},66198:function(e,t,a){"use strict";a.d(t,{P:function(){return Z}});var s=a(68088),r=a(24038),i=a(61702),n=a(3163),l=a(6991),d=a(54114),c=a(38439),u=a(81999),o=a(9506),h=a(26090),m=a(26397),y=a(3030),f=a(80705),x=a(11521),g=a(14076),p=a(70554),b=a(60189),j=a(54389),v=a(39255),w=a(21113),N=a(58397),k=a(77491),S=a(74346);let _=(0,w.Z)("file:///app/src/components/AudioFilePreview.tsx"),P=async e=>{if(null===e)return null;let t=await (0,p.ur)(e).catch(t=>{_.error("Could not extract duration from ".concat(e.name,":"),t)});return null==t?null:(0,k.zG)(t)},E=(0,u.Pi)(e=>{let{file:t,onDelete:a,showFileMetadata:l=!0,title:d=""}=e,[c,u]=(0,o.useState)(!1),[y,f]=(0,o.useState)(null),x=(0,v.bs)("sm");(0,o.useEffect)(()=>{P(t).then(e=>{f(e)})},[t]);let g=async()=>{if(null===t)return;let e=await (0,j.sT)(t);(0,h.GM)(e,{id:t.name,autoStart:!0,fileName:t.name,name:t.name,type:"other",isFirstRequest:!0,player:{title:t.name}})},p=()=>(0,s.jsxs)("a",{className:"gap-4 cursor-pointer relative inline-flex items-center justify-end rounded-br-lg border border-transparent",children:[h.yA.value&&c?(0,s.jsx)(r.Z,{onClick:e=>{(0,h.pt)(),e.stopPropagation()},className:"h-5 w-5 text-gray-700 hover:text-gray-500","aria-hidden":"true"}):(0,s.jsx)(i.Z,{onClick:e=>{c?(0,h.Sk)():(g(),u(!0)),e.stopPropagation()},className:"h-5 w-5 text-gray-700 hover:text-gray-500","aria-hidden":"true"}),(0,s.jsx)(n.Z,{onClick:e=>{a(),e.stopPropagation()},className:"h-5 w-5 text-gray-700 hover:text-gray-500","aria-hidden":"true"})]}),b=()=>(0,s.jsx)(m.default,{weight:"medium",variant:"body2",className:"truncate max-w-[6rem]",children:t.name});return x?(0,s.jsxs)("div",{className:"flex items-center space-x-4 border border-1 border-gray rounded-md px-3 py-2 justify-center",children:[d&&(0,s.jsx)(m.default,{weight:"medium",variant:"body2",className:"truncate max-w-[6rem]",children:d}),l&&(0,s.jsxs)("div",{className:"flex flex-1 align-center",children:[(0,s.jsx)(b,{}),(0,s.jsx)(()=>(0,s.jsxs)(s.Fragment,{children:[y&&(0,s.jsx)(m.default,{className:"ml-2 inline-block flex-shrink-0 rounded-full bg-gray-100 px-2 py-0.5",variant:"body3",children:y}),(0,s.jsx)(m.default,{className:"ml-2 inline-block flex-shrink-0 rounded-full bg-gray-100 px-2 py-0.5",variant:"body3",children:(0,N.KS)(t.size)})]}),{})]}),(0,s.jsx)(p,{})]}):(0,s.jsxs)("div",{className:"border border-1 border-gray rounded-md px-3 py-2 justify-center",children:[d&&(0,s.jsx)(m.default,{weight:"medium",variant:"body2",className:"truncate max-w-[6rem]",children:d}),(0,s.jsxs)("div",{className:"flex flex-1 align-center",children:[l&&(0,s.jsx)(b,{}),(0,s.jsx)(p,{})]})]})});t.Z=E;let Z=(0,u.Pi)(e=>{var t;let{file:a,onDelete:r,useHeadlessPlayer:i=!1,className:n,isDeleteDisabled:u=!1}=e,{i18n:m}=(0,l.mV)(),[p,v]=(0,o.useState)(null);(0,o.useEffect)(()=>{P(a).then(e=>{v(e)})},[a]);let w=(0,g.z)();(0,o.useEffect)(()=>w.player.kill,[]);let k=async()=>{if(null===a)return;if(i){w.player.audio.src=URL.createObjectURL(a),w.player.play();return}let e=await (0,j.sT)(a);(0,h.GM)(e,{id:a.name,autoStart:!0,fileName:a.name,name:a.name,type:"other",isFirstRequest:!0,player:{title:a.name}})},_=(null===(t=h.Qu.value)||void 0===t?void 0:t.id)===a.name&&h.yA.value||w.state.isPlaying;return(0,s.jsxs)("div",{className:(0,b.cn)("hstack items-center gap-2 p-2.5 border border-gray-alpha-200 rounded-2xl break-all",n),children:[(0,s.jsx)("div",{className:"bg-gray-alpha-100 w-10 h-10 center rounded-xl",children:(0,s.jsx)(S.Z,{color:"foreground",children:(0,s.jsx)(d.Z,{})})}),(0,s.jsxs)("div",{className:"flex-1 ml-1 min-w-0",children:[(0,s.jsx)(x.x,{className:"h-5",size:"sm",truncate:!0,children:a.name}),(0,s.jsxs)(x.x,{className:"h-5",size:"sm",color:"subtle",truncate:!0,children:[p||"----"," | ",(0,N.KS)(a.size)]})]}),a.type.startsWith("audio"),(0,s.jsxs)("div",{className:"hstack gap-1",children:[(0,s.jsx)(f.J,{variant:"ghost",playing:_,onPlay:k,onPause:()=>{i?w.player.kill():(0,h.pt)()}}),!u&&(0,s.jsx)(y.h,{onClick:r,variant:"ghost","aria-label":m.t("Remove file"),children:(0,s.jsx)(c.Z,{})})]})]})})},14076:function(e,t,a){"use strict";a.d(t,{z:function(){return n}});var s=a(17024),r=a(9506);class i{notifyListeners(){this.listeners.forEach(e=>e(this.state))}setState(e){this.state={...this.state,...e},this.notifyListeners()}constructor(){(0,s._)(this,"audio",new Audio),(0,s._)(this,"state",{isPlaying:!1}),(0,s._)(this,"listeners",new Set),(0,s._)(this,"addListener",e=>(this.listeners.add(e),()=>this.listeners.delete(e))),(0,s._)(this,"getState",()=>this.state),(0,s._)(this,"play",()=>{this.audio&&(this.audio.play(),this.setState({isPlaying:!0}))}),(0,s._)(this,"kill",()=>{this.audio&&(this.audio.src="",this.audio.currentTime=0,this.setState({isPlaying:!1}))}),this.audio&&this.audio.addEventListener("ended",()=>{this.setState({isPlaying:!1})})}}let n=()=>{let[e]=(0,r.useState)(()=>new i),t=(0,r.useSyncExternalStore)(t=>e.addListener(t),()=>e.getState());return{player:e,state:t}}}},function(e){e.O(0,[43358,35832,83061,52774,9042,42039,95327,97983,53510,88459,59287,53943,40534,86166,81999,10301,21546,31254,59781,2897,20098,75941,29764,50276,22279,26221,73215,64641,41228,15984,15348,28322,88238,12451,91,21422,44685,13110,35982,1851,69562,47402,19180,88864,91038,81397,55579,1744],function(){return e(e.s=65189)}),_N_E=e.O()}]);